(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ahe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eq={exports:{}},AP={},Tq={exports:{}},gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=Symbol.for("react.element"),ohe=Symbol.for("react.portal"),lhe=Symbol.for("react.fragment"),uhe=Symbol.for("react.strict_mode"),che=Symbol.for("react.profiler"),hhe=Symbol.for("react.provider"),dhe=Symbol.for("react.context"),fhe=Symbol.for("react.forward_ref"),phe=Symbol.for("react.suspense"),mhe=Symbol.for("react.memo"),ghe=Symbol.for("react.lazy"),r7=Symbol.iterator;function vhe(t){return t===null||typeof t!="object"?null:(t=r7&&t[r7]||t["@@iterator"],typeof t=="function"?t:null)}var Aq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cq=Object.assign,Pq={};function W1(t,e,n){this.props=t,this.context=e,this.refs=Pq,this.updater=n||Aq}W1.prototype.isReactComponent={};W1.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};W1.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Rq(){}Rq.prototype=W1.prototype;function OU(t,e,n){this.props=t,this.context=e,this.refs=Pq,this.updater=n||Aq}var kU=OU.prototype=new Rq;kU.constructor=OU;Cq(kU,W1.prototype);kU.isPureReactComponent=!0;var i7=Array.isArray,Lq=Object.prototype.hasOwnProperty,UU={current:null},Iq={key:!0,ref:!0,__self:!0,__source:!0};function Nq(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Lq.call(e,r)&&!Iq.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:ew,type:t,key:s,ref:a,props:i,_owner:UU.current}}function yhe(t,e){return{$$typeof:ew,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function FU(t){return typeof t=="object"&&t!==null&&t.$$typeof===ew}function xhe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s7=/\/+/g;function tI(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xhe(""+t.key):e.toString(36)}function GT(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ew:case ohe:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+tI(a,0):r,i7(i)?(n="",t!=null&&(n=t.replace(s7,"$&/")+"/"),GT(i,e,n,"",function(u){return u})):i!=null&&(FU(i)&&(i=yhe(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(s7,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",i7(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+tI(s,o);a+=GT(s,e,n,l,i)}else if(l=vhe(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+tI(s,o++),a+=GT(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function hE(t,e,n){if(t==null)return t;var r=[],i=0;return GT(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _he(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sa={current:null},WT={transition:null},She={ReactCurrentDispatcher:sa,ReactCurrentBatchConfig:WT,ReactCurrentOwner:UU};function Dq(){throw Error("act(...) is not supported in production builds of React.")}gn.Children={map:hE,forEach:function(t,e,n){hE(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hE(t,function(){e++}),e},toArray:function(t){return hE(t,function(e){return e})||[]},only:function(t){if(!FU(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gn.Component=W1;gn.Fragment=lhe;gn.Profiler=che;gn.PureComponent=OU;gn.StrictMode=uhe;gn.Suspense=phe;gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=She;gn.act=Dq;gn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cq({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=UU.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Lq.call(e,l)&&!Iq.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:ew,type:t.type,key:i,ref:s,props:r,_owner:a}};gn.createContext=function(t){return t={$$typeof:dhe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hhe,_context:t},t.Consumer=t};gn.createElement=Nq;gn.createFactory=function(t){var e=Nq.bind(null,t);return e.type=t,e};gn.createRef=function(){return{current:null}};gn.forwardRef=function(t){return{$$typeof:fhe,render:t}};gn.isValidElement=FU;gn.lazy=function(t){return{$$typeof:ghe,_payload:{_status:-1,_result:t},_init:_he}};gn.memo=function(t,e){return{$$typeof:mhe,type:t,compare:e===void 0?null:e}};gn.startTransition=function(t){var e=WT.transition;WT.transition={};try{t()}finally{WT.transition=e}};gn.unstable_act=Dq;gn.useCallback=function(t,e){return sa.current.useCallback(t,e)};gn.useContext=function(t){return sa.current.useContext(t)};gn.useDebugValue=function(){};gn.useDeferredValue=function(t){return sa.current.useDeferredValue(t)};gn.useEffect=function(t,e){return sa.current.useEffect(t,e)};gn.useId=function(){return sa.current.useId()};gn.useImperativeHandle=function(t,e,n){return sa.current.useImperativeHandle(t,e,n)};gn.useInsertionEffect=function(t,e){return sa.current.useInsertionEffect(t,e)};gn.useLayoutEffect=function(t,e){return sa.current.useLayoutEffect(t,e)};gn.useMemo=function(t,e){return sa.current.useMemo(t,e)};gn.useReducer=function(t,e,n){return sa.current.useReducer(t,e,n)};gn.useRef=function(t){return sa.current.useRef(t)};gn.useState=function(t){return sa.current.useState(t)};gn.useSyncExternalStore=function(t,e,n){return sa.current.useSyncExternalStore(t,e,n)};gn.useTransition=function(){return sa.current.useTransition()};gn.version="18.3.1";Tq.exports=gn;var de=Tq.exports;const Gi=jg(de);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bhe=de,Mhe=Symbol.for("react.element"),whe=Symbol.for("react.fragment"),Ehe=Object.prototype.hasOwnProperty,The=bhe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ahe={key:!0,ref:!0,__self:!0,__source:!0};function Oq(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Ehe.call(e,r)&&!Ahe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Mhe,type:t,key:s,ref:a,props:i,_owner:The.current}}AP.Fragment=whe;AP.jsx=Oq;AP.jsxs=Oq;Eq.exports=AP;var Ue=Eq.exports,kq={exports:{}},To={},Uq={exports:{}},Fq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var B=D.length;D.push(V);e:for(;0<B;){var $=B-1>>>1,te=D[$];if(0<i(te,V))D[$]=V,D[B]=te,B=$;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],B=D.pop();if(B!==V){D[0]=B;e:for(var $=0,te=D.length,Ae=te>>>1;$<Ae;){var F=2*($+1)-1,ve=D[F],ie=F+1,he=D[ie];if(0>i(ve,B))ie<te&&0>i(he,ve)?(D[$]=he,D[ie]=B,$=ie):(D[$]=ve,D[F]=B,$=F);else if(ie<te&&0>i(he,B))D[$]=he,D[ie]=B,$=ie;else break e}}return V}function i(D,V){var B=D.sortIndex-V.sortIndex;return B!==0?B:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,m=!1,v=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(D){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=D)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function E(D){if(S=!1,M(D),!v)if(n(l)!==null)v=!0,X(P);else{var V=n(u);V!==null&&se(E,V.startTime-D)}}function P(D,V){v=!1,S&&(S=!1,g(I),I=-1),m=!0;var B=f;try{for(M(V),d=n(l);d!==null&&(!(d.expirationTime>V)||D&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var te=$(d.expirationTime<=V);V=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),M(V)}else r(l);d=n(l)}if(d!==null)var Ae=!0;else{var F=n(u);F!==null&&se(E,F.startTime-V),Ae=!1}return Ae}finally{d=null,f=B,m=!1}}var A=!1,L=null,I=-1,R=5,C=-1;function O(){return!(t.unstable_now()-C<R)}function G(){if(L!==null){var D=t.unstable_now();C=D;var V=!0;try{V=L(!0,D)}finally{V?j():(A=!1,L=null)}}else A=!1}var j;if(typeof b=="function")j=function(){b(G)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=G,j=function(){Q.postMessage(null)}}else j=function(){y(G,0)};function X(D){L=D,A||(A=!0,j())}function se(D,V){I=y(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,X(P))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var B=f;f=V;try{return D()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=f;f=D;try{return V()}finally{f=B}},t.unstable_scheduleCallback=function(D,V,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,D={id:h++,callback:V,priorityLevel:D,startTime:B,expirationTime:te,sortIndex:-1},B>$?(D.sortIndex=B,e(u,D),n(l)===null&&D===n(u)&&(S?(g(I),I=-1):S=!0,se(E,B-$))):(D.sortIndex=te,e(l,D),v||m||(v=!0,X(P))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var V=f;return function(){var B=f;f=V;try{return D.apply(this,arguments)}finally{f=B}}}})(Fq);Uq.exports=Fq;var Che=Uq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Phe=de,_o=Che;function ut(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zq=new Set,Cb={};function Xg(t,e){l1(t,e),l1(t+"Capture",e)}function l1(t,e){for(Cb[t]=e,t=0;t<e.length;t++)zq.add(e[t])}var Oh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VD=Object.prototype.hasOwnProperty,Rhe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a7={},o7={};function Lhe(t){return VD.call(o7,t)?!0:VD.call(a7,t)?!1:Rhe.test(t)?o7[t]=!0:(a7[t]=!0,!1)}function Ihe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Nhe(t,e,n,r){if(e===null||typeof e>"u"||Ihe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function aa(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ds={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ds[t]=new aa(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ds[e]=new aa(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ds[t]=new aa(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ds[t]=new aa(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ds[t]=new aa(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ds[t]=new aa(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ds[t]=new aa(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ds[t]=new aa(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ds[t]=new aa(t,5,!1,t.toLowerCase(),null,!1,!1)});var zU=/[\-:]([a-z])/g;function BU(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zU,BU);ds[e]=new aa(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zU,BU);ds[e]=new aa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zU,BU);ds[e]=new aa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ds[t]=new aa(t,1,!1,t.toLowerCase(),null,!1,!1)});ds.xlinkHref=new aa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ds[t]=new aa(t,1,!1,t.toLowerCase(),null,!0,!0)});function VU(t,e,n,r){var i=ds.hasOwnProperty(e)?ds[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nhe(e,n,i,r)&&(n=null),r||i===null?Lhe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rd=Phe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dE=Symbol.for("react.element"),Yv=Symbol.for("react.portal"),qv=Symbol.for("react.fragment"),HU=Symbol.for("react.strict_mode"),HD=Symbol.for("react.profiler"),Bq=Symbol.for("react.provider"),Vq=Symbol.for("react.context"),GU=Symbol.for("react.forward_ref"),GD=Symbol.for("react.suspense"),WD=Symbol.for("react.suspense_list"),WU=Symbol.for("react.memo"),qd=Symbol.for("react.lazy"),Hq=Symbol.for("react.offscreen"),l7=Symbol.iterator;function p_(t){return t===null||typeof t!="object"?null:(t=l7&&t[l7]||t["@@iterator"],typeof t=="function"?t:null)}var Rr=Object.assign,nI;function cS(t){if(nI===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nI=e&&e[1]||""}return`
`+nI+t}var rI=!1;function iI(t,e){if(!t||rI)return"";rI=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{rI=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cS(t):""}function Dhe(t){switch(t.tag){case 5:return cS(t.type);case 16:return cS("Lazy");case 13:return cS("Suspense");case 19:return cS("SuspenseList");case 0:case 2:case 15:return t=iI(t.type,!1),t;case 11:return t=iI(t.type.render,!1),t;case 1:return t=iI(t.type,!0),t;default:return""}}function jD(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qv:return"Fragment";case Yv:return"Portal";case HD:return"Profiler";case HU:return"StrictMode";case GD:return"Suspense";case WD:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vq:return(t.displayName||"Context")+".Consumer";case Bq:return(t._context.displayName||"Context")+".Provider";case GU:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case WU:return e=t.displayName||null,e!==null?e:jD(t.type)||"Memo";case qd:e=t._payload,t=t._init;try{return jD(t(e))}catch{}}return null}function Ohe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jD(e);case 8:return e===HU?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function If(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gq(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function khe(t){var e=Gq(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fE(t){t._valueTracker||(t._valueTracker=khe(t))}function Wq(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gq(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function PA(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function XD(t,e){var n=e.checked;return Rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function u7(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=If(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jq(t,e){e=e.checked,e!=null&&VU(t,"checked",e,!1)}function $D(t,e){jq(t,e);var n=If(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?YD(t,e.type,n):e.hasOwnProperty("defaultValue")&&YD(t,e.type,If(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c7(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function YD(t,e,n){(e!=="number"||PA(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hS=Array.isArray;function Xy(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+If(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qD(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ut(91));return Rr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h7(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ut(92));if(hS(n)){if(1<n.length)throw Error(ut(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:If(n)}}function Xq(t,e){var n=If(e.value),r=If(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d7(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $q(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ZD(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$q(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pE,Yq=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pE=pE||document.createElement("div"),pE.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pE.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pb(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var DS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uhe=["Webkit","ms","Moz","O"];Object.keys(DS).forEach(function(t){Uhe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),DS[e]=DS[t]})});function qq(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||DS.hasOwnProperty(t)&&DS[t]?(""+e).trim():e+"px"}function Zq(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qq(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Fhe=Rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function KD(t,e){if(e){if(Fhe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ut(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ut(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ut(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ut(62))}}function QD(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JD=null;function jU(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var e5=null,$y=null,Yy=null;function f7(t){if(t=rw(t)){if(typeof e5!="function")throw Error(ut(280));var e=t.stateNode;e&&(e=IP(e),e5(t.stateNode,t.type,e))}}function Kq(t){$y?Yy?Yy.push(t):Yy=[t]:$y=t}function Qq(){if($y){var t=$y,e=Yy;if(Yy=$y=null,f7(t),e)for(t=0;t<e.length;t++)f7(e[t])}}function Jq(t,e){return t(e)}function eZ(){}var sI=!1;function tZ(t,e,n){if(sI)return t(e,n);sI=!0;try{return Jq(t,e,n)}finally{sI=!1,($y!==null||Yy!==null)&&(eZ(),Qq())}}function Rb(t,e){var n=t.stateNode;if(n===null)return null;var r=IP(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ut(231,e,typeof n));return n}var t5=!1;if(Oh)try{var m_={};Object.defineProperty(m_,"passive",{get:function(){t5=!0}}),window.addEventListener("test",m_,m_),window.removeEventListener("test",m_,m_)}catch{t5=!1}function zhe(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var OS=!1,RA=null,LA=!1,n5=null,Bhe={onError:function(t){OS=!0,RA=t}};function Vhe(t,e,n,r,i,s,a,o,l){OS=!1,RA=null,zhe.apply(Bhe,arguments)}function Hhe(t,e,n,r,i,s,a,o,l){if(Vhe.apply(this,arguments),OS){if(OS){var u=RA;OS=!1,RA=null}else throw Error(ut(198));LA||(LA=!0,n5=u)}}function $g(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nZ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p7(t){if($g(t)!==t)throw Error(ut(188))}function Ghe(t){var e=t.alternate;if(!e){if(e=$g(t),e===null)throw Error(ut(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return p7(i),t;if(s===r)return p7(i),e;s=s.sibling}throw Error(ut(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ut(189))}}if(n.alternate!==r)throw Error(ut(190))}if(n.tag!==3)throw Error(ut(188));return n.stateNode.current===n?t:e}function rZ(t){return t=Ghe(t),t!==null?iZ(t):null}function iZ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iZ(t);if(e!==null)return e;t=t.sibling}return null}var sZ=_o.unstable_scheduleCallback,m7=_o.unstable_cancelCallback,Whe=_o.unstable_shouldYield,jhe=_o.unstable_requestPaint,$r=_o.unstable_now,Xhe=_o.unstable_getCurrentPriorityLevel,XU=_o.unstable_ImmediatePriority,aZ=_o.unstable_UserBlockingPriority,IA=_o.unstable_NormalPriority,$he=_o.unstable_LowPriority,oZ=_o.unstable_IdlePriority,CP=null,Wu=null;function Yhe(t){if(Wu&&typeof Wu.onCommitFiberRoot=="function")try{Wu.onCommitFiberRoot(CP,t,void 0,(t.current.flags&128)===128)}catch{}}var jl=Math.clz32?Math.clz32:Khe,qhe=Math.log,Zhe=Math.LN2;function Khe(t){return t>>>=0,t===0?32:31-(qhe(t)/Zhe|0)|0}var mE=64,gE=4194304;function dS(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function NA(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=dS(o):(s&=a,s!==0&&(r=dS(s)))}else a=n&~i,a!==0?r=dS(a):s!==0&&(r=dS(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jl(e),i=1<<n,r|=t[n],e&=~i;return r}function Qhe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jhe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-jl(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=Qhe(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function r5(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lZ(){var t=mE;return mE<<=1,!(mE&4194240)&&(mE=64),t}function aI(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tw(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jl(e),t[e]=n}function ede(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jl(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $U(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jl(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Gn=0;function uZ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cZ,YU,hZ,dZ,fZ,i5=!1,vE=[],gf=null,vf=null,yf=null,Lb=new Map,Ib=new Map,rf=[],tde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g7(t,e){switch(t){case"focusin":case"focusout":gf=null;break;case"dragenter":case"dragleave":vf=null;break;case"mouseover":case"mouseout":yf=null;break;case"pointerover":case"pointerout":Lb.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ib.delete(e.pointerId)}}function g_(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rw(e),e!==null&&YU(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nde(t,e,n,r,i){switch(e){case"focusin":return gf=g_(gf,t,e,n,r,i),!0;case"dragenter":return vf=g_(vf,t,e,n,r,i),!0;case"mouseover":return yf=g_(yf,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lb.set(s,g_(Lb.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ib.set(s,g_(Ib.get(s)||null,t,e,n,r,i)),!0}return!1}function pZ(t){var e=Um(t.target);if(e!==null){var n=$g(e);if(n!==null){if(e=n.tag,e===13){if(e=nZ(n),e!==null){t.blockedOn=e,fZ(t.priority,function(){hZ(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jT(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=s5(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);JD=r,n.target.dispatchEvent(r),JD=null}else return e=rw(n),e!==null&&YU(e),t.blockedOn=n,!1;e.shift()}return!0}function v7(t,e,n){jT(t)&&n.delete(e)}function rde(){i5=!1,gf!==null&&jT(gf)&&(gf=null),vf!==null&&jT(vf)&&(vf=null),yf!==null&&jT(yf)&&(yf=null),Lb.forEach(v7),Ib.forEach(v7)}function v_(t,e){t.blockedOn===e&&(t.blockedOn=null,i5||(i5=!0,_o.unstable_scheduleCallback(_o.unstable_NormalPriority,rde)))}function Nb(t){function e(i){return v_(i,t)}if(0<vE.length){v_(vE[0],t);for(var n=1;n<vE.length;n++){var r=vE[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gf!==null&&v_(gf,t),vf!==null&&v_(vf,t),yf!==null&&v_(yf,t),Lb.forEach(e),Ib.forEach(e),n=0;n<rf.length;n++)r=rf[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rf.length&&(n=rf[0],n.blockedOn===null);)pZ(n),n.blockedOn===null&&rf.shift()}var qy=rd.ReactCurrentBatchConfig,DA=!0;function ide(t,e,n,r){var i=Gn,s=qy.transition;qy.transition=null;try{Gn=1,qU(t,e,n,r)}finally{Gn=i,qy.transition=s}}function sde(t,e,n,r){var i=Gn,s=qy.transition;qy.transition=null;try{Gn=4,qU(t,e,n,r)}finally{Gn=i,qy.transition=s}}function qU(t,e,n,r){if(DA){var i=s5(t,e,n,r);if(i===null)gI(t,e,r,OA,n),g7(t,r);else if(nde(i,t,e,n,r))r.stopPropagation();else if(g7(t,r),e&4&&-1<tde.indexOf(t)){for(;i!==null;){var s=rw(i);if(s!==null&&cZ(s),s=s5(t,e,n,r),s===null&&gI(t,e,r,OA,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gI(t,e,r,null,n)}}var OA=null;function s5(t,e,n,r){if(OA=null,t=jU(r),t=Um(t),t!==null)if(e=$g(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nZ(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return OA=t,null}function mZ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xhe()){case XU:return 1;case aZ:return 4;case IA:case $he:return 16;case oZ:return 536870912;default:return 16}default:return 16}}var cf=null,ZU=null,XT=null;function gZ(){if(XT)return XT;var t,e=ZU,n=e.length,r,i="value"in cf?cf.value:cf.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return XT=i.slice(t,1<r?1-r:void 0)}function $T(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yE(){return!0}function y7(){return!1}function Ao(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yE:y7,this.isPropagationStopped=y7,this}return Rr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yE)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yE)},persist:function(){},isPersistent:yE}),e}var j1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KU=Ao(j1),nw=Rr({},j1,{view:0,detail:0}),ade=Ao(nw),oI,lI,y_,PP=Rr({},nw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QU,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==y_&&(y_&&t.type==="mousemove"?(oI=t.screenX-y_.screenX,lI=t.screenY-y_.screenY):lI=oI=0,y_=t),oI)},movementY:function(t){return"movementY"in t?t.movementY:lI}}),x7=Ao(PP),ode=Rr({},PP,{dataTransfer:0}),lde=Ao(ode),ude=Rr({},nw,{relatedTarget:0}),uI=Ao(ude),cde=Rr({},j1,{animationName:0,elapsedTime:0,pseudoElement:0}),hde=Ao(cde),dde=Rr({},j1,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fde=Ao(dde),pde=Rr({},j1,{data:0}),_7=Ao(pde),mde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gde={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vde={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yde(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vde[t])?!!e[t]:!1}function QU(){return yde}var xde=Rr({},nw,{key:function(t){if(t.key){var e=mde[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$T(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gde[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QU,charCode:function(t){return t.type==="keypress"?$T(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$T(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_de=Ao(xde),Sde=Rr({},PP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S7=Ao(Sde),bde=Rr({},nw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QU}),Mde=Ao(bde),wde=Rr({},j1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ede=Ao(wde),Tde=Rr({},PP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ade=Ao(Tde),Cde=[9,13,27,32],JU=Oh&&"CompositionEvent"in window,kS=null;Oh&&"documentMode"in document&&(kS=document.documentMode);var Pde=Oh&&"TextEvent"in window&&!kS,vZ=Oh&&(!JU||kS&&8<kS&&11>=kS),b7=" ",M7=!1;function yZ(t,e){switch(t){case"keyup":return Cde.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xZ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zv=!1;function Rde(t,e){switch(t){case"compositionend":return xZ(e);case"keypress":return e.which!==32?null:(M7=!0,b7);case"textInput":return t=e.data,t===b7&&M7?null:t;default:return null}}function Lde(t,e){if(Zv)return t==="compositionend"||!JU&&yZ(t,e)?(t=gZ(),XT=ZU=cf=null,Zv=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vZ&&e.locale!=="ko"?null:e.data;default:return null}}var Ide={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w7(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ide[t.type]:e==="textarea"}function _Z(t,e,n,r){Kq(r),e=kA(e,"onChange"),0<e.length&&(n=new KU("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var US=null,Db=null;function Nde(t){LZ(t,0)}function RP(t){var e=Jv(t);if(Wq(e))return t}function Dde(t,e){if(t==="change")return e}var SZ=!1;if(Oh){var cI;if(Oh){var hI="oninput"in document;if(!hI){var E7=document.createElement("div");E7.setAttribute("oninput","return;"),hI=typeof E7.oninput=="function"}cI=hI}else cI=!1;SZ=cI&&(!document.documentMode||9<document.documentMode)}function T7(){US&&(US.detachEvent("onpropertychange",bZ),Db=US=null)}function bZ(t){if(t.propertyName==="value"&&RP(Db)){var e=[];_Z(e,Db,t,jU(t)),tZ(Nde,e)}}function Ode(t,e,n){t==="focusin"?(T7(),US=e,Db=n,US.attachEvent("onpropertychange",bZ)):t==="focusout"&&T7()}function kde(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return RP(Db)}function Ude(t,e){if(t==="click")return RP(e)}function Fde(t,e){if(t==="input"||t==="change")return RP(e)}function zde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ql=typeof Object.is=="function"?Object.is:zde;function Ob(t,e){if(ql(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!VD.call(e,i)||!ql(t[i],e[i]))return!1}return!0}function A7(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C7(t,e){var n=A7(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A7(n)}}function MZ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MZ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wZ(){for(var t=window,e=PA();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=PA(t.document)}return e}function eF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bde(t){var e=wZ(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MZ(n.ownerDocument.documentElement,n)){if(r!==null&&eF(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=C7(n,s);var a=C7(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vde=Oh&&"documentMode"in document&&11>=document.documentMode,Kv=null,a5=null,FS=null,o5=!1;function P7(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;o5||Kv==null||Kv!==PA(r)||(r=Kv,"selectionStart"in r&&eF(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),FS&&Ob(FS,r)||(FS=r,r=kA(a5,"onSelect"),0<r.length&&(e=new KU("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Kv)))}function xE(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qv={animationend:xE("Animation","AnimationEnd"),animationiteration:xE("Animation","AnimationIteration"),animationstart:xE("Animation","AnimationStart"),transitionend:xE("Transition","TransitionEnd")},dI={},EZ={};Oh&&(EZ=document.createElement("div").style,"AnimationEvent"in window||(delete Qv.animationend.animation,delete Qv.animationiteration.animation,delete Qv.animationstart.animation),"TransitionEvent"in window||delete Qv.transitionend.transition);function LP(t){if(dI[t])return dI[t];if(!Qv[t])return t;var e=Qv[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EZ)return dI[t]=e[n];return t}var TZ=LP("animationend"),AZ=LP("animationiteration"),CZ=LP("animationstart"),PZ=LP("transitionend"),RZ=new Map,R7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zf(t,e){RZ.set(t,e),Xg(e,[t])}for(var fI=0;fI<R7.length;fI++){var pI=R7[fI],Hde=pI.toLowerCase(),Gde=pI[0].toUpperCase()+pI.slice(1);Zf(Hde,"on"+Gde)}Zf(TZ,"onAnimationEnd");Zf(AZ,"onAnimationIteration");Zf(CZ,"onAnimationStart");Zf("dblclick","onDoubleClick");Zf("focusin","onFocus");Zf("focusout","onBlur");Zf(PZ,"onTransitionEnd");l1("onMouseEnter",["mouseout","mouseover"]);l1("onMouseLeave",["mouseout","mouseover"]);l1("onPointerEnter",["pointerout","pointerover"]);l1("onPointerLeave",["pointerout","pointerover"]);Xg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wde=new Set("cancel close invalid load scroll toggle".split(" ").concat(fS));function L7(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Hhe(r,e,void 0,t),t.currentTarget=null}function LZ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;L7(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;L7(i,o,u),s=l}}}if(LA)throw t=n5,LA=!1,n5=null,t}function ir(t,e){var n=e[d5];n===void 0&&(n=e[d5]=new Set);var r=t+"__bubble";n.has(r)||(IZ(e,t,2,!1),n.add(r))}function mI(t,e,n){var r=0;e&&(r|=4),IZ(n,t,r,e)}var _E="_reactListening"+Math.random().toString(36).slice(2);function kb(t){if(!t[_E]){t[_E]=!0,zq.forEach(function(n){n!=="selectionchange"&&(Wde.has(n)||mI(n,!1,t),mI(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_E]||(e[_E]=!0,mI("selectionchange",!1,e))}}function IZ(t,e,n,r){switch(mZ(e)){case 1:var i=ide;break;case 4:i=sde;break;default:i=qU}n=i.bind(null,e,n,t),i=void 0,!t5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gI(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Um(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}tZ(function(){var u=s,h=jU(n),d=[];e:{var f=RZ.get(t);if(f!==void 0){var m=KU,v=t;switch(t){case"keypress":if($T(n)===0)break e;case"keydown":case"keyup":m=_de;break;case"focusin":v="focus",m=uI;break;case"focusout":v="blur",m=uI;break;case"beforeblur":case"afterblur":m=uI;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=x7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Mde;break;case TZ:case AZ:case CZ:m=hde;break;case PZ:m=Ede;break;case"scroll":m=ade;break;case"wheel":m=Ade;break;case"copy":case"cut":case"paste":m=fde;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=S7}var S=(e&4)!==0,y=!S&&t==="scroll",g=S?f!==null?f+"Capture":null:f;S=[];for(var b=u,M;b!==null;){M=b;var E=M.stateNode;if(M.tag===5&&E!==null&&(M=E,g!==null&&(E=Rb(b,g),E!=null&&S.push(Ub(b,E,M)))),y)break;b=b.return}0<S.length&&(f=new m(f,v,null,n,h),d.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==JD&&(v=n.relatedTarget||n.fromElement)&&(Um(v)||v[kh]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Um(v):null,v!==null&&(y=$g(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(S=x7,E="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(S=S7,E="onPointerLeave",g="onPointerEnter",b="pointer"),y=m==null?f:Jv(m),M=v==null?f:Jv(v),f=new S(E,b+"leave",m,n,h),f.target=y,f.relatedTarget=M,E=null,Um(h)===u&&(S=new S(g,b+"enter",v,n,h),S.target=M,S.relatedTarget=y,E=S),y=E,m&&v)t:{for(S=m,g=v,b=0,M=S;M;M=Q0(M))b++;for(M=0,E=g;E;E=Q0(E))M++;for(;0<b-M;)S=Q0(S),b--;for(;0<M-b;)g=Q0(g),M--;for(;b--;){if(S===g||g!==null&&S===g.alternate)break t;S=Q0(S),g=Q0(g)}S=null}else S=null;m!==null&&I7(d,f,m,S,!1),v!==null&&y!==null&&I7(d,y,v,S,!0)}}e:{if(f=u?Jv(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var P=Dde;else if(w7(f))if(SZ)P=Fde;else{P=kde;var A=Ode}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=Ude);if(P&&(P=P(t,u))){_Z(d,P,n,h);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&YD(f,"number",f.value)}switch(A=u?Jv(u):window,t){case"focusin":(w7(A)||A.contentEditable==="true")&&(Kv=A,a5=u,FS=null);break;case"focusout":FS=a5=Kv=null;break;case"mousedown":o5=!0;break;case"contextmenu":case"mouseup":case"dragend":o5=!1,P7(d,n,h);break;case"selectionchange":if(Vde)break;case"keydown":case"keyup":P7(d,n,h)}var L;if(JU)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Zv?yZ(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(vZ&&n.locale!=="ko"&&(Zv||I!=="onCompositionStart"?I==="onCompositionEnd"&&Zv&&(L=gZ()):(cf=h,ZU="value"in cf?cf.value:cf.textContent,Zv=!0)),A=kA(u,I),0<A.length&&(I=new _7(I,t,null,n,h),d.push({event:I,listeners:A}),L?I.data=L:(L=xZ(n),L!==null&&(I.data=L)))),(L=Pde?Rde(t,n):Lde(t,n))&&(u=kA(u,"onBeforeInput"),0<u.length&&(h=new _7("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=L))}LZ(d,e)})}function Ub(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kA(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rb(t,n),s!=null&&r.unshift(Ub(t,s,i)),s=Rb(t,e),s!=null&&r.push(Ub(t,s,i))),t=t.return}return r}function Q0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I7(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Rb(n,s),l!=null&&a.unshift(Ub(n,l,o))):i||(l=Rb(n,s),l!=null&&a.push(Ub(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var jde=/\r\n?/g,Xde=/\u0000|\uFFFD/g;function N7(t){return(typeof t=="string"?t:""+t).replace(jde,`
`).replace(Xde,"")}function SE(t,e,n){if(e=N7(e),N7(t)!==e&&n)throw Error(ut(425))}function UA(){}var l5=null,u5=null;function c5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h5=typeof setTimeout=="function"?setTimeout:void 0,$de=typeof clearTimeout=="function"?clearTimeout:void 0,D7=typeof Promise=="function"?Promise:void 0,Yde=typeof queueMicrotask=="function"?queueMicrotask:typeof D7<"u"?function(t){return D7.resolve(null).then(t).catch(qde)}:h5;function qde(t){setTimeout(function(){throw t})}function vI(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nb(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nb(e)}function xf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O7(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var X1=Math.random().toString(36).slice(2),Iu="__reactFiber$"+X1,Fb="__reactProps$"+X1,kh="__reactContainer$"+X1,d5="__reactEvents$"+X1,Zde="__reactListeners$"+X1,Kde="__reactHandles$"+X1;function Um(t){var e=t[Iu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kh]||n[Iu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O7(t);t!==null;){if(n=t[Iu])return n;t=O7(t)}return e}t=n,n=t.parentNode}return null}function rw(t){return t=t[Iu]||t[kh],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jv(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ut(33))}function IP(t){return t[Fb]||null}var f5=[],ey=-1;function Kf(t){return{current:t}}function lr(t){0>ey||(t.current=f5[ey],f5[ey]=null,ey--)}function Jn(t,e){ey++,f5[ey]=t.current,t.current=e}var Nf={},zs=Kf(Nf),Pa=Kf(!1),xg=Nf;function u1(t,e){var n=t.type.contextTypes;if(!n)return Nf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ra(t){return t=t.childContextTypes,t!=null}function FA(){lr(Pa),lr(zs)}function k7(t,e,n){if(zs.current!==Nf)throw Error(ut(168));Jn(zs,e),Jn(Pa,n)}function NZ(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ut(108,Ohe(t)||"Unknown",i));return Rr({},n,r)}function zA(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nf,xg=zs.current,Jn(zs,t),Jn(Pa,Pa.current),!0}function U7(t,e,n){var r=t.stateNode;if(!r)throw Error(ut(169));n?(t=NZ(t,e,xg),r.__reactInternalMemoizedMergedChildContext=t,lr(Pa),lr(zs),Jn(zs,t)):lr(Pa),Jn(Pa,n)}var sh=null,NP=!1,yI=!1;function DZ(t){sh===null?sh=[t]:sh.push(t)}function Qde(t){NP=!0,DZ(t)}function Qf(){if(!yI&&sh!==null){yI=!0;var t=0,e=Gn;try{var n=sh;for(Gn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sh=null,NP=!1}catch(i){throw sh!==null&&(sh=sh.slice(t+1)),sZ(XU,Qf),i}finally{Gn=e,yI=!1}}return null}var ty=[],ny=0,BA=null,VA=0,el=[],tl=0,_g=null,fh=1,ph="";function xm(t,e){ty[ny++]=VA,ty[ny++]=BA,BA=t,VA=e}function OZ(t,e,n){el[tl++]=fh,el[tl++]=ph,el[tl++]=_g,_g=t;var r=fh;t=ph;var i=32-jl(r)-1;r&=~(1<<i),n+=1;var s=32-jl(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,fh=1<<32-jl(e)+i|n<<i|r,ph=s+t}else fh=1<<s|n<<i|r,ph=t}function tF(t){t.return!==null&&(xm(t,1),OZ(t,1,0))}function nF(t){for(;t===BA;)BA=ty[--ny],ty[ny]=null,VA=ty[--ny],ty[ny]=null;for(;t===_g;)_g=el[--tl],el[tl]=null,ph=el[--tl],el[tl]=null,fh=el[--tl],el[tl]=null}var ho=null,uo=null,fr=!1,zl=null;function kZ(t,e){var n=il(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F7(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ho=t,uo=xf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ho=t,uo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_g!==null?{id:fh,overflow:ph}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=il(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ho=t,uo=null,!0):!1;default:return!1}}function p5(t){return(t.mode&1)!==0&&(t.flags&128)===0}function m5(t){if(fr){var e=uo;if(e){var n=e;if(!F7(t,e)){if(p5(t))throw Error(ut(418));e=xf(n.nextSibling);var r=ho;e&&F7(t,e)?kZ(r,n):(t.flags=t.flags&-4097|2,fr=!1,ho=t)}}else{if(p5(t))throw Error(ut(418));t.flags=t.flags&-4097|2,fr=!1,ho=t}}}function z7(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ho=t}function bE(t){if(t!==ho)return!1;if(!fr)return z7(t),fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!c5(t.type,t.memoizedProps)),e&&(e=uo)){if(p5(t))throw UZ(),Error(ut(418));for(;e;)kZ(t,e),e=xf(e.nextSibling)}if(z7(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ut(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){uo=xf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}uo=null}}else uo=ho?xf(t.stateNode.nextSibling):null;return!0}function UZ(){for(var t=uo;t;)t=xf(t.nextSibling)}function c1(){uo=ho=null,fr=!1}function rF(t){zl===null?zl=[t]:zl.push(t)}var Jde=rd.ReactCurrentBatchConfig;function x_(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ut(309));var r=n.stateNode}if(!r)throw Error(ut(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ut(284));if(!n._owner)throw Error(ut(290,t))}return t}function ME(t,e){throw t=Object.prototype.toString.call(e),Error(ut(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B7(t){var e=t._init;return e(t._payload)}function FZ(t){function e(g,b){if(t){var M=g.deletions;M===null?(g.deletions=[b],g.flags|=16):M.push(b)}}function n(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=Mf(g,b),g.index=0,g.sibling=null,g}function s(g,b,M){return g.index=M,t?(M=g.alternate,M!==null?(M=M.index,M<b?(g.flags|=2,b):M):(g.flags|=2,b)):(g.flags|=1048576,b)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,b,M,E){return b===null||b.tag!==6?(b=EI(M,g.mode,E),b.return=g,b):(b=i(b,M),b.return=g,b)}function l(g,b,M,E){var P=M.type;return P===qv?h(g,b,M.props.children,E,M.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qd&&B7(P)===b.type)?(E=i(b,M.props),E.ref=x_(g,b,M),E.return=g,E):(E=eA(M.type,M.key,M.props,null,g.mode,E),E.ref=x_(g,b,M),E.return=g,E)}function u(g,b,M,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==M.containerInfo||b.stateNode.implementation!==M.implementation?(b=TI(M,g.mode,E),b.return=g,b):(b=i(b,M.children||[]),b.return=g,b)}function h(g,b,M,E,P){return b===null||b.tag!==7?(b=eg(M,g.mode,E,P),b.return=g,b):(b=i(b,M),b.return=g,b)}function d(g,b,M){if(typeof b=="string"&&b!==""||typeof b=="number")return b=EI(""+b,g.mode,M),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dE:return M=eA(b.type,b.key,b.props,null,g.mode,M),M.ref=x_(g,null,b),M.return=g,M;case Yv:return b=TI(b,g.mode,M),b.return=g,b;case qd:var E=b._init;return d(g,E(b._payload),M)}if(hS(b)||p_(b))return b=eg(b,g.mode,M,null),b.return=g,b;ME(g,b)}return null}function f(g,b,M,E){var P=b!==null?b.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return P!==null?null:o(g,b,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case dE:return M.key===P?l(g,b,M,E):null;case Yv:return M.key===P?u(g,b,M,E):null;case qd:return P=M._init,f(g,b,P(M._payload),E)}if(hS(M)||p_(M))return P!==null?null:h(g,b,M,E,null);ME(g,M)}return null}function m(g,b,M,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(M)||null,o(b,g,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case dE:return g=g.get(E.key===null?M:E.key)||null,l(b,g,E,P);case Yv:return g=g.get(E.key===null?M:E.key)||null,u(b,g,E,P);case qd:var A=E._init;return m(g,b,M,A(E._payload),P)}if(hS(E)||p_(E))return g=g.get(M)||null,h(b,g,E,P,null);ME(b,E)}return null}function v(g,b,M,E){for(var P=null,A=null,L=b,I=b=0,R=null;L!==null&&I<M.length;I++){L.index>I?(R=L,L=null):R=L.sibling;var C=f(g,L,M[I],E);if(C===null){L===null&&(L=R);break}t&&L&&C.alternate===null&&e(g,L),b=s(C,b,I),A===null?P=C:A.sibling=C,A=C,L=R}if(I===M.length)return n(g,L),fr&&xm(g,I),P;if(L===null){for(;I<M.length;I++)L=d(g,M[I],E),L!==null&&(b=s(L,b,I),A===null?P=L:A.sibling=L,A=L);return fr&&xm(g,I),P}for(L=r(g,L);I<M.length;I++)R=m(L,g,I,M[I],E),R!==null&&(t&&R.alternate!==null&&L.delete(R.key===null?I:R.key),b=s(R,b,I),A===null?P=R:A.sibling=R,A=R);return t&&L.forEach(function(O){return e(g,O)}),fr&&xm(g,I),P}function S(g,b,M,E){var P=p_(M);if(typeof P!="function")throw Error(ut(150));if(M=P.call(M),M==null)throw Error(ut(151));for(var A=P=null,L=b,I=b=0,R=null,C=M.next();L!==null&&!C.done;I++,C=M.next()){L.index>I?(R=L,L=null):R=L.sibling;var O=f(g,L,C.value,E);if(O===null){L===null&&(L=R);break}t&&L&&O.alternate===null&&e(g,L),b=s(O,b,I),A===null?P=O:A.sibling=O,A=O,L=R}if(C.done)return n(g,L),fr&&xm(g,I),P;if(L===null){for(;!C.done;I++,C=M.next())C=d(g,C.value,E),C!==null&&(b=s(C,b,I),A===null?P=C:A.sibling=C,A=C);return fr&&xm(g,I),P}for(L=r(g,L);!C.done;I++,C=M.next())C=m(L,g,I,C.value,E),C!==null&&(t&&C.alternate!==null&&L.delete(C.key===null?I:C.key),b=s(C,b,I),A===null?P=C:A.sibling=C,A=C);return t&&L.forEach(function(G){return e(g,G)}),fr&&xm(g,I),P}function y(g,b,M,E){if(typeof M=="object"&&M!==null&&M.type===qv&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case dE:e:{for(var P=M.key,A=b;A!==null;){if(A.key===P){if(P=M.type,P===qv){if(A.tag===7){n(g,A.sibling),b=i(A,M.props.children),b.return=g,g=b;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qd&&B7(P)===A.type){n(g,A.sibling),b=i(A,M.props),b.ref=x_(g,A,M),b.return=g,g=b;break e}n(g,A);break}else e(g,A);A=A.sibling}M.type===qv?(b=eg(M.props.children,g.mode,E,M.key),b.return=g,g=b):(E=eA(M.type,M.key,M.props,null,g.mode,E),E.ref=x_(g,b,M),E.return=g,g=E)}return a(g);case Yv:e:{for(A=M.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===M.containerInfo&&b.stateNode.implementation===M.implementation){n(g,b.sibling),b=i(b,M.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else e(g,b);b=b.sibling}b=TI(M,g.mode,E),b.return=g,g=b}return a(g);case qd:return A=M._init,y(g,b,A(M._payload),E)}if(hS(M))return v(g,b,M,E);if(p_(M))return S(g,b,M,E);ME(g,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,M),b.return=g,g=b):(n(g,b),b=EI(M,g.mode,E),b.return=g,g=b),a(g)):n(g,b)}return y}var h1=FZ(!0),zZ=FZ(!1),HA=Kf(null),GA=null,ry=null,iF=null;function sF(){iF=ry=GA=null}function aF(t){var e=HA.current;lr(HA),t._currentValue=e}function g5(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zy(t,e){GA=t,iF=ry=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ea=!0),t.firstContext=null)}function cl(t){var e=t._currentValue;if(iF!==t)if(t={context:t,memoizedValue:e,next:null},ry===null){if(GA===null)throw Error(ut(308));ry=t,GA.dependencies={lanes:0,firstContext:t}}else ry=ry.next=t;return e}var Fm=null;function oF(t){Fm===null?Fm=[t]:Fm.push(t)}function BZ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,oF(e)):(n.next=i.next,i.next=n),e.interleaved=n,Uh(t,r)}function Uh(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zd=!1;function lF(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VZ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sh(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _f(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Uh(t,n)}return i=r.interleaved,i===null?(e.next=e,oF(r)):(e.next=i.next,i.next=e),r.interleaved=e,Uh(t,n)}function YT(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$U(t,n)}}function V7(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function WA(t,e,n,r){var i=t.updateQueue;Zd=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,h=u=l=null,o=s;do{var f=o.lane,m=o.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,S=o;switch(f=e,m=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=Rr({},d,f);break e;case 2:Zd=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bg|=a,t.lanes=a,t.memoizedState=d}}function H7(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ut(191,i));i.call(r)}}}var iw={},ju=Kf(iw),zb=Kf(iw),Bb=Kf(iw);function zm(t){if(t===iw)throw Error(ut(174));return t}function uF(t,e){switch(Jn(Bb,e),Jn(zb,t),Jn(ju,iw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ZD(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ZD(e,t)}lr(ju),Jn(ju,e)}function d1(){lr(ju),lr(zb),lr(Bb)}function HZ(t){zm(Bb.current);var e=zm(ju.current),n=ZD(e,t.type);e!==n&&(Jn(zb,t),Jn(ju,n))}function cF(t){zb.current===t&&(lr(ju),lr(zb))}var br=Kf(0);function jA(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xI=[];function hF(){for(var t=0;t<xI.length;t++)xI[t]._workInProgressVersionPrimary=null;xI.length=0}var qT=rd.ReactCurrentDispatcher,_I=rd.ReactCurrentBatchConfig,Sg=0,Tr=null,yi=null,zi=null,XA=!1,zS=!1,Vb=0,efe=0;function xs(){throw Error(ut(321))}function dF(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ql(t[n],e[n]))return!1;return!0}function fF(t,e,n,r,i,s){if(Sg=s,Tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qT.current=t===null||t.memoizedState===null?ife:sfe,t=n(r,i),zS){s=0;do{if(zS=!1,Vb=0,25<=s)throw Error(ut(301));s+=1,zi=yi=null,e.updateQueue=null,qT.current=afe,t=n(r,i)}while(zS)}if(qT.current=$A,e=yi!==null&&yi.next!==null,Sg=0,zi=yi=Tr=null,XA=!1,e)throw Error(ut(300));return t}function pF(){var t=Vb!==0;return Vb=0,t}function Cu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zi===null?Tr.memoizedState=zi=t:zi=zi.next=t,zi}function hl(){if(yi===null){var t=Tr.alternate;t=t!==null?t.memoizedState:null}else t=yi.next;var e=zi===null?Tr.memoizedState:zi.next;if(e!==null)zi=e,yi=t;else{if(t===null)throw Error(ut(310));yi=t,t={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},zi===null?Tr.memoizedState=zi=t:zi=zi.next=t}return zi}function Hb(t,e){return typeof e=="function"?e(t):e}function SI(t){var e=hl(),n=e.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=t;var r=yi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((Sg&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,Tr.lanes|=h,bg|=h}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,ql(r,e.memoizedState)||(Ea=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Tr.lanes|=s,bg|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bI(t){var e=hl(),n=e.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ql(s,e.memoizedState)||(Ea=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GZ(){}function WZ(t,e){var n=Tr,r=hl(),i=e(),s=!ql(r.memoizedState,i);if(s&&(r.memoizedState=i,Ea=!0),r=r.queue,mF($Z.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||zi!==null&&zi.memoizedState.tag&1){if(n.flags|=2048,Gb(9,XZ.bind(null,n,r,i,e),void 0,null),ji===null)throw Error(ut(349));Sg&30||jZ(n,e,i)}return i}function jZ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XZ(t,e,n,r){e.value=n,e.getSnapshot=r,YZ(e)&&qZ(t)}function $Z(t,e,n){return n(function(){YZ(e)&&qZ(t)})}function YZ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ql(t,n)}catch{return!0}}function qZ(t){var e=Uh(t,1);e!==null&&Xl(e,t,1,-1)}function G7(t){var e=Cu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hb,lastRenderedState:t},e.queue=t,t=t.dispatch=rfe.bind(null,Tr,t),[e.memoizedState,t]}function Gb(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZZ(){return hl().memoizedState}function ZT(t,e,n,r){var i=Cu();Tr.flags|=t,i.memoizedState=Gb(1|e,n,void 0,r===void 0?null:r)}function DP(t,e,n,r){var i=hl();r=r===void 0?null:r;var s=void 0;if(yi!==null){var a=yi.memoizedState;if(s=a.destroy,r!==null&&dF(r,a.deps)){i.memoizedState=Gb(e,n,s,r);return}}Tr.flags|=t,i.memoizedState=Gb(1|e,n,s,r)}function W7(t,e){return ZT(8390656,8,t,e)}function mF(t,e){return DP(2048,8,t,e)}function KZ(t,e){return DP(4,2,t,e)}function QZ(t,e){return DP(4,4,t,e)}function JZ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eK(t,e,n){return n=n!=null?n.concat([t]):null,DP(4,4,JZ.bind(null,e,t),n)}function gF(){}function tK(t,e){var n=hl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dF(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nK(t,e){var n=hl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dF(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rK(t,e,n){return Sg&21?(ql(n,e)||(n=lZ(),Tr.lanes|=n,bg|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ea=!0),t.memoizedState=n)}function tfe(t,e){var n=Gn;Gn=n!==0&&4>n?n:4,t(!0);var r=_I.transition;_I.transition={};try{t(!1),e()}finally{Gn=n,_I.transition=r}}function iK(){return hl().memoizedState}function nfe(t,e,n){var r=bf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sK(t))aK(e,n);else if(n=BZ(t,e,n,r),n!==null){var i=Js();Xl(n,t,r,i),oK(n,e,r)}}function rfe(t,e,n){var r=bf(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sK(t))aK(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ql(o,a)){var l=e.interleaved;l===null?(i.next=i,oF(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=BZ(t,e,i,r),n!==null&&(i=Js(),Xl(n,t,r,i),oK(n,e,r))}}function sK(t){var e=t.alternate;return t===Tr||e!==null&&e===Tr}function aK(t,e){zS=XA=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oK(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$U(t,n)}}var $A={readContext:cl,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},ife={readContext:cl,useCallback:function(t,e){return Cu().memoizedState=[t,e===void 0?null:e],t},useContext:cl,useEffect:W7,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ZT(4194308,4,JZ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ZT(4194308,4,t,e)},useInsertionEffect:function(t,e){return ZT(4,2,t,e)},useMemo:function(t,e){var n=Cu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nfe.bind(null,Tr,t),[r.memoizedState,t]},useRef:function(t){var e=Cu();return t={current:t},e.memoizedState=t},useState:G7,useDebugValue:gF,useDeferredValue:function(t){return Cu().memoizedState=t},useTransition:function(){var t=G7(!1),e=t[0];return t=tfe.bind(null,t[1]),Cu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tr,i=Cu();if(fr){if(n===void 0)throw Error(ut(407));n=n()}else{if(n=e(),ji===null)throw Error(ut(349));Sg&30||jZ(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,W7($Z.bind(null,r,s,t),[t]),r.flags|=2048,Gb(9,XZ.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cu(),e=ji.identifierPrefix;if(fr){var n=ph,r=fh;n=(r&~(1<<32-jl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vb++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=efe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sfe={readContext:cl,useCallback:tK,useContext:cl,useEffect:mF,useImperativeHandle:eK,useInsertionEffect:KZ,useLayoutEffect:QZ,useMemo:nK,useReducer:SI,useRef:ZZ,useState:function(){return SI(Hb)},useDebugValue:gF,useDeferredValue:function(t){var e=hl();return rK(e,yi.memoizedState,t)},useTransition:function(){var t=SI(Hb)[0],e=hl().memoizedState;return[t,e]},useMutableSource:GZ,useSyncExternalStore:WZ,useId:iK,unstable_isNewReconciler:!1},afe={readContext:cl,useCallback:tK,useContext:cl,useEffect:mF,useImperativeHandle:eK,useInsertionEffect:KZ,useLayoutEffect:QZ,useMemo:nK,useReducer:bI,useRef:ZZ,useState:function(){return bI(Hb)},useDebugValue:gF,useDeferredValue:function(t){var e=hl();return yi===null?e.memoizedState=t:rK(e,yi.memoizedState,t)},useTransition:function(){var t=bI(Hb)[0],e=hl().memoizedState;return[t,e]},useMutableSource:GZ,useSyncExternalStore:WZ,useId:iK,unstable_isNewReconciler:!1};function Nl(t,e){if(t&&t.defaultProps){e=Rr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function v5(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var OP={isMounted:function(t){return(t=t._reactInternals)?$g(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Js(),i=bf(t),s=Sh(r,i);s.payload=e,n!=null&&(s.callback=n),e=_f(t,s,i),e!==null&&(Xl(e,t,i,r),YT(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Js(),i=bf(t),s=Sh(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_f(t,s,i),e!==null&&(Xl(e,t,i,r),YT(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Js(),r=bf(t),i=Sh(n,r);i.tag=2,e!=null&&(i.callback=e),e=_f(t,i,r),e!==null&&(Xl(e,t,r,n),YT(e,t,r))}};function j7(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ob(n,r)||!Ob(i,s):!0}function lK(t,e,n){var r=!1,i=Nf,s=e.contextType;return typeof s=="object"&&s!==null?s=cl(s):(i=Ra(e)?xg:zs.current,r=e.contextTypes,s=(r=r!=null)?u1(t,i):Nf),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=OP,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function X7(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&OP.enqueueReplaceState(e,e.state,null)}function y5(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},lF(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cl(s):(s=Ra(e)?xg:zs.current,i.context=u1(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(v5(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&OP.enqueueReplaceState(i,i.state,null),WA(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function f1(t,e){try{var n="",r=e;do n+=Dhe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function MI(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function x5(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ofe=typeof WeakMap=="function"?WeakMap:Map;function uK(t,e,n){n=Sh(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qA||(qA=!0,P5=r),x5(t,e)},n}function cK(t,e,n){n=Sh(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){x5(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){x5(t,e),typeof r!="function"&&(Sf===null?Sf=new Set([this]):Sf.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function $7(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ofe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Sfe.bind(null,t,e,n),e.then(t,t))}function Y7(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q7(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sh(-1,1),e.tag=2,_f(n,e,1))),n.lanes|=1),t)}var lfe=rd.ReactCurrentOwner,Ea=!1;function qs(t,e,n,r){e.child=t===null?zZ(e,null,n,r):h1(e,t.child,n,r)}function Z7(t,e,n,r,i){n=n.render;var s=e.ref;return Zy(e,i),r=fF(t,e,n,r,s,i),n=pF(),t!==null&&!Ea?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fh(t,e,i)):(fr&&n&&tF(e),e.flags|=1,qs(t,e,r,i),e.child)}function K7(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!wF(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hK(t,e,s,r,i)):(t=eA(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ob,n(a,r)&&t.ref===e.ref)return Fh(t,e,i)}return e.flags|=1,t=Mf(s,r),t.ref=e.ref,t.return=e,e.child=t}function hK(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ob(s,r)&&t.ref===e.ref)if(Ea=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ea=!0);else return e.lanes=t.lanes,Fh(t,e,i)}return _5(t,e,n,r,i)}function dK(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(sy,so),so|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jn(sy,so),so|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Jn(sy,so),so|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Jn(sy,so),so|=r;return qs(t,e,i,n),e.child}function fK(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _5(t,e,n,r,i){var s=Ra(n)?xg:zs.current;return s=u1(e,s),Zy(e,i),n=fF(t,e,n,r,s,i),r=pF(),t!==null&&!Ea?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fh(t,e,i)):(fr&&r&&tF(e),e.flags|=1,qs(t,e,n,i),e.child)}function Q7(t,e,n,r,i){if(Ra(n)){var s=!0;zA(e)}else s=!1;if(Zy(e,i),e.stateNode===null)KT(t,e),lK(e,n,r),y5(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=cl(u):(u=Ra(n)?xg:zs.current,u=u1(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&X7(e,a,r,u),Zd=!1;var f=e.memoizedState;a.state=f,WA(e,r,a,i),l=e.memoizedState,o!==r||f!==l||Pa.current||Zd?(typeof h=="function"&&(v5(e,n,h,r),l=e.memoizedState),(o=Zd||j7(e,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,VZ(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Nl(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=cl(l):(l=Ra(n)?xg:zs.current,l=u1(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&X7(e,a,r,l),Zd=!1,f=e.memoizedState,a.state=f,WA(e,r,a,i);var v=e.memoizedState;o!==d||f!==v||Pa.current||Zd?(typeof m=="function"&&(v5(e,n,m,r),v=e.memoizedState),(u=Zd||j7(e,n,u,r,f,v,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return S5(t,e,n,r,s,i)}function S5(t,e,n,r,i,s){fK(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&U7(e,n,!1),Fh(t,e,s);r=e.stateNode,lfe.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=h1(e,t.child,null,s),e.child=h1(e,null,o,s)):qs(t,e,o,s),e.memoizedState=r.state,i&&U7(e,n,!0),e.child}function pK(t){var e=t.stateNode;e.pendingContext?k7(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k7(t,e.context,!1),uF(t,e.containerInfo)}function J7(t,e,n,r,i){return c1(),rF(i),e.flags|=256,qs(t,e,n,r),e.child}var b5={dehydrated:null,treeContext:null,retryLane:0};function M5(t){return{baseLanes:t,cachePool:null,transitions:null}}function mK(t,e,n){var r=e.pendingProps,i=br.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Jn(br,i&1),t===null)return m5(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=FP(a,r,0,null),t=eg(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=M5(n),e.memoizedState=b5,t):vF(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ufe(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Mf(o,s):(s=eg(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?M5(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=b5,r}return s=t.child,t=s.sibling,r=Mf(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vF(t,e){return e=FP({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wE(t,e,n,r){return r!==null&&rF(r),h1(e,t.child,null,n),t=vF(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ufe(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=MI(Error(ut(422))),wE(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=FP({mode:"visible",children:r.children},i,0,null),s=eg(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&h1(e,t.child,null,a),e.child.memoizedState=M5(a),e.memoizedState=b5,s);if(!(e.mode&1))return wE(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ut(419)),r=MI(s,r,void 0),wE(t,e,a,r)}if(o=(a&t.childLanes)!==0,Ea||o){if(r=ji,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Uh(t,i),Xl(r,t,i,-1))}return MF(),r=MI(Error(ut(421))),wE(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bfe.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,uo=xf(i.nextSibling),ho=e,fr=!0,zl=null,t!==null&&(el[tl++]=fh,el[tl++]=ph,el[tl++]=_g,fh=t.id,ph=t.overflow,_g=e),e=vF(e,r.children),e.flags|=4096,e)}function e9(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),g5(t.return,e,n)}function wI(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gK(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qs(t,e,r.children,n),r=br.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e9(t,n,e);else if(t.tag===19)e9(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Jn(br,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jA(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wI(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jA(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wI(e,!0,n,null,s);break;case"together":wI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function KT(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fh(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bg|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ut(153));if(e.child!==null){for(t=e.child,n=Mf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cfe(t,e,n){switch(e.tag){case 3:pK(e),c1();break;case 5:HZ(e);break;case 1:Ra(e.type)&&zA(e);break;case 4:uF(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Jn(HA,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Jn(br,br.current&1),e.flags|=128,null):n&e.child.childLanes?mK(t,e,n):(Jn(br,br.current&1),t=Fh(t,e,n),t!==null?t.sibling:null);Jn(br,br.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gK(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jn(br,br.current),r)break;return null;case 22:case 23:return e.lanes=0,dK(t,e,n)}return Fh(t,e,n)}var vK,w5,yK,xK;vK=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w5=function(){};yK=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zm(ju.current);var s=null;switch(n){case"input":i=XD(t,i),r=XD(t,r),s=[];break;case"select":i=Rr({},i,{value:void 0}),r=Rr({},r,{value:void 0}),s=[];break;case"textarea":i=qD(t,i),r=qD(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=UA)}KD(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cb.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cb.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ir("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};xK=function(t,e,n,r){n!==r&&(e.flags|=4)};function __(t,e){if(!fr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _s(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hfe(t,e,n){var r=e.pendingProps;switch(nF(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _s(e),null;case 1:return Ra(e.type)&&FA(),_s(e),null;case 3:return r=e.stateNode,d1(),lr(Pa),lr(zs),hF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bE(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zl!==null&&(I5(zl),zl=null))),w5(t,e),_s(e),null;case 5:cF(e);var i=zm(Bb.current);if(n=e.type,t!==null&&e.stateNode!=null)yK(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ut(166));return _s(e),null}if(t=zm(ju.current),bE(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Iu]=e,r[Fb]=s,t=(e.mode&1)!==0,n){case"dialog":ir("cancel",r),ir("close",r);break;case"iframe":case"object":case"embed":ir("load",r);break;case"video":case"audio":for(i=0;i<fS.length;i++)ir(fS[i],r);break;case"source":ir("error",r);break;case"img":case"image":case"link":ir("error",r),ir("load",r);break;case"details":ir("toggle",r);break;case"input":u7(r,s),ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ir("invalid",r);break;case"textarea":h7(r,s),ir("invalid",r)}KD(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&SE(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&SE(r.textContent,o,t),i=["children",""+o]):Cb.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ir("scroll",r)}switch(n){case"input":fE(r),c7(r,s,!0);break;case"textarea":fE(r),d7(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=UA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$q(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Iu]=e,t[Fb]=r,vK(t,e,!1,!1),e.stateNode=t;e:{switch(a=QD(n,r),n){case"dialog":ir("cancel",t),ir("close",t),i=r;break;case"iframe":case"object":case"embed":ir("load",t),i=r;break;case"video":case"audio":for(i=0;i<fS.length;i++)ir(fS[i],t);i=r;break;case"source":ir("error",t),i=r;break;case"img":case"image":case"link":ir("error",t),ir("load",t),i=r;break;case"details":ir("toggle",t),i=r;break;case"input":u7(t,r),i=XD(t,r),ir("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Rr({},r,{value:void 0}),ir("invalid",t);break;case"textarea":h7(t,r),i=qD(t,r),ir("invalid",t);break;default:i=r}KD(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Zq(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yq(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pb(t,l):typeof l=="number"&&Pb(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cb.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ir("scroll",t):l!=null&&VU(t,s,l,a))}switch(n){case"input":fE(t),c7(t,r,!1);break;case"textarea":fE(t),d7(t);break;case"option":r.value!=null&&t.setAttribute("value",""+If(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xy(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xy(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=UA)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _s(e),null;case 6:if(t&&e.stateNode!=null)xK(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ut(166));if(n=zm(Bb.current),zm(ju.current),bE(e)){if(r=e.stateNode,n=e.memoizedProps,r[Iu]=e,(s=r.nodeValue!==n)&&(t=ho,t!==null))switch(t.tag){case 3:SE(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&SE(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Iu]=e,e.stateNode=r}return _s(e),null;case 13:if(lr(br),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fr&&uo!==null&&e.mode&1&&!(e.flags&128))UZ(),c1(),e.flags|=98560,s=!1;else if(s=bE(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ut(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ut(317));s[Iu]=e}else c1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_s(e),s=!1}else zl!==null&&(I5(zl),zl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||br.current&1?_i===0&&(_i=3):MF())),e.updateQueue!==null&&(e.flags|=4),_s(e),null);case 4:return d1(),w5(t,e),t===null&&kb(e.stateNode.containerInfo),_s(e),null;case 10:return aF(e.type._context),_s(e),null;case 17:return Ra(e.type)&&FA(),_s(e),null;case 19:if(lr(br),s=e.memoizedState,s===null)return _s(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)__(s,!1);else{if(_i!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=jA(t),a!==null){for(e.flags|=128,__(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Jn(br,br.current&1|2),e.child}t=t.sibling}s.tail!==null&&$r()>p1&&(e.flags|=128,r=!0,__(s,!1),e.lanes=4194304)}else{if(!r)if(t=jA(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),__(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!fr)return _s(e),null}else 2*$r()-s.renderingStartTime>p1&&n!==1073741824&&(e.flags|=128,r=!0,__(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$r(),e.sibling=null,n=br.current,Jn(br,r?n&1|2:n&1),e):(_s(e),null);case 22:case 23:return bF(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?so&1073741824&&(_s(e),e.subtreeFlags&6&&(e.flags|=8192)):_s(e),null;case 24:return null;case 25:return null}throw Error(ut(156,e.tag))}function dfe(t,e){switch(nF(e),e.tag){case 1:return Ra(e.type)&&FA(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return d1(),lr(Pa),lr(zs),hF(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cF(e),null;case 13:if(lr(br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ut(340));c1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lr(br),null;case 4:return d1(),null;case 10:return aF(e.type._context),null;case 22:case 23:return bF(),null;case 24:return null;default:return null}}var EE=!1,Ls=!1,ffe=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function iy(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zr(t,e,r)}else n.current=null}function E5(t,e,n){try{n()}catch(r){zr(t,e,r)}}var t9=!1;function pfe(t,e){if(l5=DA,t=wZ(),eF(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=a),f===s&&++h===r&&(l=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(u5={focusedElem:t,selectionRange:n},DA=!1,Lt=e;Lt!==null;)if(e=Lt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Lt=t;else for(;Lt!==null;){e=Lt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,y=v.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:Nl(e.type,S),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ut(163))}}catch(E){zr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Lt=t;break}Lt=e.return}return v=t9,t9=!1,v}function BS(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&E5(e,n,s)}i=i.next}while(i!==r)}}function kP(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function T5(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _K(t){var e=t.alternate;e!==null&&(t.alternate=null,_K(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Iu],delete e[Fb],delete e[d5],delete e[Zde],delete e[Kde])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SK(t){return t.tag===5||t.tag===3||t.tag===4}function n9(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function A5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=UA));else if(r!==4&&(t=t.child,t!==null))for(A5(t,e,n),t=t.sibling;t!==null;)A5(t,e,n),t=t.sibling}function C5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(C5(t,e,n),t=t.sibling;t!==null;)C5(t,e,n),t=t.sibling}var is=null,Ul=!1;function Pd(t,e,n){for(n=n.child;n!==null;)bK(t,e,n),n=n.sibling}function bK(t,e,n){if(Wu&&typeof Wu.onCommitFiberUnmount=="function")try{Wu.onCommitFiberUnmount(CP,n)}catch{}switch(n.tag){case 5:Ls||iy(n,e);case 6:var r=is,i=Ul;is=null,Pd(t,e,n),is=r,Ul=i,is!==null&&(Ul?(t=is,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):is.removeChild(n.stateNode));break;case 18:is!==null&&(Ul?(t=is,n=n.stateNode,t.nodeType===8?vI(t.parentNode,n):t.nodeType===1&&vI(t,n),Nb(t)):vI(is,n.stateNode));break;case 4:r=is,i=Ul,is=n.stateNode.containerInfo,Ul=!0,Pd(t,e,n),is=r,Ul=i;break;case 0:case 11:case 14:case 15:if(!Ls&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&E5(n,e,a),i=i.next}while(i!==r)}Pd(t,e,n);break;case 1:if(!Ls&&(iy(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){zr(n,e,o)}Pd(t,e,n);break;case 21:Pd(t,e,n);break;case 22:n.mode&1?(Ls=(r=Ls)||n.memoizedState!==null,Pd(t,e,n),Ls=r):Pd(t,e,n);break;default:Pd(t,e,n)}}function r9(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ffe),e.forEach(function(r){var i=Mfe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function El(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:is=o.stateNode,Ul=!1;break e;case 3:is=o.stateNode.containerInfo,Ul=!0;break e;case 4:is=o.stateNode.containerInfo,Ul=!0;break e}o=o.return}if(is===null)throw Error(ut(160));bK(s,a,i),is=null,Ul=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){zr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MK(e,t),e=e.sibling}function MK(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(El(e,t),Tu(t),r&4){try{BS(3,t,t.return),kP(3,t)}catch(S){zr(t,t.return,S)}try{BS(5,t,t.return)}catch(S){zr(t,t.return,S)}}break;case 1:El(e,t),Tu(t),r&512&&n!==null&&iy(n,n.return);break;case 5:if(El(e,t),Tu(t),r&512&&n!==null&&iy(n,n.return),t.flags&32){var i=t.stateNode;try{Pb(i,"")}catch(S){zr(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&jq(i,s),QD(o,a);var u=QD(o,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?Zq(i,d):h==="dangerouslySetInnerHTML"?Yq(i,d):h==="children"?Pb(i,d):VU(i,h,d,u)}switch(o){case"input":$D(i,s);break;case"textarea":Xq(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Xy(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Xy(i,!!s.multiple,s.defaultValue,!0):Xy(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fb]=s}catch(S){zr(t,t.return,S)}}break;case 6:if(El(e,t),Tu(t),r&4){if(t.stateNode===null)throw Error(ut(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){zr(t,t.return,S)}}break;case 3:if(El(e,t),Tu(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nb(e.containerInfo)}catch(S){zr(t,t.return,S)}break;case 4:El(e,t),Tu(t);break;case 13:El(e,t),Tu(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_F=$r())),r&4&&r9(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ls=(u=Ls)||h,El(e,t),Ls=u):El(e,t),Tu(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Lt=t,h=t.child;h!==null;){for(d=Lt=h;Lt!==null;){switch(f=Lt,m=f.child,f.tag){case 0:case 11:case 14:case 15:BS(4,f,f.return);break;case 1:iy(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){zr(r,n,S)}}break;case 5:iy(f,f.return);break;case 22:if(f.memoizedState!==null){s9(d);continue}}m!==null?(m.return=f,Lt=m):s9(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=qq("display",a))}catch(S){zr(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){zr(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:El(e,t),Tu(t),r&4&&r9(t);break;case 21:break;default:El(e,t),Tu(t)}}function Tu(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SK(n)){var r=n;break e}n=n.return}throw Error(ut(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pb(i,""),r.flags&=-33);var s=n9(t);C5(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=n9(t);A5(t,o,a);break;default:throw Error(ut(161))}}catch(l){zr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mfe(t,e,n){Lt=t,wK(t)}function wK(t,e,n){for(var r=(t.mode&1)!==0;Lt!==null;){var i=Lt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||EE;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ls;o=EE;var u=Ls;if(EE=a,(Ls=l)&&!u)for(Lt=i;Lt!==null;)a=Lt,l=a.child,a.tag===22&&a.memoizedState!==null?a9(i):l!==null?(l.return=a,Lt=l):a9(i);for(;s!==null;)Lt=s,wK(s),s=s.sibling;Lt=i,EE=o,Ls=u}i9(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Lt=s):i9(t)}}function i9(t){for(;Lt!==null;){var e=Lt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ls||kP(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ls)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nl(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&H7(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}H7(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Nb(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ut(163))}Ls||e.flags&512&&T5(e)}catch(f){zr(e,e.return,f)}}if(e===t){Lt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Lt=n;break}Lt=e.return}}function s9(t){for(;Lt!==null;){var e=Lt;if(e===t){Lt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Lt=n;break}Lt=e.return}}function a9(t){for(;Lt!==null;){var e=Lt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kP(4,e)}catch(l){zr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){zr(e,i,l)}}var s=e.return;try{T5(e)}catch(l){zr(e,s,l)}break;case 5:var a=e.return;try{T5(e)}catch(l){zr(e,a,l)}}}catch(l){zr(e,e.return,l)}if(e===t){Lt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Lt=o;break}Lt=e.return}}var gfe=Math.ceil,YA=rd.ReactCurrentDispatcher,yF=rd.ReactCurrentOwner,ll=rd.ReactCurrentBatchConfig,Pn=0,ji=null,oi=null,ls=0,so=0,sy=Kf(0),_i=0,Wb=null,bg=0,UP=0,xF=0,VS=null,Sa=null,_F=0,p1=1/0,rh=null,qA=!1,P5=null,Sf=null,TE=!1,hf=null,ZA=0,HS=0,R5=null,QT=-1,JT=0;function Js(){return Pn&6?$r():QT!==-1?QT:QT=$r()}function bf(t){return t.mode&1?Pn&2&&ls!==0?ls&-ls:Jde.transition!==null?(JT===0&&(JT=lZ()),JT):(t=Gn,t!==0||(t=window.event,t=t===void 0?16:mZ(t.type)),t):1}function Xl(t,e,n,r){if(50<HS)throw HS=0,R5=null,Error(ut(185));tw(t,n,r),(!(Pn&2)||t!==ji)&&(t===ji&&(!(Pn&2)&&(UP|=n),_i===4&&sf(t,ls)),La(t,r),n===1&&Pn===0&&!(e.mode&1)&&(p1=$r()+500,NP&&Qf()))}function La(t,e){var n=t.callbackNode;Jhe(t,e);var r=NA(t,t===ji?ls:0);if(r===0)n!==null&&m7(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m7(n),e===1)t.tag===0?Qde(o9.bind(null,t)):DZ(o9.bind(null,t)),Yde(function(){!(Pn&6)&&Qf()}),n=null;else{switch(uZ(r)){case 1:n=XU;break;case 4:n=aZ;break;case 16:n=IA;break;case 536870912:n=oZ;break;default:n=IA}n=IK(n,EK.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function EK(t,e){if(QT=-1,JT=0,Pn&6)throw Error(ut(327));var n=t.callbackNode;if(Ky()&&t.callbackNode!==n)return null;var r=NA(t,t===ji?ls:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=KA(t,r);else{e=r;var i=Pn;Pn|=2;var s=AK();(ji!==t||ls!==e)&&(rh=null,p1=$r()+500,Jm(t,e));do try{xfe();break}catch(o){TK(t,o)}while(!0);sF(),YA.current=s,Pn=i,oi!==null?e=0:(ji=null,ls=0,e=_i)}if(e!==0){if(e===2&&(i=r5(t),i!==0&&(r=i,e=L5(t,i))),e===1)throw n=Wb,Jm(t,0),sf(t,r),La(t,$r()),n;if(e===6)sf(t,r);else{if(i=t.current.alternate,!(r&30)&&!vfe(i)&&(e=KA(t,r),e===2&&(s=r5(t),s!==0&&(r=s,e=L5(t,s))),e===1))throw n=Wb,Jm(t,0),sf(t,r),La(t,$r()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ut(345));case 2:_m(t,Sa,rh);break;case 3:if(sf(t,r),(r&130023424)===r&&(e=_F+500-$r(),10<e)){if(NA(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Js(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=h5(_m.bind(null,t,Sa,rh),e);break}_m(t,Sa,rh);break;case 4:if(sf(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-jl(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=$r()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gfe(r/1960))-r,10<r){t.timeoutHandle=h5(_m.bind(null,t,Sa,rh),r);break}_m(t,Sa,rh);break;case 5:_m(t,Sa,rh);break;default:throw Error(ut(329))}}}return La(t,$r()),t.callbackNode===n?EK.bind(null,t):null}function L5(t,e){var n=VS;return t.current.memoizedState.isDehydrated&&(Jm(t,e).flags|=256),t=KA(t,e),t!==2&&(e=Sa,Sa=n,e!==null&&I5(e)),t}function I5(t){Sa===null?Sa=t:Sa.push.apply(Sa,t)}function vfe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ql(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sf(t,e){for(e&=~xF,e&=~UP,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jl(e),r=1<<n;t[n]=-1,e&=~r}}function o9(t){if(Pn&6)throw Error(ut(327));Ky();var e=NA(t,0);if(!(e&1))return La(t,$r()),null;var n=KA(t,e);if(t.tag!==0&&n===2){var r=r5(t);r!==0&&(e=r,n=L5(t,r))}if(n===1)throw n=Wb,Jm(t,0),sf(t,e),La(t,$r()),n;if(n===6)throw Error(ut(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_m(t,Sa,rh),La(t,$r()),null}function SF(t,e){var n=Pn;Pn|=1;try{return t(e)}finally{Pn=n,Pn===0&&(p1=$r()+500,NP&&Qf())}}function Mg(t){hf!==null&&hf.tag===0&&!(Pn&6)&&Ky();var e=Pn;Pn|=1;var n=ll.transition,r=Gn;try{if(ll.transition=null,Gn=1,t)return t()}finally{Gn=r,ll.transition=n,Pn=e,!(Pn&6)&&Qf()}}function bF(){so=sy.current,lr(sy)}function Jm(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$de(n)),oi!==null)for(n=oi.return;n!==null;){var r=n;switch(nF(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&FA();break;case 3:d1(),lr(Pa),lr(zs),hF();break;case 5:cF(r);break;case 4:d1();break;case 13:lr(br);break;case 19:lr(br);break;case 10:aF(r.type._context);break;case 22:case 23:bF()}n=n.return}if(ji=t,oi=t=Mf(t.current,null),ls=so=e,_i=0,Wb=null,xF=UP=bg=0,Sa=VS=null,Fm!==null){for(e=0;e<Fm.length;e++)if(n=Fm[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Fm=null}return t}function TK(t,e){do{var n=oi;try{if(sF(),qT.current=$A,XA){for(var r=Tr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}XA=!1}if(Sg=0,zi=yi=Tr=null,zS=!1,Vb=0,yF.current=null,n===null||n.return===null){_i=1,Wb=e,oi=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=ls,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Y7(a);if(m!==null){m.flags&=-257,q7(m,a,o,s,e),m.mode&1&&$7(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var S=new Set;S.add(l),e.updateQueue=S}else v.add(l);break e}else{if(!(e&1)){$7(s,u,e),MF();break e}l=Error(ut(426))}}else if(fr&&o.mode&1){var y=Y7(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),q7(y,a,o,s,e),rF(f1(l,o));break e}}s=l=f1(l,o),_i!==4&&(_i=2),VS===null?VS=[s]:VS.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=uK(s,l,e);V7(s,g);break e;case 1:o=l;var b=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Sf===null||!Sf.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=cK(s,o,e);V7(s,E);break e}}s=s.return}while(s!==null)}PK(n)}catch(P){e=P,oi===n&&n!==null&&(oi=n=n.return);continue}break}while(!0)}function AK(){var t=YA.current;return YA.current=$A,t===null?$A:t}function MF(){(_i===0||_i===3||_i===2)&&(_i=4),ji===null||!(bg&268435455)&&!(UP&268435455)||sf(ji,ls)}function KA(t,e){var n=Pn;Pn|=2;var r=AK();(ji!==t||ls!==e)&&(rh=null,Jm(t,e));do try{yfe();break}catch(i){TK(t,i)}while(!0);if(sF(),Pn=n,YA.current=r,oi!==null)throw Error(ut(261));return ji=null,ls=0,_i}function yfe(){for(;oi!==null;)CK(oi)}function xfe(){for(;oi!==null&&!Whe();)CK(oi)}function CK(t){var e=LK(t.alternate,t,so);t.memoizedProps=t.pendingProps,e===null?PK(t):oi=e,yF.current=null}function PK(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dfe(n,e),n!==null){n.flags&=32767,oi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_i=6,oi=null;return}}else if(n=hfe(n,e,so),n!==null){oi=n;return}if(e=e.sibling,e!==null){oi=e;return}oi=e=t}while(e!==null);_i===0&&(_i=5)}function _m(t,e,n){var r=Gn,i=ll.transition;try{ll.transition=null,Gn=1,_fe(t,e,n,r)}finally{ll.transition=i,Gn=r}return null}function _fe(t,e,n,r){do Ky();while(hf!==null);if(Pn&6)throw Error(ut(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ut(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ede(t,s),t===ji&&(oi=ji=null,ls=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||TE||(TE=!0,IK(IA,function(){return Ky(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ll.transition,ll.transition=null;var a=Gn;Gn=1;var o=Pn;Pn|=4,yF.current=null,pfe(t,n),MK(n,t),Bde(u5),DA=!!l5,u5=l5=null,t.current=n,mfe(n),jhe(),Pn=o,Gn=a,ll.transition=s}else t.current=n;if(TE&&(TE=!1,hf=t,ZA=i),s=t.pendingLanes,s===0&&(Sf=null),Yhe(n.stateNode),La(t,$r()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qA)throw qA=!1,t=P5,P5=null,t;return ZA&1&&t.tag!==0&&Ky(),s=t.pendingLanes,s&1?t===R5?HS++:(HS=0,R5=t):HS=0,Qf(),null}function Ky(){if(hf!==null){var t=uZ(ZA),e=ll.transition,n=Gn;try{if(ll.transition=null,Gn=16>t?16:t,hf===null)var r=!1;else{if(t=hf,hf=null,ZA=0,Pn&6)throw Error(ut(331));var i=Pn;for(Pn|=4,Lt=t.current;Lt!==null;){var s=Lt,a=s.child;if(Lt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Lt=u;Lt!==null;){var h=Lt;switch(h.tag){case 0:case 11:case 15:BS(8,h,s)}var d=h.child;if(d!==null)d.return=h,Lt=d;else for(;Lt!==null;){h=Lt;var f=h.sibling,m=h.return;if(_K(h),h===u){Lt=null;break}if(f!==null){f.return=m,Lt=f;break}Lt=m}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var y=S.sibling;S.sibling=null,S=y}while(S!==null)}}Lt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Lt=a;else e:for(;Lt!==null;){if(s=Lt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:BS(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Lt=g;break e}Lt=s.return}}var b=t.current;for(Lt=b;Lt!==null;){a=Lt;var M=a.child;if(a.subtreeFlags&2064&&M!==null)M.return=a,Lt=M;else e:for(a=b;Lt!==null;){if(o=Lt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:kP(9,o)}}catch(P){zr(o,o.return,P)}if(o===a){Lt=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Lt=E;break e}Lt=o.return}}if(Pn=i,Qf(),Wu&&typeof Wu.onPostCommitFiberRoot=="function")try{Wu.onPostCommitFiberRoot(CP,t)}catch{}r=!0}return r}finally{Gn=n,ll.transition=e}}return!1}function l9(t,e,n){e=f1(n,e),e=uK(t,e,1),t=_f(t,e,1),e=Js(),t!==null&&(tw(t,1,e),La(t,e))}function zr(t,e,n){if(t.tag===3)l9(t,t,n);else for(;e!==null;){if(e.tag===3){l9(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sf===null||!Sf.has(r))){t=f1(n,t),t=cK(e,t,1),e=_f(e,t,1),t=Js(),e!==null&&(tw(e,1,t),La(e,t));break}}e=e.return}}function Sfe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Js(),t.pingedLanes|=t.suspendedLanes&n,ji===t&&(ls&n)===n&&(_i===4||_i===3&&(ls&130023424)===ls&&500>$r()-_F?Jm(t,0):xF|=n),La(t,e)}function RK(t,e){e===0&&(t.mode&1?(e=gE,gE<<=1,!(gE&130023424)&&(gE=4194304)):e=1);var n=Js();t=Uh(t,e),t!==null&&(tw(t,e,n),La(t,n))}function bfe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RK(t,n)}function Mfe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ut(314))}r!==null&&r.delete(e),RK(t,n)}var LK;LK=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pa.current)Ea=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ea=!1,cfe(t,e,n);Ea=!!(t.flags&131072)}else Ea=!1,fr&&e.flags&1048576&&OZ(e,VA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;KT(t,e),t=e.pendingProps;var i=u1(e,zs.current);Zy(e,n),i=fF(null,e,r,t,i,n);var s=pF();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ra(r)?(s=!0,zA(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lF(e),i.updater=OP,e.stateNode=i,i._reactInternals=e,y5(e,r,t,n),e=S5(null,e,r,!0,s,n)):(e.tag=0,fr&&s&&tF(e),qs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(KT(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Efe(r),t=Nl(r,t),i){case 0:e=_5(null,e,r,t,n);break e;case 1:e=Q7(null,e,r,t,n);break e;case 11:e=Z7(null,e,r,t,n);break e;case 14:e=K7(null,e,r,Nl(r.type,t),n);break e}throw Error(ut(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nl(r,i),_5(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nl(r,i),Q7(t,e,r,i,n);case 3:e:{if(pK(e),t===null)throw Error(ut(387));r=e.pendingProps,s=e.memoizedState,i=s.element,VZ(t,e),WA(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=f1(Error(ut(423)),e),e=J7(t,e,r,n,i);break e}else if(r!==i){i=f1(Error(ut(424)),e),e=J7(t,e,r,n,i);break e}else for(uo=xf(e.stateNode.containerInfo.firstChild),ho=e,fr=!0,zl=null,n=zZ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(c1(),r===i){e=Fh(t,e,n);break e}qs(t,e,r,n)}e=e.child}return e;case 5:return HZ(e),t===null&&m5(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,c5(r,i)?a=null:s!==null&&c5(r,s)&&(e.flags|=32),fK(t,e),qs(t,e,a,n),e.child;case 6:return t===null&&m5(e),null;case 13:return mK(t,e,n);case 4:return uF(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=h1(e,null,r,n):qs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nl(r,i),Z7(t,e,r,i,n);case 7:return qs(t,e,e.pendingProps,n),e.child;case 8:return qs(t,e,e.pendingProps.children,n),e.child;case 12:return qs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Jn(HA,r._currentValue),r._currentValue=a,s!==null)if(ql(s.value,a)){if(s.children===i.children&&!Pa.current){e=Fh(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Sh(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),g5(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ut(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),g5(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}qs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zy(e,n),i=cl(i),r=r(i),e.flags|=1,qs(t,e,r,n),e.child;case 14:return r=e.type,i=Nl(r,e.pendingProps),i=Nl(r.type,i),K7(t,e,r,i,n);case 15:return hK(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nl(r,i),KT(t,e),e.tag=1,Ra(r)?(t=!0,zA(e)):t=!1,Zy(e,n),lK(e,r,i),y5(e,r,i,n),S5(null,e,r,!0,t,n);case 19:return gK(t,e,n);case 22:return dK(t,e,n)}throw Error(ut(156,e.tag))};function IK(t,e){return sZ(t,e)}function wfe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function il(t,e,n,r){return new wfe(t,e,n,r)}function wF(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Efe(t){if(typeof t=="function")return wF(t)?1:0;if(t!=null){if(t=t.$$typeof,t===GU)return 11;if(t===WU)return 14}return 2}function Mf(t,e){var n=t.alternate;return n===null?(n=il(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eA(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")wF(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case qv:return eg(n.children,i,s,e);case HU:a=8,i|=8;break;case HD:return t=il(12,n,e,i|2),t.elementType=HD,t.lanes=s,t;case GD:return t=il(13,n,e,i),t.elementType=GD,t.lanes=s,t;case WD:return t=il(19,n,e,i),t.elementType=WD,t.lanes=s,t;case Hq:return FP(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bq:a=10;break e;case Vq:a=9;break e;case GU:a=11;break e;case WU:a=14;break e;case qd:a=16,r=null;break e}throw Error(ut(130,t==null?t:typeof t,""))}return e=il(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function eg(t,e,n,r){return t=il(7,t,r,e),t.lanes=n,t}function FP(t,e,n,r){return t=il(22,t,r,e),t.elementType=Hq,t.lanes=n,t.stateNode={isHidden:!1},t}function EI(t,e,n){return t=il(6,t,null,e),t.lanes=n,t}function TI(t,e,n){return e=il(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tfe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aI(0),this.expirationTimes=aI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aI(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function EF(t,e,n,r,i,s,a,o,l){return t=new Tfe(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=il(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lF(s),t}function Afe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yv,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NK(t){if(!t)return Nf;t=t._reactInternals;e:{if($g(t)!==t||t.tag!==1)throw Error(ut(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ra(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ut(171))}if(t.tag===1){var n=t.type;if(Ra(n))return NZ(t,n,e)}return e}function DK(t,e,n,r,i,s,a,o,l){return t=EF(n,r,!0,t,i,s,a,o,l),t.context=NK(null),n=t.current,r=Js(),i=bf(n),s=Sh(r,i),s.callback=e??null,_f(n,s,i),t.current.lanes=i,tw(t,i,r),La(t,r),t}function zP(t,e,n,r){var i=e.current,s=Js(),a=bf(i);return n=NK(n),e.context===null?e.context=n:e.pendingContext=n,e=Sh(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_f(i,e,a),t!==null&&(Xl(t,i,a,s),YT(t,i,a)),a}function QA(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u9(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function TF(t,e){u9(t,e),(t=t.alternate)&&u9(t,e)}function Cfe(){return null}var OK=typeof reportError=="function"?reportError:function(t){console.error(t)};function AF(t){this._internalRoot=t}BP.prototype.render=AF.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ut(409));zP(t,e,null,null)};BP.prototype.unmount=AF.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mg(function(){zP(null,t,null,null)}),e[kh]=null}};function BP(t){this._internalRoot=t}BP.prototype.unstable_scheduleHydration=function(t){if(t){var e=dZ();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rf.length&&e!==0&&e<rf[n].priority;n++);rf.splice(n,0,t),n===0&&pZ(t)}};function CF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function VP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c9(){}function Pfe(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=QA(a);s.call(u)}}var a=DK(e,r,t,0,null,!1,!1,"",c9);return t._reactRootContainer=a,t[kh]=a.current,kb(t.nodeType===8?t.parentNode:t),Mg(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=QA(l);o.call(u)}}var l=EF(t,0,!1,null,null,!1,!1,"",c9);return t._reactRootContainer=l,t[kh]=l.current,kb(t.nodeType===8?t.parentNode:t),Mg(function(){zP(e,l,n,r)}),l}function HP(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=QA(a);o.call(l)}}zP(e,a,t,i)}else a=Pfe(n,e,t,i,r);return QA(a)}cZ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dS(e.pendingLanes);n!==0&&($U(e,n|1),La(e,$r()),!(Pn&6)&&(p1=$r()+500,Qf()))}break;case 13:Mg(function(){var r=Uh(t,1);if(r!==null){var i=Js();Xl(r,t,1,i)}}),TF(t,1)}};YU=function(t){if(t.tag===13){var e=Uh(t,134217728);if(e!==null){var n=Js();Xl(e,t,134217728,n)}TF(t,134217728)}};hZ=function(t){if(t.tag===13){var e=bf(t),n=Uh(t,e);if(n!==null){var r=Js();Xl(n,t,e,r)}TF(t,e)}};dZ=function(){return Gn};fZ=function(t,e){var n=Gn;try{return Gn=t,e()}finally{Gn=n}};e5=function(t,e,n){switch(e){case"input":if($D(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=IP(r);if(!i)throw Error(ut(90));Wq(r),$D(r,i)}}}break;case"textarea":Xq(t,n);break;case"select":e=n.value,e!=null&&Xy(t,!!n.multiple,e,!1)}};Jq=SF;eZ=Mg;var Rfe={usingClientEntryPoint:!1,Events:[rw,Jv,IP,Kq,Qq,SF]},S_={findFiberByHostInstance:Um,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lfe={bundleType:S_.bundleType,version:S_.version,rendererPackageName:S_.rendererPackageName,rendererConfig:S_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rd.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rZ(t),t===null?null:t.stateNode},findFiberByHostInstance:S_.findFiberByHostInstance||Cfe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var AE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!AE.isDisabled&&AE.supportsFiber)try{CP=AE.inject(Lfe),Wu=AE}catch{}}To.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rfe;To.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CF(e))throw Error(ut(200));return Afe(t,e,null,n)};To.createRoot=function(t,e){if(!CF(t))throw Error(ut(299));var n=!1,r="",i=OK;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=EF(t,1,!1,null,null,n,!1,r,i),t[kh]=e.current,kb(t.nodeType===8?t.parentNode:t),new AF(e)};To.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ut(188)):(t=Object.keys(t).join(","),Error(ut(268,t)));return t=rZ(e),t=t===null?null:t.stateNode,t};To.flushSync=function(t){return Mg(t)};To.hydrate=function(t,e,n){if(!VP(e))throw Error(ut(200));return HP(null,t,e,!0,n)};To.hydrateRoot=function(t,e,n){if(!CF(t))throw Error(ut(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=OK;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=DK(e,null,t,1,n??null,i,!1,s,a),t[kh]=e.current,kb(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new BP(e)};To.render=function(t,e,n){if(!VP(e))throw Error(ut(200));return HP(null,t,e,!1,n)};To.unmountComponentAtNode=function(t){if(!VP(t))throw Error(ut(40));return t._reactRootContainer?(Mg(function(){HP(null,null,t,!1,function(){t._reactRootContainer=null,t[kh]=null})}),!0):!1};To.unstable_batchedUpdates=SF;To.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!VP(n))throw Error(ut(200));if(t==null||t._reactInternals===void 0)throw Error(ut(38));return HP(t,e,n,!1,r)};To.version="18.3.1-next-f1338f8080-20240426";function kK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kK)}catch(t){console.error(t)}}kK(),kq.exports=To;var UK=kq.exports;const ay=jg(UK);var FK,h9=UK;FK=h9.createRoot,h9.hydrateRoot;var zK={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(zK);var Ife=zK.exports;const qr=jg(Ife);function N5(){return N5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N5.apply(null,arguments)}function BK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function d9(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Nfe(t){var e=Dfe(t,"string");return typeof e=="symbol"?e:String(e)}function Dfe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ofe(t,e,n){var r=de.useRef(t!==void 0),i=de.useState(e),s=i[0],a=i[1],o=t!==void 0,l=r.current;return r.current=o,!o&&l&&s!==e&&a(e),[o?t:s,de.useCallback(function(u){for(var h=arguments.length,d=new Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),a(u)},[n])]}function VK(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,a=s[d9(r)],o=s[r],l=BK(s,[d9(r),r].map(Nfe)),u=e[r],h=Ofe(o,a,t[u]),d=h[0],f=h[1];return N5({},l,(i={},i[r]=d,i[u]=f,i))},t)}function D5(t,e){return D5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},D5(t,e)}function kfe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,D5(t,e)}const Ufe=["xxl","xl","lg","md","sm","xs"],Ffe="xs",PF=de.createContext({prefixes:{},breakpoints:Ufe,minBreakpoint:Ffe});function Vs(t,e){const{prefixes:n}=de.useContext(PF);return t||n[e]||e}function HK(){const{breakpoints:t}=de.useContext(PF);return t}function GK(){const{minBreakpoint:t}=de.useContext(PF);return t}function RF(t){return t&&t.ownerDocument||document}function zfe(t){var e=RF(t);return e&&e.defaultView||window}function Bfe(t,e){return zfe(t).getComputedStyle(t,e)}var Vfe=/([A-Z])/g;function Hfe(t){return t.replace(Vfe,"-$1").toLowerCase()}var Gfe=/^ms-/;function CE(t){return Hfe(t).replace(Gfe,"-ms-")}var Wfe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function jfe(t){return!!(t&&Wfe.test(t))}function bh(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(CE(e))||Bfe(t).getPropertyValue(CE(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(CE(i)):jfe(i)?r+=i+"("+s+") ":n+=CE(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var WK={exports:{}},Xfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$fe=Xfe,Yfe=$fe;function jK(){}function XK(){}XK.resetWarningCache=jK;var qfe=function(){function t(r,i,s,a,o,l){if(l!==Yfe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XK,resetWarningCache:jK};return n.PropTypes=n,n};WK.exports=qfe();var Zfe=WK.exports;const cn=jg(Zfe),f9={disabled:!1},$K=Gi.createContext(null);var Kfe=function(e){return e.scrollTop},pS="unmounted",Kd="exited",Bl="entering",oh="entered",jb="exiting",id=function(t){kfe(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=i,o=a&&!a.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?o?(l=Kd,s.appearStatus=Bl):l=oh:r.unmountOnExit||r.mountOnEnter?l=pS:l=Kd,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===pS?{status:Kd}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Bl&&a!==oh&&(s=Bl):(a===Bl||a===oh)&&(s=jb)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Bl){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:ay.findDOMNode(this);a&&Kfe(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Kd&&this.setState({status:pS})},n.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[ay.findDOMNode(this),o],u=l[0],h=l[1],d=this.getTimeouts(),f=o?d.appear:d.enter;if(!i&&!a||f9.disabled){this.safeSetState({status:oh},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:Bl},function(){s.props.onEntering(u,h),s.onTransitionEnd(f,function(){s.safeSetState({status:oh},function(){s.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:ay.findDOMNode(this);if(!s||f9.disabled){this.safeSetState({status:Kd},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:jb},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Kd},function(){i.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:ay.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===pS)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=BK(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Gi.createElement($K.Provider,{value:null},typeof a=="function"?a(i,o):Gi.cloneElement(Gi.Children.only(a),o))},e}(Gi.Component);id.contextType=$K;id.propTypes={};function J0(){}id.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:J0,onEntering:J0,onEntered:J0,onExit:J0,onExiting:J0,onExited:J0};id.UNMOUNTED=pS;id.EXITED=Kd;id.ENTERING=Bl;id.ENTERED=oh;id.EXITING=jb;const GP=!!(typeof window<"u"&&window.document&&window.document.createElement);var O5=!1,k5=!1;try{var AI={get passive(){return O5=!0},get once(){return k5=O5=!0}};GP&&(window.addEventListener("test",AI,AI),window.removeEventListener("test",AI,!0))}catch{}function Qfe(t,e,n,r){if(r&&typeof r!="boolean"&&!k5){var i=r.once,s=r.capture,a=n;!k5&&i&&(a=n.__once||function o(l){this.removeEventListener(e,o,s),n.call(this,l)},n.__once=a),t.addEventListener(e,a,O5?r:s)}t.addEventListener(e,n,r)}function Jfe(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function JA(t,e,n,r){return Qfe(t,e,n,r),function(){Jfe(t,e,n,r)}}function epe(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function tpe(t){var e=bh(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function npe(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||epe(t,"transitionend",!0)},e+n),s=JA(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function rpe(t,e,n,r){n==null&&(n=tpe(t)||0);var i=npe(t,n,r),s=JA(t,"transitionend",e);return function(){i(),s()}}function p9(t,e){const n=bh(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function LF(t,e){const n=p9(t,"transitionDuration"),r=p9(t,"transitionDelay"),i=rpe(t,s=>{s.target===t&&(i(),e(s))},n+r)}function b_(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function YK(t){t.offsetHeight}const m9=t=>!t||typeof t=="function"?t:e=>{t.current=e};function ipe(t,e){const n=m9(t),r=m9(e);return i=>{n&&n(i),r&&r(i)}}function sw(t,e){return de.useMemo(()=>ipe(t,e),[t,e])}function spe(t){return t&&"setState"in t?ay.findDOMNode(t):t??null}const IF=Gi.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:a,children:o,childRef:l,...u},h)=>{const d=de.useRef(null),f=sw(d,l),m=A=>{f(spe(A))},v=A=>L=>{A&&d.current&&A(d.current,L)},S=de.useCallback(v(t),[t]),y=de.useCallback(v(e),[e]),g=de.useCallback(v(n),[n]),b=de.useCallback(v(r),[r]),M=de.useCallback(v(i),[i]),E=de.useCallback(v(s),[s]),P=de.useCallback(v(a),[a]);return Ue.jsx(id,{ref:h,...u,onEnter:S,onEntered:g,onEntering:y,onExit:b,onExited:E,onExiting:M,addEndListener:P,nodeRef:d,children:typeof o=="function"?(A,L)=>o(A,{...L,ref:m}):Gi.cloneElement(o,{ref:m})})}),ape={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ope(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=ape[t];return r+parseInt(bh(e,i[0]),10)+parseInt(bh(e,i[1]),10)}const lpe={[Kd]:"collapse",[jb]:"collapsing",[Bl]:"collapsing",[oh]:"collapse show"},upe=Gi.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:a,dimension:o="height",in:l=!1,timeout:u=300,mountOnEnter:h=!1,unmountOnExit:d=!1,appear:f=!1,getDimensionValue:m=ope,...v},S)=>{const y=typeof o=="function"?o():o,g=de.useMemo(()=>b_(A=>{A.style[y]="0"},t),[y,t]),b=de.useMemo(()=>b_(A=>{const L=`scroll${y[0].toUpperCase()}${y.slice(1)}`;A.style[y]=`${A[L]}px`},e),[y,e]),M=de.useMemo(()=>b_(A=>{A.style[y]=null},n),[y,n]),E=de.useMemo(()=>b_(A=>{A.style[y]=`${m(y,A)}px`,YK(A)},r),[r,m,y]),P=de.useMemo(()=>b_(A=>{A.style[y]=null},i),[y,i]);return Ue.jsx(IF,{ref:S,addEndListener:LF,...v,"aria-expanded":v.role?l:null,onEnter:g,onEntering:b,onEntered:M,onExit:E,onExiting:P,childRef:a.ref,in:l,timeout:u,mountOnEnter:h,unmountOnExit:d,appear:f,children:(A,L)=>Gi.cloneElement(a,{...L,className:qr(s,a.props.className,lpe[A],y==="width"&&"collapse-horizontal")})})});function cpe(t){const e=de.useRef(t);return de.useEffect(()=>{e.current=t},[t]),e}function oo(t){const e=cpe(t);return de.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const hpe=t=>de.forwardRef((e,n)=>Ue.jsx("div",{...e,ref:n,className:qr(e.className,t)}));function dpe(){const t=de.useRef(!0),e=de.useRef(()=>t.current);return de.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function fpe(t){const e=de.useRef(null);return de.useEffect(()=>{e.current=t}),e.current}const ppe=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",mpe=typeof document<"u",U5=mpe||ppe?de.useLayoutEffect:de.useEffect,gpe=["as","disabled"];function vpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ype(t){return!t||t.trim()==="#"}function qK({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:a,tabIndex:o=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const h=f=>{if((e||t==="a"&&ype(n))&&f.preventDefault(),e){f.stopPropagation();return}a==null||a(f)},d=f=>{f.key===" "&&(f.preventDefault(),h(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:o,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:h,onKeyDown:d},u]}const ZK=de.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=vpe(t,gpe);const[s,{tagName:a}]=qK(Object.assign({tagName:n,disabled:r},i));return Ue.jsx(a,Object.assign({},i,s,{ref:e}))});ZK.displayName="Button";const xpe=["onKeyDown"];function _pe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Spe(t){return!t||t.trim()==="#"}const KK=de.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=_pe(t,xpe);const[i]=qK(Object.assign({tagName:"a"},r)),s=oo(a=>{i.onKeyDown(a),n==null||n(a)});return Spe(r.href)||r.role==="button"?Ue.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):Ue.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});KK.displayName="Anchor";function bpe(t){return t.code==="Escape"||t.keyCode===27}function QK(){const t=de.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const Mpe={[Bl]:"show",[oh]:"show"},JK=de.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},o=de.useCallback((h,d)=>{YK(h),r==null||r(h,d)},[r]),{major:l}=QK(),u=l>=19?e.props.ref:e.ref;return Ue.jsx(IF,{ref:s,addEndListener:LF,...a,onEnter:o,childRef:u,children:(h,d)=>de.cloneElement(e,{...d,className:qr("fade",t,e.props.className,Mpe[h],n[h])})})});JK.displayName="Fade";const wpe={"aria-label":cn.string,onClick:cn.func,variant:cn.oneOf(["white"])},NF=de.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>Ue.jsx("button",{ref:i,type:"button",className:qr("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));NF.displayName="CloseButton";NF.propTypes=wpe;const eQ=de.createContext(null);eQ.displayName="CardHeaderContext";function Epe(t){const e=de.useRef(t);return e.current=t,e}function Tpe(t){const e=Epe(t);de.useEffect(()=>()=>e.current(),[])}function Ape({as:t,bsPrefix:e,className:n,...r}){e=Vs(e,"col");const i=HK(),s=GK(),a=[],o=[];return i.forEach(l=>{const u=r[l];delete r[l];let h,d,f;typeof u=="object"&&u!=null?{span:h,offset:d,order:f}=u:h=u;const m=l!==s?`-${l}`:"";h&&a.push(h===!0?`${e}${m}`:`${e}${m}-${h}`),f!=null&&o.push(`order${m}-${f}`),d!=null&&o.push(`offset${m}-${d}`)}),[{...r,className:qr(n,...a,...o)},{as:t,bsPrefix:e,spans:a}]}const tQ=de.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:a}]=Ape(t);return Ue.jsx(i,{...r,ref:e,className:qr(n,!a.length&&s)})});tQ.displayName="Col";const nQ=de.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const a=Vs(t,"container"),o=typeof e=="string"?`-${e}`:"-fluid";return Ue.jsx(n,{ref:s,...i,className:qr(r,e?`${a}${o}`:a)})});nQ.displayName="Container";var Cpe=Function.prototype.bind.call(Function.prototype.call,[].slice);function Sm(t,e){return Cpe(t.querySelectorAll(e))}function Ppe(){const[,t]=de.useReducer(e=>!e,!1);return t}function g9(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const e3=de.createContext(null),DF=(t,e=null)=>t!=null?String(t):e||null,OF=de.createContext(null);OF.displayName="NavContext";const Rpe="data-rr-ui-",Lpe="rrUi";function WP(t){return`${Rpe}${t}`}function Ipe(t){return`${Lpe}${t}`}const rQ=de.createContext(GP?window:void 0);rQ.Provider;function kF(){return de.useContext(rQ)}const $1=de.createContext(null);$1.displayName="NavbarContext";const iQ=de.createContext(null),Npe=["as","active","eventKey"];function Dpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sQ({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const a=de.useContext(e3),o=de.useContext(OF),l=de.useContext(iQ);let u=n;const h={role:i};if(o){!i&&o.role==="tablist"&&(h.role="tab");const d=o.getControllerId(t??null),f=o.getControlledId(t??null);h[WP("event-key")]=t,h.id=d||r,u=n==null&&t!=null?o.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(h["aria-controls"]=f)}return h.role==="tab"&&(h["aria-selected"]=u,u||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=oo(d=>{s||(e==null||e(d),t!=null&&a&&!d.isPropagationStopped()&&a(t,d))}),[h,{isActive:u}]}const aQ=de.forwardRef((t,e)=>{let{as:n=ZK,active:r,eventKey:i}=t,s=Dpe(t,Npe);const[a,o]=sQ(Object.assign({key:DF(i,s.href),active:r},s));return a[WP("active")]=o.isActive,Ue.jsx(n,Object.assign({},s,a,{ref:e}))});aQ.displayName="NavItem";const Ope=["as","onSelect","activeKey","role","onKeyDown"];function kpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const v9=()=>{},y9=WP("event-key"),oQ=de.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:a}=t,o=kpe(t,Ope);const l=Ppe(),u=de.useRef(!1),h=de.useContext(e3),d=de.useContext(iQ);let f,m;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,m=d.getControllerId);const v=de.useRef(null),S=M=>{const E=v.current;if(!E)return null;const P=Sm(E,`[${y9}]:not([aria-disabled=true])`),A=E.querySelector("[aria-selected=true]");if(!A||A!==document.activeElement)return null;const L=P.indexOf(A);if(L===-1)return null;let I=L+M;return I>=P.length&&(I=0),I<0&&(I=P.length-1),P[I]},y=(M,E)=>{M!=null&&(r==null||r(M,E),h==null||h(M,E))},g=M=>{if(a==null||a(M),!d)return;let E;switch(M.key){case"ArrowLeft":case"ArrowUp":E=S(-1);break;case"ArrowRight":case"ArrowDown":E=S(1);break;default:return}E&&(M.preventDefault(),y(E.dataset[Ipe("EventKey")]||null,M),u.current=!0,l())};de.useEffect(()=>{if(v.current&&u.current){const M=v.current.querySelector(`[${y9}][aria-selected=true]`);M==null||M.focus()}u.current=!1});const b=sw(e,v);return Ue.jsx(e3.Provider,{value:y,children:Ue.jsx(OF.Provider,{value:{role:s,activeKey:DF(i),getControlledId:f||v9,getControllerId:m||v9},children:Ue.jsx(n,Object.assign({},o,{onKeyDown:g,ref:b,role:s}))})})});oQ.displayName="Nav";const Upe=Object.assign(oQ,{Item:aQ});function CI(t){t===void 0&&(t=RF());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Fpe(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const x9=WP("modal-open");class UF{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return Fpe(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(bh(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(x9,""),bh(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(x9),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const PI=(t,e)=>GP?t==null?(e||RF()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function zpe(t,e){const n=kF(),[r,i]=de.useState(()=>PI(t,n==null?void 0:n.document));if(!r){const s=PI(t);s&&i(s)}return de.useEffect(()=>{},[e,r]),de.useEffect(()=>{const s=PI(t);s!==r&&i(s)},[t,r]),r}function Bpe({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=de.useRef(null),a=de.useRef(e),o=oo(n);de.useEffect(()=>{e?a.current=!0:o(s.current)},[e,o]);const l=sw(s,t.ref),u=de.cloneElement(t,{ref:l});return e?u:i||!a.current&&r?null:u}const Vpe=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Hpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gpe(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:a,addEndListener:o,children:l}=t,u=Hpe(t,Vpe);const{major:h}=QK(),d=h>=19?l.props.ref:l.ref,f=de.useRef(null),m=sw(f,typeof l=="function"?null:d),v=A=>L=>{A&&f.current&&A(f.current,L)},S=de.useCallback(v(e),[e]),y=de.useCallback(v(n),[n]),g=de.useCallback(v(r),[r]),b=de.useCallback(v(i),[i]),M=de.useCallback(v(s),[s]),E=de.useCallback(v(a),[a]),P=de.useCallback(v(o),[o]);return Object.assign({},u,{nodeRef:f},e&&{onEnter:S},n&&{onEntering:y},r&&{onEntered:g},i&&{onExit:b},s&&{onExiting:M},a&&{onExited:E},o&&{addEndListener:P},{children:typeof l=="function"?(A,L)=>l(A,Object.assign({},L,{ref:m})):de.cloneElement(l,{ref:m})})}const Wpe=["component"];function jpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Xpe=de.forwardRef((t,e)=>{let{component:n}=t,r=jpe(t,Wpe);const i=Gpe(r);return Ue.jsx(n,Object.assign({ref:e},i))});function $pe({in:t,onTransition:e}){const n=de.useRef(null),r=de.useRef(!0),i=oo(e);return U5(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),U5(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Ype({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,a]=de.useState(!e);e&&s&&a(!1);const o=$pe({in:!!e,onTransition:u=>{const h=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(a(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(h,d=>{throw u.in||a(!0),d})}}),l=sw(o,t.ref);return s&&!e?null:de.cloneElement(t,{ref:l})}function _9(t,e,n){return t?Ue.jsx(Xpe,Object.assign({},n,{component:t})):e?Ue.jsx(Ype,Object.assign({},n,{transition:e})):Ue.jsx(Bpe,Object.assign({},n))}const qpe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let RI;function Kpe(t){return RI||(RI=new UF({ownerDocument:t==null?void 0:t.document})),RI}function Qpe(t){const e=kF(),n=t||Kpe(e),r=de.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:de.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:de.useCallback(i=>{r.current.backdrop=i},[])})}const lQ=de.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:a,backdrop:o=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:d,runTransition:f,backdropTransition:m,runBackdropTransition:v,autoFocus:S=!0,enforceFocus:y=!0,restoreFocus:g=!0,restoreFocusOptions:b,renderDialog:M,renderBackdrop:E=Ee=>Ue.jsx("div",Object.assign({},Ee)),manager:P,container:A,onShow:L,onHide:I=()=>{},onExit:R,onExited:C,onExiting:O,onEnter:G,onEntering:j,onEntered:q}=t,Q=Zpe(t,qpe);const X=kF(),se=zpe(A),D=Qpe(P),V=dpe(),B=fpe(n),[$,te]=de.useState(!n),Ae=de.useRef(null);de.useImperativeHandle(e,()=>D,[D]),GP&&!B&&n&&(Ae.current=CI(X==null?void 0:X.document)),n&&$&&te(!1);const F=oo(()=>{if(D.add(),Pe.current=JA(document,"keydown",Ve),ke.current=JA(document,"focus",()=>setTimeout(ie),!0),L&&L(),S){var Ee,Te;const He=CI((Ee=(Te=D.dialog)==null?void 0:Te.ownerDocument)!=null?Ee:X==null?void 0:X.document);D.dialog&&He&&!g9(D.dialog,He)&&(Ae.current=He,D.dialog.focus())}}),ve=oo(()=>{if(D.remove(),Pe.current==null||Pe.current(),ke.current==null||ke.current(),g){var Ee;(Ee=Ae.current)==null||Ee.focus==null||Ee.focus(b),Ae.current=null}});de.useEffect(()=>{!n||!se||F()},[n,se,F]),de.useEffect(()=>{$&&ve()},[$,ve]),Tpe(()=>{ve()});const ie=oo(()=>{if(!y||!V()||!D.isTopModal())return;const Ee=CI(X==null?void 0:X.document);D.dialog&&Ee&&!g9(D.dialog,Ee)&&D.dialog.focus()}),he=oo(Ee=>{Ee.target===Ee.currentTarget&&(u==null||u(Ee),o===!0&&I())}),Ve=oo(Ee=>{l&&bpe(Ee)&&D.isTopModal()&&(h==null||h(Ee),Ee.defaultPrevented||I())}),ke=de.useRef(),Pe=de.useRef(),Ce=(...Ee)=>{te(!0),C==null||C(...Ee)};if(!se)return null;const pe=Object.assign({role:r,ref:D.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Q,{style:s,className:i,tabIndex:-1});let be=M?M(pe):Ue.jsx("div",Object.assign({},pe,{children:de.cloneElement(a,{role:"document"})}));be=_9(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:R,onExiting:O,onExited:Ce,onEnter:G,onEntering:j,onEntered:q,children:be});let H=null;return o&&(H=E({ref:D.setBackdropRef,onClick:he}),H=_9(m,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:H})),Ue.jsx(Ue.Fragment,{children:ay.createPortal(Ue.jsxs(Ue.Fragment,{children:[H,be]}),se)})});lQ.displayName="Modal";const Jpe=Object.assign(lQ,{Manager:UF});function eme(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function tme(t,e){t.classList?t.classList.add(e):eme(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function S9(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nme(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=S9(t.className,e):t.setAttribute("class",S9(t.className&&t.className.baseVal||"",e))}const ev={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class uQ extends UF{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,bh(n,{[e]:`${parseFloat(bh(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],bh(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(tme(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Sm(n,ev.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Sm(n,ev.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Sm(n,ev.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();nme(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Sm(n,ev.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Sm(n,ev.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Sm(n,ev.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let LI;function rme(t){return LI||(LI=new uQ(t)),LI}const cQ=de.createContext({onHide(){}}),ime=de.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},a)=>{const o=de.useContext(cQ),l=oo(()=>{o==null||o.onHide(),r==null||r()});return Ue.jsxs("div",{ref:a,...s,children:[i,n&&Ue.jsx(NF,{"aria-label":t,variant:e,onClick:l})]})});var b9={exports:{}},F5={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(a,o,l,u,h,d){var f=u||"<<anonymous>>",m=d||l;if(o[l]==null)return a?new Error("Required "+h+" `"+m+"` was not specified "+("in `"+f+"`.")):null;for(var v=arguments.length,S=Array(v>6?v-6:0),y=6;y<v;y++)S[y-6]=arguments[y];return r.apply(void 0,[o,l,f,h,m].concat(S))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(F5,F5.exports);var sme=F5.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=sme,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];function u(){for(var h=arguments.length,d=Array(h),f=0;f<h;f++)d[f]=arguments[f];var m=null;return o.forEach(function(v){if(m==null){var S=v.apply(void 0,d);S!=null&&(m=S)}}),m}return(0,r.default)(u)}t.exports=e.default})(b9,b9.exports);const hQ=de.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Vs(e,"nav-item"),Ue.jsx(n,{ref:i,className:qr(t,e),...r})));hQ.displayName="NavItem";const dQ=de.forwardRef(({bsPrefix:t,className:e,as:n=KK,active:r,eventKey:i,disabled:s=!1,...a},o)=>{t=Vs(t,"nav-link");const[l,u]=sQ({key:DF(i,a.href),active:r,disabled:s,...a});return Ue.jsx(n,{...a,...l,ref:o,disabled:s,className:qr(e,t,s&&"disabled",u.isActive&&"active")})});dQ.displayName="NavLink";const fQ=de.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:a=!1,navbar:o,navbarScroll:l,className:u,activeKey:h,...d}=VK(t,{activeKey:"onSelect"}),f=Vs(r,"nav");let m,v,S=!1;const y=de.useContext($1),g=de.useContext(eQ);return y?(m=y.bsPrefix,S=o??!0):g&&({cardHeaderBsPrefix:v}=g),Ue.jsx(Upe,{as:n,ref:e,activeKey:h,className:qr(u,{[f]:!S,[`${m}-nav`]:S,[`${m}-nav-scroll`]:S&&l,[`${v}-${i}`]:!!v,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:a}),...d})});fQ.displayName="Nav";const M_=Object.assign(fQ,{Item:hQ,Link:dQ}),pQ=de.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Vs(t,"navbar-brand");const s=n||(r.href?"a":"span");return Ue.jsx(s,{...r,ref:i,className:qr(e,t)})});pQ.displayName="NavbarBrand";const mQ=de.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Vs(e,"navbar-collapse");const i=de.useContext($1);return Ue.jsx(upe,{in:!!(i&&i.expanded),...n,children:Ue.jsx("div",{ref:r,className:e,children:t})})});mQ.displayName="NavbarCollapse";const gQ=de.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...a},o)=>{t=Vs(t,"navbar-toggler");const{onToggle:l,expanded:u}=de.useContext($1)||{},h=oo(d=>{s&&s(d),l&&l()});return i==="button"&&(a.type="button"),Ue.jsx(i,{...a,ref:o,onClick:h,"aria-label":r,className:qr(e,t,!u&&"collapsed"),children:n||Ue.jsx("span",{className:`${t}-icon`})})});gQ.displayName="NavbarToggle";const z5=new WeakMap,M9=(t,e)=>{if(!t||!e)return;const n=z5.get(e)||new Map;z5.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function ame(t,e=typeof window>"u"?void 0:window){const n=M9(t,e),[r,i]=de.useState(()=>n?n.matches:!1);return U5(()=>{let s=M9(t,e);if(!s)return i(!1);let a=z5.get(e);const o=()=>{i(s.matches)};return s.refCount++,s.addListener(o),o(),()=>{s.removeListener(o),s.refCount--,s.refCount<=0&&(a==null||a.delete(s.media)),s=void 0}},[t]),r}function ome(t){const e=Object.keys(t);function n(o,l){return o===l?l:o?`${o} and ${l}`:l}function r(o){return e[Math.min(e.indexOf(o)+1,e.length-1)]}function i(o){const l=r(o);let u=t[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function s(o){let l=t[o];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function a(o,l,u){let h;typeof o=="object"?(h=o,u=l,l=!0):(l=l||!0,h={[o]:l});let d=de.useMemo(()=>Object.entries(h).reduce((f,[m,v])=>((v==="up"||v===!0)&&(f=n(f,s(m))),(v==="down"||v===!0)&&(f=n(f,i(m))),f),""),[JSON.stringify(h)]);return ame(d,u)}return a}const lme=ome({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),vQ=de.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Vs(e,"offcanvas-body"),Ue.jsx(n,{ref:i,className:qr(t,e),...r})));vQ.displayName="OffcanvasBody";const ume={[Bl]:"show",[oh]:"show"},yQ=de.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:a=!1,...o},l)=>(t=Vs(t,"offcanvas"),Ue.jsx(IF,{ref:l,addEndListener:LF,in:r,mountOnEnter:i,unmountOnExit:s,appear:a,...o,childRef:n.ref,children:(u,h)=>de.cloneElement(n,{...h,className:qr(e,n.props.className,(u===Bl||u===jb)&&`${t}-toggling`,ume[u])})})));yQ.displayName="OffcanvasToggling";const xQ=de.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Vs(t,"offcanvas-header"),Ue.jsx(ime,{ref:s,...i,className:qr(e,t),closeLabel:n,closeButton:r})));xQ.displayName="OffcanvasHeader";const cme=hpe("h5"),_Q=de.forwardRef(({className:t,bsPrefix:e,as:n=cme,...r},i)=>(e=Vs(e,"offcanvas-title"),Ue.jsx(n,{ref:i,className:qr(t,e),...r})));_Q.displayName="OffcanvasTitle";function hme(t){return Ue.jsx(yQ,{...t})}function dme(t){return Ue.jsx(JK,{...t})}const SQ=de.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:a=!1,backdrop:o=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:h,onShow:d,onHide:f,container:m,autoFocus:v=!0,enforceFocus:S=!0,restoreFocus:y=!0,restoreFocusOptions:g,onEntered:b,onExit:M,onExiting:E,onEnter:P,onEntering:A,onExited:L,backdropClassName:I,manager:R,renderStaticNode:C=!1,...O},G)=>{const j=de.useRef();t=Vs(t,"offcanvas");const[q,Q]=de.useState(!1),X=oo(f),se=lme(s||"xs","up");de.useEffect(()=>{Q(s?a&&!se:a)},[a,s,se]);const D=de.useMemo(()=>({onHide:X}),[X]);function V(){return R||(u?(j.current||(j.current=new uQ({handleContainerOverflow:!1})),j.current):rme())}const B=(F,...ve)=>{F&&(F.style.visibility="visible"),P==null||P(F,...ve)},$=(F,...ve)=>{F&&(F.style.visibility=""),L==null||L(...ve)},te=de.useCallback(F=>Ue.jsx("div",{...F,className:qr(`${t}-backdrop`,I)}),[I,t]),Ae=F=>Ue.jsx("div",{...F,...O,className:qr(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return Ue.jsxs(Ue.Fragment,{children:[!q&&(s||C)&&Ae({}),Ue.jsx(cQ.Provider,{value:D,children:Ue.jsx(Jpe,{show:q,ref:G,backdrop:o,container:m,keyboard:l,autoFocus:v,enforceFocus:S&&!u,restoreFocus:y,restoreFocusOptions:g,onEscapeKeyDown:h,onShow:d,onHide:X,onEnter:B,onEntering:A,onEntered:b,onExit:M,onExiting:E,onExited:$,manager:V(),transition:hme,backdropTransition:dme,renderBackdrop:te,renderDialog:Ae})})]})});SQ.displayName="Offcanvas";const fme=Object.assign(SQ,{Body:vQ,Header:xQ,Title:_Q}),bQ=de.forwardRef(({onHide:t,...e},n)=>{const r=de.useContext($1),i=oo(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return Ue.jsx(fme,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});bQ.displayName="NavbarOffcanvas";const MQ=de.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Vs(e,"navbar-text"),Ue.jsx(n,{ref:i,className:qr(t,e),...r})));MQ.displayName="NavbarText";const wQ=de.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:a,sticky:o,className:l,as:u="nav",expanded:h,onToggle:d,onSelect:f,collapseOnSelect:m=!1,...v}=VK(t,{expanded:"onToggle"}),S=Vs(n,"navbar"),y=de.useCallback((...M)=>{f==null||f(...M),m&&h&&(d==null||d(!1))},[f,m,h,d]);v.role===void 0&&u!=="nav"&&(v.role="navigation");let g=`${S}-expand`;typeof r=="string"&&(g=`${g}-${r}`);const b=de.useMemo(()=>({onToggle:()=>d==null?void 0:d(!h),bsPrefix:S,expanded:!!h,expand:r}),[S,h,r,d]);return Ue.jsx($1.Provider,{value:b,children:Ue.jsx(e3.Provider,{value:y,children:Ue.jsx(u,{ref:e,...v,className:qr(l,S,r&&g,i&&`${S}-${i}`,s&&`bg-${s}`,o&&`sticky-${o}`,a&&`fixed-${a}`)})})})});wQ.displayName="Navbar";const PE=Object.assign(wQ,{Brand:pQ,Collapse:mQ,Offcanvas:bQ,Text:MQ,Toggle:gQ}),EQ=de.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=Vs(t,"row"),a=HK(),o=GK(),l=`${s}-cols`,u=[];return a.forEach(h=>{const d=r[h];delete r[h];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const m=h!==o?`-${h}`:"";f!=null&&u.push(`${l}${m}-${f}`)}),Ue.jsx(n,{ref:i,...r,className:qr(e,s,...u)})});EQ.displayName="Row";function pme(){const[t,e]=de.useState(!1),n=de.useRef(null),r=i=>{n.current&&!n.current.contains(i.target)&&e(!1)};return de.useEffect(()=>(document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}),[]),Ue.jsx(PE,{expand:"lg",className:"bg-body-tertiary","data-bs-theme":"dark",fixed:"top",expanded:t,ref:n,children:Ue.jsxs(nQ,{fluid:!0,children:[Ue.jsx(PE.Brand,{href:"#home",children:"Portfolio"}),Ue.jsx(PE.Toggle,{"aria-controls":"navbarScroll",onClick:()=>e(!t)}),Ue.jsx(PE.Collapse,{id:"navbarScroll",children:Ue.jsxs(M_,{className:"me-auto my-2 my-lg-0",children:[Ue.jsx(M_.Link,{href:"#about",onClick:()=>e(!1),children:"About"}),Ue.jsx(M_.Link,{href:"#skills",onClick:()=>e(!1),children:"Skills"}),Ue.jsx(M_.Link,{href:"#projects",onClick:()=>e(!1),children:"Projects"}),Ue.jsx(M_.Link,{href:"#footer",onClick:()=>e(!1),children:"Links"})]})})]})})}function mme(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function jP(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const B5=t=>Array.isArray(t);function TQ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Xb(t){return typeof t=="string"||Array.isArray(t)}function w9(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function FF(t,e,n,r){if(typeof e=="function"){const[i,s]=w9(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=w9(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function XP(t,e,n){const r=t.getProps();return FF(r,e,n!==void 0?n:r.custom,t)}const zF=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],BF=["initial",...zF],aw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yg=new Set(aw),Xu=t=>t*1e3,$u=t=>t/1e3,gme={type:"spring",stiffness:500,damping:25,restSpeed:10},vme=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yme={type:"keyframes",duration:.8},xme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_me=(t,{keyframes:e})=>e.length>2?yme:Yg.has(t)?t.startsWith("scale")?vme(e[1]):gme:xme;function VF(t,e){return t?t[e]||t.default||t:void 0}const Sme={skipAnimations:!1,useManualTiming:!1},bme=t=>t!==null;function $P(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(bme),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Os=t=>t;function Mme(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){s.has(u)&&(l.schedule(u),t()),u(a)}const l={schedule:(u,h=!1,d=!1)=>{const m=d&&r?e:n;return h&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(a=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(o),r=!1,i&&(i=!1,l.process(u))}};return l}const RE=["read","resolveKeyframes","update","preRender","render","postRender"],wme=40;function AQ(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=RE.reduce((g,b)=>(g[b]=Mme(s),g),{}),{read:o,resolveKeyframes:l,update:u,preRender:h,render:d,postRender:f}=a,m=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,wme),1),i.timestamp=g,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),h.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},v=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:RE.reduce((g,b)=>{const M=a[b];return g[b]=(E,P=!1,A=!1)=>(n||v(),M.schedule(E,P,A)),g},{}),cancel:g=>{for(let b=0;b<RE.length;b++)a[RE[b]].cancel(g)},state:i,steps:a}}const{schedule:Vn,cancel:zh,state:as,steps:II}=AQ(typeof requestAnimationFrame<"u"?requestAnimationFrame:Os,!0),CQ=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Eme=1e-7,Tme=12;function Ame(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=CQ(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>Eme&&++o<Tme);return a}function ow(t,e,n,r){if(t===e&&n===r)return Os;const i=s=>Ame(s,0,1,t,n);return s=>s===0||s===1?s:CQ(i(s),e,r)}const PQ=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RQ=t=>e=>1-t(1-e),LQ=ow(.33,1.53,.69,.99),HF=RQ(LQ),IQ=PQ(HF),NQ=t=>(t*=2)<1?.5*HF(t):.5*(2-Math.pow(2,-10*(t-1))),GF=t=>1-Math.sin(Math.acos(t)),DQ=RQ(GF),OQ=PQ(GF),kQ=t=>/^0[^.\s]+$/u.test(t);function Cme(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kQ(t):!0}let V5=Os;const UQ=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),FQ=t=>e=>typeof e=="string"&&e.startsWith(t),zQ=FQ("--"),Pme=FQ("var(--"),WF=t=>Pme(t)?Rme.test(t.split("/*")[0].trim()):!1,Rme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ime(t){const e=Lme.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function BQ(t,e,n=1){const[r,i]=Ime(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return UQ(a)?parseFloat(a):a}return WF(i)?BQ(i,e,n+1):i}const Df=(t,e,n)=>n>e?e:n<t?t:n,Y1={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$b={...Y1,transform:t=>Df(0,1,t)},LE={...Y1,default:1},lw=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$d=lw("deg"),Yu=lw("%"),Xt=lw("px"),Nme=lw("vh"),Dme=lw("vw"),E9={...Yu,parse:t=>Yu.parse(t)/100,transform:t=>Yu.transform(t*100)},Ome=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),T9=t=>t===Y1||t===Xt,A9=(t,e)=>parseFloat(t.split(", ")[e]),C9=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return A9(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?A9(s[1],t):0}},kme=new Set(["x","y","z"]),Ume=aw.filter(t=>!kme.has(t));function Fme(t){const e=[];return Ume.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const m1={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:C9(4,13),y:C9(5,14)};m1.translateX=m1.x;m1.translateY=m1.y;const VQ=t=>e=>e.test(t),zme={test:t=>t==="auto",parse:t=>t},HQ=[Y1,Xt,Yu,$d,Dme,Nme,zme],P9=t=>HQ.find(VQ(t)),tg=new Set;let H5=!1,G5=!1;function GQ(){if(G5){const t=Array.from(tg).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Fme(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}G5=!1,H5=!1,tg.forEach(t=>t.complete()),tg.clear()}function WQ(){tg.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(G5=!0)})}function Bme(){WQ(),GQ()}class jF{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tg.add(this),H5||(H5=!0,Vn.read(WQ),Vn.resolveKeyframes(GQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tg.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tg.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const GS=t=>Math.round(t*1e5)/1e5,XF=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vme(t){return t==null}const Hme=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$F=(t,e)=>n=>!!(typeof n=="string"&&Hme.test(n)&&n.startsWith(t)||e&&!Vme(n)&&Object.prototype.hasOwnProperty.call(n,e)),jQ=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(XF);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Gme=t=>Df(0,255,t),NI={...Y1,transform:t=>Math.round(Gme(t))},Bm={test:$F("rgb","red"),parse:jQ("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+NI.transform(t)+", "+NI.transform(e)+", "+NI.transform(n)+", "+GS($b.transform(r))+")"};function Wme(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const W5={test:$F("#"),parse:Wme,transform:Bm.transform},oy={test:$F("hsl","hue"),parse:jQ("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yu.transform(GS(e))+", "+Yu.transform(GS(n))+", "+GS($b.transform(r))+")"},Ps={test:t=>Bm.test(t)||W5.test(t)||oy.test(t),parse:t=>Bm.test(t)?Bm.parse(t):oy.test(t)?oy.parse(t):W5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bm.transform(t):oy.transform(t)},jme=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xme(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(XF))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(jme))===null||n===void 0?void 0:n.length)||0)>0}const XQ="number",$Q="color",$me="var",Yme="var(",R9="${}",qme=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yb(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(qme,l=>(Ps.test(l)?(r.color.push(s),i.push($Q),n.push(Ps.parse(l))):l.startsWith(Yme)?(r.var.push(s),i.push($me),n.push(l)):(r.number.push(s),i.push(XQ),n.push(parseFloat(l))),++s,R9)).split(R9);return{values:n,split:o,indexes:r,types:i}}function YQ(t){return Yb(t).values}function qQ(t){const{split:e,types:n}=Yb(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===XQ?s+=GS(i[a]):o===$Q?s+=Ps.transform(i[a]):s+=i[a]}return s}}const Zme=t=>typeof t=="number"?0:t;function Kme(t){const e=YQ(t);return qQ(t)(e.map(Zme))}const Of={test:Xme,parse:YQ,createTransformer:qQ,getAnimatableNone:Kme},Qme=new Set(["brightness","contrast","saturate","opacity"]);function Jme(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(XF)||[];if(!r)return t;const i=n.replace(r,"");let s=Qme.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const ege=/\b([a-z-]*)\(.*?\)/gu,j5={...Of,getAnimatableNone:t=>{const e=t.match(ege);return e?e.map(Jme).join(" "):t}},tge={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt},nge={rotate:$d,rotateX:$d,rotateY:$d,rotateZ:$d,scale:LE,scaleX:LE,scaleY:LE,scaleZ:LE,skew:$d,skewX:$d,skewY:$d,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:$b,originX:E9,originY:E9,originZ:Xt},L9={...Y1,transform:Math.round},YF={...tge,...nge,zIndex:L9,size:Xt,fillOpacity:$b,strokeOpacity:$b,numOctaves:L9},rge={...YF,color:Ps,backgroundColor:Ps,outlineColor:Ps,fill:Ps,stroke:Ps,borderColor:Ps,borderTopColor:Ps,borderRightColor:Ps,borderBottomColor:Ps,borderLeftColor:Ps,filter:j5,WebkitFilter:j5},qF=t=>rge[t];function ZQ(t,e){let n=qF(t);return n!==j5&&(n=Of),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ige=new Set(["auto","none","0"]);function sge(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!ige.has(s)&&Yb(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=ZQ(n,i)}class KQ extends jF{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),WF(u))){const h=BQ(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ome.has(r)||e.length!==2)return;const[i,s]=e,a=P9(i),o=P9(s);if(a!==o)if(T9(a)&&T9(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Cme(e[i])&&r.push(i);r.length&&sge(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=m1[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=m1[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function YP(t){return typeof t=="function"}let tA;function age(){tA=void 0}const qu={now:()=>(tA===void 0&&qu.set(as.isProcessing||Sme.useManualTiming?as.timestamp:performance.now()),tA),set:t=>{tA=t,queueMicrotask(age)}},I9=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Of.test(t)||t==="0")&&!t.startsWith("url("));function oge(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function lge(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=I9(i,e),o=I9(s,e);return!a||!o?!1:oge(t)||(n==="spring"||YP(n))&&r}const uge=40;class QQ{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qu.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>uge?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Bme(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=qu.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!lge(e,r,i,s))if(a)this.options.duration=0;else{l==null||l($P(e,this.options,n)),o==null||o(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function JQ(t,e){return e?t*(1e3/e):0}const cge=5;function eJ(t,e,n){const r=Math.max(e-cge,0);return JQ(n-t(r),e-r)}const DI=.001,hge=.01,dge=10,fge=.05,pge=1;function mge({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,a=1-e;a=Df(fge,pge,a),t=Df(hge,dge,$u(t)),a<1?(i=u=>{const h=u*a,d=h*t,f=h-n,m=X5(u,a),v=Math.exp(-d);return DI-f/m*v},s=u=>{const d=u*a*t,f=d*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,v=Math.exp(-d),S=X5(Math.pow(u,2),a);return(-i(u)+DI>0?-1:1)*((f-m)*v)/S}):(i=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-DI+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const o=5/t,l=vge(i,s,o);if(t=Xu(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const gge=12;function vge(t,e,n){let r=n;for(let i=1;i<gge;i++)r=r-t(r)/e(r);return r}function X5(t,e){return t*Math.sqrt(1-e*e)}const yge=["duration","bounce"],xge=["stiffness","damping","mass"];function N9(t,e){return e.some(n=>t[n]!==void 0)}function _ge(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!N9(t,xge)&&N9(t,yge)){const n=mge(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function ZF({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=_ge({...r,velocity:-$u(r.velocity||0)}),m=d||0,v=l/(2*Math.sqrt(o*u)),S=s-i,y=$u(Math.sqrt(o/u)),g=Math.abs(S)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let b;if(v<1){const M=X5(y,v);b=E=>{const P=Math.exp(-v*y*E);return s-P*((m+v*y*S)/M*Math.sin(M*E)+S*Math.cos(M*E))}}else if(v===1)b=M=>s-Math.exp(-y*M)*(S+(m+y*S)*M);else{const M=y*Math.sqrt(v*v-1);b=E=>{const P=Math.exp(-v*y*E),A=Math.min(M*E,300);return s-P*((m+v*y*S)*Math.sinh(A)+M*S*Math.cosh(A))/M}}return{calculatedDuration:f&&h||null,next:M=>{const E=b(M);if(f)a.done=M>=h;else{let P=0;v<1&&(P=M===0?Xu(m):eJ(b,M,E));const A=Math.abs(P)<=n,L=Math.abs(s-E)<=e;a.done=A&&L}return a.value=a.done?s:E,a}}}function D9({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=I=>o!==void 0&&I<o||l!==void 0&&I>l,v=I=>o===void 0?l:l===void 0||Math.abs(o-I)<Math.abs(l-I)?o:l;let S=n*e;const y=d+S,g=a===void 0?y:a(y);g!==y&&(S=g-d);const b=I=>-S*Math.exp(-I/r),M=I=>g+b(I),E=I=>{const R=b(I),C=M(I);f.done=Math.abs(R)<=u,f.value=f.done?g:C};let P,A;const L=I=>{m(f.value)&&(P=I,A=ZF({keyframes:[f.value,v(f.value)],velocity:eJ(M,I,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return L(0),{calculatedDuration:null,next:I=>{let R=!1;return!A&&P===void 0&&(R=!0,E(I),L(I)),P!==void 0&&I>=P?A.next(I-P):(!R&&E(I),f)}}}const Sge=ow(.42,0,1,1),bge=ow(0,0,.58,1),tJ=ow(.42,0,.58,1),nJ=t=>Array.isArray(t)&&typeof t[0]!="number",KF=t=>Array.isArray(t)&&typeof t[0]=="number",O9={linear:Os,easeIn:Sge,easeInOut:tJ,easeOut:bge,circIn:GF,circInOut:OQ,circOut:DQ,backIn:HF,backInOut:IQ,backOut:LQ,anticipate:NQ},k9=t=>{if(KF(t)){V5(t.length===4);const[e,n,r,i]=t;return ow(e,n,r,i)}else if(typeof t=="string")return V5(O9[t]!==void 0),O9[t];return t},Mge=(t,e)=>n=>e(t(n)),Mh=(...t)=>t.reduce(Mge),wg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},mr=(t,e,n)=>t+(e-t)*n;function OI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wge({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=OI(l,o,t+1/3),s=OI(l,o,t),a=OI(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function t3(t,e){return n=>n>0?e:t}const kI=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Ege=[W5,Bm,oy],Tge=t=>Ege.find(e=>e.test(t));function U9(t){const e=Tge(t);if(!e)return!1;let n=e.parse(t);return e===oy&&(n=wge(n)),n}const F9=(t,e)=>{const n=U9(t),r=U9(e);if(!n||!r)return t3(t,e);const i={...n};return s=>(i.red=kI(n.red,r.red,s),i.green=kI(n.green,r.green,s),i.blue=kI(n.blue,r.blue,s),i.alpha=mr(n.alpha,r.alpha,s),Bm.transform(i))},$5=new Set(["none","hidden"]);function Age(t,e){return $5.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Cge(t,e){return n=>mr(t,e,n)}function QF(t){return typeof t=="number"?Cge:typeof t=="string"?WF(t)?t3:Ps.test(t)?F9:Lge:Array.isArray(t)?rJ:typeof t=="object"?Ps.test(t)?F9:Pge:t3}function rJ(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>QF(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function Pge(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=QF(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Rge(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const Lge=(t,e)=>{const n=Of.createTransformer(e),r=Yb(t),i=Yb(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$5.has(t)&&!i.values.length||$5.has(e)&&!r.values.length?Age(t,e):Mh(rJ(Rge(r,i),i.values),n):t3(t,e)};function iJ(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mr(t,e,n):QF(t)(t,e)}function Ige(t,e,n){const r=[],i=n||iJ,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Os:e;o=Mh(l,o)}r.push(o)}return r}function Nge(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(V5(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Ige(e,r,i),o=a.length,l=u=>{let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const d=wg(t[h],t[h+1],u);return a[h](d)};return n?u=>l(Df(t[0],t[s-1],u)):l}function sJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wg(0,e,r);t.push(mr(n,1,i))}}function aJ(t){const e=[0];return sJ(e,t.length-1),e}function Dge(t,e){return t.map(n=>n*e)}function Oge(t,e){return t.map(()=>e||tJ).splice(0,t.length-1)}function n3({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=nJ(r)?r.map(k9):k9(r),s={done:!1,value:e[0]},a=Dge(n&&n.length===e.length?n:aJ(e),t),o=Nge(a,e,{ease:Array.isArray(i)?i:Oge(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Y5=2e4;function oJ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Y5;)e+=n,r=t.next(e);return e>=Y5?1/0:e}const kge=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Vn.update(e,!0),stop:()=>zh(e),now:()=>as.isProcessing?as.timestamp:qu.now()}},Uge={decay:D9,inertia:D9,tween:n3,keyframes:n3,spring:ZF},Fge=t=>t/100;class JF extends QQ{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||jF,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(s,o,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=YP(n)?n:Uge[n]||n3;let l,u;o!==n3&&typeof e[0]!="number"&&(l=Mh(Fge,iJ(e[0],e[1])),e=[0,100]);const h=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=oJ(h));const{calculatedDuration:d}=h,f=d+i,m=f*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:v,repeatDelay:S,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?g<0:g>h;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let M=this.currentTime,E=s;if(m){const I=Math.min(this.currentTime,h)/d;let R=Math.floor(I),C=I%1;!C&&I>=1&&(C=1),C===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(v==="reverse"?(C=1-C,S&&(C-=S/d)):v==="mirror"&&(E=a)),M=Df(0,1,C)*d}const P=b?{done:!1,value:l[0]}:E.next(M);o&&(P.value=o(P.value));let{done:A}=P;!b&&u!==null&&(A=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return L&&i!==void 0&&(P.value=$P(l,this.options,i)),y&&y(P.value),L&&this.finish(),P}get duration(){const{resolved:e}=this;return e?$u(e.calculatedDuration):0}get time(){return $u(this.currentTime)}set time(e){e=Xu(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$u(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=kge,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const zge=new Set(["opacity","clipPath","filter","transform"]),Bge=10,Vge=(t,e)=>{let n="";const r=Math.max(Math.round(e/Bge),2);for(let i=0;i<r;i++)n+=t(wg(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function e6(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hge={linearEasing:void 0};function Gge(t,e){const n=e6(t);return()=>{var r;return(r=Hge[e])!==null&&r!==void 0?r:n()}}const r3=Gge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function lJ(t){return!!(typeof t=="function"&&r3()||!t||typeof t=="string"&&(t in q5||r3())||KF(t)||Array.isArray(t)&&t.every(lJ))}const mS=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,q5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mS([0,.65,.55,1]),circOut:mS([.55,0,1,.45]),backIn:mS([.31,.01,.66,-.59]),backOut:mS([.33,1.53,.69,.99])};function uJ(t,e){if(t)return typeof t=="function"&&r3()?Vge(t,e):KF(t)?mS(t):Array.isArray(t)?t.map(n=>uJ(n,e)||q5.easeOut):q5[t]}function Wge(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const u={[e]:n};l&&(u.offset=l);const h=uJ(o,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function z9(t,e){t.timeline=e,t.onfinish=null}const jge=e6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),i3=10,Xge=2e4;function $ge(t){return YP(t.type)||t.type==="spring"||!lJ(t.ease)}function Yge(t,e){const n=new JF({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Xge;)r=n.sample(s),i.push(r.value),s+=i3;return{times:void 0,keyframes:i,duration:s-i3,ease:"linear"}}const cJ={anticipate:NQ,backInOut:IQ,circInOut:OQ};function qge(t){return t in cJ}class B9 extends QQ{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new KQ(s,(a,o)=>this.onKeyframesResolved(a,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:a,type:o,motionValue:l,name:u,startTime:h}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof a=="string"&&r3()&&qge(a)&&(a=cJ[a]),$ge(this.options)){const{onComplete:f,onUpdate:m,motionValue:v,element:S,...y}=this.options,g=Yge(e,y);e=g.keyframes,e.length===1&&(e[1]=e[0]),i=g.duration,s=g.times,a=g.ease,o="keyframes"}const d=Wge(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:a});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(z9(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set($P(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return $u(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return $u(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Xu(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Os;const{animation:r}=n;z9(r,e)}return Os}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,element:f,...m}=this.options,v=new JF({...m,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),S=Xu(this.time);u.setWithVelocity(v.sample(S-i3).value,v.sample(S).value,i3)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;return jge()&&r&&zge.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const Zge=e6(()=>window.ScrollTimeline!==void 0);class hJ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>Zge()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Kge({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const t6=(t,e,n,r={},i,s)=>a=>{const o=VF(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xu(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};Kge(o)||(h={...h,..._me(t,h)}),h.duration&&(h.duration=Xu(h.duration)),h.repeatDelay&&(h.repeatDelay=Xu(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const f=$P(h.keyframes,o);if(f!==void 0)return Vn.update(()=>{h.onUpdate(f),h.onComplete()}),new hJ([])}return!s&&B9.supports(h)?new B9(h):new JF(h)},Qge=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Jge=t=>B5(t)?t[t.length-1]||0:t;function n6(t,e){t.indexOf(e)===-1&&t.push(e)}function qP(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class r6{constructor(){this.subscriptions=[]}add(e){return n6(this.subscriptions,e),()=>qP(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const V9=30,e0e=t=>!isNaN(parseFloat(t));class t0e{constructor(e,n={}){this.version="11.11.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=qu.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=e0e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new r6);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>V9)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,V9);return JQ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function g1(t,e){return new t0e(t,e)}function n0e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,g1(n))}function r0e(t,e){const n=XP(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=Jge(s[a]);n0e(t,a,o)}}const i6=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i0e="framerAppearId",dJ="data-"+i6(i0e);function fJ(t){return t.props[dJ]}const ui=t=>!!(t&&t.getVelocity);function s0e(t){return!!(ui(t)&&t.add)}function Z5(t,e){const n=t.getValue("willChange");if(s0e(n))return n.add(e)}function a0e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function s6(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||h&&a0e(h,d))continue;const v={delay:n,...VF(a||{},d)};let S=!1;if(window.MotionHandoffAnimation){const g=fJ(t);if(g){const b=window.MotionHandoffAnimation(g,d,Vn);b!==null&&(v.startTime=b,S=!0)}}Z5(t,d),f.start(t6(d,f,m,t.shouldReduceMotion&&Yg.has(d)?{type:!1}:v,t,S));const y=f.animation;y&&u.push(y)}return o&&Promise.all(u).then(()=>{Vn.update(()=>{o&&r0e(t,o)})}),u}function K5(t,e,n={}){var r;const i=XP(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(s6(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return o0e(t,e,h+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function o0e(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(l0e).forEach((u,h)=>{u.notify("AnimationStart",e),a.push(K5(u,e,{...s,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function l0e(t,e){return t.sortNodePosition(e)}function u0e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>K5(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=K5(t,e,n);else{const i=typeof e=="function"?XP(t,e,n.custom):e;r=Promise.all(s6(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const c0e=BF.length;function pJ(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?pJ(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<c0e;n++){const r=BF[n],i=t.props[r];(Xb(i)||i===!1)&&(e[r]=i)}return e}const h0e=[...zF].reverse(),d0e=zF.length;function f0e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>u0e(t,n,r)))}function p0e(t){let e=f0e(t),n=H9(),r=!0;const i=l=>(u,h)=>{var d;const f=XP(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:v,...S}=f;u={...u,...S,...v}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,h=pJ(t.parent)||{},d=[],f=new Set;let m={},v=1/0;for(let y=0;y<d0e;y++){const g=h0e[y],b=n[g],M=u[g]!==void 0?u[g]:h[g],E=Xb(M),P=g===l?b.isActive:null;P===!1&&(v=y);let A=M===h[g]&&M!==u[g]&&E;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),b.protectedKeys={...m},!b.isActive&&P===null||!M&&!b.prevProp||jP(M)||typeof M=="boolean")continue;const L=m0e(b.prevProp,M);let I=L||g===l&&b.isActive&&!A&&E||y>v&&E,R=!1;const C=Array.isArray(M)?M:[M];let O=C.reduce(i(g),{});P===!1&&(O={});const{prevResolvedValues:G={}}=b,j={...G,...O},q=se=>{I=!0,f.has(se)&&(R=!0,f.delete(se)),b.needsAnimating[se]=!0;const D=t.getValue(se);D&&(D.liveStyle=!1)};for(const se in j){const D=O[se],V=G[se];if(m.hasOwnProperty(se))continue;let B=!1;B5(D)&&B5(V)?B=!TQ(D,V):B=D!==V,B?D!=null?q(se):f.add(se):D!==void 0&&f.has(se)?q(se):b.protectedKeys[se]=!0}b.prevProp=M,b.prevResolvedValues=O,b.isActive&&(m={...m,...O}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(A&&L)||R)&&d.push(...C.map(se=>({animation:se,options:{type:g}})))}if(f.size){const y={};f.forEach(g=>{const b=t.getBaseTarget(g),M=t.getValue(g);M&&(M.liveStyle=!0),y[g]=b??null}),d.push({animation:y})}let S=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function o(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=H9(),r=!0}}}function m0e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!TQ(e,t):!1}function jp(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H9(){return{animate:jp(!0),whileInView:jp(),whileHover:jp(),whileTap:jp(),whileDrag:jp(),whileFocus:jp(),exit:jp()}}class Jf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class g0e extends Jf{constructor(e){super(e),e.animationState||(e.animationState=p0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jP(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let v0e=0;class y0e extends Jf{constructor(){super(...arguments),this.id=v0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const x0e={animation:{Feature:g0e},exit:{Feature:y0e}},mJ=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ZP(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const _0e=t=>e=>mJ(e)&&t(e,ZP(e));function mh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wh(t,e,n,r){return mh(t,e,_0e(n),r)}const G9=(t,e)=>Math.abs(t-e);function S0e(t,e){const n=G9(t.x,e.x),r=G9(t.y,e.y);return Math.sqrt(n**2+r**2)}class gJ{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=FI(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=S0e(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=d,{timestamp:S}=as;this.history.push({...v,timestamp:S});const{onStart:y,onMove:g}=this.handlers;f||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=UI(f,this.transformPagePoint),Vn.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=FI(d.type==="pointercancel"?this.lastMoveEventInfo:UI(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,y),v&&v(d,y)},!mJ(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=ZP(e),o=UI(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=as;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,FI(o,this.history)),this.removeListeners=Mh(wh(this.contextWindow,"pointermove",this.handlePointerMove),wh(this.contextWindow,"pointerup",this.handlePointerUp),wh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zh(this.updatePoint)}}function UI(t,e){return e?{point:e(t.point)}:t}function W9(t,e){return{x:t.x-e.x,y:t.y-e.y}}function FI({point:t},e){return{point:t,delta:W9(t,vJ(e)),offset:W9(t,b0e(e)),velocity:M0e(e,.1)}}function b0e(t){return t[0]}function vJ(t){return t[t.length-1]}function M0e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=vJ(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Xu(e)));)n--;if(!r)return{x:0,y:0};const s=$u(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function yJ(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const j9=yJ("dragHorizontal"),X9=yJ("dragVertical");function xJ(t){let e=!1;if(t==="y")e=X9();else if(t==="x")e=j9();else{const n=j9(),r=X9();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function _J(){const t=xJ(!0);return t?(t(),!1):!0}function ly(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const SJ=1e-4,w0e=1-SJ,E0e=1+SJ,bJ=.01,T0e=0-bJ,A0e=0+bJ;function So(t){return t.max-t.min}function C0e(t,e,n){return Math.abs(t-e)<=n}function $9(t,e,n,r=.5){t.origin=r,t.originPoint=mr(e.min,e.max,t.origin),t.scale=So(n)/So(e),t.translate=mr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=w0e&&t.scale<=E0e||isNaN(t.scale))&&(t.scale=1),(t.translate>=T0e&&t.translate<=A0e||isNaN(t.translate))&&(t.translate=0)}function WS(t,e,n,r){$9(t.x,e.x,n.x,r?r.originX:void 0),$9(t.y,e.y,n.y,r?r.originY:void 0)}function Y9(t,e,n){t.min=n.min+e.min,t.max=t.min+So(e)}function P0e(t,e,n){Y9(t.x,e.x,n.x),Y9(t.y,e.y,n.y)}function q9(t,e,n){t.min=e.min-n.min,t.max=t.min+So(e)}function jS(t,e,n){q9(t.x,e.x,n.x),q9(t.y,e.y,n.y)}function R0e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?mr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?mr(n,t,r.max):Math.min(t,n)),t}function Z9(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function L0e(t,{top:e,left:n,bottom:r,right:i}){return{x:Z9(t.x,n,i),y:Z9(t.y,e,r)}}function K9(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function I0e(t,e){return{x:K9(t.x,e.x),y:K9(t.y,e.y)}}function N0e(t,e){let n=.5;const r=So(t),i=So(e);return i>r?n=wg(e.min,e.max-r,t.min):r>i&&(n=wg(t.min,t.max-i,e.min)),Df(0,1,n)}function D0e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Q5=.35;function O0e(t=Q5){return t===!1?t=0:t===!0&&(t=Q5),{x:Q9(t,"left","right"),y:Q9(t,"top","bottom")}}function Q9(t,e,n){return{min:J9(t,e),max:J9(t,n)}}function J9(t,e){return typeof t=="number"?t:t[e]||0}const eV=()=>({translate:0,scale:1,origin:0,originPoint:0}),uy=()=>({x:eV(),y:eV()}),tV=()=>({min:0,max:0}),Ur=()=>({x:tV(),y:tV()});function Qo(t){return[t("x"),t("y")]}function MJ({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function k0e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function U0e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function zI(t){return t===void 0||t===1}function J5({scale:t,scaleX:e,scaleY:n}){return!zI(t)||!zI(e)||!zI(n)}function bm(t){return J5(t)||wJ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wJ(t){return nV(t.x)||nV(t.y)}function nV(t){return t&&t!=="0%"}function s3(t,e,n){const r=t-n,i=e*r;return n+i}function rV(t,e,n,r,i){return i!==void 0&&(t=s3(t,i,r)),s3(t,n,r)+e}function eO(t,e=0,n=1,r,i){t.min=rV(t.min,e,n,r,i),t.max=rV(t.max,e,n,r,i)}function EJ(t,{x:e,y:n}){eO(t.x,e.translate,e.scale,e.originPoint),eO(t.y,n.translate,n.scale,n.originPoint)}const iV=.999999999999,sV=1.0000000000001;function F0e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hy(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,EJ(t,a)),r&&bm(s.latestValues)&&hy(t,s.latestValues))}e.x<sV&&e.x>iV&&(e.x=1),e.y<sV&&e.y>iV&&(e.y=1)}function cy(t,e){t.min=t.min+e,t.max=t.max+e}function aV(t,e,n,r,i=.5){const s=mr(t.min,t.max,i);eO(t,e,n,s,r)}function hy(t,e){aV(t.x,e.x,e.scaleX,e.scale,e.originX),aV(t.y,e.y,e.scaleY,e.scale,e.originY)}function TJ(t,e){return MJ(U0e(t.getBoundingClientRect(),e))}function z0e(t,e,n){const r=TJ(t,n),{scroll:i}=e;return i&&(cy(r.x,i.offset.x),cy(r.y,i.offset.y)),r}const AJ=({current:t})=>t?t.ownerDocument.defaultView:null,B0e=new WeakMap;class V0e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ur(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ZP(h,"page").point)},s=(h,d)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xJ(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qo(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Yu.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const M=b.layout.layoutBox[y];M&&(g=So(M)*(parseFloat(g)/100))}}this.originPoint[y]=g}),v&&Vn.postRender(()=>v(h,d)),Z5(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:S}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=d;if(m&&this.currentDirection===null){this.currentDirection=H0e(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),S&&S(h,d)},o=(h,d)=>this.stop(h,d),l=()=>Qo(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new gJ(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:AJ(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Vn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!IE(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=R0e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ly(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=L0e(i.layoutBox,n):this.constraints=!1,this.elastic=O0e(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Qo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=D0e(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ly(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=z0e(r,i.root,this.visualElement.getTransformPagePoint());let a=I0e(i.layout.layoutBox,s);if(n){const o=n(k0e(a));this.hasMutatedConstraints=!!o,o&&(a=MJ(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Qo(h=>{if(!IE(h,n,this.currentDirection))return;let d=l&&l[h]||{};a&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Z5(this.visualElement,e),r.start(t6(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qo(n=>{const{drag:r}=this.getProps();if(!IE(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-mr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ly(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qo(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=N0e({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qo(a=>{if(!IE(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(mr(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;B0e.set(this.visualElement,this);const e=this.visualElement.current,n=wh(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ly(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Vn.read(r);const a=mh(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qo(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Q5,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function IE(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function H0e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class G0e extends Jf{constructor(e){super(e),this.removeGroupControls=Os,this.removeListeners=Os,this.controls=new V0e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Os}unmount(){this.removeGroupControls(),this.removeListeners()}}const oV=t=>(e,n)=>{t&&Vn.postRender(()=>t(e,n))};class W0e extends Jf{constructor(){super(...arguments),this.removePointerDownListener=Os}onPointerDown(e){this.session=new gJ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AJ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:oV(e),onStart:oV(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Vn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=wh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const a6=de.createContext(null);function j0e(){const t=de.useContext(a6);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=de.useId();de.useEffect(()=>r(i),[]);const s=de.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const CJ=de.createContext({}),PJ=de.createContext({}),nA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lV(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const w_={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xt.test(t))t=parseFloat(t);else return t;const n=lV(t,e.target.x),r=lV(t,e.target.y);return`${n}% ${r}%`}},X0e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Of.parse(t);if(i.length>5)return r;const s=Of.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=mr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}},a3={};function $0e(t){Object.assign(a3,t)}const{schedule:o6,cancel:QVe}=AQ(queueMicrotask,!1);class Y0e extends de.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;$0e(q0e),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),nA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Vn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),o6.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RJ(t){const[e,n]=j0e(),r=de.useContext(CJ);return Ue.jsx(Y0e,{...t,layoutGroup:r,switchLayoutGroup:de.useContext(PJ),isPresent:e,safeToRemove:n})}const q0e={borderRadius:{...w_,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:w_,borderTopRightRadius:w_,borderBottomLeftRadius:w_,borderBottomRightRadius:w_,boxShadow:X0e},LJ=["TopLeft","TopRight","BottomLeft","BottomRight"],Z0e=LJ.length,uV=t=>typeof t=="string"?parseFloat(t):t,cV=t=>typeof t=="number"||Xt.test(t);function K0e(t,e,n,r,i,s){i?(t.opacity=mr(0,n.opacity!==void 0?n.opacity:1,Q0e(r)),t.opacityExit=mr(e.opacity!==void 0?e.opacity:1,0,J0e(r))):s&&(t.opacity=mr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<Z0e;a++){const o=`border${LJ[a]}Radius`;let l=hV(e,o),u=hV(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||cV(l)===cV(u)?(t[o]=Math.max(mr(uV(l),uV(u),r),0),(Yu.test(u)||Yu.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=mr(e.rotate||0,n.rotate||0,r))}function hV(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Q0e=IJ(0,.5,DQ),J0e=IJ(.5,.95,Os);function IJ(t,e,n){return r=>r<t?0:r>e?1:n(wg(t,e,r))}function dV(t,e){t.min=e.min,t.max=e.max}function Yo(t,e){dV(t.x,e.x),dV(t.y,e.y)}function fV(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pV(t,e,n,r,i){return t-=e,t=s3(t,1/n,r),i!==void 0&&(t=s3(t,1/i,r)),t}function eve(t,e=0,n=1,r=.5,i,s=t,a=t){if(Yu.test(e)&&(e=parseFloat(e),e=mr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=mr(s.min,s.max,r);t===s&&(o-=e),t.min=pV(t.min,e,n,o,i),t.max=pV(t.max,e,n,o,i)}function mV(t,e,[n,r,i],s,a){eve(t,e[n],e[r],e[i],e.scale,s,a)}const tve=["x","scaleX","originX"],nve=["y","scaleY","originY"];function gV(t,e,n,r){mV(t.x,e,tve,n?n.x:void 0,r?r.x:void 0),mV(t.y,e,nve,n?n.y:void 0,r?r.y:void 0)}function vV(t){return t.translate===0&&t.scale===1}function NJ(t){return vV(t.x)&&vV(t.y)}function yV(t,e){return t.min===e.min&&t.max===e.max}function rve(t,e){return yV(t.x,e.x)&&yV(t.y,e.y)}function xV(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DJ(t,e){return xV(t.x,e.x)&&xV(t.y,e.y)}function _V(t){return So(t.x)/So(t.y)}function SV(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ive{constructor(){this.members=[]}add(e){n6(this.members,e),e.scheduleRender()}remove(e){if(qP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sve(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:m,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const ave=(t,e)=>t.depth-e.depth;class ove{constructor(){this.children=[],this.isDirty=!1}add(e){n6(this.children,e),this.isDirty=!0}remove(e){qP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ave),this.isDirty=!1,this.children.forEach(e)}}function rA(t){const e=ui(t)?t.get():t;return Qge(e)?e.toValue():e}function lve(t,e){const n=qu.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(zh(r),t(s-e))};return Vn.read(r,!0),()=>zh(r)}function OJ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function kJ(t,e,n){const r=ui(t)?t:g1(t);return r.start(t6("",r,e,n)),r.animation}const Mm={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},gS=typeof window<"u"&&window.MotionDebug!==void 0,BI=["","X","Y","Z"],uve={visibility:"hidden"},bV=1e3;let cve=0;function VI(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function UJ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=fJ(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&UJ(r)}function FJ({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=cve++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gS&&(Mm.totalNodes=Mm.resolvedTargetDeltas=Mm.recalculatedProjection=0),this.nodes.forEach(fve),this.nodes.forEach(yve),this.nodes.forEach(xve),this.nodes.forEach(pve),gS&&window.MotionDebug.record(Mm)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ove)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new r6),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=OJ(a),this.instance=a;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=lve(f,250),nA.hasAnimatedSinceResize&&(nA.hasAnimatedSinceResize=!1,this.nodes.forEach(wV))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||wve,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=h.getProps(),b=!this.targetLayout||!DJ(this.targetLayout,v)||m,M=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,M);const E={...VF(S,"layout"),onPlay:y,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else f||wV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_ve),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UJ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MV);return}this.isUpdating||this.nodes.forEach(gve),this.isUpdating=!1,this.nodes.forEach(vve),this.nodes.forEach(hve),this.nodes.forEach(dve),this.clearAllSnapshots();const o=qu.now();as.delta=Df(0,1e3/60,o-as.timestamp),as.timestamp=o,as.isProcessing=!0,II.update.process(as),II.preRender.process(as),II.render.process(as),as.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mve),this.sharedNodes.forEach(Sve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!NJ(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;a&&(o||bm(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Eve(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Ur();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Tve))){const{scroll:h}=this.root;h&&(cy(l.x,h.offset.x),cy(l.y,h.offset.y))}return l}removeElementScroll(a){var o;const l=Ur();if(Yo(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Yo(l,a),cy(l.x,d.offset.x),cy(l.y,d.offset.y))}return l}applyTransform(a,o=!1){const l=Ur();Yo(l,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&hy(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),bm(h.latestValues)&&hy(l,h.latestValues)}return bm(this.latestValues)&&hy(l,this.latestValues),l}removeTransform(a){const o=Ur();Yo(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!bm(u.latestValues))continue;J5(u.latestValues)&&u.updateSnapshot();const h=Ur(),d=u.measurePageBox();Yo(h,d),gV(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return bm(this.latestValues)&&gV(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==as.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=as.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),jS(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ur(),this.targetWithTransforms=Ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yo(this.target,this.layout.layoutBox),EJ(this.target,this.targetDelta)):Yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),jS(this.relativeTargetOrigin,this.target,m.target),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gS&&Mm.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||J5(this.parent.latestValues)||wJ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===as.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Yo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;F0e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ur());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fV(this.prevProjectionDelta.x,this.projectionDelta.x),fV(this.prevProjectionDelta.y,this.projectionDelta.y)),WS(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!SV(this.projectionDelta.x,this.prevProjectionDelta.x)||!SV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),gS&&Mm.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uy(),this.projectionDelta=uy(),this.projectionDeltaWithTransform=uy()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=uy();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Ur(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,S=m!==v,y=this.getStack(),g=!y||y.members.length<=1,b=!!(S&&!g&&this.options.crossfade===!0&&!this.path.some(Mve));this.animationProgress=0;let M;this.mixTargetDelta=E=>{const P=E/1e3;EV(d.x,a.x,P),EV(d.y,a.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jS(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bve(this.relativeTarget,this.relativeTargetOrigin,f,P),M&&rve(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Ur()),Yo(M,this.relativeTarget)),S&&(this.animationValues=h,K0e(h,u,this.latestValues,P,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vn.update(()=>{nA.hasAnimatedSinceResize=!0,this.currentAnimation=kJ(0,bV,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:h}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&zJ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ur();const d=So(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=So(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Yo(o,l),hy(o,h),WS(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ive),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&VI("z",a,u,this.animationValues);for(let h=0;h<BI.length;h++)VI(`rotate${BI[h]}`,a,u,this.animationValues),VI(`skew${BI[h]}`,a,u,this.animationValues);a.render();for(const h in u)a.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uve;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=rA(a==null?void 0:a.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=rA(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!bm(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=sve(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const S in a3){if(f[S]===void 0)continue;const{correct:y,applyTo:g}=a3[S],b=u.transform==="none"?f[S]:y(f[S],d);if(g){const M=g.length;for(let E=0;E<M;E++)u[g[E]]=b}else u[S]=b}return this.options.layoutId&&(u.pointerEvents=d===this?rA(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(MV),this.root.sharedNodes.clear()}}}function hve(t){t.updateLayout()}function dve(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Qo(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=So(f);f.min=r[d].min,f.max=f.min+m}):zJ(s,n.layoutBox,r)&&Qo(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=So(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const o=uy();WS(o,r,n.layoutBox);const l=uy();a?WS(l,t.applyTransform(i,!0),n.measuredBox):WS(l,r,n.layoutBox);const u=!NJ(o);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const v=Ur();jS(v,n.layoutBox,f.layoutBox);const S=Ur();jS(S,r,m.layoutBox),DJ(v,S)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function fve(t){gS&&Mm.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pve(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mve(t){t.clearSnapshot()}function MV(t){t.clearMeasurements()}function gve(t){t.isLayoutDirty=!1}function vve(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wV(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yve(t){t.resolveTargetDelta()}function xve(t){t.calcProjection()}function _ve(t){t.resetSkewAndRotation()}function Sve(t){t.removeLeadSnapshot()}function EV(t,e,n){t.translate=mr(e.translate,0,n),t.scale=mr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TV(t,e,n,r){t.min=mr(e.min,n.min,r),t.max=mr(e.max,n.max,r)}function bve(t,e,n,r){TV(t.x,e.x,n.x,r),TV(t.y,e.y,n.y,r)}function Mve(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wve={duration:.45,ease:[.4,0,.1,1]},AV=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),CV=AV("applewebkit/")&&!AV("chrome/")?Math.round:Os;function PV(t){t.min=CV(t.min),t.max=CV(t.max)}function Eve(t){PV(t.x),PV(t.y)}function zJ(t,e,n){return t==="position"||t==="preserve-aspect"&&!C0e(_V(e),_V(n),.2)}function Tve(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Ave=FJ({attachResizeListener:(t,e)=>mh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),HI={current:void 0},BJ=FJ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!HI.current){const t=new Ave({});t.mount(window),t.setOptions({layoutScroll:!0}),HI.current=t}return HI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Cve={pan:{Feature:W0e},drag:{Feature:G0e,ProjectionNode:BJ,MeasureLayout:RJ}};function RV(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,a)=>{if(s.pointerType==="touch"||_J())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e);const l=o[r];l&&Vn.postRender(()=>l(s,a))};return wh(t.current,n,i,{passive:!t.getProps()[r]})}class Pve extends Jf{mount(){this.unmount=Mh(RV(this.node,!0),RV(this.node,!1))}unmount(){}}class Rve extends Jf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mh(mh(this.node.current,"focus",()=>this.onFocus()),mh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const VJ=(t,e)=>e?t===e?!0:VJ(t,e.parentElement):!1;function GI(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ZP(n))}class Lve extends Jf{constructor(){super(...arguments),this.removeStartListeners=Os,this.removeEndListeners=Os,this.removeAccessibleListeners=Os,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=wh(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),f=!d&&!VJ(this.node.current,o.target)?h:u;f&&Vn.update(()=>f(o,l))},{passive:!(r.onTap||r.onPointerUp)}),a=wh(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Mh(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||GI("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&Vn.postRender(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=mh(this.node.current,"keyup",a),GI("down",(o,l)=>{this.startPress(o,l)})},n=mh(this.node.current,"keydown",e),r=()=>{this.isPressing&&GI("cancel",(s,a)=>this.cancelPress(s,a))},i=mh(this.node.current,"blur",r);this.removeAccessibleListeners=Mh(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Vn.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_J()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Vn.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=wh(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=mh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Mh(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const tO=new WeakMap,WI=new WeakMap,Ive=t=>{const e=tO.get(t.target);e&&e(t)},Nve=t=>{t.forEach(Ive)};function Dve({root:t,...e}){const n=t||document;WI.has(n)||WI.set(n,{});const r=WI.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Nve,{root:t,...e})),r[i]}function Ove(t,e,n){const r=Dve(e);return tO.set(t,n),r.observe(t),()=>{tO.delete(t),r.unobserve(t)}}const kve={some:0,all:1};class Uve extends Jf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kve[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(l)};return Ove(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Fve(e,n))&&this.startObserver()}unmount(){}}function Fve({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zve={inView:{Feature:Uve},tap:{Feature:Lve},focus:{Feature:Rve},hover:{Feature:Pve}},Bve={layout:{ProjectionNode:BJ,MeasureLayout:RJ}},l6=de.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),KP=de.createContext({}),u6=typeof window<"u",HJ=u6?de.useLayoutEffect:de.useEffect,GJ=de.createContext({strict:!1});function Vve(t,e,n,r,i){var s,a;const{visualElement:o}=de.useContext(KP),l=de.useContext(GJ),u=de.useContext(a6),h=de.useContext(l6).reducedMotion,d=de.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,m=de.useContext(PJ);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Hve(d.current,n,i,m);const v=de.useRef(!1);de.useInsertionEffect(()=>{f&&v.current&&f.update(n,u)});const S=n[dJ],y=de.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,S)));return HJ(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),o6.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),de.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,S)}),y.current=!1))}),f}function Hve(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WJ(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&ly(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function WJ(t){if(t)return t.options.allowProjection!==!1?t.projection:WJ(t.parent)}function Gve(t,e,n){return de.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ly(n)&&(n.current=r))},[e])}function QP(t){return jP(t.animate)||BF.some(e=>Xb(t[e]))}function jJ(t){return!!(QP(t)||t.variants)}function Wve(t,e){if(QP(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xb(n)?n:void 0,animate:Xb(r)?r:void 0}}return t.inherit!==!1?e:{}}function jve(t){const{initial:e,animate:n}=Wve(t,de.useContext(KP));return de.useMemo(()=>({initial:e,animate:n}),[LV(e),LV(n)])}function LV(t){return Array.isArray(t)?t.join(" "):t}const IV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},v1={};for(const t in IV)v1[t]={isEnabled:e=>IV[t].some(n=>!!e[n])};function Xve(t){for(const e in t)v1[e]={...v1[e],...t[e]}}const $ve=Symbol.for("motionComponentSymbol");function Yve({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Xve(t);function s(o,l){let u;const h={...de.useContext(l6),...o,layoutId:qve(o)},{isStatic:d}=h,f=jve(o),m=r(o,d);if(!d&&u6){Zve();const v=Kve(h);u=v.MeasureLayout,f.visualElement=Vve(i,m,h,e,v.ProjectionNode)}return Ue.jsxs(KP.Provider,{value:f,children:[u&&f.visualElement?Ue.jsx(u,{visualElement:f.visualElement,...h}):null,n(i,o,Gve(m,f.visualElement,l),m,d,f.visualElement)]})}const a=de.forwardRef(s);return a[$ve]=i,a}function qve({layoutId:t}){const e=de.useContext(CJ).id;return e&&t!==void 0?e+"-"+t:t}function Zve(t,e){de.useContext(GJ).strict}function Kve(t){const{drag:e,layout:n}=v1;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Qve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c6(t){return typeof t!="string"||t.includes("-")?!1:!!(Qve.indexOf(t)>-1||/[A-Z]/u.test(t))}function XJ(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const $J=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YJ(t,e,n,r){XJ(t,e,void 0,r);for(const i in e.attrs)t.setAttribute($J.has(i)?i:i6(i),e.attrs[i])}function qJ(t,{layout:e,layoutId:n}){return Yg.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!a3[t]||t==="opacity")}function h6(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(ui(i[a])||e.style&&ui(e.style[a])||qJ(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function ZJ(t,e,n){const r=h6(t,e,n);for(const i in t)if(ui(t[i])||ui(e[i])){const s=aw.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function KJ(t){const e=de.useRef(null);return e.current===null&&(e.current=t()),e.current}function Jve({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:eye(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const QJ=t=>(e,n)=>{const r=de.useContext(KP),i=de.useContext(a6),s=()=>Jve(t,e,r,i);return n?s():KJ(s)};function eye(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=rA(s[f]);let{initial:a,animate:o}=t;const l=QP(t),u=jJ(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;if(d&&typeof d!="boolean"&&!jP(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const v=FF(t,f[m]);if(v){const{transitionEnd:S,transition:y,...g}=v;for(const b in g){let M=g[b];if(Array.isArray(M)){const E=h?M.length-1:0;M=M[E]}M!==null&&(i[b]=M)}for(const b in S)i[b]=S[b]}}}return i}const d6=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),JJ=()=>({...d6(),attrs:{}}),eee=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nye=aw.length;function rye(t,e,n){let r="",i=!0;for(let s=0;s<nye;s++){const a=aw[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=eee(o,YF[a]);if(!l){i=!1;const h=tye[a]||a;r+=`${h}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function f6(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(Yg.has(l)){a=!0;continue}else if(zQ(l)){i[l]=u;continue}else{const h=eee(u,YF[l]);l.startsWith("origin")?(o=!0,s[l]=h):r[l]=h}}if(e.transform||(a||n?r.transform=rye(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}function NV(t,e,n){return typeof t=="string"?t:Xt.transform(e+n*t)}function iye(t,e,n){const r=NV(e,t.x,t.width),i=NV(n,t.y,t.height);return`${r} ${i}`}const sye={offset:"stroke-dashoffset",array:"stroke-dasharray"},aye={offset:"strokeDashoffset",array:"strokeDasharray"};function oye(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?sye:aye;t[s.offset]=Xt.transform(-r);const a=Xt.transform(e),o=Xt.transform(n);t[s.array]=`${a} ${o}`}function p6(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},h,d){if(f6(t,u,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:v}=t;f.transform&&(v&&(m.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=iye(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&oye(f,a,o,l,!1)}const m6=t=>typeof t=="string"&&t.toLowerCase()==="svg",lye={useVisualState:QJ({scrapeMotionValuesFromProps:ZJ,createRenderState:JJ,onMount:(t,e,{renderState:n,latestValues:r})=>{Vn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Vn.render(()=>{p6(n,r,m6(e.tagName),t.transformTemplate),YJ(e,n)})}})},uye={useVisualState:QJ({scrapeMotionValuesFromProps:h6,createRenderState:d6})};function tee(t,e,n){for(const r in e)!ui(e[r])&&!qJ(r,n)&&(t[r]=e[r])}function cye({transformTemplate:t},e){return de.useMemo(()=>{const n=d6();return f6(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hye(t,e){const n=t.style||{},r={};return tee(r,n,t),Object.assign(r,cye(t,e)),r}function dye(t,e){const n={},r=hye(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const fye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function o3(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fye.has(t)}let nee=t=>!o3(t);function pye(t){t&&(nee=e=>e.startsWith("on")?!o3(e):t(e))}try{pye(require("@emotion/is-prop-valid").default)}catch{}function mye(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(nee(i)||n===!0&&o3(i)||!e&&!o3(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function gye(t,e,n,r){const i=de.useMemo(()=>{const s=JJ();return p6(s,e,m6(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};tee(s,t.style,t),i.style={...s,...i.style}}return i}function vye(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(c6(n)?gye:dye)(r,s,a,n),u=mye(r,typeof n=="string",t),h=n!==de.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=de.useMemo(()=>ui(d)?d.get():d,[d]);return de.createElement(n,{...h,children:f})}}function yye(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...c6(r)?lye:uye,preloadedFeatures:t,useRender:vye(i),createVisualElement:e,Component:r};return Yve(a)}}const nO={current:null},ree={current:!1};function xye(){if(ree.current=!0,!!u6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nO.current=t.matches;t.addListener(e),e()}else nO.current=!1}function _ye(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ui(i))t.addValue(r,i);else if(ui(s))t.addValue(r,g1(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,g1(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const y1=new WeakMap,Sye=[...HQ,Ps,Of],bye=t=>Sye.find(VQ(t)),DV=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jF,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=qu.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Vn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=QP(n),this.isVariantNode=jJ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&ui(m)&&m.set(l[f],!1)}}mount(e){this.current=e,y1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ree.current||xye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nO.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){y1.delete(this.current),this.projection&&this.projection.unmount(),zh(this.notifyUpdate),zh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yg.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Vn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in v1){const n=v1[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ur()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<DV.length;r++){const i=DV[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=_ye(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=g1(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(UQ(i)||kQ(i))?i=parseFloat(i):!bye(i)&&Of.test(n)&&(i=ZQ(e,n)),this.setBaseTarget(e,ui(i)?i.get():i)),ui(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=FF(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ui(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new r6),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class see extends iee{constructor(){super(...arguments),this.KeyframeResolver=KQ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Mye(t){return window.getComputedStyle(t)}class aee extends see{constructor(){super(...arguments),this.type="html",this.renderInstance=XJ}readValueFromInstance(e,n){if(Yg.has(n)){const r=qF(n);return r&&r.default||0}else{const r=Mye(e),i=(zQ(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TJ(e,n)}build(e,n,r){f6(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return h6(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ui(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class oee extends see{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ur}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yg.has(n)){const r=qF(n);return r&&r.default||0}return n=$J.has(n)?n:i6(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZJ(e,n,r)}build(e,n,r){p6(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){YJ(e,n,r,i)}mount(e){this.isSVGTag=m6(e.tagName),super.mount(e)}}const wye=(t,e)=>c6(t)?new oee(e):new aee(e,{allowProjection:t!==de.Fragment}),Eye=yye({...x0e,...zve,...Cve,...Bve},wye),Eh=mme(Eye);function lee(t){const e=KJ(()=>g1(t)),{isStatic:n}=de.useContext(l6);if(n){const[,r]=de.useState(t);de.useEffect(()=>e.on("change",r),[])}return e}function Tye(t,e){const n=lee(e()),r=()=>n.set(e());return r(),HJ(()=>{const i=()=>Vn.preRender(r,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),zh(r)}}),n}function rO(t,...e){const n=t.length;function r(){let i="";for(let s=0;s<n;s++){i+=t[s];const a=e[s];a&&(i+=ui(a)?a.get():a)}return i}return Tye(e.filter(ui),r)}function Aye(t,e,n){var r;if(typeof t=="string"){let i=document;n?((r=n[t])!==null&&r!==void 0||(n[t]=i.querySelectorAll(t)),t=n[t]):t=i.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}function Cye(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(oJ(r),Y5);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:$u(i)}}function g6(t){return typeof t=="object"&&!Array.isArray(t)}function uee(t,e,n,r){return typeof t=="string"&&g6(e)?Aye(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function OV(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}const Pye=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function Rye(t,e){return nJ(t)?t[Pye(0,t.length,e)]:t}function Lye(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(qP(t,i),r--)}}function Iye(t,e,n,r,i,s){Lye(t,i,s);for(let a=0;a<e.length;a++)t.push({value:e[a],at:mr(i,s,r[a]),easing:Rye(n,a)})}function Nye(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Dye="easeInOut";function Oye(t,{defaultTransition:e={},...n}={},r,i){const s=e.duration||.3,a=new Map,o=new Map,l={},u=new Map;let h=0,d=0,f=0;for(let m=0;m<t.length;m++){const v=t[m];if(typeof v=="string"){u.set(v,d);continue}else if(!Array.isArray(v)){u.set(v.name,OV(d,v.at,h,u));continue}let[S,y,g={}]=v;g.at!==void 0&&(d=OV(d,g.at,h,u));let b=0;const M=(E,P,A,L=0,I=0)=>{const R=kye(E),{delay:C=0,times:O=aJ(R),type:G="keyframes",...j}=P;let{ease:q=e.ease||"easeOut",duration:Q}=P;const X=typeof C=="function"?C(L,I):C,se=R.length,D=YP(G)?G:i==null?void 0:i[G];if(se<=2&&D){let te=100;if(se===2&&zye(R)){const ve=R[1]-R[0];te=Math.abs(ve)}const Ae={...j};Q!==void 0&&(Ae.duration=Xu(Q));const F=Cye(Ae,te,D);q=F.ease,Q=F.duration}Q??(Q=s);const V=d+X,B=V+Q;O.length===1&&O[0]===0&&(O[1]=1);const $=O.length-R.length;$>0&&sJ(O,$),R.length===1&&R.unshift(null),Iye(A,R,q,O,V,B),b=Math.max(X+Q,b),f=Math.max(B,f)};if(ui(S)){const E=kV(S,o);M(y,g,UV("default",E))}else{const E=uee(S,y,r,l),P=E.length;for(let A=0;A<P;A++){y=y,g=g;const L=E[A],I=kV(L,o);for(const R in y)M(y[R],Uye(g,R),UV(R,I),A,P)}}h=d,d+=b}return o.forEach((m,v)=>{for(const S in m){const y=m[S];y.sort(Nye);const g=[],b=[],M=[];for(let P=0;P<y.length;P++){const{at:A,value:L,easing:I}=y[P];g.push(L),b.push(wg(0,f,A)),M.push(I||"easeOut")}b[0]!==0&&(b.unshift(0),g.unshift(g[0]),M.unshift(Dye)),b[b.length-1]!==1&&(b.push(1),g.push(null)),a.has(v)||a.set(v,{keyframes:{},transition:{}});const E=a.get(v);E.keyframes[S]=g,E.transition[S]={...e,duration:f,ease:M,times:b,...n}}}),a}function kV(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function UV(t,e){return e[t]||(e[t]=[]),e[t]}function kye(t){return Array.isArray(t)?t:[t]}function Uye(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Fye=t=>typeof t=="number",zye=t=>t.every(Fye);function Bye(t,e){return t in e}class Vye extends iee{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(Bye(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Ur()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function Hye(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=OJ(t)?new oee(e):new aee(e);n.mount(t),y1.set(t,n)}function Gye(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Vye(e);n.mount(t),y1.set(t,n)}function Wye(t,e){return ui(t)||typeof t=="number"||typeof t=="string"&&!g6(e)}function cee(t,e,n,r){const i=[];if(Wye(t,e))i.push(kJ(t,g6(e)&&e.default||e,n&&(n.default||n)));else{const s=uee(t,e,r),a=s.length;for(let o=0;o<a;o++){const l=s[o],u=l instanceof Element?Hye:Gye;y1.has(l)||u(l);const h=y1.get(l),d={...n};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(o,a)),i.push(...s6(h,{...e,transition:d},{}))}}return i}function jye(t,e,n){const r=[];return Oye(t,e,n,{spring:ZF}).forEach(({keyframes:s,transition:a},o)=>{r.push(...cee(o,s,a))}),r}function Xye(t){return Array.isArray(t)&&Array.isArray(t[0])}function $ye(t){function e(n,r,i){let s=[];return Xye(n)?s=jye(n,r,t):s=cee(n,r,i,t),new hJ(s)}return e}const Yye=$ye();var hee={exports:{}};(function(t,e){(function(n,r){t.exports=r(de)})(typeof self<"u"?self:ahe,n=>(()=>{var r={7403:(o,l,u)=>{u.d(l,{default:()=>D});var h=u(4087),d=u.n(h);const f=function(V){return new RegExp(/<[a-z][\s\S]*>/i).test(V)},m=function(V,B){return Math.floor(Math.random()*(B-V+1))+V};var v="TYPE_CHARACTER",S="REMOVE_CHARACTER",y="REMOVE_ALL",g="REMOVE_LAST_VISIBLE_NODE",b="PAUSE_FOR",M="CALL_FUNCTION",E="ADD_HTML_TAG_ELEMENT",P="CHANGE_DELETE_SPEED",A="CHANGE_DELAY",L="CHANGE_CURSOR",I="PASTE_STRING",R="HTML_TAG";function C(V){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},C(V)}function O(V,B){var $=Object.keys(V);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(V);B&&(te=te.filter(function(Ae){return Object.getOwnPropertyDescriptor(V,Ae).enumerable})),$.push.apply($,te)}return $}function G(V){for(var B=1;B<arguments.length;B++){var $=arguments[B]!=null?arguments[B]:{};B%2?O(Object($),!0).forEach(function(te){X(V,te,$[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors($)):O(Object($)).forEach(function(te){Object.defineProperty(V,te,Object.getOwnPropertyDescriptor($,te))})}return V}function j(V){return function(B){if(Array.isArray(B))return q(B)}(V)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(V)||function(B,$){if(B){if(typeof B=="string")return q(B,$);var te=Object.prototype.toString.call(B).slice(8,-1);return te==="Object"&&B.constructor&&(te=B.constructor.name),te==="Map"||te==="Set"?Array.from(B):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?q(B,$):void 0}}(V)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q(V,B){(B==null||B>V.length)&&(B=V.length);for(var $=0,te=new Array(B);$<B;$++)te[$]=V[$];return te}function Q(V,B){for(var $=0;$<B.length;$++){var te=B[$];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(V,se(te.key),te)}}function X(V,B,$){return(B=se(B))in V?Object.defineProperty(V,B,{value:$,enumerable:!0,configurable:!0,writable:!0}):V[B]=$,V}function se(V){var B=function($,te){if(C($)!=="object"||$===null)return $;var Ae=$[Symbol.toPrimitive];if(Ae!==void 0){var F=Ae.call($,"string");if(C(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}(V);return C(B)==="symbol"?B:String(B)}const D=function(){function V(te,Ae){var F=this;if(function(ie,he){if(!(ie instanceof he))throw new TypeError("Cannot call a class as a function")}(this,V),X(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),X(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),X(this,"setupWrapperElement",function(){F.state.elements.container&&(F.state.elements.wrapper.className=F.options.wrapperClassName,F.state.elements.cursor.className=F.options.cursorClassName,F.state.elements.cursor.innerHTML=F.options.cursor,F.state.elements.container.innerHTML="",F.state.elements.container.appendChild(F.state.elements.wrapper),F.state.elements.container.appendChild(F.state.elements.cursor))}),X(this,"start",function(){return F.state.eventLoopPaused=!1,F.runEventLoop(),F}),X(this,"pause",function(){return F.state.eventLoopPaused=!0,F}),X(this,"stop",function(){return F.state.eventLoop&&((0,h.cancel)(F.state.eventLoop),F.state.eventLoop=null),F}),X(this,"pauseFor",function(ie){return F.addEventToQueue(b,{ms:ie}),F}),X(this,"typeOutAllStrings",function(){return typeof F.options.strings=="string"?(F.typeString(F.options.strings).pauseFor(F.options.pauseFor),F):(F.options.strings.forEach(function(ie){F.typeString(ie).pauseFor(F.options.pauseFor).deleteAll(F.options.deleteSpeed)}),F)}),X(this,"typeString",function(ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(f(ie))return F.typeOutHTMLString(ie,he);if(ie){var Ve=(F.options||{}).stringSplitter,ke=typeof Ve=="function"?Ve(ie):ie.split("");F.typeCharacters(ke,he)}return F}),X(this,"pasteString",function(ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return f(ie)?F.typeOutHTMLString(ie,he,!0):(ie&&F.addEventToQueue(I,{character:ie,node:he}),F)}),X(this,"typeOutHTMLString",function(ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ve=arguments.length>2?arguments[2]:void 0,ke=function(be){var H=document.createElement("div");return H.innerHTML=be,H.childNodes}(ie);if(ke.length>0)for(var Pe=0;Pe<ke.length;Pe++){var Ce=ke[Pe],pe=Ce.innerHTML;Ce&&Ce.nodeType!==3?(Ce.innerHTML="",F.addEventToQueue(E,{node:Ce,parentNode:he}),Ve?F.pasteString(pe,Ce):F.typeString(pe,Ce)):Ce.textContent&&(Ve?F.pasteString(Ce.textContent,he):F.typeString(Ce.textContent,he))}return F}),X(this,"deleteAll",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return F.addEventToQueue(y,{speed:ie}),F}),X(this,"changeDeleteSpeed",function(ie){if(!ie)throw new Error("Must provide new delete speed");return F.addEventToQueue(P,{speed:ie}),F}),X(this,"changeDelay",function(ie){if(!ie)throw new Error("Must provide new delay");return F.addEventToQueue(A,{delay:ie}),F}),X(this,"changeCursor",function(ie){if(!ie)throw new Error("Must provide new cursor");return F.addEventToQueue(L,{cursor:ie}),F}),X(this,"deleteChars",function(ie){if(!ie)throw new Error("Must provide amount of characters to delete");for(var he=0;he<ie;he++)F.addEventToQueue(S);return F}),X(this,"callFunction",function(ie,he){if(!ie||typeof ie!="function")throw new Error("Callback must be a function");return F.addEventToQueue(M,{cb:ie,thisArg:he}),F}),X(this,"typeCharacters",function(ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ie||!Array.isArray(ie))throw new Error("Characters must be an array");return ie.forEach(function(Ve){F.addEventToQueue(v,{character:Ve,node:he})}),F}),X(this,"removeCharacters",function(ie){if(!ie||!Array.isArray(ie))throw new Error("Characters must be an array");return ie.forEach(function(){F.addEventToQueue(S)}),F}),X(this,"addEventToQueue",function(ie,he){var Ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.addEventToStateProperty(ie,he,Ve,"eventQueue")}),X(this,"addReverseCalledEvent",function(ie,he){var Ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.options.loop?F.addEventToStateProperty(ie,he,Ve,"reverseCalledEvents"):F}),X(this,"addEventToStateProperty",function(ie,he){var Ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ke=arguments.length>3?arguments[3]:void 0,Pe={eventName:ie,eventArgs:he||{}};return F.state[ke]=Ve?[Pe].concat(j(F.state[ke])):[].concat(j(F.state[ke]),[Pe]),F}),X(this,"runEventLoop",function(){F.state.lastFrameTime||(F.state.lastFrameTime=Date.now());var ie=Date.now(),he=ie-F.state.lastFrameTime;if(!F.state.eventQueue.length){if(!F.options.loop)return;F.state.eventQueue=j(F.state.calledEvents),F.state.calledEvents=[],F.options=G({},F.state.initialOptions)}if(F.state.eventLoop=d()(F.runEventLoop),!F.state.eventLoopPaused){if(F.state.pauseUntil){if(ie<F.state.pauseUntil)return;F.state.pauseUntil=null}var Ve,ke=j(F.state.eventQueue),Pe=ke.shift();if(!(he<=(Ve=Pe.eventName===g||Pe.eventName===S?F.options.deleteSpeed==="natural"?m(40,80):F.options.deleteSpeed:F.options.delay==="natural"?m(120,160):F.options.delay))){var Ce=Pe.eventName,pe=Pe.eventArgs;switch(F.logInDevMode({currentEvent:Pe,state:F.state,delay:Ve}),Ce){case I:case v:var be=pe.character,H=pe.node,Ee=document.createTextNode(be),Te=Ee;F.options.onCreateTextNode&&typeof F.options.onCreateTextNode=="function"&&(Te=F.options.onCreateTextNode(be,Ee)),Te&&(H?H.appendChild(Te):F.state.elements.wrapper.appendChild(Te)),F.state.visibleNodes=[].concat(j(F.state.visibleNodes),[{type:"TEXT_NODE",character:be,node:Te}]);break;case S:ke.unshift({eventName:g,eventArgs:{removingCharacterNode:!0}});break;case b:var He=Pe.eventArgs.ms;F.state.pauseUntil=Date.now()+parseInt(He);break;case M:var Le=Pe.eventArgs,it=Le.cb,ze=Le.thisArg;it.call(ze,{elements:F.state.elements});break;case E:var z=Pe.eventArgs,k=z.node,J=z.parentNode;J?J.appendChild(k):F.state.elements.wrapper.appendChild(k),F.state.visibleNodes=[].concat(j(F.state.visibleNodes),[{type:R,node:k,parentNode:J||F.state.elements.wrapper}]);break;case y:var ge=F.state.visibleNodes,xe=pe.speed,me=[];xe&&me.push({eventName:P,eventArgs:{speed:xe,temp:!0}});for(var qe=0,Ie=ge.length;qe<Ie;qe++)me.push({eventName:g,eventArgs:{removingCharacterNode:!1}});xe&&me.push({eventName:P,eventArgs:{speed:F.options.deleteSpeed,temp:!0}}),ke.unshift.apply(ke,me);break;case g:var Xe=Pe.eventArgs.removingCharacterNode;if(F.state.visibleNodes.length){var pt=F.state.visibleNodes.pop(),Me=pt.type,je=pt.node,nt=pt.character;F.options.onRemoveNode&&typeof F.options.onRemoveNode=="function"&&F.options.onRemoveNode({node:je,character:nt}),je&&je.parentNode.removeChild(je),Me===R&&Xe&&ke.unshift({eventName:g,eventArgs:{}})}break;case P:F.options.deleteSpeed=Pe.eventArgs.speed;break;case A:F.options.delay=Pe.eventArgs.delay;break;case L:F.options.cursor=Pe.eventArgs.cursor,F.state.elements.cursor.innerHTML=Pe.eventArgs.cursor}F.options.loop&&(Pe.eventName===g||Pe.eventArgs&&Pe.eventArgs.temp||(F.state.calledEvents=[].concat(j(F.state.calledEvents),[Pe]))),F.state.eventQueue=ke,F.state.lastFrameTime=ie}}}),te)if(typeof te=="string"){var ve=document.querySelector(te);if(!ve)throw new Error("Could not find container element");this.state.elements.container=ve}else this.state.elements.container=te;Ae&&(this.options=G(G({},this.options),Ae)),this.state.initialOptions=G({},this.options),this.init()}var B,$;return B=V,($=[{key:"init",value:function(){var te,Ae;this.setupWrapperElement(),this.addEventToQueue(L,{cursor:this.options.cursor},!0),this.addEventToQueue(y,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(te=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(Ae=document.createElement("style")).appendChild(document.createTextNode(te)),document.head.appendChild(Ae),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(te){this.options.devMode&&console.log(te)}}])&&Q(B.prototype,$),Object.defineProperty(B,"prototype",{writable:!1}),V}()},8552:(o,l,u)=>{var h=u(852)(u(5639),"DataView");o.exports=h},1989:(o,l,u)=>{var h=u(1789),d=u(401),f=u(7667),m=u(1327),v=u(1866);function S(y){var g=-1,b=y==null?0:y.length;for(this.clear();++g<b;){var M=y[g];this.set(M[0],M[1])}}S.prototype.clear=h,S.prototype.delete=d,S.prototype.get=f,S.prototype.has=m,S.prototype.set=v,o.exports=S},8407:(o,l,u)=>{var h=u(7040),d=u(4125),f=u(2117),m=u(7518),v=u(4705);function S(y){var g=-1,b=y==null?0:y.length;for(this.clear();++g<b;){var M=y[g];this.set(M[0],M[1])}}S.prototype.clear=h,S.prototype.delete=d,S.prototype.get=f,S.prototype.has=m,S.prototype.set=v,o.exports=S},7071:(o,l,u)=>{var h=u(852)(u(5639),"Map");o.exports=h},3369:(o,l,u)=>{var h=u(4785),d=u(1285),f=u(6e3),m=u(9916),v=u(5265);function S(y){var g=-1,b=y==null?0:y.length;for(this.clear();++g<b;){var M=y[g];this.set(M[0],M[1])}}S.prototype.clear=h,S.prototype.delete=d,S.prototype.get=f,S.prototype.has=m,S.prototype.set=v,o.exports=S},3818:(o,l,u)=>{var h=u(852)(u(5639),"Promise");o.exports=h},8525:(o,l,u)=>{var h=u(852)(u(5639),"Set");o.exports=h},8668:(o,l,u)=>{var h=u(3369),d=u(619),f=u(2385);function m(v){var S=-1,y=v==null?0:v.length;for(this.__data__=new h;++S<y;)this.add(v[S])}m.prototype.add=m.prototype.push=d,m.prototype.has=f,o.exports=m},6384:(o,l,u)=>{var h=u(8407),d=u(7465),f=u(3779),m=u(7599),v=u(4758),S=u(4309);function y(g){var b=this.__data__=new h(g);this.size=b.size}y.prototype.clear=d,y.prototype.delete=f,y.prototype.get=m,y.prototype.has=v,y.prototype.set=S,o.exports=y},2705:(o,l,u)=>{var h=u(5639).Symbol;o.exports=h},1149:(o,l,u)=>{var h=u(5639).Uint8Array;o.exports=h},577:(o,l,u)=>{var h=u(852)(u(5639),"WeakMap");o.exports=h},4963:o=>{o.exports=function(l,u){for(var h=-1,d=l==null?0:l.length,f=0,m=[];++h<d;){var v=l[h];u(v,h,l)&&(m[f++]=v)}return m}},4636:(o,l,u)=>{var h=u(2545),d=u(5694),f=u(1469),m=u(4144),v=u(5776),S=u(6719),y=Object.prototype.hasOwnProperty;o.exports=function(g,b){var M=f(g),E=!M&&d(g),P=!M&&!E&&m(g),A=!M&&!E&&!P&&S(g),L=M||E||P||A,I=L?h(g.length,String):[],R=I.length;for(var C in g)!b&&!y.call(g,C)||L&&(C=="length"||P&&(C=="offset"||C=="parent")||A&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||v(C,R))||I.push(C);return I}},2488:o=>{o.exports=function(l,u){for(var h=-1,d=u.length,f=l.length;++h<d;)l[f+h]=u[h];return l}},2908:o=>{o.exports=function(l,u){for(var h=-1,d=l==null?0:l.length;++h<d;)if(u(l[h],h,l))return!0;return!1}},8470:(o,l,u)=>{var h=u(7813);o.exports=function(d,f){for(var m=d.length;m--;)if(h(d[m][0],f))return m;return-1}},8866:(o,l,u)=>{var h=u(2488),d=u(1469);o.exports=function(f,m,v){var S=m(f);return d(f)?S:h(S,v(f))}},4239:(o,l,u)=>{var h=u(2705),d=u(9607),f=u(2333),m=h?h.toStringTag:void 0;o.exports=function(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":m&&m in Object(v)?d(v):f(v)}},9454:(o,l,u)=>{var h=u(4239),d=u(7005);o.exports=function(f){return d(f)&&h(f)=="[object Arguments]"}},939:(o,l,u)=>{var h=u(2492),d=u(7005);o.exports=function f(m,v,S,y,g){return m===v||(m==null||v==null||!d(m)&&!d(v)?m!=m&&v!=v:h(m,v,S,y,f,g))}},2492:(o,l,u)=>{var h=u(6384),d=u(7114),f=u(8351),m=u(6096),v=u(4160),S=u(1469),y=u(4144),g=u(6719),b="[object Arguments]",M="[object Array]",E="[object Object]",P=Object.prototype.hasOwnProperty;o.exports=function(A,L,I,R,C,O){var G=S(A),j=S(L),q=G?M:v(A),Q=j?M:v(L),X=(q=q==b?E:q)==E,se=(Q=Q==b?E:Q)==E,D=q==Q;if(D&&y(A)){if(!y(L))return!1;G=!0,X=!1}if(D&&!X)return O||(O=new h),G||g(A)?d(A,L,I,R,C,O):f(A,L,q,I,R,C,O);if(!(1&I)){var V=X&&P.call(A,"__wrapped__"),B=se&&P.call(L,"__wrapped__");if(V||B){var $=V?A.value():A,te=B?L.value():L;return O||(O=new h),C($,te,I,R,O)}}return!!D&&(O||(O=new h),m(A,L,I,R,C,O))}},8458:(o,l,u)=>{var h=u(3560),d=u(5346),f=u(3218),m=u(346),v=/^\[object .+?Constructor\]$/,S=Function.prototype,y=Object.prototype,g=S.toString,b=y.hasOwnProperty,M=RegExp("^"+g.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");o.exports=function(E){return!(!f(E)||d(E))&&(h(E)?M:v).test(m(E))}},8749:(o,l,u)=>{var h=u(4239),d=u(1780),f=u(7005),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1,o.exports=function(v){return f(v)&&d(v.length)&&!!m[h(v)]}},280:(o,l,u)=>{var h=u(5726),d=u(6916),f=Object.prototype.hasOwnProperty;o.exports=function(m){if(!h(m))return d(m);var v=[];for(var S in Object(m))f.call(m,S)&&S!="constructor"&&v.push(S);return v}},2545:o=>{o.exports=function(l,u){for(var h=-1,d=Array(l);++h<l;)d[h]=u(h);return d}},1717:o=>{o.exports=function(l){return function(u){return l(u)}}},4757:o=>{o.exports=function(l,u){return l.has(u)}},4429:(o,l,u)=>{var h=u(5639)["__core-js_shared__"];o.exports=h},7114:(o,l,u)=>{var h=u(8668),d=u(2908),f=u(4757);o.exports=function(m,v,S,y,g,b){var M=1&S,E=m.length,P=v.length;if(E!=P&&!(M&&P>E))return!1;var A=b.get(m),L=b.get(v);if(A&&L)return A==v&&L==m;var I=-1,R=!0,C=2&S?new h:void 0;for(b.set(m,v),b.set(v,m);++I<E;){var O=m[I],G=v[I];if(y)var j=M?y(G,O,I,v,m,b):y(O,G,I,m,v,b);if(j!==void 0){if(j)continue;R=!1;break}if(C){if(!d(v,function(q,Q){if(!f(C,Q)&&(O===q||g(O,q,S,y,b)))return C.push(Q)})){R=!1;break}}else if(O!==G&&!g(O,G,S,y,b)){R=!1;break}}return b.delete(m),b.delete(v),R}},8351:(o,l,u)=>{var h=u(2705),d=u(1149),f=u(7813),m=u(7114),v=u(8776),S=u(1814),y=h?h.prototype:void 0,g=y?y.valueOf:void 0;o.exports=function(b,M,E,P,A,L,I){switch(E){case"[object DataView]":if(b.byteLength!=M.byteLength||b.byteOffset!=M.byteOffset)return!1;b=b.buffer,M=M.buffer;case"[object ArrayBuffer]":return!(b.byteLength!=M.byteLength||!L(new d(b),new d(M)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+b,+M);case"[object Error]":return b.name==M.name&&b.message==M.message;case"[object RegExp]":case"[object String]":return b==M+"";case"[object Map]":var R=v;case"[object Set]":var C=1&P;if(R||(R=S),b.size!=M.size&&!C)return!1;var O=I.get(b);if(O)return O==M;P|=2,I.set(b,M);var G=m(R(b),R(M),P,A,L,I);return I.delete(b),G;case"[object Symbol]":if(g)return g.call(b)==g.call(M)}return!1}},6096:(o,l,u)=>{var h=u(8234),d=Object.prototype.hasOwnProperty;o.exports=function(f,m,v,S,y,g){var b=1&v,M=h(f),E=M.length;if(E!=h(m).length&&!b)return!1;for(var P=E;P--;){var A=M[P];if(!(b?A in m:d.call(m,A)))return!1}var L=g.get(f),I=g.get(m);if(L&&I)return L==m&&I==f;var R=!0;g.set(f,m),g.set(m,f);for(var C=b;++P<E;){var O=f[A=M[P]],G=m[A];if(S)var j=b?S(G,O,A,m,f,g):S(O,G,A,f,m,g);if(!(j===void 0?O===G||y(O,G,v,S,g):j)){R=!1;break}C||(C=A=="constructor")}if(R&&!C){var q=f.constructor,Q=m.constructor;q==Q||!("constructor"in f)||!("constructor"in m)||typeof q=="function"&&q instanceof q&&typeof Q=="function"&&Q instanceof Q||(R=!1)}return g.delete(f),g.delete(m),R}},1957:(o,l,u)=>{var h=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;o.exports=h},8234:(o,l,u)=>{var h=u(8866),d=u(9551),f=u(3674);o.exports=function(m){return h(m,f,d)}},5050:(o,l,u)=>{var h=u(7019);o.exports=function(d,f){var m=d.__data__;return h(f)?m[typeof f=="string"?"string":"hash"]:m.map}},852:(o,l,u)=>{var h=u(8458),d=u(7801);o.exports=function(f,m){var v=d(f,m);return h(v)?v:void 0}},9607:(o,l,u)=>{var h=u(2705),d=Object.prototype,f=d.hasOwnProperty,m=d.toString,v=h?h.toStringTag:void 0;o.exports=function(S){var y=f.call(S,v),g=S[v];try{S[v]=void 0;var b=!0}catch{}var M=m.call(S);return b&&(y?S[v]=g:delete S[v]),M}},9551:(o,l,u)=>{var h=u(4963),d=u(479),f=Object.prototype.propertyIsEnumerable,m=Object.getOwnPropertySymbols,v=m?function(S){return S==null?[]:(S=Object(S),h(m(S),function(y){return f.call(S,y)}))}:d;o.exports=v},4160:(o,l,u)=>{var h=u(8552),d=u(7071),f=u(3818),m=u(8525),v=u(577),S=u(4239),y=u(346),g="[object Map]",b="[object Promise]",M="[object Set]",E="[object WeakMap]",P="[object DataView]",A=y(h),L=y(d),I=y(f),R=y(m),C=y(v),O=S;(h&&O(new h(new ArrayBuffer(1)))!=P||d&&O(new d)!=g||f&&O(f.resolve())!=b||m&&O(new m)!=M||v&&O(new v)!=E)&&(O=function(G){var j=S(G),q=j=="[object Object]"?G.constructor:void 0,Q=q?y(q):"";if(Q)switch(Q){case A:return P;case L:return g;case I:return b;case R:return M;case C:return E}return j}),o.exports=O},7801:o=>{o.exports=function(l,u){return l==null?void 0:l[u]}},1789:(o,l,u)=>{var h=u(4536);o.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:o=>{o.exports=function(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}},7667:(o,l,u)=>{var h=u(4536),d=Object.prototype.hasOwnProperty;o.exports=function(f){var m=this.__data__;if(h){var v=m[f];return v==="__lodash_hash_undefined__"?void 0:v}return d.call(m,f)?m[f]:void 0}},1327:(o,l,u)=>{var h=u(4536),d=Object.prototype.hasOwnProperty;o.exports=function(f){var m=this.__data__;return h?m[f]!==void 0:d.call(m,f)}},1866:(o,l,u)=>{var h=u(4536);o.exports=function(d,f){var m=this.__data__;return this.size+=this.has(d)?0:1,m[d]=h&&f===void 0?"__lodash_hash_undefined__":f,this}},5776:o=>{var l=/^(?:0|[1-9]\d*)$/;o.exports=function(u,h){var d=typeof u;return!!(h=h??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(u))&&u>-1&&u%1==0&&u<h}},7019:o=>{o.exports=function(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}},5346:(o,l,u)=>{var h,d=u(4429),f=(h=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";o.exports=function(m){return!!f&&f in m}},5726:o=>{var l=Object.prototype;o.exports=function(u){var h=u&&u.constructor;return u===(typeof h=="function"&&h.prototype||l)}},7040:o=>{o.exports=function(){this.__data__=[],this.size=0}},4125:(o,l,u)=>{var h=u(8470),d=Array.prototype.splice;o.exports=function(f){var m=this.__data__,v=h(m,f);return!(v<0||(v==m.length-1?m.pop():d.call(m,v,1),--this.size,0))}},2117:(o,l,u)=>{var h=u(8470);o.exports=function(d){var f=this.__data__,m=h(f,d);return m<0?void 0:f[m][1]}},7518:(o,l,u)=>{var h=u(8470);o.exports=function(d){return h(this.__data__,d)>-1}},4705:(o,l,u)=>{var h=u(8470);o.exports=function(d,f){var m=this.__data__,v=h(m,d);return v<0?(++this.size,m.push([d,f])):m[v][1]=f,this}},4785:(o,l,u)=>{var h=u(1989),d=u(8407),f=u(7071);o.exports=function(){this.size=0,this.__data__={hash:new h,map:new(f||d),string:new h}}},1285:(o,l,u)=>{var h=u(5050);o.exports=function(d){var f=h(this,d).delete(d);return this.size-=f?1:0,f}},6e3:(o,l,u)=>{var h=u(5050);o.exports=function(d){return h(this,d).get(d)}},9916:(o,l,u)=>{var h=u(5050);o.exports=function(d){return h(this,d).has(d)}},5265:(o,l,u)=>{var h=u(5050);o.exports=function(d,f){var m=h(this,d),v=m.size;return m.set(d,f),this.size+=m.size==v?0:1,this}},8776:o=>{o.exports=function(l){var u=-1,h=Array(l.size);return l.forEach(function(d,f){h[++u]=[f,d]}),h}},4536:(o,l,u)=>{var h=u(852)(Object,"create");o.exports=h},6916:(o,l,u)=>{var h=u(5569)(Object.keys,Object);o.exports=h},1167:(o,l,u)=>{o=u.nmd(o);var h=u(1957),d=l&&!l.nodeType&&l,f=d&&o&&!o.nodeType&&o,m=f&&f.exports===d&&h.process,v=function(){try{return f&&f.require&&f.require("util").types||m&&m.binding&&m.binding("util")}catch{}}();o.exports=v},2333:o=>{var l=Object.prototype.toString;o.exports=function(u){return l.call(u)}},5569:o=>{o.exports=function(l,u){return function(h){return l(u(h))}}},5639:(o,l,u)=>{var h=u(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,f=h||d||Function("return this")();o.exports=f},619:o=>{o.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:o=>{o.exports=function(l){return this.__data__.has(l)}},1814:o=>{o.exports=function(l){var u=-1,h=Array(l.size);return l.forEach(function(d){h[++u]=d}),h}},7465:(o,l,u)=>{var h=u(8407);o.exports=function(){this.__data__=new h,this.size=0}},3779:o=>{o.exports=function(l){var u=this.__data__,h=u.delete(l);return this.size=u.size,h}},7599:o=>{o.exports=function(l){return this.__data__.get(l)}},4758:o=>{o.exports=function(l){return this.__data__.has(l)}},4309:(o,l,u)=>{var h=u(8407),d=u(7071),f=u(3369);o.exports=function(m,v){var S=this.__data__;if(S instanceof h){var y=S.__data__;if(!d||y.length<199)return y.push([m,v]),this.size=++S.size,this;S=this.__data__=new f(y)}return S.set(m,v),this.size=S.size,this}},346:o=>{var l=Function.prototype.toString;o.exports=function(u){if(u!=null){try{return l.call(u)}catch{}try{return u+""}catch{}}return""}},7813:o=>{o.exports=function(l,u){return l===u||l!=l&&u!=u}},5694:(o,l,u)=>{var h=u(9454),d=u(7005),f=Object.prototype,m=f.hasOwnProperty,v=f.propertyIsEnumerable,S=h(function(){return arguments}())?h:function(y){return d(y)&&m.call(y,"callee")&&!v.call(y,"callee")};o.exports=S},1469:o=>{var l=Array.isArray;o.exports=l},8612:(o,l,u)=>{var h=u(3560),d=u(1780);o.exports=function(f){return f!=null&&d(f.length)&&!h(f)}},4144:(o,l,u)=>{o=u.nmd(o);var h=u(5639),d=u(5062),f=l&&!l.nodeType&&l,m=f&&o&&!o.nodeType&&o,v=m&&m.exports===f?h.Buffer:void 0,S=(v?v.isBuffer:void 0)||d;o.exports=S},8446:(o,l,u)=>{var h=u(939);o.exports=function(d,f){return h(d,f)}},3560:(o,l,u)=>{var h=u(4239),d=u(3218);o.exports=function(f){if(!d(f))return!1;var m=h(f);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}},1780:o=>{o.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:o=>{o.exports=function(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}},7005:o=>{o.exports=function(l){return l!=null&&typeof l=="object"}},6719:(o,l,u)=>{var h=u(8749),d=u(1717),f=u(1167),m=f&&f.isTypedArray,v=m?d(m):h;o.exports=v},3674:(o,l,u)=>{var h=u(4636),d=u(280),f=u(8612);o.exports=function(m){return f(m)?h(m):d(m)}},479:o=>{o.exports=function(){return[]}},5062:o=>{o.exports=function(){return!1}},75:function(o){(function(){var l,u,h,d,f,m;typeof performance<"u"&&performance!==null&&performance.now?o.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(o.exports=function(){return(l()-f)/1e6},u=process.hrtime,d=(l=function(){var v;return 1e9*(v=u())[0]+v[1]})(),m=1e9*process.uptime(),f=d-m):Date.now?(o.exports=function(){return Date.now()-h},h=Date.now()):(o.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)},4087:(o,l,u)=>{for(var h=u(75),d=typeof window>"u"?u.g:window,f=["moz","webkit"],m="AnimationFrame",v=d["request"+m],S=d["cancel"+m]||d["cancelRequest"+m],y=0;!v&&y<f.length;y++)v=d[f[y]+"Request"+m],S=d[f[y]+"Cancel"+m]||d[f[y]+"CancelRequest"+m];if(!v||!S){var g=0,b=0,M=[];v=function(E){if(M.length===0){var P=h(),A=Math.max(0,16.666666666666668-(P-g));g=A+P,setTimeout(function(){var L=M.slice(0);M.length=0;for(var I=0;I<L.length;I++)if(!L[I].cancelled)try{L[I].callback(g)}catch(R){setTimeout(function(){throw R},0)}},Math.round(A))}return M.push({handle:++b,callback:E,cancelled:!1}),b},S=function(E){for(var P=0;P<M.length;P++)M[P].handle===E&&(M[P].cancelled=!0)}}o.exports=function(E){return v.call(d,E)},o.exports.cancel=function(){S.apply(d,arguments)},o.exports.polyfill=function(E){E||(E=d),E.requestAnimationFrame=v,E.cancelAnimationFrame=S}},8156:o=>{o.exports=n}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={id:o,loaded:!1,exports:{}};return r[o].call(u.exports,u,u.exports,s),u.loaded=!0,u.exports}s.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return s.d(l,{a:l}),l},s.d=(o,l)=>{for(var u in l)s.o(l,u)&&!s.o(o,u)&&Object.defineProperty(o,u,{enumerable:!0,get:l[u]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),s.nmd=o=>(o.paths=[],o.children||(o.children=[]),o);var a={};return(()=>{s.d(a,{default:()=>M});var o=s(8156),l=s.n(o),u=s(7403),h=s(8446),d=s.n(h);function f(E){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},f(E)}function m(E,P){for(var A=0;A<P.length;A++){var L=P[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,g(L.key),L)}}function v(E,P){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,L){return A.__proto__=L,A},v(E,P)}function S(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function y(E){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},y(E)}function g(E){var P=function(A,L){if(f(A)!=="object"||A===null)return A;var I=A[Symbol.toPrimitive];if(I!==void 0){var R=I.call(A,"string");if(f(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(E);return f(P)==="symbol"?P:String(P)}var b=function(E){(function(O,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(G&&G.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),G&&v(O,G)})(C,E);var P,A,L,I,R=(L=C,I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,G=y(L);if(I){var j=y(this).constructor;O=Reflect.construct(G,arguments,j)}else O=G.apply(this,arguments);return function(q,Q){if(Q&&(f(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(q)}(this,O)});function C(){var O,G,j,q;(function(D,V){if(!(D instanceof V))throw new TypeError("Cannot call a class as a function")})(this,C);for(var Q=arguments.length,X=new Array(Q),se=0;se<Q;se++)X[se]=arguments[se];return G=S(O=R.call.apply(R,[this].concat(X))),q={instance:null},(j=g(j="state"))in G?Object.defineProperty(G,j,{value:q,enumerable:!0,configurable:!0,writable:!0}):G[j]=q,O}return P=C,(A=[{key:"componentDidMount",value:function(){var O=this,G=new u.default(this.typewriter,this.props.options);this.setState({instance:G},function(){var j=O.props.onInit;j&&j(G)})}},{key:"componentDidUpdate",value:function(O){d()(this.props.options,O.options)||this.setState({instance:new u.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var O=this,G=this.props.component;return l().createElement(G,{ref:function(j){return O.typewriter=j},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&m(P.prototype,A),Object.defineProperty(P,"prototype",{writable:!1}),C}(o.Component);b.defaultProps={component:"div"};const M=b})(),a.default})())})(hee);var qye=hee.exports;const Zye=jg(qye);function Kye({color:t}){const e=rO`1px solid ${t}`,n=rO`0px 4px 24px ${t}`;return Ue.jsx("section",{id:"home",className:"d-flex justify-content-center align-items-center vh-100 text-center",children:Ue.jsx(Eh.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.7},children:Ue.jsx(EQ,{children:Ue.jsxs(tQ,{children:[Ue.jsxs(Eh.h1,{initial:{x:-100},animate:{x:0},transition:{duration:.5},className:"display-4 home-header",children:["I'm a ",Ue.jsx(Zye,{options:{strings:["Developer","Problem Solver"],autoStart:!0,loop:!0,delay:75}})]}),Ue.jsx("p",{className:"lead",children:"I specialize in building intelligent systems like Symbolic, automation solutions, and AI assistants. With expertise in Python, C++, Rust, JavaScript, and web technologies, I create solutions that bridge math, science, and technology."}),Ue.jsx(Eh.a,{href:"#projects",className:"btn btn-light mt-3",whileHover:{scale:1.1},style:{border:e,boxShadow:n},children:"Explore My Work"})]})})})})}function Qye(){return Ue.jsx("section",{id:"about",className:"d-flex justify-content-center align-items-center text-center",children:Ue.jsxs("div",{className:"container mb-4",children:[Ue.jsx("h2",{className:"mb-4 display-4",children:"About Me"}),Ue.jsxs(Eh.p,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"lead",children:["Hi, Im Elijah Mandaa dedicated developer with expertise in ",Ue.jsx("strong",{children:"Python"}),", ",Ue.jsx("strong",{children:"Rust"}),", ",Ue.jsx("strong",{children:"C++"}),", ",Ue.jsx("strong",{children:"HTML"}),", ",Ue.jsx("strong",{children:"CSS"}),", ",Ue.jsx("strong",{children:"machine learning"}),", ",Ue.jsx("strong",{children:"NLP"}),", and ",Ue.jsx("strong",{children:"system automation"}),". Im passionate about building symbolic engines and tackling complex challenges with practical and innovative solutions."]}),Ue.jsxs(Eh.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"row",children:[Ue.jsxs("p",{className:"lead",children:["Driven by a love for science and technology, I specialize in ",Ue.jsx("strong",{children:"mathematics"}),", ",Ue.jsx("strong",{children:"physics"}),", and ",Ue.jsx("strong",{children:"computational engines"}),". My current focus is an interpreted language tailored for mathematical and scientific applications."]}),Ue.jsx("p",{className:"lead",children:"Beyond coding, Im committed to refining my skills and delivering high-quality work. My portfolio reflects a commitment to meaningful projects that make a positive impact."})]})]})})}const FV=()=>{};let v6={},dee={},fee=null,pee={mark:FV,measure:FV};try{typeof window<"u"&&(v6=window),typeof document<"u"&&(dee=document),typeof MutationObserver<"u"&&(fee=MutationObserver),typeof performance<"u"&&(pee=performance)}catch{}const{userAgent:zV=""}=v6.navigator||{},kf=v6,ur=dee,BV=fee,NE=pee;kf.document;const sd=!!ur.documentElement&&!!ur.head&&typeof ur.addEventListener=="function"&&typeof ur.createElement=="function",mee=~zV.indexOf("MSIE")||~zV.indexOf("Trident/");var vr="classic",gee="duotone",fo="sharp",po="sharp-duotone",Jye=[vr,gee,fo,po],e1e={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},VV={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},t1e=["kit"],n1e=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,r1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,i1e={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},s1e={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},a1e={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},o1e={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},l1e={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},u1e={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},vee={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},c1e=["solid","regular","light","thin","duotone","brands"],yee=[1,2,3,4,5,6,7,8,9,10],h1e=yee.concat([11,12,13,14,15,16,17,18,19,20]),vS={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},d1e=[...Object.keys(o1e),...c1e,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",vS.GROUP,vS.SWAP_OPACITY,vS.PRIMARY,vS.SECONDARY].concat(yee.map(t=>"".concat(t,"x"))).concat(h1e.map(t=>"w-".concat(t))),f1e={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},p1e={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},m1e={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},HV={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const Bh="___FONT_AWESOME___",iO=16,xee="fa",_ee="svg-inline--fa",Eg="data-fa-i2svg",sO="data-fa-pseudo-element",g1e="data-fa-pseudo-element-pending",y6="data-prefix",x6="data-icon",GV="fontawesome-i2svg",v1e="async",y1e=["HTML","HEAD","STYLE","SCRIPT"],See=(()=>{try{return!0}catch{return!1}})(),bee=[vr,fo,po];function uw(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[vr]}})}const Mee={...vee};Mee[vr]={...vee[vr],...VV.kit,...VV["kit-duotone"]};const ng=uw(Mee),aO={...u1e};aO[vr]={...aO[vr],...HV.kit,...HV["kit-duotone"]};const qb=uw(aO),oO={...l1e};oO[vr]={...oO[vr],...m1e.kit};const rg=uw(oO),lO={...a1e};lO[vr]={...lO[vr],...p1e.kit};const x1e=uw(lO),_1e=n1e,wee="fa-layers-text",S1e=r1e,b1e={...e1e};uw(b1e);const M1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],jI=vS,x1=new Set;Object.keys(qb[vr]).map(x1.add.bind(x1));Object.keys(qb[fo]).map(x1.add.bind(x1));Object.keys(qb[po]).map(x1.add.bind(x1));const w1e=[...t1e,...d1e],XS=kf.FontAwesomeConfig||{};function E1e(t){var e=ur.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function T1e(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}ur&&typeof ur.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=T1e(E1e(n));i!=null&&(XS[r]=i)});const Eee={styleDefault:"solid",familyDefault:"classic",cssPrefix:xee,replacementClass:_ee,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};XS.familyPrefix&&(XS.cssPrefix=XS.familyPrefix);const _1={...Eee,...XS};_1.autoReplaceSvg||(_1.observeMutations=!1);const Dt={};Object.keys(Eee).forEach(t=>{Object.defineProperty(Dt,t,{enumerable:!0,set:function(e){_1[t]=e,$S.forEach(n=>n(Dt))},get:function(){return _1[t]}})});Object.defineProperty(Dt,"familyPrefix",{enumerable:!0,set:function(t){_1.cssPrefix=t,$S.forEach(e=>e(Dt))},get:function(){return _1.cssPrefix}});kf.FontAwesomeConfig=Dt;const $S=[];function A1e(t){return $S.push(t),()=>{$S.splice($S.indexOf(t),1)}}const Rd=iO,ku={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function C1e(t){if(!t||!sd)return;const e=ur.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=ur.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}return ur.head.insertBefore(e,r),t}const P1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Zb(){let t=12,e="";for(;t-- >0;)e+=P1e[Math.random()*62|0];return e}function q1(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function _6(t){return t.classList?q1(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function Tee(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function R1e(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(Tee(t[n]),'" '),"").trim()}function JP(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function S6(t){return t.size!==ku.size||t.x!==ku.x||t.y!==ku.y||t.rotate!==ku.rotate||t.flipX||t.flipY}function L1e(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(a," ").concat(o)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function I1e(t){let{transform:e,width:n=iO,height:r=iO,startCentered:i=!1}=t,s="";return i&&mee?s+="translate(".concat(e.x/Rd-n/2,"em, ").concat(e.y/Rd-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/Rd,"em), calc(-50% + ").concat(e.y/Rd,"em)) "):s+="translate(".concat(e.x/Rd,"em, ").concat(e.y/Rd,"em) "),s+="scale(".concat(e.size/Rd*(e.flipX?-1:1),", ").concat(e.size/Rd*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var N1e=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function Aee(){const t=xee,e=_ee,n=Dt.cssPrefix,r=Dt.replacementClass;let i=N1e;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}let WV=!1;function XI(){Dt.autoAddCss&&!WV&&(C1e(Aee()),WV=!0)}var D1e={mixout(){return{dom:{css:Aee,insertCss:XI}}},hooks(){return{beforeDOMElementCreation(){XI()},beforeI2svg(){XI()}}}};const Vh=kf||{};Vh[Bh]||(Vh[Bh]={});Vh[Bh].styles||(Vh[Bh].styles={});Vh[Bh].hooks||(Vh[Bh].hooks={});Vh[Bh].shims||(Vh[Bh].shims=[]);var Uu=Vh[Bh];const Cee=[],Pee=function(){ur.removeEventListener("DOMContentLoaded",Pee),l3=1,Cee.map(t=>t())};let l3=!1;sd&&(l3=(ur.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ur.readyState),l3||ur.addEventListener("DOMContentLoaded",Pee));function O1e(t){sd&&(l3?setTimeout(t,0):Cee.push(t))}function cw(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?Tee(t):"<".concat(e," ").concat(R1e(n),">").concat(r.map(cw).join(""),"</").concat(e,">")}function jV(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var $I=function(e,n,r,i){var s=Object.keys(e),a=s.length,o=n,l,u,h;for(r===void 0?(l=1,h=e[s[0]]):(l=0,h=r);l<a;l++)u=s[l],h=o(h,e[u],u,e);return h};function k1e(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function uO(t){const e=k1e(t);return e.length===1?e[0].toString(16):null}function U1e(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function XV(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function cO(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=XV(e);typeof Uu.hooks.addPack=="function"&&!r?Uu.hooks.addPack(t,XV(e)):Uu.styles[t]={...Uu.styles[t]||{},...i},t==="fas"&&cO("fa",e)}const{styles:Nm,shims:F1e}=Uu,z1e={[vr]:Object.values(rg[vr]),[fo]:Object.values(rg[fo]),[po]:Object.values(rg[po])};let b6=null,Ree={},Lee={},Iee={},Nee={},Dee={};const B1e={[vr]:Object.keys(ng[vr]),[fo]:Object.keys(ng[fo]),[po]:Object.keys(ng[po])};function V1e(t){return~w1e.indexOf(t)}function H1e(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!V1e(i)?i:null}const Oee=()=>{const t=r=>$I(Nm,(i,s,a)=>(i[a]=$I(s,r,{}),i),{});Ree=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(o=>typeof o=="number").forEach(o=>{r[o.toString(16)]=s}),r)),Lee=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(o=>typeof o=="string").forEach(o=>{r[o]=s}),r)),Dee=t((r,i,s)=>{const a=i[2];return r[s]=s,a.forEach(o=>{r[o]=s}),r});const e="far"in Nm||Dt.autoFetchSvg,n=$I(F1e,(r,i)=>{const s=i[0];let a=i[1];const o=i[2];return a==="far"&&!e&&(a="fas"),typeof s=="string"&&(r.names[s]={prefix:a,iconName:o}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:a,iconName:o}),r},{names:{},unicodes:{}});Iee=n.names,Nee=n.unicodes,b6=eR(Dt.styleDefault,{family:Dt.familyDefault})};A1e(t=>{b6=eR(t.styleDefault,{family:Dt.familyDefault})});Oee();function M6(t,e){return(Ree[t]||{})[e]}function G1e(t,e){return(Lee[t]||{})[e]}function df(t,e){return(Dee[t]||{})[e]}function kee(t){return Iee[t]||{prefix:null,iconName:null}}function W1e(t){const e=Nee[t],n=M6("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Uf(){return b6}const w6=()=>({prefix:null,iconName:null,rest:[]});function eR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=vr}=e,r=ng[n][t],i=qb[n][t]||qb[n][r],s=t in Uu.styles?t:null;return i||s||null}const j1e={[vr]:Object.keys(rg[vr]),[fo]:Object.keys(rg[fo]),[po]:Object.keys(rg[po])};function tR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[vr]:"".concat(Dt.cssPrefix,"-").concat(vr),[fo]:"".concat(Dt.cssPrefix,"-").concat(fo),[po]:"".concat(Dt.cssPrefix,"-").concat(po)};let i=null,s=vr;const a=Jye.filter(l=>l!==gee);a.forEach(l=>{(t.includes(r[l])||t.some(u=>j1e[l].includes(u)))&&(s=l)});const o=t.reduce((l,u)=>{const h=H1e(Dt.cssPrefix,u);if(Nm[u]?(u=z1e[s].includes(u)?x1e[s][u]:u,i=u,l.prefix=u):B1e[s].indexOf(u)>-1?(i=u,l.prefix=eR(u,{family:s})):h?l.iconName=h:u!==Dt.replacementClass&&!a.some(d=>u===r[d])&&l.rest.push(u),!n&&l.prefix&&l.iconName){const d=i==="fa"?kee(l.iconName):{},f=df(l.prefix,l.iconName);d.prefix&&(i=null),l.iconName=d.iconName||f||l.iconName,l.prefix=d.prefix||l.prefix,l.prefix==="far"&&!Nm.far&&Nm.fas&&!Dt.autoFetchSvg&&(l.prefix="fas")}return l},w6());return(t.includes("fa-brands")||t.includes("fab"))&&(o.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(o.prefix="fad"),!o.prefix&&s===fo&&(Nm.fass||Dt.autoFetchSvg)&&(o.prefix="fass",o.iconName=df(o.prefix,o.iconName)||o.iconName),!o.prefix&&s===po&&(Nm.fasds||Dt.autoFetchSvg)&&(o.prefix="fasds",o.iconName=df(o.prefix,o.iconName)||o.iconName),(o.prefix==="fa"||i==="fa")&&(o.prefix=Uf()||"fas"),o}class X1e{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},cO(s,i[s]);const a=rg[vr][s];a&&cO(a,i[s]),Oee()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:a,icon:o}=r[i],l=o[2];e[s]||(e[s]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(e[s][u]=o)}),e[s][a]=o}),e}}let $V=[],dy={};const Qy={},$1e=Object.keys(Qy);function Y1e(t,e){let{mixoutsTo:n}=e;return $V=t,dy={},Object.keys(Qy).forEach(r=>{$1e.indexOf(r)===-1&&delete Qy[r]}),$V.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(a=>{n[s]||(n[s]={}),n[s][a]=i[s][a]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(a=>{dy[a]||(dy[a]=[]),dy[a].push(s[a])})}r.provides&&r.provides(Qy)}),n}function hO(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(dy[t]||[]).forEach(a=>{e=a.apply(null,[e,...r])}),e}function Tg(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(dy[t]||[]).forEach(s=>{s.apply(null,n)})}function Ff(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Qy[t]?Qy[t].apply(null,e):void 0}function dO(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Uf();if(e)return e=df(n,e)||e,jV(Uee.definitions,n,e)||jV(Uu.styles,n,e)}const Uee=new X1e,q1e=()=>{Dt.autoReplaceSvg=!1,Dt.observeMutations=!1,Tg("noAuto")},Z1e={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return sd?(Tg("beforeI2svg",t),Ff("pseudoElements2svg",t),Ff("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Dt.autoReplaceSvg===!1&&(Dt.autoReplaceSvg=!0),Dt.observeMutations=!0,O1e(()=>{Q1e({autoReplaceSvgRoot:e}),Tg("watch",t)})}},K1e={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:df(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=eR(t[0]);return{prefix:n,iconName:df(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Dt.cssPrefix,"-"))>-1||t.match(_1e))){const e=tR(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Uf(),iconName:df(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Uf();return{prefix:e,iconName:df(e,t)||t}}}},Co={noAuto:q1e,config:Dt,dom:Z1e,parse:K1e,library:Uee,findIconDefinition:dO,toHtml:cw},Q1e=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=ur}=t;(Object.keys(Uu.styles).length>0||Dt.autoFetchSvg)&&sd&&Dt.autoReplaceSvg&&Co.dom.i2svg({node:e})};function nR(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>cw(n))}}),Object.defineProperty(t,"node",{get:function(){if(!sd)return;const n=ur.createElement("div");return n.innerHTML=t.html,n.children}}),t}function J1e(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:a}=t;if(S6(a)&&n.found&&!r.found){const{width:o,height:l}=n,u={x:o/l/2,y:.5};i.style=JP({...s,"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function exe(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const a=s===!0?"".concat(e,"-").concat(Dt.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:a},children:r}]}]}function E6(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:a,title:o,maskId:l,titleId:u,extra:h,watchable:d=!1}=t,{width:f,height:m}=n.found?n:e,v=r==="fak",S=[Dt.replacementClass,i?"".concat(Dt.cssPrefix,"-").concat(i):""].filter(P=>h.classes.indexOf(P)===-1).filter(P=>P!==""||!!P).concat(h.classes).join(" ");let y={children:[],attributes:{...h.attributes,"data-prefix":r,"data-icon":i,class:S,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(m)}};const g=v&&!~h.classes.indexOf("fa-fw")?{width:"".concat(f/m*16*.0625,"em")}:{};d&&(y.attributes[Eg]=""),o&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(u||Zb())},children:[o]}),delete y.attributes.title);const b={...y,prefix:r,iconName:i,main:e,mask:n,maskId:l,transform:s,symbol:a,styles:{...g,...h.styles}},{children:M,attributes:E}=n.found&&e.found?Ff("generateAbstractMask",b)||{children:[],attributes:{}}:Ff("generateAbstractIcon",b)||{children:[],attributes:{}};return b.children=M,b.attributes=E,a?exe(b):J1e(b)}function YV(t){const{content:e,width:n,height:r,transform:i,title:s,extra:a,watchable:o=!1}=t,l={...a.attributes,...s?{title:s}:{},class:a.classes.join(" ")};o&&(l[Eg]="");const u={...a.styles};S6(i)&&(u.transform=I1e({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const h=JP(u);h.length>0&&(l.style=h);const d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function txe(t){const{content:e,title:n,extra:r}=t,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=JP(r.styles);s.length>0&&(i.style=s);const a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}const{styles:YI}=Uu;function fO(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(Dt.cssPrefix,"-").concat(jI.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Dt.cssPrefix,"-").concat(jI.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Dt.cssPrefix,"-").concat(jI.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const nxe={found:!1,width:512,height:512};function rxe(t,e){!See&&!Dt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function pO(t,e){let n=e;return e==="fa"&&Dt.styleDefault!==null&&(e=Uf()),new Promise((r,i)=>{if(n==="fa"){const s=kee(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&YI[e]&&YI[e][t]){const s=YI[e][t];return r(fO(s))}rxe(t,e),r({...nxe,icon:Dt.showMissingIcons&&t?Ff("missingIconAbstract")||{}:{}})})}const qV=()=>{},mO=Dt.measurePerformance&&NE&&NE.mark&&NE.measure?NE:{mark:qV,measure:qV},yS='FA "6.6.0"',ixe=t=>(mO.mark("".concat(yS," ").concat(t," begins")),()=>Fee(t)),Fee=t=>{mO.mark("".concat(yS," ").concat(t," ends")),mO.measure("".concat(yS," ").concat(t),"".concat(yS," ").concat(t," begins"),"".concat(yS," ").concat(t," ends"))};var T6={begin:ixe,end:Fee};const iA=()=>{};function ZV(t){return typeof(t.getAttribute?t.getAttribute(Eg):null)=="string"}function sxe(t){const e=t.getAttribute?t.getAttribute(y6):null,n=t.getAttribute?t.getAttribute(x6):null;return e&&n}function axe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Dt.replacementClass)}function oxe(){return Dt.autoReplaceSvg===!0?sA.replace:sA[Dt.autoReplaceSvg]||sA.replace}function lxe(t){return ur.createElementNS("http://www.w3.org/2000/svg",t)}function uxe(t){return ur.createElement(t)}function zee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?lxe:uxe}=e;if(typeof t=="string")return ur.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(zee(s,{ceFn:n}))}),r}function cxe(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const sA={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(zee(n),e)}),e.getAttribute(Eg)===null&&Dt.keepOriginalSource){let n=ur.createComment(cxe(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~_6(e).indexOf(Dt.replacementClass))return sA.replace(t);const r=new RegExp("".concat(Dt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((a,o)=>(o===Dt.replacementClass||o.match(r)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>cw(s)).join(`
`);e.setAttribute(Eg,""),e.innerHTML=i}};function KV(t){t()}function Bee(t,e){const n=typeof e=="function"?e:iA;if(t.length===0)n();else{let r=KV;Dt.mutateApproach===v1e&&(r=kf.requestAnimationFrame||KV),r(()=>{const i=oxe(),s=T6.begin("mutate");t.map(i),s(),n()})}}let A6=!1;function Vee(){A6=!0}function gO(){A6=!1}let u3=null;function QV(t){if(!BV||!Dt.observeMutations)return;const{treeCallback:e=iA,nodeCallback:n=iA,pseudoElementsCallback:r=iA,observeMutationsRoot:i=ur}=t;u3=new BV(s=>{if(A6)return;const a=Uf();q1(s).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!ZV(o.addedNodes[0])&&(Dt.searchPseudoElements&&r(o.target),e(o.target)),o.type==="attributes"&&o.target.parentNode&&Dt.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&ZV(o.target)&&~M1e.indexOf(o.attributeName))if(o.attributeName==="class"&&sxe(o.target)){const{prefix:l,iconName:u}=tR(_6(o.target));o.target.setAttribute(y6,l||a),u&&o.target.setAttribute(x6,u)}else axe(o.target)&&n(o.target)})}),sd&&u3.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function hxe(){u3&&u3.disconnect()}function dxe(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}function fxe(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=tR(_6(t));return i.prefix||(i.prefix=Uf()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=G1e(i.prefix,t.innerText)||M6(i.prefix,uO(t.innerText))),!i.iconName&&Dt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function pxe(t){const e=q1(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Dt.autoA11y&&(n?e["aria-labelledby"]="".concat(Dt.replacementClass,"-title-").concat(r||Zb()):(e["aria-hidden"]="true",e.focusable="false")),e}function mxe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ku,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function JV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=fxe(t),s=pxe(t),a=hO("parseNodeAttributes",{},t);let o=e.styleParser?dxe(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:ku,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:s},...a}}const{styles:gxe}=Uu;function Hee(t){const e=Dt.autoReplaceSvg==="nest"?JV(t,{styleParser:!1}):JV(t);return~e.extra.classes.indexOf(wee)?Ff("generateLayersText",t,e):Ff("generateSvgReplacementMutation",t,e)}let lc=new Set;bee.map(t=>{lc.add("fa-".concat(t))});Object.keys(ng[vr]).map(lc.add.bind(lc));Object.keys(ng[fo]).map(lc.add.bind(lc));Object.keys(ng[po]).map(lc.add.bind(lc));lc=[...lc];function eH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!sd)return Promise.resolve();const n=ur.documentElement.classList,r=h=>n.add("".concat(GV,"-").concat(h)),i=h=>n.remove("".concat(GV,"-").concat(h)),s=Dt.autoFetchSvg?lc:bee.map(h=>"fa-".concat(h)).concat(Object.keys(gxe));s.includes("fa")||s.push("fa");const a=[".".concat(wee,":not([").concat(Eg,"])")].concat(s.map(h=>".".concat(h,":not([").concat(Eg,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=q1(t.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),i("complete");else return Promise.resolve();const l=T6.begin("onTree"),u=o.reduce((h,d)=>{try{const f=Hee(d);f&&h.push(f)}catch(f){See||f.name==="MissingIcon"&&console.error(f)}return h},[]);return new Promise((h,d)=>{Promise.all(u).then(f=>{Bee(f,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),h()})}).catch(f=>{l(),d(f)})})}function vxe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Hee(t).then(n=>{n&&Bee([n],e)})}function yxe(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:dO(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:dO(i||{})),t(r,{...n,mask:i})}}const xxe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=ku,symbol:r=!1,mask:i=null,maskId:s=null,title:a=null,titleId:o=null,classes:l=[],attributes:u={},styles:h={}}=e;if(!t)return;const{prefix:d,iconName:f,icon:m}=t;return nR({type:"icon",...t},()=>(Tg("beforeDOMElementCreation",{iconDefinition:t,params:e}),Dt.autoA11y&&(a?u["aria-labelledby"]="".concat(Dt.replacementClass,"-title-").concat(o||Zb()):(u["aria-hidden"]="true",u.focusable="false")),E6({icons:{main:fO(m),mask:i?fO(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:f,transform:{...ku,...n},symbol:r,title:a,maskId:s,titleId:o,extra:{attributes:u,styles:h,classes:l}})))};var _xe={mixout(){return{icon:yxe(xxe)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=eH,t.nodeCallback=vxe,t}}},provides(t){t.i2svg=function(e){const{node:n=ur,callback:r=()=>{}}=e;return eH(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:a,transform:o,symbol:l,mask:u,maskId:h,extra:d}=n;return new Promise((f,m)=>{Promise.all([pO(r,a),u.iconName?pO(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(v=>{let[S,y]=v;f([e,E6({icons:{main:S,mask:y},prefix:a,iconName:r,transform:o,symbol:l,maskId:h,title:i,titleId:s,extra:d,watchable:!0})])}).catch(m)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:a}=e;const o=JP(a);o.length>0&&(r.style=o);let l;return S6(s)&&(l=Ff("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:r}}}},Sxe={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return nR({type:"layer"},()=>{Tg("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Dt.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},bxe={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return nR({type:"counter",content:t},()=>(Tg("beforeDOMElementCreation",{content:t,params:e}),txe({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(Dt.cssPrefix,"-layers-counter"),...r]}})))}}}},Mxe={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=ku,title:r=null,classes:i=[],attributes:s={},styles:a={}}=e;return nR({type:"text",content:t},()=>(Tg("beforeDOMElementCreation",{content:t,params:e}),YV({content:t,transform:{...ku,...n},title:r,extra:{attributes:s,styles:a,classes:["".concat(Dt.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let a=null,o=null;if(mee){const l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/l,o=u.height/l}return Dt.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,YV({content:e.innerHTML,width:a,height:o,transform:i,title:r,extra:s,watchable:!0})])}}};const wxe=new RegExp('"',"ug"),tH=[1105920,1112319],nH={FontAwesome:{normal:"fas",400:"fas"},...s1e,...i1e,...f1e},vO=Object.keys(nH).reduce((t,e)=>(t[e.toLowerCase()]=nH[e],t),{}),Exe=Object.keys(vO).reduce((t,e)=>{const n=vO[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function Txe(t){const e=t.replace(wxe,""),n=U1e(e,0),r=n>=tH[0]&&n<=tH[1],i=e.length===2?e[0]===e[1]:!1;return{value:uO(i?e[0]:e),isSecondary:r||i}}function Axe(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(vO[n]||{})[i]||Exe[n]}function rH(t,e){const n="".concat(g1e).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const a=q1(t.children).filter(f=>f.getAttribute(sO)===e)[0],o=kf.getComputedStyle(t,e),l=o.getPropertyValue("font-family"),u=l.match(S1e),h=o.getPropertyValue("font-weight"),d=o.getPropertyValue("content");if(a&&!u)return t.removeChild(a),r();if(u&&d!=="none"&&d!==""){const f=o.getPropertyValue("content");let m=Axe(l,h);const{value:v,isSecondary:S}=Txe(f),y=u[0].startsWith("FontAwesome");let g=M6(m,v),b=g;if(y){const M=W1e(v);M.iconName&&M.prefix&&(g=M.iconName,m=M.prefix)}if(g&&!S&&(!a||a.getAttribute(y6)!==m||a.getAttribute(x6)!==b)){t.setAttribute(n,b),a&&t.removeChild(a);const M=mxe(),{extra:E}=M;E.attributes[sO]=e,pO(g,m).then(P=>{const A=E6({...M,icons:{main:P,mask:w6()},prefix:m,iconName:b,extra:E,watchable:!0}),L=ur.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(L,t.firstChild):t.appendChild(L),L.outerHTML=A.map(I=>cw(I)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function Cxe(t){return Promise.all([rH(t,"::before"),rH(t,"::after")])}function Pxe(t){return t.parentNode!==document.head&&!~y1e.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(sO)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function iH(t){if(sd)return new Promise((e,n)=>{const r=q1(t.querySelectorAll("*")).filter(Pxe).map(Cxe),i=T6.begin("searchPseudoElements");Vee(),Promise.all(r).then(()=>{i(),gO(),e()}).catch(()=>{i(),gO(),n()})})}var Rxe={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=iH,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=ur}=e;Dt.searchPseudoElements&&iH(n)}}};let sH=!1;var Lxe={mixout(){return{dom:{unwatch(){Vee(),sH=!0}}}},hooks(){return{bootstrap(){QV(hO("mutationObserverCallbacks",{}))},noAuto(){hxe()},watch(t){const{observeMutationsRoot:e}=t;sH?gO():QV(hO("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const aH=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let a=i.slice(1).join("-");if(s&&a==="h")return n.flipX=!0,n;if(s&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(s){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},e)};var Ixe={mixout(){return{parse:{transform:t=>aH(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=aH(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const a={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(o," ").concat(l," ").concat(u)},d={transform:"translate(".concat(s/2*-1," -256)")},f={outer:a,inner:h,path:d};return{tag:"g",attributes:{...f.outer},children:[{tag:"g",attributes:{...f.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...f.path}}]}]}}}};const qI={x:0,y:0,width:"100%",height:"100%"};function oH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Nxe(t){return t.tag==="g"?t.children:[t]}var Dxe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?tR(n.split(" ").map(i=>i.trim())):w6();return r.prefix||(r.prefix=Uf()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:a,transform:o}=e;const{width:l,icon:u}=i,{width:h,icon:d}=s,f=L1e({transform:o,containerWidth:h,iconWidth:l}),m={tag:"rect",attributes:{...qI,fill:"white"}},v=u.children?{children:u.children.map(oH)}:{},S={tag:"g",attributes:{...f.inner},children:[oH({tag:u.tag,attributes:{...u.attributes,...f.path},...v})]},y={tag:"g",attributes:{...f.outer},children:[S]},g="mask-".concat(a||Zb()),b="clip-".concat(a||Zb()),M={tag:"mask",attributes:{...qI,id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[m,y]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:Nxe(d)},M]};return n.push(E,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(g,")"),...qI}}),{children:n,attributes:r}}}},Oxe={provides(t){let e=!1;kf.matchMedia&&(e=kf.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},a={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||a.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),n.push(a),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},kxe={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},Uxe=[D1e,_xe,Sxe,bxe,Mxe,Rxe,Lxe,Ixe,Dxe,Oxe,kxe];Y1e(Uxe,{mixoutsTo:Co});Co.noAuto;Co.config;Co.library;Co.dom;const yO=Co.parse;Co.findIconDefinition;Co.toHtml;const Fxe=Co.icon;Co.layer;Co.text;Co.counter;function lH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lH(Object(n),!0).forEach(function(r){fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c3(t){"@babel/helpers - typeof";return c3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c3(t)}function fy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Bxe(t,e){if(t==null)return{};var n=zxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xO(t){return Vxe(t)||Hxe(t)||Gxe(t)||Wxe()}function Vxe(t){if(Array.isArray(t))return _O(t)}function Hxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gxe(t,e){if(t){if(typeof t=="string")return _O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(t,e)}}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jxe(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,a=t.shake,o=t.flash,l=t.spin,u=t.spinPulse,h=t.spinReverse,d=t.pulse,f=t.fixedWidth,m=t.inverse,v=t.border,S=t.listItem,y=t.flip,g=t.size,b=t.rotation,M=t.pull,E=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":f,"fa-inverse":m,"fa-border":v,"fa-li":S,"fa-flip":y===!0,"fa-flip-horizontal":y==="horizontal"||y==="both","fa-flip-vertical":y==="vertical"||y==="both"},fy(e,"fa-".concat(g),typeof g<"u"&&g!==null),fy(e,"fa-rotate-".concat(b),typeof b<"u"&&b!==null&&b!==0),fy(e,"fa-pull-".concat(M),typeof M<"u"&&M!==null),fy(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(E).map(function(P){return E[P]?P:null}).filter(function(P){return P})}function Xxe(t){return t=t-0,t===t}function Gee(t){return Xxe(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var $xe=["style"];function Yxe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function qxe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=Gee(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[Yxe(i)]=s:e[i]=s,e},{})}function Wee(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return Wee(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var h=e.attributes[u];switch(u){case"class":l.attrs.className=h,delete e.attributes.class;break;case"style":l.attrs.style=qxe(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=h:l.attrs[Gee(u)]=h}return l},{attrs:{}}),s=n.style,a=s===void 0?{}:s,o=Bxe(n,$xe);return i.attrs.style=Ru(Ru({},i.attrs.style),a),t.apply(void 0,[e.tag,Ru(Ru({},i.attrs),o)].concat(xO(r)))}var jee=!1;try{jee=!0}catch{}function Zxe(){if(!jee&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function uH(t){if(t&&c3(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(yO.icon)return yO.icon(t);if(t===null)return null;if(t&&c3(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function ZI(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?fy({},t,e):{}}var cH={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},C6=Gi.forwardRef(function(t,e){var n=Ru(Ru({},cH),t),r=n.icon,i=n.mask,s=n.symbol,a=n.className,o=n.title,l=n.titleId,u=n.maskId,h=uH(r),d=ZI("classes",[].concat(xO(jxe(n)),xO((a||"").split(" ")))),f=ZI("transform",typeof n.transform=="string"?yO.transform(n.transform):n.transform),m=ZI("mask",uH(i)),v=Fxe(h,Ru(Ru(Ru(Ru({},d),f),m),{},{symbol:s,title:o,titleId:l,maskId:u}));if(!v)return Zxe("Could not find icon",h),null;var S=v.abstract,y={ref:e};return Object.keys(n).forEach(function(g){cH.hasOwnProperty(g)||(y[g]=n[g])}),Kxe(S[0],y)});C6.displayName="FontAwesomeIcon";C6.propTypes={beat:cn.bool,border:cn.bool,beatFade:cn.bool,bounce:cn.bool,className:cn.string,fade:cn.bool,flash:cn.bool,mask:cn.oneOfType([cn.object,cn.array,cn.string]),maskId:cn.string,fixedWidth:cn.bool,inverse:cn.bool,flip:cn.oneOf([!0,!1,"horizontal","vertical","both"]),icon:cn.oneOfType([cn.object,cn.array,cn.string]),listItem:cn.bool,pull:cn.oneOf(["right","left"]),pulse:cn.bool,rotation:cn.oneOf([0,90,180,270]),shake:cn.bool,size:cn.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:cn.bool,spinPulse:cn.bool,spinReverse:cn.bool,symbol:cn.oneOfType([cn.bool,cn.string]),title:cn.string,titleId:cn.string,transform:cn.oneOfType([cn.string,cn.object]),swapOpacity:cn.bool};var Kxe=Wee.bind(null,Gi.createElement);const Qxe={prefix:"fab",iconName:"react",icon:[512,512,[],"f41b","M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"]},hH={prefix:"fab",iconName:"cuttlefish",icon:[440,512,[],"f38c","M344 305.5c-17.5 31.6-57.4 54.5-96 54.5-56.6 0-104-47.4-104-104s47.4-104 104-104c38.6 0 78.5 22.9 96 54.5 13.7-50.9 41.7-93.3 87-117.8C385.7 39.1 320.5 8 248 8 111 8 0 119 0 256s111 248 248 248c72.5 0 137.7-31.1 183-80.7-45.3-24.5-73.3-66.9-87-117.8z"]},Jxe={prefix:"fab",iconName:"rust",icon:[512,512,[],"e07a","M508.52,249.75,486.7,236.24c-.17-2-.34-3.93-.55-5.88l18.72-17.5a7.35,7.35,0,0,0-2.44-12.25l-24-9c-.54-1.88-1.08-3.78-1.67-5.64l15-20.83a7.35,7.35,0,0,0-4.79-11.54l-25.42-4.15c-.9-1.73-1.79-3.45-2.73-5.15l10.68-23.42a7.35,7.35,0,0,0-6.95-10.39l-25.82.91q-1.79-2.22-3.61-4.4L439,81.84A7.36,7.36,0,0,0,430.16,73L405,78.93q-2.17-1.83-4.4-3.61l.91-25.82a7.35,7.35,0,0,0-10.39-7L367.7,53.23c-1.7-.94-3.43-1.84-5.15-2.73L358.4,25.08a7.35,7.35,0,0,0-11.54-4.79L326,35.26c-1.86-.59-3.75-1.13-5.64-1.67l-9-24a7.35,7.35,0,0,0-12.25-2.44l-17.5,18.72c-1.95-.21-3.91-.38-5.88-.55L262.25,3.48a7.35,7.35,0,0,0-12.5,0L236.24,25.3c-2,.17-3.93.34-5.88.55L212.86,7.13a7.35,7.35,0,0,0-12.25,2.44l-9,24c-1.89.55-3.79,1.08-5.66,1.68l-20.82-15a7.35,7.35,0,0,0-11.54,4.79l-4.15,25.41c-1.73.9-3.45,1.79-5.16,2.73L120.88,42.55a7.35,7.35,0,0,0-10.39,7l.92,25.81c-1.49,1.19-3,2.39-4.42,3.61L81.84,73A7.36,7.36,0,0,0,73,81.84L78.93,107c-1.23,1.45-2.43,2.93-3.62,4.41l-25.81-.91a7.42,7.42,0,0,0-6.37,3.26,7.35,7.35,0,0,0-.57,7.13l10.66,23.41c-.94,1.7-1.83,3.43-2.73,5.16L25.08,153.6a7.35,7.35,0,0,0-4.79,11.54l15,20.82c-.59,1.87-1.13,3.77-1.68,5.66l-24,9a7.35,7.35,0,0,0-2.44,12.25l18.72,17.5c-.21,1.95-.38,3.91-.55,5.88L3.48,249.75a7.35,7.35,0,0,0,0,12.5L25.3,275.76c.17,2,.34,3.92.55,5.87L7.13,299.13a7.35,7.35,0,0,0,2.44,12.25l24,9c.55,1.89,1.08,3.78,1.68,5.65l-15,20.83a7.35,7.35,0,0,0,4.79,11.54l25.42,4.15c.9,1.72,1.79,3.45,2.73,5.14L42.56,391.12a7.35,7.35,0,0,0,.57,7.13,7.13,7.13,0,0,0,6.37,3.26l25.83-.91q1.77,2.22,3.6,4.4L73,430.16A7.36,7.36,0,0,0,81.84,439L107,433.07q2.18,1.83,4.41,3.61l-.92,25.82a7.35,7.35,0,0,0,10.39,6.95l23.43-10.68c1.69.94,3.42,1.83,5.14,2.73l4.15,25.42a7.34,7.34,0,0,0,11.54,4.78l20.83-15c1.86.6,3.76,1.13,5.65,1.68l9,24a7.36,7.36,0,0,0,12.25,2.44l17.5-18.72c1.95.21,3.92.38,5.88.55l13.51,21.82a7.35,7.35,0,0,0,12.5,0l13.51-21.82c2-.17,3.93-.34,5.88-.56l17.5,18.73a7.36,7.36,0,0,0,12.25-2.44l9-24c1.89-.55,3.78-1.08,5.65-1.68l20.82,15a7.34,7.34,0,0,0,11.54-4.78l4.15-25.42c1.72-.9,3.45-1.79,5.15-2.73l23.42,10.68a7.35,7.35,0,0,0,10.39-6.95l-.91-25.82q2.22-1.79,4.4-3.61L430.16,439a7.36,7.36,0,0,0,8.84-8.84L433.07,405q1.83-2.17,3.61-4.4l25.82.91a7.23,7.23,0,0,0,6.37-3.26,7.35,7.35,0,0,0,.58-7.13L458.77,367.7c.94-1.7,1.83-3.43,2.73-5.15l25.42-4.15a7.35,7.35,0,0,0,4.79-11.54l-15-20.83c.59-1.87,1.13-3.76,1.67-5.65l24-9a7.35,7.35,0,0,0,2.44-12.25l-18.72-17.5c.21-1.95.38-3.91.55-5.87l21.82-13.51a7.35,7.35,0,0,0,0-12.5Zm-151,129.08A13.91,13.91,0,0,0,341,389.51l-7.64,35.67A187.51,187.51,0,0,1,177,424.44l-7.64-35.66a13.87,13.87,0,0,0-16.46-10.68l-31.51,6.76a187.38,187.38,0,0,1-16.26-19.21H258.3c1.72,0,2.89-.29,2.89-1.91V309.55c0-1.57-1.17-1.91-2.89-1.91H213.47l.05-34.35H262c4.41,0,23.66,1.28,29.79,25.87,1.91,7.55,6.17,32.14,9.06,40,2.89,8.82,14.6,26.46,27.1,26.46H407a187.3,187.3,0,0,1-17.34,20.09Zm25.77,34.49A15.24,15.24,0,1,1,368,398.08h.44A15.23,15.23,0,0,1,383.24,413.32Zm-225.62-.68a15.24,15.24,0,1,1-15.25-15.25h.45A15.25,15.25,0,0,1,157.62,412.64ZM69.57,234.15l32.83-14.6a13.88,13.88,0,0,0,7.06-18.33L102.69,186h26.56V305.73H75.65A187.65,187.65,0,0,1,69.57,234.15ZM58.31,198.09a15.24,15.24,0,0,1,15.23-15.25H74a15.24,15.24,0,1,1-15.67,15.24Zm155.16,24.49.05-35.32h63.26c3.28,0,23.07,3.77,23.07,18.62,0,12.29-15.19,16.7-27.68,16.7ZM399,306.71c-9.8,1.13-20.63-4.12-22-10.09-5.78-32.49-15.39-39.4-30.57-51.4,18.86-11.95,38.46-29.64,38.46-53.26,0-25.52-17.49-41.59-29.4-49.48-16.76-11-35.28-13.23-40.27-13.23H116.32A187.49,187.49,0,0,1,221.21,70.06l23.47,24.6a13.82,13.82,0,0,0,19.6.44l26.26-25a187.51,187.51,0,0,1,128.37,91.43l-18,40.57A14,14,0,0,0,408,220.43l34.59,15.33a187.12,187.12,0,0,1,.4,32.54H423.71c-1.91,0-2.69,1.27-2.69,3.13v8.82C421,301,409.31,305.58,399,306.71ZM240,60.21A15.24,15.24,0,0,1,255.21,45h.45A15.24,15.24,0,1,1,240,60.21ZM436.84,214a15.24,15.24,0,1,1,0-30.48h.44a15.24,15.24,0,0,1-.44,30.48Z"]},e_e={prefix:"fab",iconName:"python",icon:[448,512,[],"f3e2","M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"]},t_e={prefix:"fab",iconName:"js",icon:[448,512,[],"f3b8","M0 32v448h448V32H0zm243.8 349.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"]},n_e={prefix:"fab",iconName:"node-js",icon:[448,512,[],"f3d3","M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z"]},r_e=[{name:"React",icon:Qxe},{name:"Python",icon:e_e},{name:"JavaScript",icon:t_e},{name:"C",icon:hH},{name:"C++",icon:hH},{name:"Rust",icon:Jxe},{name:"Node.js",icon:n_e}];function i_e(){return Ue.jsx("section",{id:"skills",className:"d-flex justify-content-center align-items-center text-center",children:Ue.jsxs("div",{className:"container mb-4",children:[Ue.jsx("h2",{className:"mb-4 display-4",children:"Skills"}),Ue.jsx("div",{className:"row",children:r_e.map(t=>Ue.jsx(Eh.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"col-md-4",children:Ue.jsx("div",{className:"card mb-4",children:Ue.jsxs("div",{className:"card-body",children:[Ue.jsx(C6,{icon:t.icon,size:"3x",style:{marginBottom:"10px",color:"#007acc"}}),Ue.jsx("h5",{className:"card-title",children:t.name})]})})}))})]})})}function s_e({project:t,id:e}){return Ue.jsx(Eh.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"card text-bg-dark border-light",children:Ue.jsxs("div",{className:"card-body",children:[Ue.jsx("h5",{className:"card-title",children:t.title}),Ue.jsx("p",{className:"card-text",children:t.description}),Ue.jsx("br",{}),Ue.jsx("a",{href:t.github,className:"btn btn-secondary",children:"Github"})]})},e)}const a_e=()=>[{title:"Symbolic Engine",description:"An advanced computational engine that supports math, science, and other domains, designed to work with a custom programming language, Symbolic.",github:"https://github.com/elijahmanda/symbolic"}];function o_e(){const t=a_e();return Ue.jsx("section",{id:"projects",className:"d-flex justify-content-center align-items-center text-center text-white",children:Ue.jsxs("div",{className:"container mb-4",children:[Ue.jsx("h2",{className:"mb-4 display-4",children:"Projects"}),Ue.jsx("div",{className:"row",children:t.map((e,n)=>Ue.jsx(Eh.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"col-md-6 mb-4",children:Ue.jsx(s_e,{project:e,id:n})},n))})]})})}var Xee={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dH=Gi.createContext&&Gi.createContext(Xee),l_e=["attr","size","title"];function u_e(t,e){if(t==null)return{};var n=c_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function h3(){return h3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h3.apply(this,arguments)}function fH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fH(Object(n),!0).forEach(function(r){h_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_e(t,e,n){return e=d_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d_e(t){var e=f_e(t,"string");return typeof e=="symbol"?e:e+""}function f_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ee(t){return t&&t.map((e,n)=>Gi.createElement(e.tag,d3({key:n},e.attr),$ee(e.child)))}function rR(t){return e=>Gi.createElement(p_e,h3({attr:d3({},t.attr)},e),$ee(t.child))}function p_e(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=u_e(t,l_e),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Gi.createElement("svg",h3({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:d3(d3({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Gi.createElement("title",null,s),t.children)};return dH!==void 0?Gi.createElement(dH.Consumer,null,n=>e(n)):e(Xee)}function m_e(t){return rR({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function g_e(t){return rR({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function v_e(t){return rR({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function y_e(t){return rR({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}const x_e=()=>Ue.jsxs("footer",{id:"footer",className:"w-full py-4 bg-gray-800 text-white flex flex-col items-center",children:[Ue.jsx("div",{className:"mb-4 text-center",children:Ue.jsx("p",{children:" 2024 My Portfolio"})}),Ue.jsxs("div",{className:"flex space-x-4",children:[Ue.jsx("a",{href:"https://github.com/elijahmanda",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",children:Ue.jsx(m_e,{size:24,className:"hover:text-gray-400"})}),Ue.jsx("a",{href:"https://linkedin.com/in/elijahmanda",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:Ue.jsx(v_e,{size:24,className:"hover:text-gray-400"})}),Ue.jsx("a",{href:"https://twitter.com/elijahmandajc",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:Ue.jsx(y_e,{size:24,className:"hover:text-gray-400"})}),Ue.jsx("a",{href:"https://instagram.com/elijahmanda",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:Ue.jsx(g_e,{size:24,className:"hover:text-gray-400"})})]})]});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const hw="170",__e={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},S_e={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Yee=0,SO=1,qee=2,b_e=3,Zee=0,iR=1,YS=2,Dl=3,Hh=0,ea=1,Nu=2,Th=0,ig=1,f3=2,bO=3,MO=4,Kee=5,af=100,Qee=101,Jee=102,ete=103,tte=104,nte=200,rte=201,ite=202,ste=203,p3=204,m3=205,ate=206,ote=207,lte=208,ute=209,cte=210,hte=211,dte=212,fte=213,pte=214,g3=0,v3=1,y3=2,Ag=3,x3=4,_3=5,S3=6,b3=7,dw=0,mte=1,gte=2,Zu=0,vte=1,yte=2,xte=3,P6=4,_te=5,Ste=6,bte=7,wO="attached",Mte="detached",sR=300,Gh=301,zf=302,Kb=303,Qb=304,Z1=306,Jb=1e3,sl=1001,eM=1002,us=1003,R6=1004,M_e=1004,py=1005,w_e=1005,Si=1006,qS=1007,E_e=1007,Fu=1008,T_e=1008,Zl=1009,L6=1010,I6=1011,S1=1012,aR=1013,Wh=1014,Ta=1015,K1=1016,oR=1017,lR=1018,Cg=1020,N6=35902,D6=1021,O6=1022,Ns=1023,k6=1024,U6=1025,sg=1026,Pg=1027,uR=1028,fw=1029,F6=1030,cR=1031,A_e=1032,hR=1033,ZS=33776,KS=33777,QS=33778,JS=33779,M3=35840,w3=35841,E3=35842,T3=35843,A3=36196,C3=37492,P3=37496,R3=37808,L3=37809,I3=37810,N3=37811,D3=37812,O3=37813,k3=37814,U3=37815,F3=37816,z3=37817,B3=37818,V3=37819,H3=37820,G3=37821,eb=36492,W3=36494,j3=36495,z6=36283,X3=36284,$3=36285,Y3=36286,wte=2200,Ete=2201,Tte=2202,tM=2300,q3=2301,aA=2302,Vm=2400,Hm=2401,nM=2402,dR=2500,B6=2501,C_e=0,P_e=1,R_e=2,Ate=3200,Cte=3201,L_e=3202,I_e=3203,ep=0,Pte=1,lh="",xa="srgb",qg="srgb-linear",pw="linear",zn="srgb",N_e=0,wm=7680,D_e=7681,O_e=7682,k_e=7683,U_e=34055,F_e=34056,z_e=5386,B_e=512,V_e=513,H_e=514,G_e=515,W_e=516,j_e=517,X_e=518,EO=519,Rte=512,Lte=513,Ite=514,V6=515,Nte=516,Dte=517,Ote=518,kte=519,rM=35044,$_e=35048,Y_e=35040,q_e=35045,Z_e=35049,K_e=35041,Q_e=35046,J_e=35050,eSe=35042,tSe="100",TO="300 es",zu=2e3,iM=2001;class cc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const Ss=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let pH=1234567;const ag=Math.PI/180,b1=180/Math.PI;function mo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ss[t&255]+Ss[t>>8&255]+Ss[t>>16&255]+Ss[t>>24&255]+"-"+Ss[e&255]+Ss[e>>8&255]+"-"+Ss[e>>16&15|64]+Ss[e>>24&255]+"-"+Ss[n&63|128]+Ss[n>>8&255]+"-"+Ss[n>>16&255]+Ss[n>>24&255]+Ss[r&255]+Ss[r>>8&255]+Ss[r>>16&255]+Ss[r>>24&255]).toLowerCase()}function Vr(t,e,n){return Math.max(e,Math.min(n,t))}function H6(t,e){return(t%e+e)%e}function nSe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function rSe(t,e,n){return t!==e?(n-t)/(e-t):0}function tb(t,e,n){return(1-n)*t+n*e}function iSe(t,e,n,r){return tb(t,e,1-Math.exp(-n*r))}function sSe(t,e=1){return e-Math.abs(H6(t,e*2)-e)}function aSe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function oSe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function lSe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function uSe(t,e){return t+Math.random()*(e-t)}function cSe(t){return t*(.5-Math.random())}function hSe(t){t!==void 0&&(pH=t);let e=pH+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dSe(t){return t*ag}function fSe(t){return t*b1}function pSe(t){return(t&t-1)===0&&t!==0}function mSe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function gSe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function vSe(t,e,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),u=s((e+r)/2),h=a((e+r)/2),d=s((e-r)/2),f=a((e-r)/2),m=s((r-e)/2),v=a((r-e)/2);switch(i){case"XYX":t.set(o*h,l*d,l*f,o*u);break;case"YZY":t.set(l*f,o*h,l*d,o*u);break;case"ZXZ":t.set(l*d,l*f,o*h,o*u);break;case"XZX":t.set(o*h,l*v,l*m,o*u);break;case"YXY":t.set(l*m,o*h,l*v,o*u);break;case"ZYZ":t.set(l*v,l*m,o*h,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ks(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Jt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const ySe={DEG2RAD:ag,RAD2DEG:b1,generateUUID:mo,clamp:Vr,euclideanModulo:H6,mapLinear:nSe,inverseLerp:rSe,lerp:tb,damp:iSe,pingpong:sSe,smoothstep:aSe,smootherstep:oSe,randInt:lSe,randFloat:uSe,randFloatSpread:cSe,seededRandom:hSe,degToRad:dSe,radToDeg:fSe,isPowerOfTwo:pSe,ceilPowerOfTwo:mSe,floorPowerOfTwo:gSe,setQuaternionFromProperEuler:vSe,normalize:Jt,denormalize:Ks};class et{constructor(e=0,n=0){et.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Vr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Kt{constructor(e,n,r,i,s,a,o,l,u){Kt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,u)}set(e,n,r,i,s,a,o,l,u){const h=this.elements;return h[0]=e,h[1]=i,h[2]=o,h[3]=n,h[4]=s,h[5]=l,h[6]=r,h[7]=a,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],u=r[1],h=r[4],d=r[7],f=r[2],m=r[5],v=r[8],S=i[0],y=i[3],g=i[6],b=i[1],M=i[4],E=i[7],P=i[2],A=i[5],L=i[8];return s[0]=a*S+o*b+l*P,s[3]=a*y+o*M+l*A,s[6]=a*g+o*E+l*L,s[1]=u*S+h*b+d*P,s[4]=u*y+h*M+d*A,s[7]=u*g+h*E+d*L,s[2]=f*S+m*b+v*P,s[5]=f*y+m*M+v*A,s[8]=f*g+m*E+v*L,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8];return n*a*h-n*o*u-r*s*h+r*o*l+i*s*u-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],d=h*a-o*u,f=o*l-h*s,m=u*s-a*l,v=n*d+r*f+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/v;return e[0]=d*S,e[1]=(i*u-h*r)*S,e[2]=(o*r-i*a)*S,e[3]=f*S,e[4]=(h*n-i*l)*S,e[5]=(i*s-o*n)*S,e[6]=m*S,e[7]=(r*l-u*n)*S,e[8]=(a*n-r*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*a+u*o)+a+e,-i*u,i*l,-i*(-u*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(KI.makeScale(e,n)),this}rotate(e){return this.premultiply(KI.makeRotation(-e)),this}translate(e,n){return this.premultiply(KI.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const KI=new Kt;function Ute(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const xSe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function my(t,e){return new xSe[t](e)}function sM(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Fte(){const t=sM("canvas");return t.style.display="block",t}const mH={};function xS(t){t in mH||(mH[t]=!0,console.warn(t))}function _Se(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}function SSe(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function bSe(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const bn={enabled:!0,workingColorSpace:qg,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===zn&&(t.r=Ah(t.r),t.g=Ah(t.g),t.b=Ah(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===zn&&(t.r=Jy(t.r),t.g=Jy(t.g),t.b=Jy(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===lh?pw:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function Ah(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Jy(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const gH=[.64,.33,.3,.6,.15,.06],vH=[.2126,.7152,.0722],yH=[.3127,.329],xH=new Kt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),_H=new Kt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);bn.define({[qg]:{primaries:gH,whitePoint:yH,transfer:pw,toXYZ:xH,fromXYZ:_H,luminanceCoefficients:vH,workingColorSpaceConfig:{unpackColorSpace:xa},outputColorSpaceConfig:{drawingBufferColorSpace:xa}},[xa]:{primaries:gH,whitePoint:yH,transfer:zn,toXYZ:xH,fromXYZ:_H,luminanceCoefficients:vH,outputColorSpaceConfig:{drawingBufferColorSpace:xa}}});let tv;class zte{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{tv===void 0&&(tv=sM("canvas")),tv.width=e.width,tv.height=e.height;const r=tv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=tv}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=sM("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Ah(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ah(n[r]/255)*255):n[r]=Ah(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let MSe=0;class Gm{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:MSe++}),this.uuid=mo(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(QI(i[a].image)):s.push(QI(i[a]))}else s=QI(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function QI(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?zte.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let wSe=0;class Ar extends cc{constructor(e=Ar.DEFAULT_IMAGE,n=Ar.DEFAULT_MAPPING,r=sl,i=sl,s=Si,a=Fu,o=Ns,l=Zl,u=Ar.DEFAULT_ANISOTROPY,h=lh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wSe++}),this.uuid=mo(),this.name="",this.source=new Gm(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new et(0,0),this.repeat=new et(1,1),this.center=new et(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==sR)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jb:e.x=e.x-Math.floor(e.x);break;case sl:e.x=e.x<0?0:1;break;case eM:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Jb:e.y=e.y-Math.floor(e.y);break;case sl:e.y=e.y<0?0:1;break;case eM:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ar.DEFAULT_IMAGE=null;Ar.DEFAULT_MAPPING=sR;Ar.DEFAULT_ANISOTROPY=1;class An{constructor(e=0,n=0,r=0,i=1){An.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],h=l[4],d=l[8],f=l[1],m=l[5],v=l[9],S=l[2],y=l[6],g=l[10];if(Math.abs(h-f)<.01&&Math.abs(d-S)<.01&&Math.abs(v-y)<.01){if(Math.abs(h+f)<.1&&Math.abs(d+S)<.1&&Math.abs(v+y)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const M=(u+1)/2,E=(m+1)/2,P=(g+1)/2,A=(h+f)/4,L=(d+S)/4,I=(v+y)/4;return M>E&&M>P?M<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(M),i=A/r,s=L/r):E>P?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=A/i,s=I/i):P<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(P),r=L/s,i=I/s),this.set(r,i,s,n),this}let b=Math.sqrt((y-v)*(y-v)+(d-S)*(d-S)+(f-h)*(f-h));return Math.abs(b)<.001&&(b=1),this.x=(y-v)/b,this.y=(d-S)/b,this.z=(f-h)/b,this.w=Math.acos((u+m+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Bte extends cc{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new An(0,0,e,n),this.scissorTest=!1,this.viewport=new An(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Si,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Ar(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Gm(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Kl extends Bte{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class fR extends Ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=us,this.minFilter=us,this.wrapR=sl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ESe extends Kl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new fR(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class G6 extends Ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=us,this.minFilter=us,this.wrapR=sl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TSe extends Kl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new G6(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Ia{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],u=r[i+1],h=r[i+2],d=r[i+3];const f=s[a+0],m=s[a+1],v=s[a+2],S=s[a+3];if(o===0){e[n+0]=l,e[n+1]=u,e[n+2]=h,e[n+3]=d;return}if(o===1){e[n+0]=f,e[n+1]=m,e[n+2]=v,e[n+3]=S;return}if(d!==S||l!==f||u!==m||h!==v){let y=1-o;const g=l*f+u*m+h*v+d*S,b=g>=0?1:-1,M=1-g*g;if(M>Number.EPSILON){const P=Math.sqrt(M),A=Math.atan2(P,g*b);y=Math.sin(y*A)/P,o=Math.sin(o*A)/P}const E=o*b;if(l=l*y+f*E,u=u*y+m*E,h=h*y+v*E,d=d*y+S*E,y===1-o){const P=1/Math.sqrt(l*l+u*u+h*h+d*d);l*=P,u*=P,h*=P,d*=P}}e[n]=l,e[n+1]=u,e[n+2]=h,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],u=r[i+2],h=r[i+3],d=s[a],f=s[a+1],m=s[a+2],v=s[a+3];return e[n]=o*v+h*d+l*m-u*f,e[n+1]=l*v+h*f+u*d-o*m,e[n+2]=u*v+h*m+o*f-l*d,e[n+3]=h*v-o*d-l*f-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(r/2),h=o(i/2),d=o(s/2),f=l(r/2),m=l(i/2),v=l(s/2);switch(a){case"XYZ":this._x=f*h*d+u*m*v,this._y=u*m*d-f*h*v,this._z=u*h*v+f*m*d,this._w=u*h*d-f*m*v;break;case"YXZ":this._x=f*h*d+u*m*v,this._y=u*m*d-f*h*v,this._z=u*h*v-f*m*d,this._w=u*h*d+f*m*v;break;case"ZXY":this._x=f*h*d-u*m*v,this._y=u*m*d+f*h*v,this._z=u*h*v+f*m*d,this._w=u*h*d-f*m*v;break;case"ZYX":this._x=f*h*d-u*m*v,this._y=u*m*d+f*h*v,this._z=u*h*v-f*m*d,this._w=u*h*d+f*m*v;break;case"YZX":this._x=f*h*d+u*m*v,this._y=u*m*d+f*h*v,this._z=u*h*v-f*m*d,this._w=u*h*d-f*m*v;break;case"XZY":this._x=f*h*d-u*m*v,this._y=u*m*d-f*h*v,this._z=u*h*v+f*m*d,this._w=u*h*d+f*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],u=n[2],h=n[6],d=n[10],f=r+o+d;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-u)*m,this._z=(a-i)*m}else if(r>o&&r>d){const m=2*Math.sqrt(1+r-o-d);this._w=(h-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(s+u)/m}else if(o>d){const m=2*Math.sqrt(1+o-r-d);this._w=(s-u)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-r-o);this._w=(a-i)/m,this._x=(s+u)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,u=n._z,h=n._w;return this._x=r*h+a*o+i*u-s*l,this._y=i*h+a*l+s*o-r*u,this._z=s*h+a*u+r*l-i*o,this._w=a*h-r*o-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const m=1-n;return this._w=m*a+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),h=Math.atan2(u,o),d=Math.sin((1-n)*h)/u,f=Math.sin(n*h)/u;return this._w=a*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,n=0,r=0){le.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(SH.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(SH.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=2*(a*i-o*r),h=2*(o*n-s*i),d=2*(s*r-a*n);return this.x=n+l*u+a*d-o*h,this.y=r+l*h+o*u-s*d,this.z=i+l*d+s*h-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return JI.copy(this).projectOnVector(e),this.sub(JI)}reflect(e){return this.sub(JI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Vr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const JI=new le,SH=new Ia;class ta{constructor(e=new le(1/0,1/0,1/0),n=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Tl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Tl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Tl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Tl):Tl.fromBufferAttribute(s,a),Tl.applyMatrix4(e.matrixWorld),this.expandByPoint(Tl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),DE.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),DE.copy(r.boundingBox)),DE.applyMatrix4(e.matrixWorld),this.union(DE)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Tl),Tl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(E_),OE.subVectors(this.max,E_),nv.subVectors(e.a,E_),rv.subVectors(e.b,E_),iv.subVectors(e.c,E_),Ld.subVectors(rv,nv),Id.subVectors(iv,rv),Xp.subVectors(nv,iv);let n=[0,-Ld.z,Ld.y,0,-Id.z,Id.y,0,-Xp.z,Xp.y,Ld.z,0,-Ld.x,Id.z,0,-Id.x,Xp.z,0,-Xp.x,-Ld.y,Ld.x,0,-Id.y,Id.x,0,-Xp.y,Xp.x,0];return!e4(n,nv,rv,iv,OE)||(n=[1,0,0,0,1,0,0,0,1],!e4(n,nv,rv,iv,OE))?!1:(kE.crossVectors(Ld,Id),n=[kE.x,kE.y,kE.z],e4(n,nv,rv,iv,OE))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Tl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Tl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(jc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),jc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),jc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),jc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),jc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),jc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),jc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),jc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(jc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jc=[new le,new le,new le,new le,new le,new le,new le,new le],Tl=new le,DE=new ta,nv=new le,rv=new le,iv=new le,Ld=new le,Id=new le,Xp=new le,E_=new le,OE=new le,kE=new le,$p=new le;function e4(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){$p.fromArray(t,s);const o=i.x*Math.abs($p.x)+i.y*Math.abs($p.y)+i.z*Math.abs($p.z),l=e.dot($p),u=n.dot($p),h=r.dot($p);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>o)return!1}return!0}const ASe=new ta,T_=new le,t4=new le;class ks{constructor(e=new le,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):ASe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;T_.subVectors(e,this.center);const n=T_.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(T_,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(t4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(T_.copy(e.center).add(t4)),this.expandByPoint(T_.copy(e.center).sub(t4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Xc=new le,n4=new le,UE=new le,Nd=new le,r4=new le,FE=new le,i4=new le;class Q1{constructor(e=new le,n=new le(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Xc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Xc.copy(this.origin).addScaledVector(this.direction,n),Xc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){n4.copy(e).add(n).multiplyScalar(.5),UE.copy(n).sub(e).normalize(),Nd.copy(this.origin).sub(n4);const s=e.distanceTo(n)*.5,a=-this.direction.dot(UE),o=Nd.dot(this.direction),l=-Nd.dot(UE),u=Nd.lengthSq(),h=Math.abs(1-a*a);let d,f,m,v;if(h>0)if(d=a*l-o,f=a*o-l,v=s*h,d>=0)if(f>=-v)if(f<=v){const S=1/h;d*=S,f*=S,m=d*(d+a*f+2*o)+f*(a*d+f+2*l)+u}else f=s,d=Math.max(0,-(a*f+o)),m=-d*d+f*(f+2*l)+u;else f=-s,d=Math.max(0,-(a*f+o)),m=-d*d+f*(f+2*l)+u;else f<=-v?(d=Math.max(0,-(-a*s+o)),f=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+u):f<=v?(d=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+u):(d=Math.max(0,-(a*s+o)),f=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+u);else f=a>0?-s:s,d=Math.max(0,-(a*f+o)),m=-d*d+f*(f+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(n4).addScaledVector(UE,f),m}intersectSphere(e,n){Xc.subVectors(e.center,this.origin);const r=Xc.dot(this.direction),i=Xc.dot(Xc)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,l;const u=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),h>=0?(s=(e.min.y-f.y)*h,a=(e.max.y-f.y)*h):(s=(e.max.y-f.y)*h,a=(e.min.y-f.y)*h),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Xc)!==null}intersectTriangle(e,n,r,i,s){r4.subVectors(n,e),FE.subVectors(r,e),i4.crossVectors(r4,FE);let a=this.direction.dot(i4),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Nd.subVectors(this.origin,e);const l=o*this.direction.dot(FE.crossVectors(Nd,FE));if(l<0)return null;const u=o*this.direction.dot(r4.cross(Nd));if(u<0||l+u>a)return null;const h=-o*Nd.dot(i4);return h<0?null:this.at(h/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Yt{constructor(e,n,r,i,s,a,o,l,u,h,d,f,m,v,S,y){Yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,u,h,d,f,m,v,S,y)}set(e,n,r,i,s,a,o,l,u,h,d,f,m,v,S,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=a,g[9]=o,g[13]=l,g[2]=u,g[6]=h,g[10]=d,g[14]=f,g[3]=m,g[7]=v,g[11]=S,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/sv.setFromMatrixColumn(e,0).length(),s=1/sv.setFromMatrixColumn(e,1).length(),a=1/sv.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=a*h,m=a*d,v=o*h,S=o*d;n[0]=l*h,n[4]=-l*d,n[8]=u,n[1]=m+v*u,n[5]=f-S*u,n[9]=-o*l,n[2]=S-f*u,n[6]=v+m*u,n[10]=a*l}else if(e.order==="YXZ"){const f=l*h,m=l*d,v=u*h,S=u*d;n[0]=f+S*o,n[4]=v*o-m,n[8]=a*u,n[1]=a*d,n[5]=a*h,n[9]=-o,n[2]=m*o-v,n[6]=S+f*o,n[10]=a*l}else if(e.order==="ZXY"){const f=l*h,m=l*d,v=u*h,S=u*d;n[0]=f-S*o,n[4]=-a*d,n[8]=v+m*o,n[1]=m+v*o,n[5]=a*h,n[9]=S-f*o,n[2]=-a*u,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const f=a*h,m=a*d,v=o*h,S=o*d;n[0]=l*h,n[4]=v*u-m,n[8]=f*u+S,n[1]=l*d,n[5]=S*u+f,n[9]=m*u-v,n[2]=-u,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,m=a*u,v=o*l,S=o*u;n[0]=l*h,n[4]=S-f*d,n[8]=v*d+m,n[1]=d,n[5]=a*h,n[9]=-o*h,n[2]=-u*h,n[6]=m*d+v,n[10]=f-S*d}else if(e.order==="XZY"){const f=a*l,m=a*u,v=o*l,S=o*u;n[0]=l*h,n[4]=-d,n[8]=u*h,n[1]=f*d+S,n[5]=a*h,n[9]=m*d-v,n[2]=v*d-m,n[6]=o*h,n[10]=S*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(CSe,e,PSe)}lookAt(e,n,r){const i=this.elements;return to.subVectors(e,n),to.lengthSq()===0&&(to.z=1),to.normalize(),Dd.crossVectors(r,to),Dd.lengthSq()===0&&(Math.abs(r.z)===1?to.x+=1e-4:to.z+=1e-4,to.normalize(),Dd.crossVectors(r,to)),Dd.normalize(),zE.crossVectors(to,Dd),i[0]=Dd.x,i[4]=zE.x,i[8]=to.x,i[1]=Dd.y,i[5]=zE.y,i[9]=to.y,i[2]=Dd.z,i[6]=zE.z,i[10]=to.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],u=r[12],h=r[1],d=r[5],f=r[9],m=r[13],v=r[2],S=r[6],y=r[10],g=r[14],b=r[3],M=r[7],E=r[11],P=r[15],A=i[0],L=i[4],I=i[8],R=i[12],C=i[1],O=i[5],G=i[9],j=i[13],q=i[2],Q=i[6],X=i[10],se=i[14],D=i[3],V=i[7],B=i[11],$=i[15];return s[0]=a*A+o*C+l*q+u*D,s[4]=a*L+o*O+l*Q+u*V,s[8]=a*I+o*G+l*X+u*B,s[12]=a*R+o*j+l*se+u*$,s[1]=h*A+d*C+f*q+m*D,s[5]=h*L+d*O+f*Q+m*V,s[9]=h*I+d*G+f*X+m*B,s[13]=h*R+d*j+f*se+m*$,s[2]=v*A+S*C+y*q+g*D,s[6]=v*L+S*O+y*Q+g*V,s[10]=v*I+S*G+y*X+g*B,s[14]=v*R+S*j+y*se+g*$,s[3]=b*A+M*C+E*q+P*D,s[7]=b*L+M*O+E*Q+P*V,s[11]=b*I+M*G+E*X+P*B,s[15]=b*R+M*j+E*se+P*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],h=e[2],d=e[6],f=e[10],m=e[14],v=e[3],S=e[7],y=e[11],g=e[15];return v*(+s*l*d-i*u*d-s*o*f+r*u*f+i*o*m-r*l*m)+S*(+n*l*m-n*u*f+s*a*f-i*a*m+i*u*h-s*l*h)+y*(+n*u*d-n*o*m-s*a*d+r*a*m+s*o*h-r*u*h)+g*(-i*o*h-n*l*d+n*o*f+i*a*d-r*a*f+r*l*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],d=e[9],f=e[10],m=e[11],v=e[12],S=e[13],y=e[14],g=e[15],b=d*y*u-S*f*u+S*l*m-o*y*m-d*l*g+o*f*g,M=v*f*u-h*y*u-v*l*m+a*y*m+h*l*g-a*f*g,E=h*S*u-v*d*u+v*o*m-a*S*m-h*o*g+a*d*g,P=v*d*l-h*S*l-v*o*f+a*S*f+h*o*y-a*d*y,A=n*b+r*M+i*E+s*P;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/A;return e[0]=b*L,e[1]=(S*f*s-d*y*s-S*i*m+r*y*m+d*i*g-r*f*g)*L,e[2]=(o*y*s-S*l*s+S*i*u-r*y*u-o*i*g+r*l*g)*L,e[3]=(d*l*s-o*f*s-d*i*u+r*f*u+o*i*m-r*l*m)*L,e[4]=M*L,e[5]=(h*y*s-v*f*s+v*i*m-n*y*m-h*i*g+n*f*g)*L,e[6]=(v*l*s-a*y*s-v*i*u+n*y*u+a*i*g-n*l*g)*L,e[7]=(a*f*s-h*l*s+h*i*u-n*f*u-a*i*m+n*l*m)*L,e[8]=E*L,e[9]=(v*d*s-h*S*s-v*r*m+n*S*m+h*r*g-n*d*g)*L,e[10]=(a*S*s-v*o*s+v*r*u-n*S*u-a*r*g+n*o*g)*L,e[11]=(h*o*s-a*d*s-h*r*u+n*d*u+a*r*m-n*o*m)*L,e[12]=P*L,e[13]=(h*S*i-v*d*i+v*r*f-n*S*f-h*r*y+n*d*y)*L,e[14]=(v*o*i-a*S*i-v*r*l+n*S*l+a*r*y-n*o*y)*L,e[15]=(a*d*i-h*o*i+h*r*l-n*d*l-a*r*f+n*o*f)*L,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,u=s*a,h=s*o;return this.set(u*a+r,u*o-i*l,u*l+i*o,0,u*o+i*l,h*o+r,h*l-i*a,0,u*l-i*o,h*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,u=s+s,h=a+a,d=o+o,f=s*u,m=s*h,v=s*d,S=a*h,y=a*d,g=o*d,b=l*u,M=l*h,E=l*d,P=r.x,A=r.y,L=r.z;return i[0]=(1-(S+g))*P,i[1]=(m+E)*P,i[2]=(v-M)*P,i[3]=0,i[4]=(m-E)*A,i[5]=(1-(f+g))*A,i[6]=(y+b)*A,i[7]=0,i[8]=(v+M)*L,i[9]=(y-b)*L,i[10]=(1-(f+S))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=sv.set(i[0],i[1],i[2]).length();const a=sv.set(i[4],i[5],i[6]).length(),o=sv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Al.copy(this);const u=1/s,h=1/a,d=1/o;return Al.elements[0]*=u,Al.elements[1]*=u,Al.elements[2]*=u,Al.elements[4]*=h,Al.elements[5]*=h,Al.elements[6]*=h,Al.elements[8]*=d,Al.elements[9]*=d,Al.elements[10]*=d,n.setFromRotationMatrix(Al),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=zu){const l=this.elements,u=2*s/(n-e),h=2*s/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let m,v;if(o===zu)m=-(a+s)/(a-s),v=-2*a*s/(a-s);else if(o===iM)m=-a/(a-s),v=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=zu){const l=this.elements,u=1/(n-e),h=1/(r-i),d=1/(a-s),f=(n+e)*u,m=(r+i)*h;let v,S;if(o===zu)v=(a+s)*d,S=-2*d;else if(o===iM)v=s*d,S=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=S,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const sv=new le,Al=new Yt,CSe=new le(0,0,0),PSe=new le(1,1,1),Dd=new le,zE=new le,to=new le,bH=new Yt,MH=new Ia;class bo{constructor(e=0,n=0,r=0,i=bo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],u=i[5],h=i[9],d=i[2],f=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Vr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Vr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Vr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Vr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Vr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-Vr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return bH.makeRotationFromQuaternion(e),this.setFromRotationMatrix(bH,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return MH.setFromEuler(this),this.setFromQuaternion(MH,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}bo.DEFAULT_ORDER="XYZ";class og{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let RSe=0;const wH=new le,av=new Ia,$c=new Yt,BE=new le,A_=new le,LSe=new le,ISe=new Ia,EH=new le(1,0,0),TH=new le(0,1,0),AH=new le(0,0,1),CH={type:"added"},NSe={type:"removed"},ov={type:"childadded",child:null},s4={type:"childremoved",child:null};class Ln extends cc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:RSe++}),this.uuid=mo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ln.DEFAULT_UP.clone();const e=new le,n=new bo,r=new Ia,i=new le(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Yt},normalMatrix:{value:new Kt}}),this.matrix=new Yt,this.matrixWorld=new Yt,this.matrixAutoUpdate=Ln.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ln.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new og,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return av.setFromAxisAngle(e,n),this.quaternion.multiply(av),this}rotateOnWorldAxis(e,n){return av.setFromAxisAngle(e,n),this.quaternion.premultiply(av),this}rotateX(e){return this.rotateOnAxis(EH,e)}rotateY(e){return this.rotateOnAxis(TH,e)}rotateZ(e){return this.rotateOnAxis(AH,e)}translateOnAxis(e,n){return wH.copy(e).applyQuaternion(this.quaternion),this.position.add(wH.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(EH,e)}translateY(e){return this.translateOnAxis(TH,e)}translateZ(e){return this.translateOnAxis(AH,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4($c.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?BE.copy(e):BE.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),A_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$c.lookAt(A_,BE,this.up):$c.lookAt(BE,A_,this.up),this.quaternion.setFromRotationMatrix($c),i&&($c.extractRotation(i.matrixWorld),av.setFromRotationMatrix($c),this.quaternion.premultiply(av.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(CH),ov.child=e,this.dispatchEvent(ov),ov.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(NSe),s4.child=e,this.dispatchEvent(s4),s4.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),$c.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$c.multiply(e.parent.matrixWorld)),e.applyMatrix4($c),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(CH),ov.child=e,this.dispatchEvent(ov),ov.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(A_,e,LSe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(A_,ISe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),h=a(e.images),d=a(e.shapes),f=a(e.skeletons),m=a(e.animations),v=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function a(o){const l=[];for(const u in o){const h=o[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ln.DEFAULT_UP=new le(0,1,0);Ln.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ln.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Cl=new le,Yc=new le,a4=new le,qc=new le,lv=new le,uv=new le,PH=new le,o4=new le,l4=new le,u4=new le,c4=new An,h4=new An,d4=new An;class Ma{constructor(e=new le,n=new le,r=new le){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Cl.subVectors(e,n),i.cross(Cl);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Cl.subVectors(i,n),Yc.subVectors(r,n),a4.subVectors(e,n);const a=Cl.dot(Cl),o=Cl.dot(Yc),l=Cl.dot(a4),u=Yc.dot(Yc),h=Yc.dot(a4),d=a*u-o*o;if(d===0)return s.set(0,0,0),null;const f=1/d,m=(u*l-o*h)*f,v=(a*h-o*l)*f;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,qc)===null?!1:qc.x>=0&&qc.y>=0&&qc.x+qc.y<=1}static getInterpolation(e,n,r,i,s,a,o,l){return this.getBarycoord(e,n,r,i,qc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,qc.x),l.addScaledVector(a,qc.y),l.addScaledVector(o,qc.z),l)}static getInterpolatedAttribute(e,n,r,i,s,a){return c4.setScalar(0),h4.setScalar(0),d4.setScalar(0),c4.fromBufferAttribute(e,n),h4.fromBufferAttribute(e,r),d4.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(c4,s.x),a.addScaledVector(h4,s.y),a.addScaledVector(d4,s.z),a}static isFrontFacing(e,n,r,i){return Cl.subVectors(r,n),Yc.subVectors(e,n),Cl.cross(Yc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Cl.subVectors(this.c,this.b),Yc.subVectors(this.a,this.b),Cl.cross(Yc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ma.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ma.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Ma.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Ma.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ma.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;lv.subVectors(i,r),uv.subVectors(s,r),o4.subVectors(e,r);const l=lv.dot(o4),u=uv.dot(o4);if(l<=0&&u<=0)return n.copy(r);l4.subVectors(e,i);const h=lv.dot(l4),d=uv.dot(l4);if(h>=0&&d<=h)return n.copy(i);const f=l*d-h*u;if(f<=0&&l>=0&&h<=0)return a=l/(l-h),n.copy(r).addScaledVector(lv,a);u4.subVectors(e,s);const m=lv.dot(u4),v=uv.dot(u4);if(v>=0&&m<=v)return n.copy(s);const S=m*u-l*v;if(S<=0&&u>=0&&v<=0)return o=u/(u-v),n.copy(r).addScaledVector(uv,o);const y=h*v-m*d;if(y<=0&&d-h>=0&&m-v>=0)return PH.subVectors(s,i),o=(d-h)/(d-h+(m-v)),n.copy(i).addScaledVector(PH,o);const g=1/(y+S+f);return a=S*g,o=f*g,n.copy(r).addScaledVector(lv,a).addScaledVector(uv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Vte={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Od={h:0,s:0,l:0},VE={h:0,s:0,l:0};function f4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Pt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=xa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=bn.workingColorSpace){return this.r=e,this.g=n,this.b=r,bn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=bn.workingColorSpace){if(e=H6(e,1),n=Vr(n,0,1),r=Vr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=f4(a,s,e+1/3),this.g=f4(a,s,e),this.b=f4(a,s,e-1/3)}return bn.toWorkingColorSpace(this,i),this}setStyle(e,n=xa){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=xa){const r=Vte[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ah(e.r),this.g=Ah(e.g),this.b=Ah(e.b),this}copyLinearToSRGB(e){return this.r=Jy(e.r),this.g=Jy(e.g),this.b=Jy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xa){return bn.fromWorkingColorSpace(bs.copy(this),e),Math.round(Vr(bs.r*255,0,255))*65536+Math.round(Vr(bs.g*255,0,255))*256+Math.round(Vr(bs.b*255,0,255))}getHexString(e=xa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=bn.workingColorSpace){bn.fromWorkingColorSpace(bs.copy(this),n);const r=bs.r,i=bs.g,s=bs.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,u;const h=(o+a)/2;if(o===a)l=0,u=0;else{const d=a-o;switch(u=h<=.5?d/(a+o):d/(2-a-o),a){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,n=bn.workingColorSpace){return bn.fromWorkingColorSpace(bs.copy(this),n),e.r=bs.r,e.g=bs.g,e.b=bs.b,e}getStyle(e=xa){bn.fromWorkingColorSpace(bs.copy(this),e);const n=bs.r,r=bs.g,i=bs.b;return e!==xa?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Od),this.setHSL(Od.h+e,Od.s+n,Od.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Od),e.getHSL(VE);const r=tb(Od.h,VE.h,n),i=tb(Od.s,VE.s,n),s=tb(Od.l,VE.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const bs=new Pt;Pt.NAMES=Vte;let DSe=0;class ps extends cc{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:DSe++}),this.uuid=mo(),this.name="",this.blending=ig,this.side=Hh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=p3,this.blendDst=m3,this.blendEquation=af,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Pt(0,0,0),this.blendAlpha=0,this.depthFunc=Ag,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=EO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=wm,this.stencilZFail=wm,this.stencilZPass=wm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ig&&(r.blending=this.blending),this.side!==Hh&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==p3&&(r.blendSrc=this.blendSrc),this.blendDst!==m3&&(r.blendDst=this.blendDst),this.blendEquation!==af&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ag&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==EO&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==wm&&(r.stencilFail=this.stencilFail),this.stencilZFail!==wm&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==wm&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class tp extends ps{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new Pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new bo,this.combine=dw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const uh=OSe();function OSe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function va(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Vr(t,-65504,65504),uh.floatView[0]=t;const e=uh.uint32View[0],n=e>>23&511;return uh.baseTable[n]+((e&8388607)>>uh.shiftTable[n])}function _S(t){const e=t>>10;return uh.uint32View[0]=uh.mantissaTable[uh.offsetTable[e]+(t&1023)]+uh.exponentTable[e],uh.floatView[0]}const kSe={toHalfFloat:va,fromHalfFloat:_S},si=new le,HE=new et;class $n{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=rM,this.updateRanges=[],this.gpuType=Ta,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)HE.fromBufferAttribute(this,n),HE.applyMatrix3(e),this.setXY(n,HE.x,HE.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)si.fromBufferAttribute(this,n),si.applyMatrix3(e),this.setXYZ(n,si.x,si.y,si.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)si.fromBufferAttribute(this,n),si.applyMatrix4(e),this.setXYZ(n,si.x,si.y,si.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)si.fromBufferAttribute(this,n),si.applyNormalMatrix(e),this.setXYZ(n,si.x,si.y,si.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)si.fromBufferAttribute(this,n),si.transformDirection(e),this.setXYZ(n,si.x,si.y,si.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Ks(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Jt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ks(n,this.array)),n}setX(e,n){return this.normalized&&(n=Jt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ks(n,this.array)),n}setY(e,n){return this.normalized&&(n=Jt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ks(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Jt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ks(n,this.array)),n}setW(e,n){return this.normalized&&(n=Jt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Jt(n,this.array),r=Jt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Jt(n,this.array),r=Jt(r,this.array),i=Jt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Jt(n,this.array),r=Jt(r,this.array),i=Jt(i,this.array),s=Jt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==rM&&(e.usage=this.usage),e}}class USe extends $n{constructor(e,n,r){super(new Int8Array(e),n,r)}}class FSe extends $n{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class zSe extends $n{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class BSe extends $n{constructor(e,n,r){super(new Int16Array(e),n,r)}}class W6 extends $n{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class VSe extends $n{constructor(e,n,r){super(new Int32Array(e),n,r)}}class j6 extends $n{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class HSe extends $n{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=_S(this.array[e*this.itemSize]);return this.normalized&&(n=Ks(n,this.array)),n}setX(e,n){return this.normalized&&(n=Jt(n,this.array)),this.array[e*this.itemSize]=va(n),this}getY(e){let n=_S(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ks(n,this.array)),n}setY(e,n){return this.normalized&&(n=Jt(n,this.array)),this.array[e*this.itemSize+1]=va(n),this}getZ(e){let n=_S(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ks(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Jt(n,this.array)),this.array[e*this.itemSize+2]=va(n),this}getW(e){let n=_S(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ks(n,this.array)),n}setW(e,n){return this.normalized&&(n=Jt(n,this.array)),this.array[e*this.itemSize+3]=va(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Jt(n,this.array),r=Jt(r,this.array)),this.array[e+0]=va(n),this.array[e+1]=va(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Jt(n,this.array),r=Jt(r,this.array),i=Jt(i,this.array)),this.array[e+0]=va(n),this.array[e+1]=va(r),this.array[e+2]=va(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Jt(n,this.array),r=Jt(r,this.array),i=Jt(i,this.array),s=Jt(s,this.array)),this.array[e+0]=va(n),this.array[e+1]=va(r),this.array[e+2]=va(i),this.array[e+3]=va(s),this}}class Ut extends $n{constructor(e,n,r){super(new Float32Array(e),n,r)}}let GSe=0;const qo=new Yt,p4=new Ln,cv=new le,no=new ta,C_=new ta,Ui=new le;class tn extends cc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:GSe++}),this.uuid=mo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Ute(e)?j6:W6)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Kt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return qo.makeRotationFromQuaternion(e),this.applyMatrix4(qo),this}rotateX(e){return qo.makeRotationX(e),this.applyMatrix4(qo),this}rotateY(e){return qo.makeRotationY(e),this.applyMatrix4(qo),this}rotateZ(e){return qo.makeRotationZ(e),this.applyMatrix4(qo),this}translate(e,n,r){return qo.makeTranslation(e,n,r),this.applyMatrix4(qo),this}scale(e,n,r){return qo.makeScale(e,n,r),this.applyMatrix4(qo),this}lookAt(e){return p4.lookAt(e),p4.updateMatrix(),this.applyMatrix4(p4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cv).negate(),this.translate(cv.x,cv.y,cv.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ut(r,3))}else{for(let r=0,i=n.count;r<i;r++){const s=e[r];n.setXYZ(r,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ta);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];no.setFromBufferAttribute(s),this.morphTargetsRelative?(Ui.addVectors(this.boundingBox.min,no.min),this.boundingBox.expandByPoint(Ui),Ui.addVectors(this.boundingBox.max,no.max),this.boundingBox.expandByPoint(Ui)):(this.boundingBox.expandByPoint(no.min),this.boundingBox.expandByPoint(no.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ks);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const r=this.boundingSphere.center;if(no.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];C_.setFromBufferAttribute(o),this.morphTargetsRelative?(Ui.addVectors(no.min,C_.min),no.expandByPoint(Ui),Ui.addVectors(no.max,C_.max),no.expandByPoint(Ui)):(no.expandByPoint(C_.min),no.expandByPoint(C_.max))}no.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Ui.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ui));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let u=0,h=o.count;u<h;u++)Ui.fromBufferAttribute(o,u),l&&(cv.fromBufferAttribute(e,u),Ui.add(cv)),i=Math.max(i,r.distanceToSquared(Ui))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new $n(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let I=0;I<r.count;I++)o[I]=new le,l[I]=new le;const u=new le,h=new le,d=new le,f=new et,m=new et,v=new et,S=new le,y=new le;function g(I,R,C){u.fromBufferAttribute(r,I),h.fromBufferAttribute(r,R),d.fromBufferAttribute(r,C),f.fromBufferAttribute(s,I),m.fromBufferAttribute(s,R),v.fromBufferAttribute(s,C),h.sub(u),d.sub(u),m.sub(f),v.sub(f);const O=1/(m.x*v.y-v.x*m.y);isFinite(O)&&(S.copy(h).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(O),y.copy(d).multiplyScalar(m.x).addScaledVector(h,-v.x).multiplyScalar(O),o[I].add(S),o[R].add(S),o[C].add(S),l[I].add(y),l[R].add(y),l[C].add(y))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let I=0,R=b.length;I<R;++I){const C=b[I],O=C.start,G=C.count;for(let j=O,q=O+G;j<q;j+=3)g(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const M=new le,E=new le,P=new le,A=new le;function L(I){P.fromBufferAttribute(i,I),A.copy(P);const R=o[I];M.copy(R),M.sub(P.multiplyScalar(P.dot(R))).normalize(),E.crossVectors(A,R);const O=E.dot(l[I])<0?-1:1;a.setXYZW(I,M.x,M.y,M.z,O)}for(let I=0,R=b.length;I<R;++I){const C=b[I],O=C.start,G=C.count;for(let j=O,q=O+G;j<q;j+=3)L(e.getX(j+0)),L(e.getX(j+1)),L(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new $n(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,m=r.count;f<m;f++)r.setXYZ(f,0,0,0);const i=new le,s=new le,a=new le,o=new le,l=new le,u=new le,h=new le,d=new le;if(e)for(let f=0,m=e.count;f<m;f+=3){const v=e.getX(f+0),S=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,S),a.fromBufferAttribute(n,y),h.subVectors(a,s),d.subVectors(i,s),h.cross(d),o.fromBufferAttribute(r,v),l.fromBufferAttribute(r,S),u.fromBufferAttribute(r,y),o.add(h),l.add(h),u.add(h),r.setXYZ(v,o.x,o.y,o.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let f=0,m=n.count;f<m;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),h.subVectors(a,s),d.subVectors(i,s),h.cross(d),r.setXYZ(f+0,h.x,h.y,h.z),r.setXYZ(f+1,h.x,h.y,h.z),r.setXYZ(f+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ui.fromBufferAttribute(e,n),Ui.normalize(),e.setXYZ(n,Ui.x,Ui.y,Ui.z)}toNonIndexed(){function e(o,l){const u=o.array,h=o.itemSize,d=o.normalized,f=new u.constructor(l.length*h);let m=0,v=0;for(let S=0,y=l.length;S<y;S++){o.isInterleavedBufferAttribute?m=l[S]*o.data.stride+o.offset:m=l[S]*h;for(let g=0;g<h;g++)f[v++]=u[m++]}return new $n(f,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new tn,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,r);n.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let h=0,d=u.length;h<d;h++){const f=u[h],m=e(f,r);l.push(m)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let d=0,f=u.length;d<f;d++){const m=u[d];h.push(m.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(n))}const s=e.morphAttributes;for(const u in s){const h=[],d=s[u];for(let f=0,m=d.length;f<m;f++)h.push(d[f].clone(n));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,h=a.length;u<h;u++){const d=a[u];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const RH=new Yt,Yp=new Q1,GE=new ks,LH=new le,WE=new le,jE=new le,XE=new le,m4=new le,$E=new le,IH=new le,YE=new le;class ci extends Ln{constructor(e=new tn,n=new tp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){$E.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=o[l],d=s[l];h!==0&&(m4.fromBufferAttribute(d,e),a?$E.addScaledVector(m4,h):$E.addScaledVector(m4.sub(n),h))}n.add($E)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),GE.copy(r.boundingSphere),GE.applyMatrix4(s),Yp.copy(e.ray).recast(e.near),!(GE.containsPoint(Yp.origin)===!1&&(Yp.intersectSphere(GE,LH)===null||Yp.origin.distanceToSquared(LH)>(e.far-e.near)**2))&&(RH.copy(s).invert(),Yp.copy(e.ray).applyMatrix4(RH),!(r.boundingBox!==null&&Yp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Yp)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,d=s.attributes.normal,f=s.groups,m=s.drawRange;if(o!==null)if(Array.isArray(a))for(let v=0,S=f.length;v<S;v++){const y=f[v],g=a[y.materialIndex],b=Math.max(y.start,m.start),M=Math.min(o.count,Math.min(y.start+y.count,m.start+m.count));for(let E=b,P=M;E<P;E+=3){const A=o.getX(E),L=o.getX(E+1),I=o.getX(E+2);i=qE(this,g,e,r,u,h,d,A,L,I),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),S=Math.min(o.count,m.start+m.count);for(let y=v,g=S;y<g;y+=3){const b=o.getX(y),M=o.getX(y+1),E=o.getX(y+2);i=qE(this,a,e,r,u,h,d,b,M,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,S=f.length;v<S;v++){const y=f[v],g=a[y.materialIndex],b=Math.max(y.start,m.start),M=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let E=b,P=M;E<P;E+=3){const A=E,L=E+1,I=E+2;i=qE(this,g,e,r,u,h,d,A,L,I),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let y=v,g=S;y<g;y+=3){const b=y,M=y+1,E=y+2;i=qE(this,a,e,r,u,h,d,b,M,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function WSe(t,e,n,r,i,s,a,o){let l;if(e.side===ea?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===Hh,o),l===null)return null;YE.copy(o),YE.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(YE);return u<n.near||u>n.far?null:{distance:u,point:YE.clone(),object:t}}function qE(t,e,n,r,i,s,a,o,l,u){t.getVertexPosition(o,WE),t.getVertexPosition(l,jE),t.getVertexPosition(u,XE);const h=WSe(t,e,n,r,WE,jE,XE,IH);if(h){const d=new le;Ma.getBarycoord(IH,WE,jE,XE,d),i&&(h.uv=Ma.getInterpolatedAttribute(i,o,l,u,d,new et)),s&&(h.uv1=Ma.getInterpolatedAttribute(s,o,l,u,d,new et)),a&&(h.normal=Ma.getInterpolatedAttribute(a,o,l,u,d,new le),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const f={a:o,b:l,c:u,normal:new le,materialIndex:0};Ma.getNormal(WE,jE,XE,f.normal),h.face=f,h.barycoord=d}return h}class Zg extends tn{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],h=[],d=[];let f=0,m=0;v("z","y","x",-1,-1,r,n,e,a,s,0),v("z","y","x",1,-1,r,n,-e,a,s,1),v("x","z","y",1,1,e,r,n,i,a,2),v("x","z","y",1,-1,e,r,-n,i,a,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ut(u,3)),this.setAttribute("normal",new Ut(h,3)),this.setAttribute("uv",new Ut(d,2));function v(S,y,g,b,M,E,P,A,L,I,R){const C=E/L,O=P/I,G=E/2,j=P/2,q=A/2,Q=L+1,X=I+1;let se=0,D=0;const V=new le;for(let B=0;B<X;B++){const $=B*O-j;for(let te=0;te<Q;te++){const Ae=te*C-G;V[S]=Ae*b,V[y]=$*M,V[g]=q,u.push(V.x,V.y,V.z),V[S]=0,V[y]=0,V[g]=A>0?1:-1,h.push(V.x,V.y,V.z),d.push(te/L),d.push(1-B/I),se+=1}}for(let B=0;B<I;B++)for(let $=0;$<L;$++){const te=f+$+Q*B,Ae=f+$+Q*(B+1),F=f+($+1)+Q*(B+1),ve=f+($+1)+Q*B;l.push(te,Ae,ve),l.push(Ae,F,ve),D+=6}o.addGroup(m,D,R),m+=D,f+=se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function M1(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function $s(t){const e={};for(let n=0;n<t.length;n++){const r=M1(t[n]);for(const i in r)e[i]=r[i]}return e}function jSe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Hte(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:bn.workingColorSpace}const Gte={clone:M1,merge:$s};var XSe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$Se=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class dl extends ps{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=XSe,this.fragmentShader=$Se,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=M1(e.uniforms),this.uniformsGroups=jSe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class mw extends Ln{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Yt,this.projectionMatrix=new Yt,this.projectionMatrixInverse=new Yt,this.coordinateSystem=zu}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const kd=new le,NH=new et,DH=new et;class Vi extends mw{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=b1*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ag*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return b1*2*Math.atan(Math.tan(ag*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){kd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(kd.x,kd.y).multiplyScalar(-e/kd.z),kd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(kd.x,kd.y).multiplyScalar(-e/kd.z)}getViewSize(e,n){return this.getViewBounds(e,NH,DH),n.subVectors(DH,NH)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ag*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/l,n-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const hv=-90,dv=1;class Wte extends Ln{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Vi(hv,dv,e,n);i.layers=this.layers,this.add(i);const s=new Vi(hv,dv,e,n);s.layers=this.layers,this.add(s);const a=new Vi(hv,dv,e,n);a.layers=this.layers,this.add(a);const o=new Vi(hv,dv,e,n);o.layers=this.layers,this.add(o);const l=new Vi(hv,dv,e,n);l.layers=this.layers,this.add(l);const u=new Vi(hv,dv,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,l]=n;for(const u of n)this.remove(u);if(e===zu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===iM)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,u,h]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(n,h),e.setRenderTarget(d,f,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class gw extends Ar{constructor(e,n,r,i,s,a,o,l,u,h){e=e!==void 0?e:[],n=n!==void 0?n:Gh,super(e,n,r,i,s,a,o,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class jte extends Kl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new gw(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Si}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Zg(5,5,5),s=new dl({name:"CubemapFromEquirect",uniforms:M1(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ea,blending:Th});s.uniforms.tEquirect.value=n;const a=new ci(i,s),o=n.minFilter;return n.minFilter===Fu&&(n.minFilter=Si),new Wte(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}const g4=new le,YSe=new le,qSe=new Kt;class Qd{constructor(e=new le(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=g4.subVectors(r,n).cross(YSe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(g4),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||qSe.getNormalMatrix(e),i=this.coplanarPoint(g4).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const qp=new ks,ZE=new le;class vw{constructor(e=new Qd,n=new Qd,r=new Qd,i=new Qd,s=new Qd,a=new Qd){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=zu){const r=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],h=i[5],d=i[6],f=i[7],m=i[8],v=i[9],S=i[10],y=i[11],g=i[12],b=i[13],M=i[14],E=i[15];if(r[0].setComponents(l-s,f-u,y-m,E-g).normalize(),r[1].setComponents(l+s,f+u,y+m,E+g).normalize(),r[2].setComponents(l+a,f+h,y+v,E+b).normalize(),r[3].setComponents(l-a,f-h,y-v,E-b).normalize(),r[4].setComponents(l-o,f-d,y-S,E-M).normalize(),n===zu)r[5].setComponents(l+o,f+d,y+S,E+M).normalize();else if(n===iM)r[5].setComponents(o,d,S,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),qp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),qp.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(qp)}intersectsSprite(e){return qp.center.set(0,0,0),qp.radius=.7071067811865476,qp.applyMatrix4(e.matrixWorld),this.intersectsSphere(qp)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(ZE.x=i.normal.x>0?e.max.x:e.min.x,ZE.y=i.normal.y>0?e.max.y:e.min.y,ZE.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ZE)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Xte(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function ZSe(t){const e=new WeakMap;function n(o,l){const u=o.array,h=o.usage,d=u.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,u,h),o.onUploadCallback();let m;if(u instanceof Float32Array)m=t.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=t.SHORT;else if(u instanceof Uint32Array)m=t.UNSIGNED_INT;else if(u instanceof Int32Array)m=t.INT;else if(u instanceof Int8Array)m=t.BYTE;else if(u instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:d}}function r(o,l,u){const h=l.array,d=l.updateRanges;if(t.bindBuffer(u,o),d.length===0)t.bufferSubData(u,0,h);else{d.sort((m,v)=>m.start-v.start);let f=0;for(let m=1;m<d.length;m++){const v=d[f],S=d[m];S.start<=v.start+v.count+1?v.count=Math.max(v.count,S.start+S.count-v.start):(++f,d[f]=S)}d.length=f+1;for(let m=0,v=d.length;m<v;m++){const S=d[m];t.bufferSubData(u,S.start*h.BYTES_PER_ELEMENT,h,S.start,S.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const h=e.get(o);(!h||h.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,n(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,o,l),u.version=o.version}}return{get:i,remove:s,update:a}}class J1 extends tn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),l=Math.floor(i),u=o+1,h=l+1,d=e/o,f=n/l,m=[],v=[],S=[],y=[];for(let g=0;g<h;g++){const b=g*f-a;for(let M=0;M<u;M++){const E=M*d-s;v.push(E,-b,0),S.push(0,0,1),y.push(M/o),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let b=0;b<o;b++){const M=b+u*g,E=b+u*(g+1),P=b+1+u*(g+1),A=b+1+u*g;m.push(M,E,A),m.push(E,P,A)}this.setIndex(m),this.setAttribute("position",new Ut(v,3)),this.setAttribute("normal",new Ut(S,3)),this.setAttribute("uv",new Ut(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new J1(e.width,e.height,e.widthSegments,e.heightSegments)}}var KSe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,QSe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,JSe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ebe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tbe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,nbe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,rbe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ibe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,sbe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,abe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,obe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,lbe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ube=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,cbe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,hbe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,dbe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,fbe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pbe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,mbe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,gbe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,vbe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ybe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,xbe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,_be=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Sbe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,bbe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Mbe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,wbe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Ebe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Tbe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Abe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Cbe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Pbe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Rbe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Lbe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ibe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Nbe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Dbe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Obe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,kbe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Ube=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Fbe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,zbe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Bbe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Vbe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Hbe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Gbe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Wbe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,jbe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Xbe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,$be=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ybe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,qbe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Zbe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Kbe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Qbe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Jbe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,eMe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tMe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nMe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,rMe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,iMe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,sMe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,aMe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oMe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,lMe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,uMe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,cMe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,hMe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,dMe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,fMe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,pMe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,mMe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,gMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yMe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,xMe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,_Me=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,SMe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,bMe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,MMe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,wMe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,EMe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,TMe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,AMe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,CMe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,PMe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,RMe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,LMe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,IMe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,NMe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,DMe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,OMe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,kMe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,UMe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,FMe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,zMe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,BMe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,VMe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,HMe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,GMe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,WMe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,jMe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,XMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,$Me=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,YMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,qMe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ZMe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,KMe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,QMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,JMe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ewe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,twe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nwe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rwe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,iwe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,swe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,awe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,owe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lwe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uwe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cwe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,hwe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dwe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fwe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pwe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mwe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gwe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vwe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ywe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xwe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_we=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Swe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bwe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mwe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wwe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Ewe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Twe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Awe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Cwe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Pwe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,on={alphahash_fragment:KSe,alphahash_pars_fragment:QSe,alphamap_fragment:JSe,alphamap_pars_fragment:ebe,alphatest_fragment:tbe,alphatest_pars_fragment:nbe,aomap_fragment:rbe,aomap_pars_fragment:ibe,batching_pars_vertex:sbe,batching_vertex:abe,begin_vertex:obe,beginnormal_vertex:lbe,bsdfs:ube,iridescence_fragment:cbe,bumpmap_pars_fragment:hbe,clipping_planes_fragment:dbe,clipping_planes_pars_fragment:fbe,clipping_planes_pars_vertex:pbe,clipping_planes_vertex:mbe,color_fragment:gbe,color_pars_fragment:vbe,color_pars_vertex:ybe,color_vertex:xbe,common:_be,cube_uv_reflection_fragment:Sbe,defaultnormal_vertex:bbe,displacementmap_pars_vertex:Mbe,displacementmap_vertex:wbe,emissivemap_fragment:Ebe,emissivemap_pars_fragment:Tbe,colorspace_fragment:Abe,colorspace_pars_fragment:Cbe,envmap_fragment:Pbe,envmap_common_pars_fragment:Rbe,envmap_pars_fragment:Lbe,envmap_pars_vertex:Ibe,envmap_physical_pars_fragment:Gbe,envmap_vertex:Nbe,fog_vertex:Dbe,fog_pars_vertex:Obe,fog_fragment:kbe,fog_pars_fragment:Ube,gradientmap_pars_fragment:Fbe,lightmap_pars_fragment:zbe,lights_lambert_fragment:Bbe,lights_lambert_pars_fragment:Vbe,lights_pars_begin:Hbe,lights_toon_fragment:Wbe,lights_toon_pars_fragment:jbe,lights_phong_fragment:Xbe,lights_phong_pars_fragment:$be,lights_physical_fragment:Ybe,lights_physical_pars_fragment:qbe,lights_fragment_begin:Zbe,lights_fragment_maps:Kbe,lights_fragment_end:Qbe,logdepthbuf_fragment:Jbe,logdepthbuf_pars_fragment:eMe,logdepthbuf_pars_vertex:tMe,logdepthbuf_vertex:nMe,map_fragment:rMe,map_pars_fragment:iMe,map_particle_fragment:sMe,map_particle_pars_fragment:aMe,metalnessmap_fragment:oMe,metalnessmap_pars_fragment:lMe,morphinstance_vertex:uMe,morphcolor_vertex:cMe,morphnormal_vertex:hMe,morphtarget_pars_vertex:dMe,morphtarget_vertex:fMe,normal_fragment_begin:pMe,normal_fragment_maps:mMe,normal_pars_fragment:gMe,normal_pars_vertex:vMe,normal_vertex:yMe,normalmap_pars_fragment:xMe,clearcoat_normal_fragment_begin:_Me,clearcoat_normal_fragment_maps:SMe,clearcoat_pars_fragment:bMe,iridescence_pars_fragment:MMe,opaque_fragment:wMe,packing:EMe,premultiplied_alpha_fragment:TMe,project_vertex:AMe,dithering_fragment:CMe,dithering_pars_fragment:PMe,roughnessmap_fragment:RMe,roughnessmap_pars_fragment:LMe,shadowmap_pars_fragment:IMe,shadowmap_pars_vertex:NMe,shadowmap_vertex:DMe,shadowmask_pars_fragment:OMe,skinbase_vertex:kMe,skinning_pars_vertex:UMe,skinning_vertex:FMe,skinnormal_vertex:zMe,specularmap_fragment:BMe,specularmap_pars_fragment:VMe,tonemapping_fragment:HMe,tonemapping_pars_fragment:GMe,transmission_fragment:WMe,transmission_pars_fragment:jMe,uv_pars_fragment:XMe,uv_pars_vertex:$Me,uv_vertex:YMe,worldpos_vertex:qMe,background_vert:ZMe,background_frag:KMe,backgroundCube_vert:QMe,backgroundCube_frag:JMe,cube_vert:ewe,cube_frag:twe,depth_vert:nwe,depth_frag:rwe,distanceRGBA_vert:iwe,distanceRGBA_frag:swe,equirect_vert:awe,equirect_frag:owe,linedashed_vert:lwe,linedashed_frag:uwe,meshbasic_vert:cwe,meshbasic_frag:hwe,meshlambert_vert:dwe,meshlambert_frag:fwe,meshmatcap_vert:pwe,meshmatcap_frag:mwe,meshnormal_vert:gwe,meshnormal_frag:vwe,meshphong_vert:ywe,meshphong_frag:xwe,meshphysical_vert:_we,meshphysical_frag:Swe,meshtoon_vert:bwe,meshtoon_frag:Mwe,points_vert:wwe,points_frag:Ewe,shadow_vert:Twe,shadow_frag:Awe,sprite_vert:Cwe,sprite_frag:Pwe},wt={common:{diffuse:{value:new Pt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Kt}},envmap:{envMap:{value:null},envMapRotation:{value:new Kt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Kt},normalScale:{value:new et(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0},uvTransform:{value:new Kt}},sprite:{diffuse:{value:new Pt(16777215)},opacity:{value:1},center:{value:new et(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}}},Vl={basic:{uniforms:$s([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.fog]),vertexShader:on.meshbasic_vert,fragmentShader:on.meshbasic_frag},lambert:{uniforms:$s([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Pt(0)}}]),vertexShader:on.meshlambert_vert,fragmentShader:on.meshlambert_frag},phong:{uniforms:$s([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Pt(0)},specular:{value:new Pt(1118481)},shininess:{value:30}}]),vertexShader:on.meshphong_vert,fragmentShader:on.meshphong_frag},standard:{uniforms:$s([wt.common,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.roughnessmap,wt.metalnessmap,wt.fog,wt.lights,{emissive:{value:new Pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag},toon:{uniforms:$s([wt.common,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.gradientmap,wt.fog,wt.lights,{emissive:{value:new Pt(0)}}]),vertexShader:on.meshtoon_vert,fragmentShader:on.meshtoon_frag},matcap:{uniforms:$s([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,{matcap:{value:null}}]),vertexShader:on.meshmatcap_vert,fragmentShader:on.meshmatcap_frag},points:{uniforms:$s([wt.points,wt.fog]),vertexShader:on.points_vert,fragmentShader:on.points_frag},dashed:{uniforms:$s([wt.common,wt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:on.linedashed_vert,fragmentShader:on.linedashed_frag},depth:{uniforms:$s([wt.common,wt.displacementmap]),vertexShader:on.depth_vert,fragmentShader:on.depth_frag},normal:{uniforms:$s([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,{opacity:{value:1}}]),vertexShader:on.meshnormal_vert,fragmentShader:on.meshnormal_frag},sprite:{uniforms:$s([wt.sprite,wt.fog]),vertexShader:on.sprite_vert,fragmentShader:on.sprite_frag},background:{uniforms:{uvTransform:{value:new Kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:on.background_vert,fragmentShader:on.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Kt}},vertexShader:on.backgroundCube_vert,fragmentShader:on.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:on.cube_vert,fragmentShader:on.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:on.equirect_vert,fragmentShader:on.equirect_frag},distanceRGBA:{uniforms:$s([wt.common,wt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:on.distanceRGBA_vert,fragmentShader:on.distanceRGBA_frag},shadow:{uniforms:$s([wt.lights,wt.fog,{color:{value:new Pt(0)},opacity:{value:1}}]),vertexShader:on.shadow_vert,fragmentShader:on.shadow_frag}};Vl.physical={uniforms:$s([Vl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Kt},clearcoatNormalScale:{value:new et(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Kt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Kt},sheen:{value:0},sheenColor:{value:new Pt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Kt},transmissionSamplerSize:{value:new et},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Kt},attenuationDistance:{value:0},attenuationColor:{value:new Pt(0)},specularColor:{value:new Pt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Kt},anisotropyVector:{value:new et},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Kt}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag};const KE={r:0,b:0,g:0},Zp=new bo,Rwe=new Yt;function Lwe(t,e,n,r,i,s,a){const o=new Pt(0);let l=s===!0?0:1,u,h,d=null,f=0,m=null;function v(b){let M=b.isScene===!0?b.background:null;return M&&M.isTexture&&(M=(b.backgroundBlurriness>0?n:e).get(M)),M}function S(b){let M=!1;const E=v(b);E===null?g(o,l):E&&E.isColor&&(g(E,1),M=!0);const P=t.xr.getEnvironmentBlendMode();P==="additive"?r.buffers.color.setClear(0,0,0,1,a):P==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(b,M){const E=v(M);E&&(E.isCubeTexture||E.mapping===Z1)?(h===void 0&&(h=new ci(new Zg(1,1,1),new dl({name:"BackgroundCubeMaterial",uniforms:M1(Vl.backgroundCube.uniforms),vertexShader:Vl.backgroundCube.vertexShader,fragmentShader:Vl.backgroundCube.fragmentShader,side:ea,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,A,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),Zp.copy(M.backgroundRotation),Zp.x*=-1,Zp.y*=-1,Zp.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Zp.y*=-1,Zp.z*=-1),h.material.uniforms.envMap.value=E,h.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(Rwe.makeRotationFromEuler(Zp)),h.material.toneMapped=bn.getTransfer(E.colorSpace)!==zn,(d!==E||f!==E.version||m!==t.toneMapping)&&(h.material.needsUpdate=!0,d=E,f=E.version,m=t.toneMapping),h.layers.enableAll(),b.unshift(h,h.geometry,h.material,0,0,null)):E&&E.isTexture&&(u===void 0&&(u=new ci(new J1(2,2),new dl({name:"BackgroundMaterial",uniforms:M1(Vl.background.uniforms),vertexShader:Vl.background.vertexShader,fragmentShader:Vl.background.fragmentShader,side:Hh,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=E,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.toneMapped=bn.getTransfer(E.colorSpace)!==zn,E.matrixAutoUpdate===!0&&E.updateMatrix(),u.material.uniforms.uvTransform.value.copy(E.matrix),(d!==E||f!==E.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=E,f=E.version,m=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null))}function g(b,M){b.getRGB(KE,Hte(t)),r.buffers.color.setClear(KE.r,KE.g,KE.b,M,a)}return{getClearColor:function(){return o},setClearColor:function(b,M=1){o.set(b),l=M,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,g(o,l)},render:S,addToRenderList:y}}function Iwe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,a=!1;function o(C,O,G,j,q){let Q=!1;const X=d(j,G,O);s!==X&&(s=X,u(s.object)),Q=m(C,j,G,q),Q&&v(C,j,G,q),q!==null&&e.update(q,t.ELEMENT_ARRAY_BUFFER),(Q||a)&&(a=!1,E(C,O,G,j),q!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(q).buffer))}function l(){return t.createVertexArray()}function u(C){return t.bindVertexArray(C)}function h(C){return t.deleteVertexArray(C)}function d(C,O,G){const j=G.wireframe===!0;let q=r[C.id];q===void 0&&(q={},r[C.id]=q);let Q=q[O.id];Q===void 0&&(Q={},q[O.id]=Q);let X=Q[j];return X===void 0&&(X=f(l()),Q[j]=X),X}function f(C){const O=[],G=[],j=[];for(let q=0;q<n;q++)O[q]=0,G[q]=0,j[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:G,attributeDivisors:j,object:C,attributes:{},index:null}}function m(C,O,G,j){const q=s.attributes,Q=O.attributes;let X=0;const se=G.getAttributes();for(const D in se)if(se[D].location>=0){const B=q[D];let $=Q[D];if($===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&($=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&($=C.instanceColor)),B===void 0||B.attribute!==$||$&&B.data!==$.data)return!0;X++}return s.attributesNum!==X||s.index!==j}function v(C,O,G,j){const q={},Q=O.attributes;let X=0;const se=G.getAttributes();for(const D in se)if(se[D].location>=0){let B=Q[D];B===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(B=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(B=C.instanceColor));const $={};$.attribute=B,B&&B.data&&($.data=B.data),q[D]=$,X++}s.attributes=q,s.attributesNum=X,s.index=j}function S(){const C=s.newAttributes;for(let O=0,G=C.length;O<G;O++)C[O]=0}function y(C){g(C,0)}function g(C,O){const G=s.newAttributes,j=s.enabledAttributes,q=s.attributeDivisors;G[C]=1,j[C]===0&&(t.enableVertexAttribArray(C),j[C]=1),q[C]!==O&&(t.vertexAttribDivisor(C,O),q[C]=O)}function b(){const C=s.newAttributes,O=s.enabledAttributes;for(let G=0,j=O.length;G<j;G++)O[G]!==C[G]&&(t.disableVertexAttribArray(G),O[G]=0)}function M(C,O,G,j,q,Q,X){X===!0?t.vertexAttribIPointer(C,O,G,q,Q):t.vertexAttribPointer(C,O,G,j,q,Q)}function E(C,O,G,j){S();const q=j.attributes,Q=G.getAttributes(),X=O.defaultAttributeValues;for(const se in Q){const D=Q[se];if(D.location>=0){let V=q[se];if(V===void 0&&(se==="instanceMatrix"&&C.instanceMatrix&&(V=C.instanceMatrix),se==="instanceColor"&&C.instanceColor&&(V=C.instanceColor)),V!==void 0){const B=V.normalized,$=V.itemSize,te=e.get(V);if(te===void 0)continue;const Ae=te.buffer,F=te.type,ve=te.bytesPerElement,ie=F===t.INT||F===t.UNSIGNED_INT||V.gpuType===aR;if(V.isInterleavedBufferAttribute){const he=V.data,Ve=he.stride,ke=V.offset;if(he.isInstancedInterleavedBuffer){for(let Pe=0;Pe<D.locationSize;Pe++)g(D.location+Pe,he.meshPerAttribute);C.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let Pe=0;Pe<D.locationSize;Pe++)y(D.location+Pe);t.bindBuffer(t.ARRAY_BUFFER,Ae);for(let Pe=0;Pe<D.locationSize;Pe++)M(D.location+Pe,$/D.locationSize,F,B,Ve*ve,(ke+$/D.locationSize*Pe)*ve,ie)}else{if(V.isInstancedBufferAttribute){for(let he=0;he<D.locationSize;he++)g(D.location+he,V.meshPerAttribute);C.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let he=0;he<D.locationSize;he++)y(D.location+he);t.bindBuffer(t.ARRAY_BUFFER,Ae);for(let he=0;he<D.locationSize;he++)M(D.location+he,$/D.locationSize,F,B,$*ve,$/D.locationSize*he*ve,ie)}}else if(X!==void 0){const B=X[se];if(B!==void 0)switch(B.length){case 2:t.vertexAttrib2fv(D.location,B);break;case 3:t.vertexAttrib3fv(D.location,B);break;case 4:t.vertexAttrib4fv(D.location,B);break;default:t.vertexAttrib1fv(D.location,B)}}}}b()}function P(){I();for(const C in r){const O=r[C];for(const G in O){const j=O[G];for(const q in j)h(j[q].object),delete j[q];delete O[G]}delete r[C]}}function A(C){if(r[C.id]===void 0)return;const O=r[C.id];for(const G in O){const j=O[G];for(const q in j)h(j[q].object),delete j[q];delete O[G]}delete r[C.id]}function L(C){for(const O in r){const G=r[O];if(G[C.id]===void 0)continue;const j=G[C.id];for(const q in j)h(j[q].object),delete j[q];delete G[C.id]}}function I(){R(),a=!0,s!==i&&(s=i,u(s.object))}function R(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:I,resetDefaultState:R,dispose:P,releaseStatesOfGeometry:A,releaseStatesOfProgram:L,initAttributes:S,enableAttribute:y,disableUnusedAttributes:b}}function Nwe(t,e,n){let r;function i(u){r=u}function s(u,h){t.drawArrays(r,u,h),n.update(h,r,1)}function a(u,h,d){d!==0&&(t.drawArraysInstanced(r,u,h,d),n.update(h,r,d))}function o(u,h,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,h,0,d);let m=0;for(let v=0;v<d;v++)m+=h[v];n.update(m,r,1)}function l(u,h,d,f){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<u.length;v++)a(u[v],h[v],f[v]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,h,0,f,0,d);let v=0;for(let S=0;S<d;S++)v+=h[S]*f[S];n.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function Dwe(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(L){return!(L!==Ns&&r.convert(L)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(L){const I=L===K1&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(L!==Zl&&r.convert(L)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==Ta&&!I)}function l(L){if(L==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const h=l(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const d=n.logarithmicDepthBuffer===!0,f=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),M=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),P=v>0,A=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:m,maxVertexTextures:v,maxTextureSize:S,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:b,maxVaryings:M,maxFragmentUniforms:E,vertexTextures:P,maxSamples:A}}function Owe(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new Qd,o=new Kt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const m=d.length!==0||f||r!==0||i;return i=f,r=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){n=h(d,f,0)},this.setState=function(d,f,m){const v=d.clippingPlanes,S=d.clipIntersection,y=d.clipShadows,g=t.get(d);if(!i||v===null||v.length===0||s&&!y)s?h(null):u();else{const b=s?0:r,M=b*4;let E=g.clippingState||null;l.value=E,E=h(v,f,M,m);for(let P=0;P!==M;++P)E[P]=n[P];g.clippingState=E,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=b}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(d,f,m,v){const S=d!==null?d.length:0;let y=null;if(S!==0){if(y=l.value,v!==!0||y===null){const g=m+S*4,b=f.matrixWorldInverse;o.getNormalMatrix(b),(y===null||y.length<g)&&(y=new Float32Array(g));for(let M=0,E=m;M!==S;++M,E+=4)a.copy(d[M]).applyMatrix4(b,o),a.normal.toArray(y,E),y[E+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,y}}function kwe(t){let e=new WeakMap;function n(a,o){return o===Kb?a.mapping=Gh:o===Qb&&(a.mapping=zf),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===Kb||o===Qb)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new jte(l.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class yw extends mw{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=h*this.view.offsetY,l=o-h*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const gy=4,OH=[.125,.215,.35,.446,.526,.582],Dm=20,v4=new yw,kH=new Pt;let y4=null,x4=0,_4=0,S4=!1;const Em=(1+Math.sqrt(5))/2,fv=1/Em,UH=[new le(-Em,fv,0),new le(Em,fv,0),new le(-fv,0,Em),new le(fv,0,Em),new le(0,Em,-fv),new le(0,Em,fv),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)];class AO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){y4=this._renderer.getRenderTarget(),x4=this._renderer.getActiveCubeFace(),_4=this._renderer.getActiveMipmapLevel(),S4=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=BH(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=zH(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(y4,x4,_4),this._renderer.xr.enabled=S4,e.scissorTest=!1,QE(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Gh||e.mapping===zf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),y4=this._renderer.getRenderTarget(),x4=this._renderer.getActiveCubeFace(),_4=this._renderer.getActiveMipmapLevel(),S4=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Si,minFilter:Si,generateMipmaps:!1,type:K1,format:Ns,colorSpace:qg,depthBuffer:!1},i=FH(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=FH(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Uwe(s)),this._blurMaterial=Fwe(s,e,n)}return i}_compileMaterial(e){const n=new ci(this._lodPlanes[0],e);this._renderer.compile(n,v4)}_sceneToCubeUV(e,n,r,i){const o=new Vi(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,f=h.toneMapping;h.getClearColor(kH),h.toneMapping=Zu,h.autoClear=!1;const m=new tp({name:"PMREM.Background",side:ea,depthWrite:!1,depthTest:!1}),v=new ci(new Zg,m);let S=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,S=!0):(m.color.copy(kH),S=!0);for(let g=0;g<6;g++){const b=g%3;b===0?(o.up.set(0,l[g],0),o.lookAt(u[g],0,0)):b===1?(o.up.set(0,0,l[g]),o.lookAt(0,u[g],0)):(o.up.set(0,l[g],0),o.lookAt(0,0,u[g]));const M=this._cubeSize;QE(i,b*M,g>2?M:0,M,M),h.setRenderTarget(i),S&&h.render(v,o),h.render(e,o)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=f,h.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Gh||e.mapping===zf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=BH()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=zH());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new ci(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;QE(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,v4)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=UH[(i-s-1)%UH.length];this._blur(e,s-1,s,a,o)}n.autoClear=r}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new ci(this._lodPlanes[i],u),f=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Dm-1),S=s/v,y=isFinite(s)?1+Math.floor(h*S):Dm;y>Dm&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Dm}`);const g=[];let b=0;for(let L=0;L<Dm;++L){const I=L/S,R=Math.exp(-I*I/2);g.push(R),L===0?b+=R:L<y&&(b+=2*R)}for(let L=0;L<g.length;L++)g[L]=g[L]/b;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=g,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:M}=this;f.dTheta.value=v,f.mipInt.value=M-r;const E=this._sizeLods[i],P=3*E*(i>M-gy?i-M+gy:0),A=4*(this._cubeSize-E);QE(n,P,A,3*E,2*E),l.setRenderTarget(n),l.render(d,v4)}}function Uwe(t){const e=[],n=[],r=[];let i=t;const s=t-gy+1+OH.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);n.push(o);let l=1/o;a>t-gy?l=OH[a-t+gy-1]:a===0&&(l=0),r.push(l);const u=1/(o-2),h=-u,d=1+u,f=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,v=6,S=3,y=2,g=1,b=new Float32Array(S*v*m),M=new Float32Array(y*v*m),E=new Float32Array(g*v*m);for(let A=0;A<m;A++){const L=A%3*2/3-1,I=A>2?0:-1,R=[L,I,0,L+2/3,I,0,L+2/3,I+1,0,L,I,0,L+2/3,I+1,0,L,I+1,0];b.set(R,S*v*A),M.set(f,y*v*A);const C=[A,A,A,A,A,A];E.set(C,g*v*A)}const P=new tn;P.setAttribute("position",new $n(b,S)),P.setAttribute("uv",new $n(M,y)),P.setAttribute("faceIndex",new $n(E,g)),e.push(P),i>gy&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function FH(t,e,n){const r=new Kl(t,e,n);return r.texture.mapping=Z1,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function QE(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Fwe(t,e,n){const r=new Float32Array(Dm),i=new le(0,1,0);return new dl({name:"SphericalGaussianBlur",defines:{n:Dm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:X6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Th,depthTest:!1,depthWrite:!1})}function zH(){return new dl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:X6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Th,depthTest:!1,depthWrite:!1})}function BH(){return new dl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:X6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Th,depthTest:!1,depthWrite:!1})}function X6(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zwe(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,u=l===Kb||l===Qb,h=l===Gh||l===zf;if(u||h){let d=e.get(o);const f=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return n===null&&(n=new AO(t)),d=u?n.fromEquirectangular(o,d):n.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const m=o.image;return u&&m&&m.height>0||h&&m&&i(m)?(n===null&&(n=new AO(t)),d=u?n.fromEquirectangular(o):n.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",s),d.texture):null}}}return o}function i(o){let l=0;const u=6;for(let h=0;h<u;h++)o[h]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Bwe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&xS("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Vwe(t,e,n,r){const i={},s=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);for(const v in f.morphAttributes){const S=f.morphAttributes[v];for(let y=0,g=S.length;y<g;y++)e.remove(S[y])}f.removeEventListener("dispose",a),delete i[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const v in f)e.update(f[v],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const S=m[v];for(let y=0,g=S.length;y<g;y++)e.update(S[y],t.ARRAY_BUFFER)}}function u(d){const f=[],m=d.index,v=d.attributes.position;let S=0;if(m!==null){const b=m.array;S=m.version;for(let M=0,E=b.length;M<E;M+=3){const P=b[M+0],A=b[M+1],L=b[M+2];f.push(P,A,A,L,L,P)}}else if(v!==void 0){const b=v.array;S=v.version;for(let M=0,E=b.length/3-1;M<E;M+=3){const P=M+0,A=M+1,L=M+2;f.push(P,A,A,L,L,P)}}else return;const y=new(Ute(f)?j6:W6)(f,1);y.version=S;const g=s.get(d);g&&e.remove(g),s.set(d,y)}function h(d){const f=s.get(d);if(f){const m=d.index;m!==null&&f.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:o,update:l,getWireframeAttribute:h}}function Hwe(t,e,n){let r;function i(f){r=f}let s,a;function o(f){s=f.type,a=f.bytesPerElement}function l(f,m){t.drawElements(r,m,s,f*a),n.update(m,r,1)}function u(f,m,v){v!==0&&(t.drawElementsInstanced(r,m,s,f*a,v),n.update(m,r,v))}function h(f,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,f,0,v);let y=0;for(let g=0;g<v;g++)y+=m[g];n.update(y,r,1)}function d(f,m,v,S){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<f.length;g++)u(f[g]/a,m[g],S[g]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,s,f,0,S,0,v);let g=0;for(let b=0;b<v;b++)g+=m[b]*S[b];n.update(g,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=h,this.renderMultiDrawInstances=d}function Gwe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Wwe(t,e,n){const r=new WeakMap,i=new An;function s(a,o,l){const u=a.morphTargetInfluences,h=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=h!==void 0?h.length:0;let f=r.get(o);if(f===void 0||f.count!==d){let C=function(){I.dispose(),r.delete(o),o.removeEventListener("dispose",C)};var m=C;f!==void 0&&f.texture.dispose();const v=o.morphAttributes.position!==void 0,S=o.morphAttributes.normal!==void 0,y=o.morphAttributes.color!==void 0,g=o.morphAttributes.position||[],b=o.morphAttributes.normal||[],M=o.morphAttributes.color||[];let E=0;v===!0&&(E=1),S===!0&&(E=2),y===!0&&(E=3);let P=o.attributes.position.count*E,A=1;P>e.maxTextureSize&&(A=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const L=new Float32Array(P*A*4*d),I=new fR(L,P,A,d);I.type=Ta,I.needsUpdate=!0;const R=E*4;for(let O=0;O<d;O++){const G=g[O],j=b[O],q=M[O],Q=P*A*4*O;for(let X=0;X<G.count;X++){const se=X*R;v===!0&&(i.fromBufferAttribute(G,X),L[Q+se+0]=i.x,L[Q+se+1]=i.y,L[Q+se+2]=i.z,L[Q+se+3]=0),S===!0&&(i.fromBufferAttribute(j,X),L[Q+se+4]=i.x,L[Q+se+5]=i.y,L[Q+se+6]=i.z,L[Q+se+7]=0),y===!0&&(i.fromBufferAttribute(q,X),L[Q+se+8]=i.x,L[Q+se+9]=i.y,L[Q+se+10]=i.z,L[Q+se+11]=q.itemSize===4?i.w:1)}}f={count:d,texture:I,size:new et(P,A)},r.set(o,f),o.addEventListener("dispose",C)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let v=0;for(let y=0;y<u.length;y++)v+=u[y];const S=o.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",S),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:s}}function jwe(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,h=l.geometry,d=e.get(l,h);if(i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==u&&(f.update(),i.set(f,u))}return d}function a(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}class $6 extends Ar{constructor(e,n,r,i,s,a,o,l,u,h=sg){if(h!==sg&&h!==Pg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===sg&&(r=Wh),r===void 0&&h===Pg&&(r=Cg),super(null,i,s,a,o,l,h,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:us,this.minFilter=l!==void 0?l:us,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const $te=new Ar,VH=new $6(1,1),Yte=new fR,qte=new G6,Zte=new gw,HH=[],GH=[],WH=new Float32Array(16),jH=new Float32Array(9),XH=new Float32Array(4);function ex(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=HH[i];if(s===void 0&&(s=new Float32Array(i),HH[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function wi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ei(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function pR(t,e){let n=GH[e];n===void 0&&(n=new Int32Array(e),GH[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Xwe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function $we(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(wi(n,e))return;t.uniform2fv(this.addr,e),Ei(n,e)}}function Ywe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(wi(n,e))return;t.uniform3fv(this.addr,e),Ei(n,e)}}function qwe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(wi(n,e))return;t.uniform4fv(this.addr,e),Ei(n,e)}}function Zwe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(wi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ei(n,e)}else{if(wi(n,r))return;XH.set(r),t.uniformMatrix2fv(this.addr,!1,XH),Ei(n,r)}}function Kwe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(wi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ei(n,e)}else{if(wi(n,r))return;jH.set(r),t.uniformMatrix3fv(this.addr,!1,jH),Ei(n,r)}}function Qwe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(wi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ei(n,e)}else{if(wi(n,r))return;WH.set(r),t.uniformMatrix4fv(this.addr,!1,WH),Ei(n,r)}}function Jwe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function eEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(wi(n,e))return;t.uniform2iv(this.addr,e),Ei(n,e)}}function tEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(wi(n,e))return;t.uniform3iv(this.addr,e),Ei(n,e)}}function nEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(wi(n,e))return;t.uniform4iv(this.addr,e),Ei(n,e)}}function rEe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function iEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(wi(n,e))return;t.uniform2uiv(this.addr,e),Ei(n,e)}}function sEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(wi(n,e))return;t.uniform3uiv(this.addr,e),Ei(n,e)}}function aEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(wi(n,e))return;t.uniform4uiv(this.addr,e),Ei(n,e)}}function oEe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(VH.compareFunction=V6,s=VH):s=$te,n.setTexture2D(e||s,i)}function lEe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||qte,i)}function uEe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Zte,i)}function cEe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Yte,i)}function hEe(t){switch(t){case 5126:return Xwe;case 35664:return $we;case 35665:return Ywe;case 35666:return qwe;case 35674:return Zwe;case 35675:return Kwe;case 35676:return Qwe;case 5124:case 35670:return Jwe;case 35667:case 35671:return eEe;case 35668:case 35672:return tEe;case 35669:case 35673:return nEe;case 5125:return rEe;case 36294:return iEe;case 36295:return sEe;case 36296:return aEe;case 35678:case 36198:case 36298:case 36306:case 35682:return oEe;case 35679:case 36299:case 36307:return lEe;case 35680:case 36300:case 36308:case 36293:return uEe;case 36289:case 36303:case 36311:case 36292:return cEe}}function dEe(t,e){t.uniform1fv(this.addr,e)}function fEe(t,e){const n=ex(e,this.size,2);t.uniform2fv(this.addr,n)}function pEe(t,e){const n=ex(e,this.size,3);t.uniform3fv(this.addr,n)}function mEe(t,e){const n=ex(e,this.size,4);t.uniform4fv(this.addr,n)}function gEe(t,e){const n=ex(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function vEe(t,e){const n=ex(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function yEe(t,e){const n=ex(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xEe(t,e){t.uniform1iv(this.addr,e)}function _Ee(t,e){t.uniform2iv(this.addr,e)}function SEe(t,e){t.uniform3iv(this.addr,e)}function bEe(t,e){t.uniform4iv(this.addr,e)}function MEe(t,e){t.uniform1uiv(this.addr,e)}function wEe(t,e){t.uniform2uiv(this.addr,e)}function EEe(t,e){t.uniform3uiv(this.addr,e)}function TEe(t,e){t.uniform4uiv(this.addr,e)}function AEe(t,e,n){const r=this.cache,i=e.length,s=pR(n,i);wi(r,s)||(t.uniform1iv(this.addr,s),Ei(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||$te,s[a])}function CEe(t,e,n){const r=this.cache,i=e.length,s=pR(n,i);wi(r,s)||(t.uniform1iv(this.addr,s),Ei(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||qte,s[a])}function PEe(t,e,n){const r=this.cache,i=e.length,s=pR(n,i);wi(r,s)||(t.uniform1iv(this.addr,s),Ei(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||Zte,s[a])}function REe(t,e,n){const r=this.cache,i=e.length,s=pR(n,i);wi(r,s)||(t.uniform1iv(this.addr,s),Ei(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Yte,s[a])}function LEe(t){switch(t){case 5126:return dEe;case 35664:return fEe;case 35665:return pEe;case 35666:return mEe;case 35674:return gEe;case 35675:return vEe;case 35676:return yEe;case 5124:case 35670:return xEe;case 35667:case 35671:return _Ee;case 35668:case 35672:return SEe;case 35669:case 35673:return bEe;case 5125:return MEe;case 36294:return wEe;case 36295:return EEe;case 36296:return TEe;case 35678:case 36198:case 36298:case 36306:case 35682:return AEe;case 35679:case 36299:case 36307:return CEe;case 35680:case 36300:case 36308:case 36293:return PEe;case 36289:case 36303:case 36311:case 36292:return REe}}class IEe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=hEe(n.type)}}class NEe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=LEe(n.type)}}class DEe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const b4=/(\w+)(\])?(\[|\.)?/g;function $H(t,e){t.seq.push(e),t.map[e.id]=e}function OEe(t,e,n){const r=t.name,i=r.length;for(b4.lastIndex=0;;){const s=b4.exec(r),a=b4.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===i){$H(n,u===void 0?new IEe(o,t,e):new NEe(o,t,e));break}else{let d=n.map[o];d===void 0&&(d=new DEe(o),$H(n,d)),n=d}}}class oA{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);OEe(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function YH(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const kEe=37297;let UEe=0;function FEe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}const qH=new Kt;function zEe(t){bn._getMatrix(qH,bn.workingColorSpace,t);const e=`mat3( ${qH.elements.map(n=>n.toFixed(4))} )`;switch(bn.getTransfer(t)){case pw:return[e,"LinearTransferOETF"];case zn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function ZH(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+FEe(t.getShaderSource(e),a)}else return i}function BEe(t,e){const n=zEe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function VEe(t,e){let n;switch(e){case vte:n="Linear";break;case yte:n="Reinhard";break;case xte:n="Cineon";break;case P6:n="ACESFilmic";break;case Ste:n="AgX";break;case bte:n="Neutral";break;case _te:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const JE=new le;function HEe(){bn.getLuminanceCoefficients(JE);const t=JE.x.toFixed(4),e=JE.y.toFixed(4),n=JE.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function GEe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(SS).join(`
`)}function WEe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function jEe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function SS(t){return t!==""}function KH(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function QH(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const XEe=/^[ \t]*#include +<([\w\d./]+)>/gm;function CO(t){return t.replace(XEe,YEe)}const $Ee=new Map;function YEe(t,e){let n=on[e];if(n===void 0){const r=$Ee.get(e);if(r!==void 0)n=on[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return CO(n)}const qEe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function JH(t){return t.replace(qEe,ZEe)}function ZEe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function eG(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function KEe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===iR?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===YS?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Dl&&(e="SHADOWMAP_TYPE_VSM"),e}function QEe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Gh:case zf:e="ENVMAP_TYPE_CUBE";break;case Z1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function JEe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case zf:e="ENVMAP_MODE_REFRACTION";break}return e}function e2e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case dw:e="ENVMAP_BLENDING_MULTIPLY";break;case mte:e="ENVMAP_BLENDING_MIX";break;case gte:e="ENVMAP_BLENDING_ADD";break}return e}function t2e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function n2e(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=KEe(n),u=QEe(n),h=JEe(n),d=e2e(n),f=t2e(n),m=GEe(n),v=WEe(s),S=i.createProgram();let y,g,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(SS).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(SS).join(`
`),g.length>0&&(g+=`
`)):(y=[eG(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(SS).join(`
`),g=[eG(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Zu?"#define TONE_MAPPING":"",n.toneMapping!==Zu?on.tonemapping_pars_fragment:"",n.toneMapping!==Zu?VEe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",on.colorspace_pars_fragment,BEe("linearToOutputTexel",n.outputColorSpace),HEe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(SS).join(`
`)),a=CO(a),a=KH(a,n),a=QH(a,n),o=CO(o),o=KH(o,n),o=QH(o,n),a=JH(a),o=JH(o),n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===TO?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===TO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const M=b+y+a,E=b+g+o,P=YH(i,i.VERTEX_SHADER,M),A=YH(i,i.FRAGMENT_SHADER,E);i.attachShader(S,P),i.attachShader(S,A),n.index0AttributeName!==void 0?i.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function L(O){if(t.debug.checkShaderErrors){const G=i.getProgramInfoLog(S).trim(),j=i.getShaderInfoLog(P).trim(),q=i.getShaderInfoLog(A).trim();let Q=!0,X=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(Q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,S,P,A);else{const se=ZH(i,P,"vertex"),D=ZH(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+G+`
`+se+`
`+D)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(j===""||q==="")&&(X=!1);X&&(O.diagnostics={runnable:Q,programLog:G,vertexShader:{log:j,prefix:y},fragmentShader:{log:q,prefix:g}})}i.deleteShader(P),i.deleteShader(A),I=new oA(i,S),R=jEe(i,S)}let I;this.getUniforms=function(){return I===void 0&&L(this),I};let R;this.getAttributes=function(){return R===void 0&&L(this),R};let C=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=i.getProgramParameter(S,kEe)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=UEe++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=P,this.fragmentShader=A,this}let r2e=0;class i2e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new s2e(e),n.set(e,r)),r}}class s2e{constructor(e){this.id=r2e++,this.code=e,this.usedTimes=0}}function a2e(t,e,n,r,i,s,a){const o=new og,l=new i2e,u=new Set,h=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(R){return u.add(R),R===0?"uv":`uv${R}`}function y(R,C,O,G,j){const q=G.fog,Q=j.geometry,X=R.isMeshStandardMaterial?G.environment:null,se=(R.isMeshStandardMaterial?n:e).get(R.envMap||X),D=se&&se.mapping===Z1?se.image.height:null,V=v[R.type];R.precision!==null&&(m=i.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const B=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,$=B!==void 0?B.length:0;let te=0;Q.morphAttributes.position!==void 0&&(te=1),Q.morphAttributes.normal!==void 0&&(te=2),Q.morphAttributes.color!==void 0&&(te=3);let Ae,F,ve,ie;if(V){const Nt=Vl[V];Ae=Nt.vertexShader,F=Nt.fragmentShader}else Ae=R.vertexShader,F=R.fragmentShader,l.update(R),ve=l.getVertexShaderID(R),ie=l.getFragmentShaderID(R);const he=t.getRenderTarget(),Ve=t.state.buffers.depth.getReversed(),ke=j.isInstancedMesh===!0,Pe=j.isBatchedMesh===!0,Ce=!!R.map,pe=!!R.matcap,be=!!se,H=!!R.aoMap,Ee=!!R.lightMap,Te=!!R.bumpMap,He=!!R.normalMap,Le=!!R.displacementMap,it=!!R.emissiveMap,ze=!!R.metalnessMap,z=!!R.roughnessMap,k=R.anisotropy>0,J=R.clearcoat>0,ge=R.dispersion>0,xe=R.iridescence>0,me=R.sheen>0,qe=R.transmission>0,Ie=k&&!!R.anisotropyMap,Xe=J&&!!R.clearcoatMap,pt=J&&!!R.clearcoatNormalMap,Me=J&&!!R.clearcoatRoughnessMap,je=xe&&!!R.iridescenceMap,nt=xe&&!!R.iridescenceThicknessMap,at=me&&!!R.sheenColorMap,$e=me&&!!R.sheenRoughnessMap,Tt=!!R.specularMap,dt=!!R.specularColorMap,Vt=!!R.specularIntensityMap,Y=qe&&!!R.transmissionMap,Oe=qe&&!!R.thicknessMap,ce=!!R.gradientMap,_e=!!R.alphaMap,We=R.alphaTest>0,De=!!R.alphaHash,vt=!!R.extensions;let jt=Zu;R.toneMapped&&(he===null||he.isXRRenderTarget===!0)&&(jt=t.toneMapping);const dn={shaderID:V,shaderType:R.type,shaderName:R.name,vertexShader:Ae,fragmentShader:F,defines:R.defines,customVertexShaderID:ve,customFragmentShaderID:ie,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,batching:Pe,batchingColor:Pe&&j._colorsTexture!==null,instancing:ke,instancingColor:ke&&j.instanceColor!==null,instancingMorph:ke&&j.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:he===null?t.outputColorSpace:he.isXRRenderTarget===!0?he.texture.colorSpace:qg,alphaToCoverage:!!R.alphaToCoverage,map:Ce,matcap:pe,envMap:be,envMapMode:be&&se.mapping,envMapCubeUVHeight:D,aoMap:H,lightMap:Ee,bumpMap:Te,normalMap:He,displacementMap:f&&Le,emissiveMap:it,normalMapObjectSpace:He&&R.normalMapType===Pte,normalMapTangentSpace:He&&R.normalMapType===ep,metalnessMap:ze,roughnessMap:z,anisotropy:k,anisotropyMap:Ie,clearcoat:J,clearcoatMap:Xe,clearcoatNormalMap:pt,clearcoatRoughnessMap:Me,dispersion:ge,iridescence:xe,iridescenceMap:je,iridescenceThicknessMap:nt,sheen:me,sheenColorMap:at,sheenRoughnessMap:$e,specularMap:Tt,specularColorMap:dt,specularIntensityMap:Vt,transmission:qe,transmissionMap:Y,thicknessMap:Oe,gradientMap:ce,opaque:R.transparent===!1&&R.blending===ig&&R.alphaToCoverage===!1,alphaMap:_e,alphaTest:We,alphaHash:De,combine:R.combine,mapUv:Ce&&S(R.map.channel),aoMapUv:H&&S(R.aoMap.channel),lightMapUv:Ee&&S(R.lightMap.channel),bumpMapUv:Te&&S(R.bumpMap.channel),normalMapUv:He&&S(R.normalMap.channel),displacementMapUv:Le&&S(R.displacementMap.channel),emissiveMapUv:it&&S(R.emissiveMap.channel),metalnessMapUv:ze&&S(R.metalnessMap.channel),roughnessMapUv:z&&S(R.roughnessMap.channel),anisotropyMapUv:Ie&&S(R.anisotropyMap.channel),clearcoatMapUv:Xe&&S(R.clearcoatMap.channel),clearcoatNormalMapUv:pt&&S(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Me&&S(R.clearcoatRoughnessMap.channel),iridescenceMapUv:je&&S(R.iridescenceMap.channel),iridescenceThicknessMapUv:nt&&S(R.iridescenceThicknessMap.channel),sheenColorMapUv:at&&S(R.sheenColorMap.channel),sheenRoughnessMapUv:$e&&S(R.sheenRoughnessMap.channel),specularMapUv:Tt&&S(R.specularMap.channel),specularColorMapUv:dt&&S(R.specularColorMap.channel),specularIntensityMapUv:Vt&&S(R.specularIntensityMap.channel),transmissionMapUv:Y&&S(R.transmissionMap.channel),thicknessMapUv:Oe&&S(R.thicknessMap.channel),alphaMapUv:_e&&S(R.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(He||k),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!Q.attributes.uv&&(Ce||_e),fog:!!q,useFog:R.fog===!0,fogExp2:!!q&&q.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:Ve,skinning:j.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:te,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:jt,decodeVideoTexture:Ce&&R.map.isVideoTexture===!0&&bn.getTransfer(R.map.colorSpace)===zn,decodeVideoTextureEmissive:it&&R.emissiveMap.isVideoTexture===!0&&bn.getTransfer(R.emissiveMap.colorSpace)===zn,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===Nu,flipSided:R.side===ea,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:vt&&R.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(vt&&R.extensions.multiDraw===!0||Pe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return dn.vertexUv1s=u.has(1),dn.vertexUv2s=u.has(2),dn.vertexUv3s=u.has(3),u.clear(),dn}function g(R){const C=[];if(R.shaderID?C.push(R.shaderID):(C.push(R.customVertexShaderID),C.push(R.customFragmentShaderID)),R.defines!==void 0)for(const O in R.defines)C.push(O),C.push(R.defines[O]);return R.isRawShaderMaterial===!1&&(b(C,R),M(C,R),C.push(t.outputColorSpace)),C.push(R.customProgramCacheKey),C.join()}function b(R,C){R.push(C.precision),R.push(C.outputColorSpace),R.push(C.envMapMode),R.push(C.envMapCubeUVHeight),R.push(C.mapUv),R.push(C.alphaMapUv),R.push(C.lightMapUv),R.push(C.aoMapUv),R.push(C.bumpMapUv),R.push(C.normalMapUv),R.push(C.displacementMapUv),R.push(C.emissiveMapUv),R.push(C.metalnessMapUv),R.push(C.roughnessMapUv),R.push(C.anisotropyMapUv),R.push(C.clearcoatMapUv),R.push(C.clearcoatNormalMapUv),R.push(C.clearcoatRoughnessMapUv),R.push(C.iridescenceMapUv),R.push(C.iridescenceThicknessMapUv),R.push(C.sheenColorMapUv),R.push(C.sheenRoughnessMapUv),R.push(C.specularMapUv),R.push(C.specularColorMapUv),R.push(C.specularIntensityMapUv),R.push(C.transmissionMapUv),R.push(C.thicknessMapUv),R.push(C.combine),R.push(C.fogExp2),R.push(C.sizeAttenuation),R.push(C.morphTargetsCount),R.push(C.morphAttributeCount),R.push(C.numDirLights),R.push(C.numPointLights),R.push(C.numSpotLights),R.push(C.numSpotLightMaps),R.push(C.numHemiLights),R.push(C.numRectAreaLights),R.push(C.numDirLightShadows),R.push(C.numPointLightShadows),R.push(C.numSpotLightShadows),R.push(C.numSpotLightShadowsWithMaps),R.push(C.numLightProbes),R.push(C.shadowMapType),R.push(C.toneMapping),R.push(C.numClippingPlanes),R.push(C.numClipIntersection),R.push(C.depthPacking)}function M(R,C){o.disableAll(),C.supportsVertexTextures&&o.enable(0),C.instancing&&o.enable(1),C.instancingColor&&o.enable(2),C.instancingMorph&&o.enable(3),C.matcap&&o.enable(4),C.envMap&&o.enable(5),C.normalMapObjectSpace&&o.enable(6),C.normalMapTangentSpace&&o.enable(7),C.clearcoat&&o.enable(8),C.iridescence&&o.enable(9),C.alphaTest&&o.enable(10),C.vertexColors&&o.enable(11),C.vertexAlphas&&o.enable(12),C.vertexUv1s&&o.enable(13),C.vertexUv2s&&o.enable(14),C.vertexUv3s&&o.enable(15),C.vertexTangents&&o.enable(16),C.anisotropy&&o.enable(17),C.alphaHash&&o.enable(18),C.batching&&o.enable(19),C.dispersion&&o.enable(20),C.batchingColor&&o.enable(21),R.push(o.mask),o.disableAll(),C.fog&&o.enable(0),C.useFog&&o.enable(1),C.flatShading&&o.enable(2),C.logarithmicDepthBuffer&&o.enable(3),C.reverseDepthBuffer&&o.enable(4),C.skinning&&o.enable(5),C.morphTargets&&o.enable(6),C.morphNormals&&o.enable(7),C.morphColors&&o.enable(8),C.premultipliedAlpha&&o.enable(9),C.shadowMapEnabled&&o.enable(10),C.doubleSided&&o.enable(11),C.flipSided&&o.enable(12),C.useDepthPacking&&o.enable(13),C.dithering&&o.enable(14),C.transmission&&o.enable(15),C.sheen&&o.enable(16),C.opaque&&o.enable(17),C.pointsUvs&&o.enable(18),C.decodeVideoTexture&&o.enable(19),C.decodeVideoTextureEmissive&&o.enable(20),C.alphaToCoverage&&o.enable(21),R.push(o.mask)}function E(R){const C=v[R.type];let O;if(C){const G=Vl[C];O=Gte.clone(G.uniforms)}else O=R.uniforms;return O}function P(R,C){let O;for(let G=0,j=h.length;G<j;G++){const q=h[G];if(q.cacheKey===C){O=q,++O.usedTimes;break}}return O===void 0&&(O=new n2e(t,C,R,s),h.push(O)),O}function A(R){if(--R.usedTimes===0){const C=h.indexOf(R);h[C]=h[h.length-1],h.pop(),R.destroy()}}function L(R){l.remove(R)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:E,acquireProgram:P,releaseProgram:A,releaseShaderCache:L,programs:h,dispose:I}}function o2e(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function r(a){t.delete(a)}function i(a,o,l){t.get(a)[o]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function l2e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function tG(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function nG(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(d,f,m,v,S,y){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:m,groupOrder:v,renderOrder:d.renderOrder,z:S,group:y},t[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=S,g.group=y),e++,g}function o(d,f,m,v,S,y){const g=a(d,f,m,v,S,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(d,f,m,v,S,y){const g=a(d,f,m,v,S,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(d,f){n.length>1&&n.sort(d||l2e),r.length>1&&r.sort(f||tG),i.length>1&&i.sort(f||tG)}function h(){for(let d=e,f=t.length;d<f;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:h,sort:u}}function u2e(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new nG,t.set(r,[a])):i>=s.length?(a=new nG,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function c2e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new le,color:new Pt};break;case"SpotLight":n={position:new le,direction:new le,color:new Pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new le,color:new Pt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new le,skyColor:new Pt,groundColor:new Pt};break;case"RectAreaLight":n={color:new Pt,position:new le,halfWidth:new le,halfHeight:new le};break}return t[e.id]=n,n}}}function h2e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let d2e=0;function f2e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function p2e(t){const e=new c2e,n=h2e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new le);const i=new le,s=new Yt,a=new Yt;function o(u){let h=0,d=0,f=0;for(let R=0;R<9;R++)r.probe[R].set(0,0,0);let m=0,v=0,S=0,y=0,g=0,b=0,M=0,E=0,P=0,A=0,L=0;u.sort(f2e);for(let R=0,C=u.length;R<C;R++){const O=u[R],G=O.color,j=O.intensity,q=O.distance,Q=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)h+=G.r*j,d+=G.g*j,f+=G.b*j;else if(O.isLightProbe){for(let X=0;X<9;X++)r.probe[X].addScaledVector(O.sh.coefficients[X],j);L++}else if(O.isDirectionalLight){const X=e.get(O);if(X.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const se=O.shadow,D=n.get(O);D.shadowIntensity=se.intensity,D.shadowBias=se.bias,D.shadowNormalBias=se.normalBias,D.shadowRadius=se.radius,D.shadowMapSize=se.mapSize,r.directionalShadow[m]=D,r.directionalShadowMap[m]=Q,r.directionalShadowMatrix[m]=O.shadow.matrix,b++}r.directional[m]=X,m++}else if(O.isSpotLight){const X=e.get(O);X.position.setFromMatrixPosition(O.matrixWorld),X.color.copy(G).multiplyScalar(j),X.distance=q,X.coneCos=Math.cos(O.angle),X.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),X.decay=O.decay,r.spot[S]=X;const se=O.shadow;if(O.map&&(r.spotLightMap[P]=O.map,P++,se.updateMatrices(O),O.castShadow&&A++),r.spotLightMatrix[S]=se.matrix,O.castShadow){const D=n.get(O);D.shadowIntensity=se.intensity,D.shadowBias=se.bias,D.shadowNormalBias=se.normalBias,D.shadowRadius=se.radius,D.shadowMapSize=se.mapSize,r.spotShadow[S]=D,r.spotShadowMap[S]=Q,E++}S++}else if(O.isRectAreaLight){const X=e.get(O);X.color.copy(G).multiplyScalar(j),X.halfWidth.set(O.width*.5,0,0),X.halfHeight.set(0,O.height*.5,0),r.rectArea[y]=X,y++}else if(O.isPointLight){const X=e.get(O);if(X.color.copy(O.color).multiplyScalar(O.intensity),X.distance=O.distance,X.decay=O.decay,O.castShadow){const se=O.shadow,D=n.get(O);D.shadowIntensity=se.intensity,D.shadowBias=se.bias,D.shadowNormalBias=se.normalBias,D.shadowRadius=se.radius,D.shadowMapSize=se.mapSize,D.shadowCameraNear=se.camera.near,D.shadowCameraFar=se.camera.far,r.pointShadow[v]=D,r.pointShadowMap[v]=Q,r.pointShadowMatrix[v]=O.shadow.matrix,M++}r.point[v]=X,v++}else if(O.isHemisphereLight){const X=e.get(O);X.skyColor.copy(O.color).multiplyScalar(j),X.groundColor.copy(O.groundColor).multiplyScalar(j),r.hemi[g]=X,g++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=wt.LTC_FLOAT_1,r.rectAreaLTC2=wt.LTC_FLOAT_2):(r.rectAreaLTC1=wt.LTC_HALF_1,r.rectAreaLTC2=wt.LTC_HALF_2)),r.ambient[0]=h,r.ambient[1]=d,r.ambient[2]=f;const I=r.hash;(I.directionalLength!==m||I.pointLength!==v||I.spotLength!==S||I.rectAreaLength!==y||I.hemiLength!==g||I.numDirectionalShadows!==b||I.numPointShadows!==M||I.numSpotShadows!==E||I.numSpotMaps!==P||I.numLightProbes!==L)&&(r.directional.length=m,r.spot.length=S,r.rectArea.length=y,r.point.length=v,r.hemi.length=g,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=M,r.pointShadowMap.length=M,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=M,r.spotLightMatrix.length=E+P-A,r.spotLightMap.length=P,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=L,I.directionalLength=m,I.pointLength=v,I.spotLength=S,I.rectAreaLength=y,I.hemiLength=g,I.numDirectionalShadows=b,I.numPointShadows=M,I.numSpotShadows=E,I.numSpotMaps=P,I.numLightProbes=L,r.version=d2e++)}function l(u,h){let d=0,f=0,m=0,v=0,S=0;const y=h.matrixWorldInverse;for(let g=0,b=u.length;g<b;g++){const M=u[g];if(M.isDirectionalLight){const E=r.directional[d];E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(y),d++}else if(M.isSpotLight){const E=r.spot[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(y),E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(y),m++}else if(M.isRectAreaLight){const E=r.rectArea[v];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(y),a.identity(),s.copy(M.matrixWorld),s.premultiply(y),a.extractRotation(s),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const E=r.point[f];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(y),f++}else if(M.isHemisphereLight){const E=r.hemi[S];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(y),S++}}}return{setup:o,setupView:l,state:r}}function rG(t){const e=new p2e(t),n=[],r=[];function i(h){u.camera=h,n.length=0,r.length=0}function s(h){n.push(h)}function a(h){r.push(h)}function o(){e.setup(n)}function l(h){e.setupView(n,h)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function m2e(t){let e=new WeakMap;function n(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new rG(t),e.set(i,[o])):s>=a.length?(o=new rG(t),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:n,dispose:r}}class Y6 extends ps{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=Ate,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class q6 extends ps{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const g2e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,v2e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function y2e(t,e,n){let r=new vw;const i=new et,s=new et,a=new An,o=new Y6({depthPacking:Cte}),l=new q6,u={},h=n.maxTextureSize,d={[Hh]:ea,[ea]:Hh,[Nu]:Nu},f=new dl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new et},radius:{value:4}},vertexShader:g2e,fragmentShader:v2e}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const v=new tn;v.setAttribute("position",new $n(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new ci(v,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=iR;let g=this.type;this.render=function(A,L,I){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const R=t.getRenderTarget(),C=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),G=t.state;G.setBlending(Th),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const j=g!==Dl&&this.type===Dl,q=g===Dl&&this.type!==Dl;for(let Q=0,X=A.length;Q<X;Q++){const se=A[Q],D=se.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;i.copy(D.mapSize);const V=D.getFrameExtents();if(i.multiply(V),s.copy(D.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/V.x),i.x=s.x*V.x,D.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/V.y),i.y=s.y*V.y,D.mapSize.y=s.y)),D.map===null||j===!0||q===!0){const $=this.type!==Dl?{minFilter:us,magFilter:us}:{};D.map!==null&&D.map.dispose(),D.map=new Kl(i.x,i.y,$),D.map.texture.name=se.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const B=D.getViewportCount();for(let $=0;$<B;$++){const te=D.getViewport($);a.set(s.x*te.x,s.y*te.y,s.x*te.z,s.y*te.w),G.viewport(a),D.updateMatrices(se,$),r=D.getFrustum(),E(L,I,D.camera,se,this.type)}D.isPointLightShadow!==!0&&this.type===Dl&&b(D,I),D.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(R,C,O)};function b(A,L){const I=e.update(S);f.defines.VSM_SAMPLES!==A.blurSamples&&(f.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Kl(i.x,i.y)),f.uniforms.shadow_pass.value=A.map.texture,f.uniforms.resolution.value=A.mapSize,f.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(L,null,I,f,S,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(L,null,I,m,S,null)}function M(A,L,I,R){let C=null;const O=I.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(O!==void 0)C=O;else if(C=I.isPointLight===!0?l:o,t.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const G=C.uuid,j=L.uuid;let q=u[G];q===void 0&&(q={},u[G]=q);let Q=q[j];Q===void 0&&(Q=C.clone(),q[j]=Q,L.addEventListener("dispose",P)),C=Q}if(C.visible=L.visible,C.wireframe=L.wireframe,R===Dl?C.side=L.shadowSide!==null?L.shadowSide:L.side:C.side=L.shadowSide!==null?L.shadowSide:d[L.side],C.alphaMap=L.alphaMap,C.alphaTest=L.alphaTest,C.map=L.map,C.clipShadows=L.clipShadows,C.clippingPlanes=L.clippingPlanes,C.clipIntersection=L.clipIntersection,C.displacementMap=L.displacementMap,C.displacementScale=L.displacementScale,C.displacementBias=L.displacementBias,C.wireframeLinewidth=L.wireframeLinewidth,C.linewidth=L.linewidth,I.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const G=t.properties.get(C);G.light=I}return C}function E(A,L,I,R,C){if(A.visible===!1)return;if(A.layers.test(L.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&C===Dl)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,A.matrixWorld);const j=e.update(A),q=A.material;if(Array.isArray(q)){const Q=j.groups;for(let X=0,se=Q.length;X<se;X++){const D=Q[X],V=q[D.materialIndex];if(V&&V.visible){const B=M(A,V,R,C);A.onBeforeShadow(t,A,L,I,j,B,D),t.renderBufferDirect(I,null,j,B,A,D),A.onAfterShadow(t,A,L,I,j,B,D)}}}else if(q.visible){const Q=M(A,q,R,C);A.onBeforeShadow(t,A,L,I,j,Q,null),t.renderBufferDirect(I,null,j,Q,A,null),A.onAfterShadow(t,A,L,I,j,Q,null)}}const G=A.children;for(let j=0,q=G.length;j<q;j++)E(G[j],L,I,R,C)}function P(A){A.target.removeEventListener("dispose",P);for(const I in u){const R=u[I],C=A.target.uuid;C in R&&(R[C].dispose(),delete R[C])}}}const x2e={[g3]:v3,[y3]:S3,[x3]:b3,[Ag]:_3,[v3]:g3,[S3]:y3,[b3]:x3,[_3]:Ag};function _2e(t,e){function n(){let Y=!1;const Oe=new An;let ce=null;const _e=new An(0,0,0,0);return{setMask:function(We){ce!==We&&!Y&&(t.colorMask(We,We,We,We),ce=We)},setLocked:function(We){Y=We},setClear:function(We,De,vt,jt,dn){dn===!0&&(We*=jt,De*=jt,vt*=jt),Oe.set(We,De,vt,jt),_e.equals(Oe)===!1&&(t.clearColor(We,De,vt,jt),_e.copy(Oe))},reset:function(){Y=!1,ce=null,_e.set(-1,0,0,0)}}}function r(){let Y=!1,Oe=!1,ce=null,_e=null,We=null;return{setReversed:function(De){if(Oe!==De){const vt=e.get("EXT_clip_control");Oe?vt.clipControlEXT(vt.LOWER_LEFT_EXT,vt.ZERO_TO_ONE_EXT):vt.clipControlEXT(vt.LOWER_LEFT_EXT,vt.NEGATIVE_ONE_TO_ONE_EXT);const jt=We;We=null,this.setClear(jt)}Oe=De},getReversed:function(){return Oe},setTest:function(De){De?he(t.DEPTH_TEST):Ve(t.DEPTH_TEST)},setMask:function(De){ce!==De&&!Y&&(t.depthMask(De),ce=De)},setFunc:function(De){if(Oe&&(De=x2e[De]),_e!==De){switch(De){case g3:t.depthFunc(t.NEVER);break;case v3:t.depthFunc(t.ALWAYS);break;case y3:t.depthFunc(t.LESS);break;case Ag:t.depthFunc(t.LEQUAL);break;case x3:t.depthFunc(t.EQUAL);break;case _3:t.depthFunc(t.GEQUAL);break;case S3:t.depthFunc(t.GREATER);break;case b3:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}_e=De}},setLocked:function(De){Y=De},setClear:function(De){We!==De&&(Oe&&(De=1-De),t.clearDepth(De),We=De)},reset:function(){Y=!1,ce=null,_e=null,We=null,Oe=!1}}}function i(){let Y=!1,Oe=null,ce=null,_e=null,We=null,De=null,vt=null,jt=null,dn=null;return{setTest:function(Nt){Y||(Nt?he(t.STENCIL_TEST):Ve(t.STENCIL_TEST))},setMask:function(Nt){Oe!==Nt&&!Y&&(t.stencilMask(Nt),Oe=Nt)},setFunc:function(Nt,jn,xr){(ce!==Nt||_e!==jn||We!==xr)&&(t.stencilFunc(Nt,jn,xr),ce=Nt,_e=jn,We=xr)},setOp:function(Nt,jn,xr){(De!==Nt||vt!==jn||jt!==xr)&&(t.stencilOp(Nt,jn,xr),De=Nt,vt=jn,jt=xr)},setLocked:function(Nt){Y=Nt},setClear:function(Nt){dn!==Nt&&(t.clearStencil(Nt),dn=Nt)},reset:function(){Y=!1,Oe=null,ce=null,_e=null,We=null,De=null,vt=null,jt=null,dn=null}}}const s=new n,a=new r,o=new i,l=new WeakMap,u=new WeakMap;let h={},d={},f=new WeakMap,m=[],v=null,S=!1,y=null,g=null,b=null,M=null,E=null,P=null,A=null,L=new Pt(0,0,0),I=0,R=!1,C=null,O=null,G=null,j=null,q=null;const Q=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,se=0;const D=t.getParameter(t.VERSION);D.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(D)[1]),X=se>=1):D.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),X=se>=2);let V=null,B={};const $=t.getParameter(t.SCISSOR_BOX),te=t.getParameter(t.VIEWPORT),Ae=new An().fromArray($),F=new An().fromArray(te);function ve(Y,Oe,ce,_e){const We=new Uint8Array(4),De=t.createTexture();t.bindTexture(Y,De),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let vt=0;vt<ce;vt++)Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY?t.texImage3D(Oe,0,t.RGBA,1,1,_e,0,t.RGBA,t.UNSIGNED_BYTE,We):t.texImage2D(Oe+vt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,We);return De}const ie={};ie[t.TEXTURE_2D]=ve(t.TEXTURE_2D,t.TEXTURE_2D,1),ie[t.TEXTURE_CUBE_MAP]=ve(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ie[t.TEXTURE_2D_ARRAY]=ve(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ie[t.TEXTURE_3D]=ve(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),he(t.DEPTH_TEST),a.setFunc(Ag),Te(!1),He(SO),he(t.CULL_FACE),H(Th);function he(Y){h[Y]!==!0&&(t.enable(Y),h[Y]=!0)}function Ve(Y){h[Y]!==!1&&(t.disable(Y),h[Y]=!1)}function ke(Y,Oe){return d[Y]!==Oe?(t.bindFramebuffer(Y,Oe),d[Y]=Oe,Y===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Oe),Y===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Oe),!0):!1}function Pe(Y,Oe){let ce=m,_e=!1;if(Y){ce=f.get(Oe),ce===void 0&&(ce=[],f.set(Oe,ce));const We=Y.textures;if(ce.length!==We.length||ce[0]!==t.COLOR_ATTACHMENT0){for(let De=0,vt=We.length;De<vt;De++)ce[De]=t.COLOR_ATTACHMENT0+De;ce.length=We.length,_e=!0}}else ce[0]!==t.BACK&&(ce[0]=t.BACK,_e=!0);_e&&t.drawBuffers(ce)}function Ce(Y){return v!==Y?(t.useProgram(Y),v=Y,!0):!1}const pe={[af]:t.FUNC_ADD,[Qee]:t.FUNC_SUBTRACT,[Jee]:t.FUNC_REVERSE_SUBTRACT};pe[ete]=t.MIN,pe[tte]=t.MAX;const be={[nte]:t.ZERO,[rte]:t.ONE,[ite]:t.SRC_COLOR,[p3]:t.SRC_ALPHA,[cte]:t.SRC_ALPHA_SATURATE,[lte]:t.DST_COLOR,[ate]:t.DST_ALPHA,[ste]:t.ONE_MINUS_SRC_COLOR,[m3]:t.ONE_MINUS_SRC_ALPHA,[ute]:t.ONE_MINUS_DST_COLOR,[ote]:t.ONE_MINUS_DST_ALPHA,[hte]:t.CONSTANT_COLOR,[dte]:t.ONE_MINUS_CONSTANT_COLOR,[fte]:t.CONSTANT_ALPHA,[pte]:t.ONE_MINUS_CONSTANT_ALPHA};function H(Y,Oe,ce,_e,We,De,vt,jt,dn,Nt){if(Y===Th){S===!0&&(Ve(t.BLEND),S=!1);return}if(S===!1&&(he(t.BLEND),S=!0),Y!==Kee){if(Y!==y||Nt!==R){if((g!==af||E!==af)&&(t.blendEquation(t.FUNC_ADD),g=af,E=af),Nt)switch(Y){case ig:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case f3:t.blendFunc(t.ONE,t.ONE);break;case bO:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MO:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}else switch(Y){case ig:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case f3:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case bO:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MO:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}b=null,M=null,P=null,A=null,L.set(0,0,0),I=0,y=Y,R=Nt}return}We=We||Oe,De=De||ce,vt=vt||_e,(Oe!==g||We!==E)&&(t.blendEquationSeparate(pe[Oe],pe[We]),g=Oe,E=We),(ce!==b||_e!==M||De!==P||vt!==A)&&(t.blendFuncSeparate(be[ce],be[_e],be[De],be[vt]),b=ce,M=_e,P=De,A=vt),(jt.equals(L)===!1||dn!==I)&&(t.blendColor(jt.r,jt.g,jt.b,dn),L.copy(jt),I=dn),y=Y,R=!1}function Ee(Y,Oe){Y.side===Nu?Ve(t.CULL_FACE):he(t.CULL_FACE);let ce=Y.side===ea;Oe&&(ce=!ce),Te(ce),Y.blending===ig&&Y.transparent===!1?H(Th):H(Y.blending,Y.blendEquation,Y.blendSrc,Y.blendDst,Y.blendEquationAlpha,Y.blendSrcAlpha,Y.blendDstAlpha,Y.blendColor,Y.blendAlpha,Y.premultipliedAlpha),a.setFunc(Y.depthFunc),a.setTest(Y.depthTest),a.setMask(Y.depthWrite),s.setMask(Y.colorWrite);const _e=Y.stencilWrite;o.setTest(_e),_e&&(o.setMask(Y.stencilWriteMask),o.setFunc(Y.stencilFunc,Y.stencilRef,Y.stencilFuncMask),o.setOp(Y.stencilFail,Y.stencilZFail,Y.stencilZPass)),it(Y.polygonOffset,Y.polygonOffsetFactor,Y.polygonOffsetUnits),Y.alphaToCoverage===!0?he(t.SAMPLE_ALPHA_TO_COVERAGE):Ve(t.SAMPLE_ALPHA_TO_COVERAGE)}function Te(Y){C!==Y&&(Y?t.frontFace(t.CW):t.frontFace(t.CCW),C=Y)}function He(Y){Y!==Yee?(he(t.CULL_FACE),Y!==O&&(Y===SO?t.cullFace(t.BACK):Y===qee?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ve(t.CULL_FACE),O=Y}function Le(Y){Y!==G&&(X&&t.lineWidth(Y),G=Y)}function it(Y,Oe,ce){Y?(he(t.POLYGON_OFFSET_FILL),(j!==Oe||q!==ce)&&(t.polygonOffset(Oe,ce),j=Oe,q=ce)):Ve(t.POLYGON_OFFSET_FILL)}function ze(Y){Y?he(t.SCISSOR_TEST):Ve(t.SCISSOR_TEST)}function z(Y){Y===void 0&&(Y=t.TEXTURE0+Q-1),V!==Y&&(t.activeTexture(Y),V=Y)}function k(Y,Oe,ce){ce===void 0&&(V===null?ce=t.TEXTURE0+Q-1:ce=V);let _e=B[ce];_e===void 0&&(_e={type:void 0,texture:void 0},B[ce]=_e),(_e.type!==Y||_e.texture!==Oe)&&(V!==ce&&(t.activeTexture(ce),V=ce),t.bindTexture(Y,Oe||ie[Y]),_e.type=Y,_e.texture=Oe)}function J(){const Y=B[V];Y!==void 0&&Y.type!==void 0&&(t.bindTexture(Y.type,null),Y.type=void 0,Y.texture=void 0)}function ge(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function xe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function me(){try{t.texSubImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function qe(){try{t.texSubImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Ie(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Xe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function pt(){try{t.texStorage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Me(){try{t.texStorage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function je(){try{t.texImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function nt(){try{t.texImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function at(Y){Ae.equals(Y)===!1&&(t.scissor(Y.x,Y.y,Y.z,Y.w),Ae.copy(Y))}function $e(Y){F.equals(Y)===!1&&(t.viewport(Y.x,Y.y,Y.z,Y.w),F.copy(Y))}function Tt(Y,Oe){let ce=u.get(Oe);ce===void 0&&(ce=new WeakMap,u.set(Oe,ce));let _e=ce.get(Y);_e===void 0&&(_e=t.getUniformBlockIndex(Oe,Y.name),ce.set(Y,_e))}function dt(Y,Oe){const _e=u.get(Oe).get(Y);l.get(Oe)!==_e&&(t.uniformBlockBinding(Oe,_e,Y.__bindingPointIndex),l.set(Oe,_e))}function Vt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},V=null,B={},d={},f=new WeakMap,m=[],v=null,S=!1,y=null,g=null,b=null,M=null,E=null,P=null,A=null,L=new Pt(0,0,0),I=0,R=!1,C=null,O=null,G=null,j=null,q=null,Ae.set(0,0,t.canvas.width,t.canvas.height),F.set(0,0,t.canvas.width,t.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:he,disable:Ve,bindFramebuffer:ke,drawBuffers:Pe,useProgram:Ce,setBlending:H,setMaterial:Ee,setFlipSided:Te,setCullFace:He,setLineWidth:Le,setPolygonOffset:it,setScissorTest:ze,activeTexture:z,bindTexture:k,unbindTexture:J,compressedTexImage2D:ge,compressedTexImage3D:xe,texImage2D:je,texImage3D:nt,updateUBOMapping:Tt,uniformBlockBinding:dt,texStorage2D:pt,texStorage3D:Me,texSubImage2D:me,texSubImage3D:qe,compressedTexSubImage2D:Ie,compressedTexSubImage3D:Xe,scissor:at,viewport:$e,reset:Vt}}function S2e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function b2e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function M2e(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function PO(t,e,n,r){const i=w2e(r);switch(n){case D6:return t*e;case k6:return t*e;case U6:return t*e*2;case uR:return t*e/i.components*i.byteLength;case fw:return t*e/i.components*i.byteLength;case F6:return t*e*2/i.components*i.byteLength;case cR:return t*e*2/i.components*i.byteLength;case O6:return t*e*3/i.components*i.byteLength;case Ns:return t*e*4/i.components*i.byteLength;case hR:return t*e*4/i.components*i.byteLength;case ZS:case KS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case QS:case JS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case w3:case T3:return Math.max(t,16)*Math.max(e,8)/4;case M3:case E3:return Math.max(t,8)*Math.max(e,8)/2;case A3:case C3:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case P3:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case R3:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case L3:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case I3:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case N3:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case D3:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case O3:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case k3:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case U3:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case F3:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case z3:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case B3:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case V3:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case H3:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case G3:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case eb:case W3:case j3:return Math.ceil(t/4)*Math.ceil(e/4)*16;case z6:case X3:return Math.ceil(t/4)*Math.ceil(e/4)*8;case $3:case Y3:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function w2e(t){switch(t){case Zl:case L6:return{byteLength:1,components:1};case S1:case I6:case K1:return{byteLength:2,components:1};case oR:case lR:return{byteLength:2,components:4};case Wh:case aR:case Ta:return{byteLength:4,components:1};case N6:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const E2e={contain:S2e,cover:b2e,fill:M2e,getByteLength:PO};function T2e(t,e,n,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new et,h=new WeakMap;let d;const f=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(z,k){return m?new OffscreenCanvas(z,k):sM("canvas")}function S(z,k,J){let ge=1;const xe=ze(z);if((xe.width>J||xe.height>J)&&(ge=J/Math.max(xe.width,xe.height)),ge<1)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap||typeof VideoFrame<"u"&&z instanceof VideoFrame){const me=Math.floor(ge*xe.width),qe=Math.floor(ge*xe.height);d===void 0&&(d=v(me,qe));const Ie=k?v(me,qe):d;return Ie.width=me,Ie.height=qe,Ie.getContext("2d").drawImage(z,0,0,me,qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+xe.width+"x"+xe.height+") to ("+me+"x"+qe+")."),Ie}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+xe.width+"x"+xe.height+")."),z;return z}function y(z){return z.generateMipmaps}function g(z){t.generateMipmap(z)}function b(z){return z.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:z.isWebGL3DRenderTarget?t.TEXTURE_3D:z.isWebGLArrayRenderTarget||z.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function M(z,k,J,ge,xe=!1){if(z!==null){if(t[z]!==void 0)return t[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let me=k;if(k===t.RED&&(J===t.FLOAT&&(me=t.R32F),J===t.HALF_FLOAT&&(me=t.R16F),J===t.UNSIGNED_BYTE&&(me=t.R8)),k===t.RED_INTEGER&&(J===t.UNSIGNED_BYTE&&(me=t.R8UI),J===t.UNSIGNED_SHORT&&(me=t.R16UI),J===t.UNSIGNED_INT&&(me=t.R32UI),J===t.BYTE&&(me=t.R8I),J===t.SHORT&&(me=t.R16I),J===t.INT&&(me=t.R32I)),k===t.RG&&(J===t.FLOAT&&(me=t.RG32F),J===t.HALF_FLOAT&&(me=t.RG16F),J===t.UNSIGNED_BYTE&&(me=t.RG8)),k===t.RG_INTEGER&&(J===t.UNSIGNED_BYTE&&(me=t.RG8UI),J===t.UNSIGNED_SHORT&&(me=t.RG16UI),J===t.UNSIGNED_INT&&(me=t.RG32UI),J===t.BYTE&&(me=t.RG8I),J===t.SHORT&&(me=t.RG16I),J===t.INT&&(me=t.RG32I)),k===t.RGB_INTEGER&&(J===t.UNSIGNED_BYTE&&(me=t.RGB8UI),J===t.UNSIGNED_SHORT&&(me=t.RGB16UI),J===t.UNSIGNED_INT&&(me=t.RGB32UI),J===t.BYTE&&(me=t.RGB8I),J===t.SHORT&&(me=t.RGB16I),J===t.INT&&(me=t.RGB32I)),k===t.RGBA_INTEGER&&(J===t.UNSIGNED_BYTE&&(me=t.RGBA8UI),J===t.UNSIGNED_SHORT&&(me=t.RGBA16UI),J===t.UNSIGNED_INT&&(me=t.RGBA32UI),J===t.BYTE&&(me=t.RGBA8I),J===t.SHORT&&(me=t.RGBA16I),J===t.INT&&(me=t.RGBA32I)),k===t.RGB&&J===t.UNSIGNED_INT_5_9_9_9_REV&&(me=t.RGB9_E5),k===t.RGBA){const qe=xe?pw:bn.getTransfer(ge);J===t.FLOAT&&(me=t.RGBA32F),J===t.HALF_FLOAT&&(me=t.RGBA16F),J===t.UNSIGNED_BYTE&&(me=qe===zn?t.SRGB8_ALPHA8:t.RGBA8),J===t.UNSIGNED_SHORT_4_4_4_4&&(me=t.RGBA4),J===t.UNSIGNED_SHORT_5_5_5_1&&(me=t.RGB5_A1)}return(me===t.R16F||me===t.R32F||me===t.RG16F||me===t.RG32F||me===t.RGBA16F||me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),me}function E(z,k){let J;return z?k===null||k===Wh||k===Cg?J=t.DEPTH24_STENCIL8:k===Ta?J=t.DEPTH32F_STENCIL8:k===S1&&(J=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):k===null||k===Wh||k===Cg?J=t.DEPTH_COMPONENT24:k===Ta?J=t.DEPTH_COMPONENT32F:k===S1&&(J=t.DEPTH_COMPONENT16),J}function P(z,k){return y(z)===!0||z.isFramebufferTexture&&z.minFilter!==us&&z.minFilter!==Si?Math.log2(Math.max(k.width,k.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?k.mipmaps.length:1}function A(z){const k=z.target;k.removeEventListener("dispose",A),I(k),k.isVideoTexture&&h.delete(k)}function L(z){const k=z.target;k.removeEventListener("dispose",L),C(k)}function I(z){const k=r.get(z);if(k.__webglInit===void 0)return;const J=z.source,ge=f.get(J);if(ge){const xe=ge[k.__cacheKey];xe.usedTimes--,xe.usedTimes===0&&R(z),Object.keys(ge).length===0&&f.delete(J)}r.remove(z)}function R(z){const k=r.get(z);t.deleteTexture(k.__webglTexture);const J=z.source,ge=f.get(J);delete ge[k.__cacheKey],a.memory.textures--}function C(z){const k=r.get(z);if(z.depthTexture&&(z.depthTexture.dispose(),r.remove(z.depthTexture)),z.isWebGLCubeRenderTarget)for(let ge=0;ge<6;ge++){if(Array.isArray(k.__webglFramebuffer[ge]))for(let xe=0;xe<k.__webglFramebuffer[ge].length;xe++)t.deleteFramebuffer(k.__webglFramebuffer[ge][xe]);else t.deleteFramebuffer(k.__webglFramebuffer[ge]);k.__webglDepthbuffer&&t.deleteRenderbuffer(k.__webglDepthbuffer[ge])}else{if(Array.isArray(k.__webglFramebuffer))for(let ge=0;ge<k.__webglFramebuffer.length;ge++)t.deleteFramebuffer(k.__webglFramebuffer[ge]);else t.deleteFramebuffer(k.__webglFramebuffer);if(k.__webglDepthbuffer&&t.deleteRenderbuffer(k.__webglDepthbuffer),k.__webglMultisampledFramebuffer&&t.deleteFramebuffer(k.__webglMultisampledFramebuffer),k.__webglColorRenderbuffer)for(let ge=0;ge<k.__webglColorRenderbuffer.length;ge++)k.__webglColorRenderbuffer[ge]&&t.deleteRenderbuffer(k.__webglColorRenderbuffer[ge]);k.__webglDepthRenderbuffer&&t.deleteRenderbuffer(k.__webglDepthRenderbuffer)}const J=z.textures;for(let ge=0,xe=J.length;ge<xe;ge++){const me=r.get(J[ge]);me.__webglTexture&&(t.deleteTexture(me.__webglTexture),a.memory.textures--),r.remove(J[ge])}r.remove(z)}let O=0;function G(){O=0}function j(){const z=O;return z>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+i.maxTextures),O+=1,z}function q(z){const k=[];return k.push(z.wrapS),k.push(z.wrapT),k.push(z.wrapR||0),k.push(z.magFilter),k.push(z.minFilter),k.push(z.anisotropy),k.push(z.internalFormat),k.push(z.format),k.push(z.type),k.push(z.generateMipmaps),k.push(z.premultiplyAlpha),k.push(z.flipY),k.push(z.unpackAlignment),k.push(z.colorSpace),k.join()}function Q(z,k){const J=r.get(z);if(z.isVideoTexture&&Le(z),z.isRenderTargetTexture===!1&&z.version>0&&J.__version!==z.version){const ge=z.image;if(ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{F(J,z,k);return}}n.bindTexture(t.TEXTURE_2D,J.__webglTexture,t.TEXTURE0+k)}function X(z,k){const J=r.get(z);if(z.version>0&&J.__version!==z.version){F(J,z,k);return}n.bindTexture(t.TEXTURE_2D_ARRAY,J.__webglTexture,t.TEXTURE0+k)}function se(z,k){const J=r.get(z);if(z.version>0&&J.__version!==z.version){F(J,z,k);return}n.bindTexture(t.TEXTURE_3D,J.__webglTexture,t.TEXTURE0+k)}function D(z,k){const J=r.get(z);if(z.version>0&&J.__version!==z.version){ve(J,z,k);return}n.bindTexture(t.TEXTURE_CUBE_MAP,J.__webglTexture,t.TEXTURE0+k)}const V={[Jb]:t.REPEAT,[sl]:t.CLAMP_TO_EDGE,[eM]:t.MIRRORED_REPEAT},B={[us]:t.NEAREST,[R6]:t.NEAREST_MIPMAP_NEAREST,[py]:t.NEAREST_MIPMAP_LINEAR,[Si]:t.LINEAR,[qS]:t.LINEAR_MIPMAP_NEAREST,[Fu]:t.LINEAR_MIPMAP_LINEAR},$={[Rte]:t.NEVER,[kte]:t.ALWAYS,[Lte]:t.LESS,[V6]:t.LEQUAL,[Ite]:t.EQUAL,[Ote]:t.GEQUAL,[Nte]:t.GREATER,[Dte]:t.NOTEQUAL};function te(z,k){if(k.type===Ta&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===Si||k.magFilter===qS||k.magFilter===py||k.magFilter===Fu||k.minFilter===Si||k.minFilter===qS||k.minFilter===py||k.minFilter===Fu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(z,t.TEXTURE_WRAP_S,V[k.wrapS]),t.texParameteri(z,t.TEXTURE_WRAP_T,V[k.wrapT]),(z===t.TEXTURE_3D||z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(z,t.TEXTURE_WRAP_R,V[k.wrapR]),t.texParameteri(z,t.TEXTURE_MAG_FILTER,B[k.magFilter]),t.texParameteri(z,t.TEXTURE_MIN_FILTER,B[k.minFilter]),k.compareFunction&&(t.texParameteri(z,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(z,t.TEXTURE_COMPARE_FUNC,$[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(k.magFilter===us||k.minFilter!==py&&k.minFilter!==Fu||k.type===Ta&&e.has("OES_texture_float_linear")===!1)return;if(k.anisotropy>1||r.get(k).__currentAnisotropy){const J=e.get("EXT_texture_filter_anisotropic");t.texParameterf(z,J.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy}}}function Ae(z,k){let J=!1;z.__webglInit===void 0&&(z.__webglInit=!0,k.addEventListener("dispose",A));const ge=k.source;let xe=f.get(ge);xe===void 0&&(xe={},f.set(ge,xe));const me=q(k);if(me!==z.__cacheKey){xe[me]===void 0&&(xe[me]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,J=!0),xe[me].usedTimes++;const qe=xe[z.__cacheKey];qe!==void 0&&(xe[z.__cacheKey].usedTimes--,qe.usedTimes===0&&R(k)),z.__cacheKey=me,z.__webglTexture=xe[me].texture}return J}function F(z,k,J){let ge=t.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(ge=t.TEXTURE_2D_ARRAY),k.isData3DTexture&&(ge=t.TEXTURE_3D);const xe=Ae(z,k),me=k.source;n.bindTexture(ge,z.__webglTexture,t.TEXTURE0+J);const qe=r.get(me);if(me.version!==qe.__version||xe===!0){n.activeTexture(t.TEXTURE0+J);const Ie=bn.getPrimaries(bn.workingColorSpace),Xe=k.colorSpace===lh?null:bn.getPrimaries(k.colorSpace),pt=k.colorSpace===lh||Ie===Xe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);let Me=S(k.image,!1,i.maxTextureSize);Me=it(k,Me);const je=s.convert(k.format,k.colorSpace),nt=s.convert(k.type);let at=M(k.internalFormat,je,nt,k.colorSpace,k.isVideoTexture);te(ge,k);let $e;const Tt=k.mipmaps,dt=k.isVideoTexture!==!0,Vt=qe.__version===void 0||xe===!0,Y=me.dataReady,Oe=P(k,Me);if(k.isDepthTexture)at=E(k.format===Pg,k.type),Vt&&(dt?n.texStorage2D(t.TEXTURE_2D,1,at,Me.width,Me.height):n.texImage2D(t.TEXTURE_2D,0,at,Me.width,Me.height,0,je,nt,null));else if(k.isDataTexture)if(Tt.length>0){dt&&Vt&&n.texStorage2D(t.TEXTURE_2D,Oe,at,Tt[0].width,Tt[0].height);for(let ce=0,_e=Tt.length;ce<_e;ce++)$e=Tt[ce],dt?Y&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,$e.width,$e.height,je,nt,$e.data):n.texImage2D(t.TEXTURE_2D,ce,at,$e.width,$e.height,0,je,nt,$e.data);k.generateMipmaps=!1}else dt?(Vt&&n.texStorage2D(t.TEXTURE_2D,Oe,at,Me.width,Me.height),Y&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Me.width,Me.height,je,nt,Me.data)):n.texImage2D(t.TEXTURE_2D,0,at,Me.width,Me.height,0,je,nt,Me.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){dt&&Vt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Oe,at,Tt[0].width,Tt[0].height,Me.depth);for(let ce=0,_e=Tt.length;ce<_e;ce++)if($e=Tt[ce],k.format!==Ns)if(je!==null)if(dt){if(Y)if(k.layerUpdates.size>0){const We=PO($e.width,$e.height,k.format,k.type);for(const De of k.layerUpdates){const vt=$e.data.subarray(De*We/$e.data.BYTES_PER_ELEMENT,(De+1)*We/$e.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,De,$e.width,$e.height,1,je,vt)}k.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,$e.width,$e.height,Me.depth,je,$e.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ce,at,$e.width,$e.height,Me.depth,0,$e.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else dt?Y&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,$e.width,$e.height,Me.depth,je,nt,$e.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ce,at,$e.width,$e.height,Me.depth,0,je,nt,$e.data)}else{dt&&Vt&&n.texStorage2D(t.TEXTURE_2D,Oe,at,Tt[0].width,Tt[0].height);for(let ce=0,_e=Tt.length;ce<_e;ce++)$e=Tt[ce],k.format!==Ns?je!==null?dt?Y&&n.compressedTexSubImage2D(t.TEXTURE_2D,ce,0,0,$e.width,$e.height,je,$e.data):n.compressedTexImage2D(t.TEXTURE_2D,ce,at,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):dt?Y&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,$e.width,$e.height,je,nt,$e.data):n.texImage2D(t.TEXTURE_2D,ce,at,$e.width,$e.height,0,je,nt,$e.data)}else if(k.isDataArrayTexture)if(dt){if(Vt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Oe,at,Me.width,Me.height,Me.depth),Y)if(k.layerUpdates.size>0){const ce=PO(Me.width,Me.height,k.format,k.type);for(const _e of k.layerUpdates){const We=Me.data.subarray(_e*ce/Me.data.BYTES_PER_ELEMENT,(_e+1)*ce/Me.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,_e,Me.width,Me.height,1,je,nt,We)}k.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,je,nt,Me.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,at,Me.width,Me.height,Me.depth,0,je,nt,Me.data);else if(k.isData3DTexture)dt?(Vt&&n.texStorage3D(t.TEXTURE_3D,Oe,at,Me.width,Me.height,Me.depth),Y&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,je,nt,Me.data)):n.texImage3D(t.TEXTURE_3D,0,at,Me.width,Me.height,Me.depth,0,je,nt,Me.data);else if(k.isFramebufferTexture){if(Vt)if(dt)n.texStorage2D(t.TEXTURE_2D,Oe,at,Me.width,Me.height);else{let ce=Me.width,_e=Me.height;for(let We=0;We<Oe;We++)n.texImage2D(t.TEXTURE_2D,We,at,ce,_e,0,je,nt,null),ce>>=1,_e>>=1}}else if(Tt.length>0){if(dt&&Vt){const ce=ze(Tt[0]);n.texStorage2D(t.TEXTURE_2D,Oe,at,ce.width,ce.height)}for(let ce=0,_e=Tt.length;ce<_e;ce++)$e=Tt[ce],dt?Y&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,je,nt,$e):n.texImage2D(t.TEXTURE_2D,ce,at,je,nt,$e);k.generateMipmaps=!1}else if(dt){if(Vt){const ce=ze(Me);n.texStorage2D(t.TEXTURE_2D,Oe,at,ce.width,ce.height)}Y&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,je,nt,Me)}else n.texImage2D(t.TEXTURE_2D,0,at,je,nt,Me);y(k)&&g(ge),qe.__version=me.version,k.onUpdate&&k.onUpdate(k)}z.__version=k.version}function ve(z,k,J){if(k.image.length!==6)return;const ge=Ae(z,k),xe=k.source;n.bindTexture(t.TEXTURE_CUBE_MAP,z.__webglTexture,t.TEXTURE0+J);const me=r.get(xe);if(xe.version!==me.__version||ge===!0){n.activeTexture(t.TEXTURE0+J);const qe=bn.getPrimaries(bn.workingColorSpace),Ie=k.colorSpace===lh?null:bn.getPrimaries(k.colorSpace),Xe=k.colorSpace===lh||qe===Ie?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);const pt=k.isCompressedTexture||k.image[0].isCompressedTexture,Me=k.image[0]&&k.image[0].isDataTexture,je=[];for(let _e=0;_e<6;_e++)!pt&&!Me?je[_e]=S(k.image[_e],!0,i.maxCubemapSize):je[_e]=Me?k.image[_e].image:k.image[_e],je[_e]=it(k,je[_e]);const nt=je[0],at=s.convert(k.format,k.colorSpace),$e=s.convert(k.type),Tt=M(k.internalFormat,at,$e,k.colorSpace),dt=k.isVideoTexture!==!0,Vt=me.__version===void 0||ge===!0,Y=xe.dataReady;let Oe=P(k,nt);te(t.TEXTURE_CUBE_MAP,k);let ce;if(pt){dt&&Vt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Oe,Tt,nt.width,nt.height);for(let _e=0;_e<6;_e++){ce=je[_e].mipmaps;for(let We=0;We<ce.length;We++){const De=ce[We];k.format!==Ns?at!==null?dt?Y&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We,0,0,De.width,De.height,at,De.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We,Tt,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We,0,0,De.width,De.height,at,$e,De.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We,Tt,De.width,De.height,0,at,$e,De.data)}}}else{if(ce=k.mipmaps,dt&&Vt){ce.length>0&&Oe++;const _e=ze(je[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Oe,Tt,_e.width,_e.height)}for(let _e=0;_e<6;_e++)if(Me){dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,je[_e].width,je[_e].height,at,$e,je[_e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,Tt,je[_e].width,je[_e].height,0,at,$e,je[_e].data);for(let We=0;We<ce.length;We++){const vt=ce[We].image[_e].image;dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We+1,0,0,vt.width,vt.height,at,$e,vt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We+1,Tt,vt.width,vt.height,0,at,$e,vt.data)}}else{dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,at,$e,je[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,Tt,at,$e,je[_e]);for(let We=0;We<ce.length;We++){const De=ce[We];dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We+1,0,0,at,$e,De.image[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We+1,Tt,at,$e,De.image[_e])}}}y(k)&&g(t.TEXTURE_CUBE_MAP),me.__version=xe.version,k.onUpdate&&k.onUpdate(k)}z.__version=k.version}function ie(z,k,J,ge,xe,me){const qe=s.convert(J.format,J.colorSpace),Ie=s.convert(J.type),Xe=M(J.internalFormat,qe,Ie,J.colorSpace),pt=r.get(k),Me=r.get(J);if(Me.__renderTarget=k,!pt.__hasExternalTextures){const je=Math.max(1,k.width>>me),nt=Math.max(1,k.height>>me);xe===t.TEXTURE_3D||xe===t.TEXTURE_2D_ARRAY?n.texImage3D(xe,me,Xe,je,nt,k.depth,0,qe,Ie,null):n.texImage2D(xe,me,Xe,je,nt,0,qe,Ie,null)}n.bindFramebuffer(t.FRAMEBUFFER,z),He(k)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ge,xe,Me.__webglTexture,0,Te(k)):(xe===t.TEXTURE_2D||xe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&xe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ge,xe,Me.__webglTexture,me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function he(z,k,J){if(t.bindRenderbuffer(t.RENDERBUFFER,z),k.depthBuffer){const ge=k.depthTexture,xe=ge&&ge.isDepthTexture?ge.type:null,me=E(k.stencilBuffer,xe),qe=k.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=Te(k);He(k)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ie,me,k.width,k.height):J?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ie,me,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,me,k.width,k.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,qe,t.RENDERBUFFER,z)}else{const ge=k.textures;for(let xe=0;xe<ge.length;xe++){const me=ge[xe],qe=s.convert(me.format,me.colorSpace),Ie=s.convert(me.type),Xe=M(me.internalFormat,qe,Ie,me.colorSpace),pt=Te(k);J&&He(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,pt,Xe,k.width,k.height):He(k)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,pt,Xe,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,Xe,k.width,k.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ve(z,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,z),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ge=r.get(k.depthTexture);ge.__renderTarget=k,(!ge.__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),Q(k.depthTexture,0);const xe=ge.__webglTexture,me=Te(k);if(k.depthTexture.format===sg)He(k)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0,me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,xe,0);else if(k.depthTexture.format===Pg)He(k)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0,me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function ke(z){const k=r.get(z),J=z.isWebGLCubeRenderTarget===!0;if(k.__boundDepthTexture!==z.depthTexture){const ge=z.depthTexture;if(k.__depthDisposeCallback&&k.__depthDisposeCallback(),ge){const xe=()=>{delete k.__boundDepthTexture,delete k.__depthDisposeCallback,ge.removeEventListener("dispose",xe)};ge.addEventListener("dispose",xe),k.__depthDisposeCallback=xe}k.__boundDepthTexture=ge}if(z.depthTexture&&!k.__autoAllocateDepthBuffer){if(J)throw new Error("target.depthTexture not supported in Cube render targets");Ve(k.__webglFramebuffer,z)}else if(J){k.__webglDepthbuffer=[];for(let ge=0;ge<6;ge++)if(n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer[ge]),k.__webglDepthbuffer[ge]===void 0)k.__webglDepthbuffer[ge]=t.createRenderbuffer(),he(k.__webglDepthbuffer[ge],z,!1);else{const xe=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,me=k.__webglDepthbuffer[ge];t.bindRenderbuffer(t.RENDERBUFFER,me),t.framebufferRenderbuffer(t.FRAMEBUFFER,xe,t.RENDERBUFFER,me)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer===void 0)k.__webglDepthbuffer=t.createRenderbuffer(),he(k.__webglDepthbuffer,z,!1);else{const ge=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,xe=k.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,xe),t.framebufferRenderbuffer(t.FRAMEBUFFER,ge,t.RENDERBUFFER,xe)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Pe(z,k,J){const ge=r.get(z);k!==void 0&&ie(ge.__webglFramebuffer,z,z.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),J!==void 0&&ke(z)}function Ce(z){const k=z.texture,J=r.get(z),ge=r.get(k);z.addEventListener("dispose",L);const xe=z.textures,me=z.isWebGLCubeRenderTarget===!0,qe=xe.length>1;if(qe||(ge.__webglTexture===void 0&&(ge.__webglTexture=t.createTexture()),ge.__version=k.version,a.memory.textures++),me){J.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(k.mipmaps&&k.mipmaps.length>0){J.__webglFramebuffer[Ie]=[];for(let Xe=0;Xe<k.mipmaps.length;Xe++)J.__webglFramebuffer[Ie][Xe]=t.createFramebuffer()}else J.__webglFramebuffer[Ie]=t.createFramebuffer()}else{if(k.mipmaps&&k.mipmaps.length>0){J.__webglFramebuffer=[];for(let Ie=0;Ie<k.mipmaps.length;Ie++)J.__webglFramebuffer[Ie]=t.createFramebuffer()}else J.__webglFramebuffer=t.createFramebuffer();if(qe)for(let Ie=0,Xe=xe.length;Ie<Xe;Ie++){const pt=r.get(xe[Ie]);pt.__webglTexture===void 0&&(pt.__webglTexture=t.createTexture(),a.memory.textures++)}if(z.samples>0&&He(z)===!1){J.__webglMultisampledFramebuffer=t.createFramebuffer(),J.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,J.__webglMultisampledFramebuffer);for(let Ie=0;Ie<xe.length;Ie++){const Xe=xe[Ie];J.__webglColorRenderbuffer[Ie]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,J.__webglColorRenderbuffer[Ie]);const pt=s.convert(Xe.format,Xe.colorSpace),Me=s.convert(Xe.type),je=M(Xe.internalFormat,pt,Me,Xe.colorSpace,z.isXRRenderTarget===!0),nt=Te(z);t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,je,z.width,z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ie,t.RENDERBUFFER,J.__webglColorRenderbuffer[Ie])}t.bindRenderbuffer(t.RENDERBUFFER,null),z.depthBuffer&&(J.__webglDepthRenderbuffer=t.createRenderbuffer(),he(J.__webglDepthRenderbuffer,z,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(me){n.bindTexture(t.TEXTURE_CUBE_MAP,ge.__webglTexture),te(t.TEXTURE_CUBE_MAP,k);for(let Ie=0;Ie<6;Ie++)if(k.mipmaps&&k.mipmaps.length>0)for(let Xe=0;Xe<k.mipmaps.length;Xe++)ie(J.__webglFramebuffer[Ie][Xe],z,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe);else ie(J.__webglFramebuffer[Ie],z,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);y(k)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(qe){for(let Ie=0,Xe=xe.length;Ie<Xe;Ie++){const pt=xe[Ie],Me=r.get(pt);n.bindTexture(t.TEXTURE_2D,Me.__webglTexture),te(t.TEXTURE_2D,pt),ie(J.__webglFramebuffer,z,pt,t.COLOR_ATTACHMENT0+Ie,t.TEXTURE_2D,0),y(pt)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let Ie=t.TEXTURE_2D;if((z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(Ie=z.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ie,ge.__webglTexture),te(Ie,k),k.mipmaps&&k.mipmaps.length>0)for(let Xe=0;Xe<k.mipmaps.length;Xe++)ie(J.__webglFramebuffer[Xe],z,k,t.COLOR_ATTACHMENT0,Ie,Xe);else ie(J.__webglFramebuffer,z,k,t.COLOR_ATTACHMENT0,Ie,0);y(k)&&g(Ie),n.unbindTexture()}z.depthBuffer&&ke(z)}function pe(z){const k=z.textures;for(let J=0,ge=k.length;J<ge;J++){const xe=k[J];if(y(xe)){const me=b(z),qe=r.get(xe).__webglTexture;n.bindTexture(me,qe),g(me),n.unbindTexture()}}}const be=[],H=[];function Ee(z){if(z.samples>0){if(He(z)===!1){const k=z.textures,J=z.width,ge=z.height;let xe=t.COLOR_BUFFER_BIT;const me=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,qe=r.get(z),Ie=k.length>1;if(Ie)for(let Xe=0;Xe<k.length;Xe++)n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,qe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglFramebuffer);for(let Xe=0;Xe<k.length;Xe++){if(z.resolveDepthBuffer&&(z.depthBuffer&&(xe|=t.DEPTH_BUFFER_BIT),z.stencilBuffer&&z.resolveStencilBuffer&&(xe|=t.STENCIL_BUFFER_BIT)),Ie){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,qe.__webglColorRenderbuffer[Xe]);const pt=r.get(k[Xe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,pt,0)}t.blitFramebuffer(0,0,J,ge,0,0,J,ge,xe,t.NEAREST),l===!0&&(be.length=0,H.length=0,be.push(t.COLOR_ATTACHMENT0+Xe),z.depthBuffer&&z.resolveDepthBuffer===!1&&(be.push(me),H.push(me),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,H)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,be))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ie)for(let Xe=0;Xe<k.length;Xe++){n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,qe.__webglColorRenderbuffer[Xe]);const pt=r.get(k[Xe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,pt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglMultisampledFramebuffer)}else if(z.depthBuffer&&z.resolveDepthBuffer===!1&&l){const k=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[k])}}}function Te(z){return Math.min(i.maxSamples,z.samples)}function He(z){const k=r.get(z);return z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Le(z){const k=a.render.frame;h.get(z)!==k&&(h.set(z,k),z.update())}function it(z,k){const J=z.colorSpace,ge=z.format,xe=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||J!==qg&&J!==lh&&(bn.getTransfer(J)===zn?(ge!==Ns||xe!==Zl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",J)),k}function ze(z){return typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement?(u.width=z.naturalWidth||z.width,u.height=z.naturalHeight||z.height):typeof VideoFrame<"u"&&z instanceof VideoFrame?(u.width=z.displayWidth,u.height=z.displayHeight):(u.width=z.width,u.height=z.height),u}this.allocateTextureUnit=j,this.resetTextureUnits=G,this.setTexture2D=Q,this.setTexture2DArray=X,this.setTexture3D=se,this.setTextureCube=D,this.rebindTextures=Pe,this.setupRenderTarget=Ce,this.updateRenderTargetMipmap=pe,this.updateMultisampleRenderTarget=Ee,this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=ie,this.useMultisampledRTT=He}function Kte(t,e){function n(r,i=lh){let s;const a=bn.getTransfer(i);if(r===Zl)return t.UNSIGNED_BYTE;if(r===oR)return t.UNSIGNED_SHORT_4_4_4_4;if(r===lR)return t.UNSIGNED_SHORT_5_5_5_1;if(r===N6)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===L6)return t.BYTE;if(r===I6)return t.SHORT;if(r===S1)return t.UNSIGNED_SHORT;if(r===aR)return t.INT;if(r===Wh)return t.UNSIGNED_INT;if(r===Ta)return t.FLOAT;if(r===K1)return t.HALF_FLOAT;if(r===D6)return t.ALPHA;if(r===O6)return t.RGB;if(r===Ns)return t.RGBA;if(r===k6)return t.LUMINANCE;if(r===U6)return t.LUMINANCE_ALPHA;if(r===sg)return t.DEPTH_COMPONENT;if(r===Pg)return t.DEPTH_STENCIL;if(r===uR)return t.RED;if(r===fw)return t.RED_INTEGER;if(r===F6)return t.RG;if(r===cR)return t.RG_INTEGER;if(r===hR)return t.RGBA_INTEGER;if(r===ZS||r===KS||r===QS||r===JS)if(a===zn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===ZS)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===KS)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===QS)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===JS)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===ZS)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===KS)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===QS)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===JS)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===M3||r===w3||r===E3||r===T3)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===M3)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===w3)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===E3)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===T3)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===A3||r===C3||r===P3)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===A3||r===C3)return a===zn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===P3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===R3||r===L3||r===I3||r===N3||r===D3||r===O3||r===k3||r===U3||r===F3||r===z3||r===B3||r===V3||r===H3||r===G3)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===R3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===L3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===I3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===N3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===D3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===O3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===k3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===U3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===F3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===z3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===B3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===V3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===H3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===G3)return a===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===eb||r===W3||r===j3)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===eb)return a===zn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===W3)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===j3)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===z6||r===X3||r===$3||r===Y3)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===eb)return s.COMPRESSED_RED_RGTC1_EXT;if(r===X3)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===$3)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Y3)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Cg?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class Qte extends Vi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class vy extends Ln{constructor(){super(),this.isGroup=!0,this.type="Group"}}const A2e={type:"move"};class M4{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new vy,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new vy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new vy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const S of e.hand.values()){const y=n.getJointPose(S,r),g=this._getHandJoint(u,S);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const h=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],f=h.position.distanceTo(d.position),m=.02,v=.005;u.inputState.pinching&&f>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(A2e)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new vy;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const C2e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,P2e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class R2e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Ar,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new dl({vertexShader:C2e,fragmentShader:P2e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ci(new J1(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class L2e extends cc{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,u=null,h=null,d=null,f=null,m=null,v=null;const S=new R2e,y=n.getContextAttributes();let g=null,b=null;const M=[],E=[],P=new et;let A=null;const L=new Vi;L.viewport=new An;const I=new Vi;I.viewport=new An;const R=[L,I],C=new Qte;let O=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let ve=M[F];return ve===void 0&&(ve=new M4,M[F]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(F){let ve=M[F];return ve===void 0&&(ve=new M4,M[F]=ve),ve.getGripSpace()},this.getHand=function(F){let ve=M[F];return ve===void 0&&(ve=new M4,M[F]=ve),ve.getHandSpace()};function j(F){const ve=E.indexOf(F.inputSource);if(ve===-1)return;const ie=M[ve];ie!==void 0&&(ie.update(F.inputSource,F.frame,u||a),ie.dispatchEvent({type:F.type,data:F.inputSource}))}function q(){i.removeEventListener("select",j),i.removeEventListener("selectstart",j),i.removeEventListener("selectend",j),i.removeEventListener("squeeze",j),i.removeEventListener("squeezestart",j),i.removeEventListener("squeezeend",j),i.removeEventListener("end",q),i.removeEventListener("inputsourceschange",Q);for(let F=0;F<M.length;F++){const ve=E[F];ve!==null&&(E[F]=null,M[F].disconnect(ve))}O=null,G=null,S.reset(),e.setRenderTarget(g),m=null,f=null,d=null,i=null,b=null,Ae.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){s=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){o=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(F){u=F},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(F){if(i=F,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",j),i.addEventListener("selectstart",j),i.addEventListener("selectend",j),i.addEventListener("squeeze",j),i.addEventListener("squeezestart",j),i.addEventListener("squeezeend",j),i.addEventListener("end",q),i.addEventListener("inputsourceschange",Q),y.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(P),i.renderState.layers===void 0){const ve={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,ve),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),b=new Kl(m.framebufferWidth,m.framebufferHeight,{format:Ns,type:Zl,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ve=null,ie=null,he=null;y.depth&&(he=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ve=y.stencil?Pg:sg,ie=y.stencil?Cg:Wh);const Ve={colorFormat:n.RGBA8,depthFormat:he,scaleFactor:s};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(Ve),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),b=new Kl(f.textureWidth,f.textureHeight,{format:Ns,type:Zl,depthTexture:new $6(f.textureWidth,f.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(o),Ae.setContext(i),Ae.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function Q(F){for(let ve=0;ve<F.removed.length;ve++){const ie=F.removed[ve],he=E.indexOf(ie);he>=0&&(E[he]=null,M[he].disconnect(ie))}for(let ve=0;ve<F.added.length;ve++){const ie=F.added[ve];let he=E.indexOf(ie);if(he===-1){for(let ke=0;ke<M.length;ke++)if(ke>=E.length){E.push(ie),he=ke;break}else if(E[ke]===null){E[ke]=ie,he=ke;break}if(he===-1)break}const Ve=M[he];Ve&&Ve.connect(ie)}}const X=new le,se=new le;function D(F,ve,ie){X.setFromMatrixPosition(ve.matrixWorld),se.setFromMatrixPosition(ie.matrixWorld);const he=X.distanceTo(se),Ve=ve.projectionMatrix.elements,ke=ie.projectionMatrix.elements,Pe=Ve[14]/(Ve[10]-1),Ce=Ve[14]/(Ve[10]+1),pe=(Ve[9]+1)/Ve[5],be=(Ve[9]-1)/Ve[5],H=(Ve[8]-1)/Ve[0],Ee=(ke[8]+1)/ke[0],Te=Pe*H,He=Pe*Ee,Le=he/(-H+Ee),it=Le*-H;if(ve.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(it),F.translateZ(Le),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert(),Ve[10]===-1)F.projectionMatrix.copy(ve.projectionMatrix),F.projectionMatrixInverse.copy(ve.projectionMatrixInverse);else{const ze=Pe+Le,z=Ce+Le,k=Te-it,J=He+(he-it),ge=pe*Ce/z*ze,xe=be*Ce/z*ze;F.projectionMatrix.makePerspective(k,J,ge,xe,ze,z),F.projectionMatrixInverse.copy(F.projectionMatrix).invert()}}function V(F,ve){ve===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(ve.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(i===null)return;let ve=F.near,ie=F.far;S.texture!==null&&(S.depthNear>0&&(ve=S.depthNear),S.depthFar>0&&(ie=S.depthFar)),C.near=I.near=L.near=ve,C.far=I.far=L.far=ie,(O!==C.near||G!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),O=C.near,G=C.far),L.layers.mask=F.layers.mask|2,I.layers.mask=F.layers.mask|4,C.layers.mask=L.layers.mask|I.layers.mask;const he=F.parent,Ve=C.cameras;V(C,he);for(let ke=0;ke<Ve.length;ke++)V(Ve[ke],he);Ve.length===2?D(C,L,I):C.projectionMatrix.copy(L.projectionMatrix),B(F,C,he)};function B(F,ve,ie){ie===null?F.matrix.copy(ve.matrixWorld):(F.matrix.copy(ie.matrixWorld),F.matrix.invert(),F.matrix.multiply(ve.matrixWorld)),F.matrix.decompose(F.position,F.quaternion,F.scale),F.updateMatrixWorld(!0),F.projectionMatrix.copy(ve.projectionMatrix),F.projectionMatrixInverse.copy(ve.projectionMatrixInverse),F.isPerspectiveCamera&&(F.fov=b1*2*Math.atan(1/F.projectionMatrix.elements[5]),F.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(F){l=F,f!==null&&(f.fixedFoveation=F),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=F)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(C)};let $=null;function te(F,ve){if(h=ve.getViewerPose(u||a),v=ve,h!==null){const ie=h.views;m!==null&&(e.setRenderTargetFramebuffer(b,m.framebuffer),e.setRenderTarget(b));let he=!1;ie.length!==C.cameras.length&&(C.cameras.length=0,he=!0);for(let ke=0;ke<ie.length;ke++){const Pe=ie[ke];let Ce=null;if(m!==null)Ce=m.getViewport(Pe);else{const be=d.getViewSubImage(f,Pe);Ce=be.viewport,ke===0&&(e.setRenderTargetTextures(b,be.colorTexture,f.ignoreDepthValues?void 0:be.depthStencilTexture),e.setRenderTarget(b))}let pe=R[ke];pe===void 0&&(pe=new Vi,pe.layers.enable(ke),pe.viewport=new An,R[ke]=pe),pe.matrix.fromArray(Pe.transform.matrix),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.projectionMatrix.fromArray(Pe.projectionMatrix),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert(),pe.viewport.set(Ce.x,Ce.y,Ce.width,Ce.height),ke===0&&(C.matrix.copy(pe.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),he===!0&&C.cameras.push(pe)}const Ve=i.enabledFeatures;if(Ve&&Ve.includes("depth-sensing")){const ke=d.getDepthInformation(ie[0]);ke&&ke.isValid&&ke.texture&&S.init(e,ke,i.renderState)}}for(let ie=0;ie<M.length;ie++){const he=E[ie],Ve=M[ie];he!==null&&Ve!==void 0&&Ve.update(he,ve,u||a)}$&&$(F,ve),ve.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ve}),v=null}const Ae=new Xte;Ae.setAnimationLoop(te),this.setAnimationLoop=function(F){$=F},this.dispose=function(){}}}const Kp=new bo,I2e=new Yt;function N2e(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,Hte(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,b,M,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),d(y,g)):g.isMeshPhongMaterial?(s(y,g),h(y,g)):g.isMeshStandardMaterial?(s(y,g),f(y,g),g.isMeshPhysicalMaterial&&m(y,g,E)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),S(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(a(y,g),g.isLineDashedMaterial&&o(y,g)):g.isPointsMaterial?l(y,g,b,M):g.isSpriteMaterial?u(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===ea&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===ea&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const b=e.get(g),M=b.envMap,E=b.envMapRotation;M&&(y.envMap.value=M,Kp.copy(E),Kp.x*=-1,Kp.y*=-1,Kp.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Kp.y*=-1,Kp.z*=-1),y.envMapRotation.value.setFromMatrix4(I2e.makeRotationFromEuler(Kp)),y.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function a(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function o(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,b,M){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*b,y.scale.value=M*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function h(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function f(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,b){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ea&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function S(y,g){const b=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(b.matrixWorld),y.nearDistance.value=b.shadow.camera.near,y.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function D2e(t,e,n,r){let i={},s={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,M){const E=M.program;r.uniformBlockBinding(b,E)}function u(b,M){let E=i[b.id];E===void 0&&(v(b),E=h(b),i[b.id]=E,b.addEventListener("dispose",y));const P=M.program;r.updateUBOMapping(b,P);const A=e.render.frame;s[b.id]!==A&&(f(b),s[b.id]=A)}function h(b){const M=d();b.__bindingPointIndex=M;const E=t.createBuffer(),P=b.__size,A=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,P,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,M,E),E}function d(){for(let b=0;b<o;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(b){const M=i[b.id],E=b.uniforms,P=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,M);for(let A=0,L=E.length;A<L;A++){const I=Array.isArray(E[A])?E[A]:[E[A]];for(let R=0,C=I.length;R<C;R++){const O=I[R];if(m(O,A,R,P)===!0){const G=O.__offset,j=Array.isArray(O.value)?O.value:[O.value];let q=0;for(let Q=0;Q<j.length;Q++){const X=j[Q],se=S(X);typeof X=="number"||typeof X=="boolean"?(O.__data[0]=X,t.bufferSubData(t.UNIFORM_BUFFER,G+q,O.__data)):X.isMatrix3?(O.__data[0]=X.elements[0],O.__data[1]=X.elements[1],O.__data[2]=X.elements[2],O.__data[3]=0,O.__data[4]=X.elements[3],O.__data[5]=X.elements[4],O.__data[6]=X.elements[5],O.__data[7]=0,O.__data[8]=X.elements[6],O.__data[9]=X.elements[7],O.__data[10]=X.elements[8],O.__data[11]=0):(X.toArray(O.__data,q),q+=se.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,G,O.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(b,M,E,P){const A=b.value,L=M+"_"+E;if(P[L]===void 0)return typeof A=="number"||typeof A=="boolean"?P[L]=A:P[L]=A.clone(),!0;{const I=P[L];if(typeof A=="number"||typeof A=="boolean"){if(I!==A)return P[L]=A,!0}else if(I.equals(A)===!1)return I.copy(A),!0}return!1}function v(b){const M=b.uniforms;let E=0;const P=16;for(let L=0,I=M.length;L<I;L++){const R=Array.isArray(M[L])?M[L]:[M[L]];for(let C=0,O=R.length;C<O;C++){const G=R[C],j=Array.isArray(G.value)?G.value:[G.value];for(let q=0,Q=j.length;q<Q;q++){const X=j[q],se=S(X),D=E%P,V=D%se.boundary,B=D+V;E+=V,B!==0&&P-B<se.storage&&(E+=P-B),G.__data=new Float32Array(se.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=E,E+=se.storage}}}const A=E%P;return A>0&&(E+=P-A),b.__size=E,b.__cache={},this}function S(b){const M={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(M.boundary=4,M.storage=4):b.isVector2?(M.boundary=8,M.storage=8):b.isVector3||b.isColor?(M.boundary=16,M.storage=12):b.isVector4?(M.boundary=16,M.storage=16):b.isMatrix3?(M.boundary=48,M.storage=48):b.isMatrix4?(M.boundary=64,M.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),M}function y(b){const M=b.target;M.removeEventListener("dispose",y);const E=a.indexOf(M.__bindingPointIndex);a.splice(E,1),t.deleteBuffer(i[M.id]),delete i[M.id],delete s[M.id]}function g(){for(const b in i)t.deleteBuffer(i[b]);a=[],i={},s={}}return{bind:l,update:u,dispose:g}}class Jte{constructor(e={}){const{canvas:n=Fte(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=a;const v=new Uint32Array(4),S=new Int32Array(4);let y=null,g=null;const b=[],M=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=xa,this.toneMapping=Zu,this.toneMappingExposure=1;const E=this;let P=!1,A=0,L=0,I=null,R=-1,C=null;const O=new An,G=new An;let j=null;const q=new Pt(0);let Q=0,X=n.width,se=n.height,D=1,V=null,B=null;const $=new An(0,0,X,se),te=new An(0,0,X,se);let Ae=!1;const F=new vw;let ve=!1,ie=!1;const he=new Yt,Ve=new Yt,ke=new le,Pe=new An,Ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let pe=!1;function be(){return I===null?D:1}let H=r;function Ee(U,K){return n.getContext(U,K)}try{const U={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${hw}`),n.addEventListener("webglcontextlost",_e,!1),n.addEventListener("webglcontextrestored",We,!1),n.addEventListener("webglcontextcreationerror",De,!1),H===null){const K="webgl2";if(H=Ee(K,U),H===null)throw Ee(K)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let Te,He,Le,it,ze,z,k,J,ge,xe,me,qe,Ie,Xe,pt,Me,je,nt,at,$e,Tt,dt,Vt,Y;function Oe(){Te=new Bwe(H),Te.init(),dt=new Kte(H,Te),He=new Dwe(H,Te,e,dt),Le=new _2e(H,Te),He.reverseDepthBuffer&&f&&Le.buffers.depth.setReversed(!0),it=new Gwe(H),ze=new o2e,z=new T2e(H,Te,Le,ze,He,dt,it),k=new kwe(E),J=new zwe(E),ge=new ZSe(H),Vt=new Iwe(H,ge),xe=new Vwe(H,ge,it,Vt),me=new jwe(H,xe,ge,it),at=new Wwe(H,He,z),Me=new Owe(ze),qe=new a2e(E,k,J,Te,He,Vt,Me),Ie=new N2e(E,ze),Xe=new u2e,pt=new m2e(Te),nt=new Lwe(E,k,J,Le,me,m,l),je=new y2e(E,me,He),Y=new D2e(H,it,He,Le),$e=new Nwe(H,Te,it),Tt=new Hwe(H,Te,it),it.programs=qe.programs,E.capabilities=He,E.extensions=Te,E.properties=ze,E.renderLists=Xe,E.shadowMap=je,E.state=Le,E.info=it}Oe();const ce=new L2e(E,H);this.xr=ce,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const U=Te.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=Te.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(U){U!==void 0&&(D=U,this.setSize(X,se,!1))},this.getSize=function(U){return U.set(X,se)},this.setSize=function(U,K,ae=!0){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=U,se=K,n.width=Math.floor(U*D),n.height=Math.floor(K*D),ae===!0&&(n.style.width=U+"px",n.style.height=K+"px"),this.setViewport(0,0,U,K)},this.getDrawingBufferSize=function(U){return U.set(X*D,se*D).floor()},this.setDrawingBufferSize=function(U,K,ae){X=U,se=K,D=ae,n.width=Math.floor(U*ae),n.height=Math.floor(K*ae),this.setViewport(0,0,U,K)},this.getCurrentViewport=function(U){return U.copy(O)},this.getViewport=function(U){return U.copy($)},this.setViewport=function(U,K,ae,oe){U.isVector4?$.set(U.x,U.y,U.z,U.w):$.set(U,K,ae,oe),Le.viewport(O.copy($).multiplyScalar(D).round())},this.getScissor=function(U){return U.copy(te)},this.setScissor=function(U,K,ae,oe){U.isVector4?te.set(U.x,U.y,U.z,U.w):te.set(U,K,ae,oe),Le.scissor(G.copy(te).multiplyScalar(D).round())},this.getScissorTest=function(){return Ae},this.setScissorTest=function(U){Le.setScissorTest(Ae=U)},this.setOpaqueSort=function(U){V=U},this.setTransparentSort=function(U){B=U},this.getClearColor=function(U){return U.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(U=!0,K=!0,ae=!0){let oe=0;if(U){let Z=!1;if(I!==null){const we=I.texture.format;Z=we===hR||we===cR||we===fw}if(Z){const we=I.texture.type,Be=we===Zl||we===Wh||we===S1||we===Cg||we===oR||we===lR,Ze=nt.getClearColor(),Ke=nt.getClearAlpha(),lt=Ze.r,ht=Ze.g,Qe=Ze.b;Be?(v[0]=lt,v[1]=ht,v[2]=Qe,v[3]=Ke,H.clearBufferuiv(H.COLOR,0,v)):(S[0]=lt,S[1]=ht,S[2]=Qe,S[3]=Ke,H.clearBufferiv(H.COLOR,0,S))}else oe|=H.COLOR_BUFFER_BIT}K&&(oe|=H.DEPTH_BUFFER_BIT),ae&&(oe|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",_e,!1),n.removeEventListener("webglcontextrestored",We,!1),n.removeEventListener("webglcontextcreationerror",De,!1),Xe.dispose(),pt.dispose(),ze.dispose(),k.dispose(),J.dispose(),me.dispose(),Vt.dispose(),Y.dispose(),qe.dispose(),ce.dispose(),ce.removeEventListener("sessionstart",pc),ce.removeEventListener("sessionend",su),Ir.stop()};function _e(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function We(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const U=it.autoReset,K=je.enabled,ae=je.autoUpdate,oe=je.needsUpdate,Z=je.type;Oe(),it.autoReset=U,je.enabled=K,je.autoUpdate=ae,je.needsUpdate=oe,je.type=Z}function De(U){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function vt(U){const K=U.target;K.removeEventListener("dispose",vt),jt(K)}function jt(U){dn(U),ze.remove(U)}function dn(U){const K=ze.get(U).programs;K!==void 0&&(K.forEach(function(ae){qe.releaseProgram(ae)}),U.isShaderMaterial&&qe.releaseShaderCache(U))}this.renderBufferDirect=function(U,K,ae,oe,Z,we){K===null&&(K=Ce);const Be=Z.isMesh&&Z.matrixWorld.determinant()<0,Ze=dp(U,K,ae,oe,Z);Le.setMaterial(oe,Be);let Ke=ae.index,lt=1;if(oe.wireframe===!0){if(Ke=xe.getWireframeAttribute(ae),Ke===void 0)return;lt=2}const ht=ae.drawRange,Qe=ae.attributes.position;let xt=ht.start*lt,ft=(ht.start+ht.count)*lt;we!==null&&(xt=Math.max(xt,we.start*lt),ft=Math.min(ft,(we.start+we.count)*lt)),Ke!==null?(xt=Math.max(xt,0),ft=Math.min(ft,Ke.count)):Qe!=null&&(xt=Math.max(xt,0),ft=Math.min(ft,Qe.count));const rt=ft-xt;if(rt<0||rt===1/0)return;Vt.setup(Z,oe,Ze,ae,Ke);let Ct,yt=$e;if(Ke!==null&&(Ct=ge.get(Ke),yt=Tt,yt.setIndex(Ct)),Z.isMesh)oe.wireframe===!0?(Le.setLineWidth(oe.wireframeLinewidth*be()),yt.setMode(H.LINES)):yt.setMode(H.TRIANGLES);else if(Z.isLine){let Ge=oe.linewidth;Ge===void 0&&(Ge=1),Le.setLineWidth(Ge*be()),Z.isLineSegments?yt.setMode(H.LINES):Z.isLineLoop?yt.setMode(H.LINE_LOOP):yt.setMode(H.LINE_STRIP)}else Z.isPoints?yt.setMode(H.POINTS):Z.isSprite&&yt.setMode(H.TRIANGLES);if(Z.isBatchedMesh)if(Z._multiDrawInstances!==null)yt.renderMultiDrawInstances(Z._multiDrawStarts,Z._multiDrawCounts,Z._multiDrawCount,Z._multiDrawInstances);else if(Te.get("WEBGL_multi_draw"))yt.renderMultiDraw(Z._multiDrawStarts,Z._multiDrawCounts,Z._multiDrawCount);else{const Ge=Z._multiDrawStarts,un=Z._multiDrawCounts,Ht=Z._multiDrawCount,Zt=Ke?ge.get(Ke).bytesPerElement:1,wn=ze.get(oe).currentProgram.getUniforms();for(let xn=0;xn<Ht;xn++)wn.setValue(H,"_gl_DrawID",xn),yt.render(Ge[xn]/Zt,un[xn])}else if(Z.isInstancedMesh)yt.renderInstances(xt,rt,Z.count);else if(ae.isInstancedBufferGeometry){const Ge=ae._maxInstanceCount!==void 0?ae._maxInstanceCount:1/0,un=Math.min(ae.instanceCount,Ge);yt.renderInstances(xt,rt,un)}else yt.render(xt,rt)};function Nt(U,K,ae){U.transparent===!0&&U.side===Nu&&U.forceSinglePass===!1?(U.side=ea,U.needsUpdate=!0,Ga(U,K,ae),U.side=Hh,U.needsUpdate=!0,Ga(U,K,ae),U.side=Nu):Ga(U,K,ae)}this.compile=function(U,K,ae=null){ae===null&&(ae=U),g=pt.get(ae),g.init(K),M.push(g),ae.traverseVisible(function(Z){Z.isLight&&Z.layers.test(K.layers)&&(g.pushLight(Z),Z.castShadow&&g.pushShadow(Z))}),U!==ae&&U.traverseVisible(function(Z){Z.isLight&&Z.layers.test(K.layers)&&(g.pushLight(Z),Z.castShadow&&g.pushShadow(Z))}),g.setupLights();const oe=new Set;return U.traverse(function(Z){if(!(Z.isMesh||Z.isPoints||Z.isLine||Z.isSprite))return;const we=Z.material;if(we)if(Array.isArray(we))for(let Be=0;Be<we.length;Be++){const Ze=we[Be];Nt(Ze,ae,Z),oe.add(Ze)}else Nt(we,ae,Z),oe.add(we)}),M.pop(),g=null,oe},this.compileAsync=function(U,K,ae=null){const oe=this.compile(U,K,ae);return new Promise(Z=>{function we(){if(oe.forEach(function(Be){ze.get(Be).currentProgram.isReady()&&oe.delete(Be)}),oe.size===0){Z(U);return}setTimeout(we,10)}Te.get("KHR_parallel_shader_compile")!==null?we():setTimeout(we,10)})};let jn=null;function xr(U){jn&&jn(U)}function pc(){Ir.stop()}function su(){Ir.start()}const Ir=new Xte;Ir.setAnimationLoop(xr),typeof self<"u"&&Ir.setContext(self),this.setAnimationLoop=function(U){jn=U,ce.setAnimationLoop(U),U===null?Ir.stop():Ir.start()},ce.addEventListener("sessionstart",pc),ce.addEventListener("sessionend",su),this.render=function(U,K){if(K!==void 0&&K.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),K.parent===null&&K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(ce.cameraAutoUpdate===!0&&ce.updateCamera(K),K=ce.getCamera()),U.isScene===!0&&U.onBeforeRender(E,U,K,I),g=pt.get(U,M.length),g.init(K),M.push(g),Ve.multiplyMatrices(K.projectionMatrix,K.matrixWorldInverse),F.setFromProjectionMatrix(Ve),ie=this.localClippingEnabled,ve=Me.init(this.clippingPlanes,ie),y=Xe.get(U,b.length),y.init(),b.push(y),ce.enabled===!0&&ce.isPresenting===!0){const we=E.xr.getDepthSensingMesh();we!==null&&za(we,K,-1/0,E.sortObjects)}za(U,K,0,E.sortObjects),y.finish(),E.sortObjects===!0&&y.sort(V,B),pe=ce.enabled===!1||ce.isPresenting===!1||ce.hasDepthSensing()===!1,pe&&nt.addToRenderList(y,U),this.info.render.frame++,ve===!0&&Me.beginShadows();const ae=g.state.shadowsArray;je.render(ae,U,K),ve===!0&&Me.endShadows(),this.info.autoReset===!0&&this.info.reset();const oe=y.opaque,Z=y.transmissive;if(g.setupLights(),K.isArrayCamera){const we=K.cameras;if(Z.length>0)for(let Be=0,Ze=we.length;Be<Ze;Be++){const Ke=we[Be];Va(oe,Z,U,Ke)}pe&&nt.render(U);for(let Be=0,Ze=we.length;Be<Ze;Be++){const Ke=we[Be];Ba(y,U,Ke,Ke.viewport)}}else Z.length>0&&Va(oe,Z,U,K),pe&&nt.render(U),Ba(y,U,K);I!==null&&(z.updateMultisampleRenderTarget(I),z.updateRenderTargetMipmap(I)),U.isScene===!0&&U.onAfterRender(E,U,K),Vt.resetDefaultState(),R=-1,C=null,M.pop(),M.length>0?(g=M[M.length-1],ve===!0&&Me.setGlobalState(E.clippingPlanes,g.state.camera)):g=null,b.pop(),b.length>0?y=b[b.length-1]:y=null};function za(U,K,ae,oe){if(U.visible===!1)return;if(U.layers.test(K.layers)){if(U.isGroup)ae=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(K);else if(U.isLight)g.pushLight(U),U.castShadow&&g.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||F.intersectsSprite(U)){oe&&Pe.setFromMatrixPosition(U.matrixWorld).applyMatrix4(Ve);const Be=me.update(U),Ze=U.material;Ze.visible&&y.push(U,Be,Ze,ae,Pe.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(!U.frustumCulled||F.intersectsObject(U))){const Be=me.update(U),Ze=U.material;if(oe&&(U.boundingSphere!==void 0?(U.boundingSphere===null&&U.computeBoundingSphere(),Pe.copy(U.boundingSphere.center)):(Be.boundingSphere===null&&Be.computeBoundingSphere(),Pe.copy(Be.boundingSphere.center)),Pe.applyMatrix4(U.matrixWorld).applyMatrix4(Ve)),Array.isArray(Ze)){const Ke=Be.groups;for(let lt=0,ht=Ke.length;lt<ht;lt++){const Qe=Ke[lt],xt=Ze[Qe.materialIndex];xt&&xt.visible&&y.push(U,Be,xt,ae,Pe.z,Qe)}}else Ze.visible&&y.push(U,Be,Ze,ae,Pe.z,null)}}const we=U.children;for(let Be=0,Ze=we.length;Be<Ze;Be++)za(we[Be],K,ae,oe)}function Ba(U,K,ae,oe){const Z=U.opaque,we=U.transmissive,Be=U.transparent;g.setupLightsView(ae),ve===!0&&Me.setGlobalState(E.clippingPlanes,ae),oe&&Le.viewport(O.copy(oe)),Z.length>0&&Ha(Z,K,ae),we.length>0&&Ha(we,K,ae),Be.length>0&&Ha(Be,K,ae),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1)}function Va(U,K,ae,oe){if((ae.isScene===!0?ae.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[oe.id]===void 0&&(g.state.transmissionRenderTarget[oe.id]=new Kl(1,1,{generateMipmaps:!0,type:Te.has("EXT_color_buffer_half_float")||Te.has("EXT_color_buffer_float")?K1:Zl,minFilter:Fu,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:bn.workingColorSpace}));const we=g.state.transmissionRenderTarget[oe.id],Be=oe.viewport||O;we.setSize(Be.z,Be.w);const Ze=E.getRenderTarget();E.setRenderTarget(we),E.getClearColor(q),Q=E.getClearAlpha(),Q<1&&E.setClearColor(16777215,.5),E.clear(),pe&&nt.render(ae);const Ke=E.toneMapping;E.toneMapping=Zu;const lt=oe.viewport;if(oe.viewport!==void 0&&(oe.viewport=void 0),g.setupLightsView(oe),ve===!0&&Me.setGlobalState(E.clippingPlanes,oe),Ha(U,ae,oe),z.updateMultisampleRenderTarget(we),z.updateRenderTargetMipmap(we),Te.has("WEBGL_multisampled_render_to_texture")===!1){let ht=!1;for(let Qe=0,xt=K.length;Qe<xt;Qe++){const ft=K[Qe],rt=ft.object,Ct=ft.geometry,yt=ft.material,Ge=ft.group;if(yt.side===Nu&&rt.layers.test(oe.layers)){const un=yt.side;yt.side=ea,yt.needsUpdate=!0,mc(rt,ae,oe,Ct,yt,Ge),yt.side=un,yt.needsUpdate=!0,ht=!0}}ht===!0&&(z.updateMultisampleRenderTarget(we),z.updateRenderTargetMipmap(we))}E.setRenderTarget(Ze),E.setClearColor(q,Q),lt!==void 0&&(oe.viewport=lt),E.toneMapping=Ke}function Ha(U,K,ae){const oe=K.isScene===!0?K.overrideMaterial:null;for(let Z=0,we=U.length;Z<we;Z++){const Be=U[Z],Ze=Be.object,Ke=Be.geometry,lt=oe===null?Be.material:oe,ht=Be.group;Ze.layers.test(ae.layers)&&mc(Ze,K,ae,Ke,lt,ht)}}function mc(U,K,ae,oe,Z,we){U.onBeforeRender(E,K,ae,oe,Z,we),U.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),Z.onBeforeRender(E,K,ae,oe,U,we),Z.transparent===!0&&Z.side===Nu&&Z.forceSinglePass===!1?(Z.side=ea,Z.needsUpdate=!0,E.renderBufferDirect(ae,K,oe,Z,U,we),Z.side=Hh,Z.needsUpdate=!0,E.renderBufferDirect(ae,K,oe,Z,U,we),Z.side=Nu):E.renderBufferDirect(ae,K,oe,Z,U,we),U.onAfterRender(E,K,ae,oe,Z,we)}function Ga(U,K,ae){K.isScene!==!0&&(K=Ce);const oe=ze.get(U),Z=g.state.lights,we=g.state.shadowsArray,Be=Z.state.version,Ze=qe.getParameters(U,Z.state,we,K,ae),Ke=qe.getProgramCacheKey(Ze);let lt=oe.programs;oe.environment=U.isMeshStandardMaterial?K.environment:null,oe.fog=K.fog,oe.envMap=(U.isMeshStandardMaterial?J:k).get(U.envMap||oe.environment),oe.envMapRotation=oe.environment!==null&&U.envMap===null?K.environmentRotation:U.envMapRotation,lt===void 0&&(U.addEventListener("dispose",vt),lt=new Map,oe.programs=lt);let ht=lt.get(Ke);if(ht!==void 0){if(oe.currentProgram===ht&&oe.lightsStateVersion===Be)return vc(U,Ze),ht}else Ze.uniforms=qe.getUniforms(U),U.onBeforeCompile(Ze,E),ht=qe.acquireProgram(Ze,Ke),lt.set(Ke,ht),oe.uniforms=Ze.uniforms;const Qe=oe.uniforms;return(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(Qe.clippingPlanes=Me.uniform),vc(U,Ze),oe.needsLights=cd(U),oe.lightsStateVersion=Be,oe.needsLights&&(Qe.ambientLightColor.value=Z.state.ambient,Qe.lightProbe.value=Z.state.probe,Qe.directionalLights.value=Z.state.directional,Qe.directionalLightShadows.value=Z.state.directionalShadow,Qe.spotLights.value=Z.state.spot,Qe.spotLightShadows.value=Z.state.spotShadow,Qe.rectAreaLights.value=Z.state.rectArea,Qe.ltc_1.value=Z.state.rectAreaLTC1,Qe.ltc_2.value=Z.state.rectAreaLTC2,Qe.pointLights.value=Z.state.point,Qe.pointLightShadows.value=Z.state.pointShadow,Qe.hemisphereLights.value=Z.state.hemi,Qe.directionalShadowMap.value=Z.state.directionalShadowMap,Qe.directionalShadowMatrix.value=Z.state.directionalShadowMatrix,Qe.spotShadowMap.value=Z.state.spotShadowMap,Qe.spotLightMatrix.value=Z.state.spotLightMatrix,Qe.spotLightMap.value=Z.state.spotLightMap,Qe.pointShadowMap.value=Z.state.pointShadowMap,Qe.pointShadowMatrix.value=Z.state.pointShadowMatrix),oe.currentProgram=ht,oe.uniformsList=null,ht}function gc(U){if(U.uniformsList===null){const K=U.currentProgram.getUniforms();U.uniformsList=oA.seqWithValue(K.seq,U.uniforms)}return U.uniformsList}function vc(U,K){const ae=ze.get(U);ae.outputColorSpace=K.outputColorSpace,ae.batching=K.batching,ae.batchingColor=K.batchingColor,ae.instancing=K.instancing,ae.instancingColor=K.instancingColor,ae.instancingMorph=K.instancingMorph,ae.skinning=K.skinning,ae.morphTargets=K.morphTargets,ae.morphNormals=K.morphNormals,ae.morphColors=K.morphColors,ae.morphTargetsCount=K.morphTargetsCount,ae.numClippingPlanes=K.numClippingPlanes,ae.numIntersection=K.numClipIntersection,ae.vertexAlphas=K.vertexAlphas,ae.vertexTangents=K.vertexTangents,ae.toneMapping=K.toneMapping}function dp(U,K,ae,oe,Z){K.isScene!==!0&&(K=Ce),z.resetTextureUnits();const we=K.fog,Be=oe.isMeshStandardMaterial?K.environment:null,Ze=I===null?E.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:qg,Ke=(oe.isMeshStandardMaterial?J:k).get(oe.envMap||Be),lt=oe.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,ht=!!ae.attributes.tangent&&(!!oe.normalMap||oe.anisotropy>0),Qe=!!ae.morphAttributes.position,xt=!!ae.morphAttributes.normal,ft=!!ae.morphAttributes.color;let rt=Zu;oe.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(rt=E.toneMapping);const Ct=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,yt=Ct!==void 0?Ct.length:0,Ge=ze.get(oe),un=g.state.lights;if(ve===!0&&(ie===!0||U!==C)){const rn=U===C&&oe.id===R;Me.setState(oe,U,rn)}let Ht=!1;oe.version===Ge.__version?(Ge.needsLights&&Ge.lightsStateVersion!==un.state.version||Ge.outputColorSpace!==Ze||Z.isBatchedMesh&&Ge.batching===!1||!Z.isBatchedMesh&&Ge.batching===!0||Z.isBatchedMesh&&Ge.batchingColor===!0&&Z.colorTexture===null||Z.isBatchedMesh&&Ge.batchingColor===!1&&Z.colorTexture!==null||Z.isInstancedMesh&&Ge.instancing===!1||!Z.isInstancedMesh&&Ge.instancing===!0||Z.isSkinnedMesh&&Ge.skinning===!1||!Z.isSkinnedMesh&&Ge.skinning===!0||Z.isInstancedMesh&&Ge.instancingColor===!0&&Z.instanceColor===null||Z.isInstancedMesh&&Ge.instancingColor===!1&&Z.instanceColor!==null||Z.isInstancedMesh&&Ge.instancingMorph===!0&&Z.morphTexture===null||Z.isInstancedMesh&&Ge.instancingMorph===!1&&Z.morphTexture!==null||Ge.envMap!==Ke||oe.fog===!0&&Ge.fog!==we||Ge.numClippingPlanes!==void 0&&(Ge.numClippingPlanes!==Me.numPlanes||Ge.numIntersection!==Me.numIntersection)||Ge.vertexAlphas!==lt||Ge.vertexTangents!==ht||Ge.morphTargets!==Qe||Ge.morphNormals!==xt||Ge.morphColors!==ft||Ge.toneMapping!==rt||Ge.morphTargetsCount!==yt)&&(Ht=!0):(Ht=!0,Ge.__version=oe.version);let Zt=Ge.currentProgram;Ht===!0&&(Zt=Ga(oe,K,Z));let wn=!1,xn=!1,$i=!1;const Bt=Zt.getUniforms(),On=Ge.uniforms;if(Le.useProgram(Zt.program)&&(wn=!0,xn=!0,$i=!0),oe.id!==R&&(R=oe.id,xn=!0),wn||C!==U){Le.buffers.depth.getReversed()?(he.copy(U.projectionMatrix),SSe(he),bSe(he),Bt.setValue(H,"projectionMatrix",he)):Bt.setValue(H,"projectionMatrix",U.projectionMatrix),Bt.setValue(H,"viewMatrix",U.matrixWorldInverse);const Ci=Bt.map.cameraPosition;Ci!==void 0&&Ci.setValue(H,ke.setFromMatrixPosition(U.matrixWorld)),He.logarithmicDepthBuffer&&Bt.setValue(H,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial)&&Bt.setValue(H,"isOrthographic",U.isOrthographicCamera===!0),C!==U&&(C=U,xn=!0,$i=!0)}if(Z.isSkinnedMesh){Bt.setOptional(H,Z,"bindMatrix"),Bt.setOptional(H,Z,"bindMatrixInverse");const rn=Z.skeleton;rn&&(rn.boneTexture===null&&rn.computeBoneTexture(),Bt.setValue(H,"boneTexture",rn.boneTexture,z))}Z.isBatchedMesh&&(Bt.setOptional(H,Z,"batchingTexture"),Bt.setValue(H,"batchingTexture",Z._matricesTexture,z),Bt.setOptional(H,Z,"batchingIdTexture"),Bt.setValue(H,"batchingIdTexture",Z._indirectTexture,z),Bt.setOptional(H,Z,"batchingColorTexture"),Z._colorsTexture!==null&&Bt.setValue(H,"batchingColorTexture",Z._colorsTexture,z));const Kn=ae.morphAttributes;if((Kn.position!==void 0||Kn.normal!==void 0||Kn.color!==void 0)&&at.update(Z,ae,Zt),(xn||Ge.receiveShadow!==Z.receiveShadow)&&(Ge.receiveShadow=Z.receiveShadow,Bt.setValue(H,"receiveShadow",Z.receiveShadow)),oe.isMeshGouraudMaterial&&oe.envMap!==null&&(On.envMap.value=Ke,On.flipEnvMap.value=Ke.isCubeTexture&&Ke.isRenderTargetTexture===!1?-1:1),oe.isMeshStandardMaterial&&oe.envMap===null&&K.environment!==null&&(On.envMapIntensity.value=K.environmentIntensity),xn&&(Bt.setValue(H,"toneMappingExposure",E.toneMappingExposure),Ge.needsLights&&ud(On,$i),we&&oe.fog===!0&&Ie.refreshFogUniforms(On,we),Ie.refreshMaterialUniforms(On,oe,D,se,g.state.transmissionRenderTarget[U.id]),oA.upload(H,gc(Ge),On,z)),oe.isShaderMaterial&&oe.uniformsNeedUpdate===!0&&(oA.upload(H,gc(Ge),On,z),oe.uniformsNeedUpdate=!1),oe.isSpriteMaterial&&Bt.setValue(H,"center",Z.center),Bt.setValue(H,"modelViewMatrix",Z.modelViewMatrix),Bt.setValue(H,"normalMatrix",Z.normalMatrix),Bt.setValue(H,"modelMatrix",Z.matrixWorld),oe.isShaderMaterial||oe.isRawShaderMaterial){const rn=oe.uniformsGroups;for(let Ci=0,Gr=rn.length;Ci<Gr;Ci++){const Io=rn[Ci];Y.update(Io,Zt),Y.bind(Io,Zt)}}return Zt}function ud(U,K){U.ambientLightColor.needsUpdate=K,U.lightProbe.needsUpdate=K,U.directionalLights.needsUpdate=K,U.directionalLightShadows.needsUpdate=K,U.pointLights.needsUpdate=K,U.pointLightShadows.needsUpdate=K,U.spotLights.needsUpdate=K,U.spotLightShadows.needsUpdate=K,U.rectAreaLights.needsUpdate=K,U.hemisphereLights.needsUpdate=K}function cd(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(U,K,ae){ze.get(U.texture).__webglTexture=K,ze.get(U.depthTexture).__webglTexture=ae;const oe=ze.get(U);oe.__hasExternalTextures=!0,oe.__autoAllocateDepthBuffer=ae===void 0,oe.__autoAllocateDepthBuffer||Te.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),oe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(U,K){const ae=ze.get(U);ae.__webglFramebuffer=K,ae.__useDefaultFramebuffer=K===void 0},this.setRenderTarget=function(U,K=0,ae=0){I=U,A=K,L=ae;let oe=!0,Z=null,we=!1,Be=!1;if(U){const Ke=ze.get(U);if(Ke.__useDefaultFramebuffer!==void 0)Le.bindFramebuffer(H.FRAMEBUFFER,null),oe=!1;else if(Ke.__webglFramebuffer===void 0)z.setupRenderTarget(U);else if(Ke.__hasExternalTextures)z.rebindTextures(U,ze.get(U.texture).__webglTexture,ze.get(U.depthTexture).__webglTexture);else if(U.depthBuffer){const Qe=U.depthTexture;if(Ke.__boundDepthTexture!==Qe){if(Qe!==null&&ze.has(Qe)&&(U.width!==Qe.image.width||U.height!==Qe.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");z.setupDepthRenderbuffer(U)}}const lt=U.texture;(lt.isData3DTexture||lt.isDataArrayTexture||lt.isCompressedArrayTexture)&&(Be=!0);const ht=ze.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(Array.isArray(ht[K])?Z=ht[K][ae]:Z=ht[K],we=!0):U.samples>0&&z.useMultisampledRTT(U)===!1?Z=ze.get(U).__webglMultisampledFramebuffer:Array.isArray(ht)?Z=ht[ae]:Z=ht,O.copy(U.viewport),G.copy(U.scissor),j=U.scissorTest}else O.copy($).multiplyScalar(D).floor(),G.copy(te).multiplyScalar(D).floor(),j=Ae;if(Le.bindFramebuffer(H.FRAMEBUFFER,Z)&&oe&&Le.drawBuffers(U,Z),Le.viewport(O),Le.scissor(G),Le.setScissorTest(j),we){const Ke=ze.get(U.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+K,Ke.__webglTexture,ae)}else if(Be){const Ke=ze.get(U.texture),lt=K||0;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,Ke.__webglTexture,ae||0,lt)}R=-1},this.readRenderTargetPixels=function(U,K,ae,oe,Z,we,Be){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ze=ze.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&Be!==void 0&&(Ze=Ze[Be]),Ze){Le.bindFramebuffer(H.FRAMEBUFFER,Ze);try{const Ke=U.texture,lt=Ke.format,ht=Ke.type;if(!He.textureFormatReadable(lt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!He.textureTypeReadable(ht)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}K>=0&&K<=U.width-oe&&ae>=0&&ae<=U.height-Z&&H.readPixels(K,ae,oe,Z,dt.convert(lt),dt.convert(ht),we)}finally{const Ke=I!==null?ze.get(I).__webglFramebuffer:null;Le.bindFramebuffer(H.FRAMEBUFFER,Ke)}}},this.readRenderTargetPixelsAsync=async function(U,K,ae,oe,Z,we,Be){if(!(U&&U.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ze=ze.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&Be!==void 0&&(Ze=Ze[Be]),Ze){const Ke=U.texture,lt=Ke.format,ht=Ke.type;if(!He.textureFormatReadable(lt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!He.textureTypeReadable(ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(K>=0&&K<=U.width-oe&&ae>=0&&ae<=U.height-Z){Le.bindFramebuffer(H.FRAMEBUFFER,Ze);const Qe=H.createBuffer();H.bindBuffer(H.PIXEL_PACK_BUFFER,Qe),H.bufferData(H.PIXEL_PACK_BUFFER,we.byteLength,H.STREAM_READ),H.readPixels(K,ae,oe,Z,dt.convert(lt),dt.convert(ht),0);const xt=I!==null?ze.get(I).__webglFramebuffer:null;Le.bindFramebuffer(H.FRAMEBUFFER,xt);const ft=H.fenceSync(H.SYNC_GPU_COMMANDS_COMPLETE,0);return H.flush(),await _Se(H,ft,4),H.bindBuffer(H.PIXEL_PACK_BUFFER,Qe),H.getBufferSubData(H.PIXEL_PACK_BUFFER,0,we),H.deleteBuffer(Qe),H.deleteSync(ft),we}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(U,K=null,ae=0){U.isTexture!==!0&&(xS("WebGLRenderer: copyFramebufferToTexture function signature has changed."),K=arguments[0]||null,U=arguments[1]);const oe=Math.pow(2,-ae),Z=Math.floor(U.image.width*oe),we=Math.floor(U.image.height*oe),Be=K!==null?K.x:0,Ze=K!==null?K.y:0;z.setTexture2D(U,0),H.copyTexSubImage2D(H.TEXTURE_2D,ae,0,0,Be,Ze,Z,we),Le.unbindTexture()},this.copyTextureToTexture=function(U,K,ae=null,oe=null,Z=0){U.isTexture!==!0&&(xS("WebGLRenderer: copyTextureToTexture function signature has changed."),oe=arguments[0]||null,U=arguments[1],K=arguments[2],Z=arguments[3]||0,ae=null);let we,Be,Ze,Ke,lt,ht,Qe,xt,ft;const rt=U.isCompressedTexture?U.mipmaps[Z]:U.image;ae!==null?(we=ae.max.x-ae.min.x,Be=ae.max.y-ae.min.y,Ze=ae.isBox3?ae.max.z-ae.min.z:1,Ke=ae.min.x,lt=ae.min.y,ht=ae.isBox3?ae.min.z:0):(we=rt.width,Be=rt.height,Ze=rt.depth||1,Ke=0,lt=0,ht=0),oe!==null?(Qe=oe.x,xt=oe.y,ft=oe.z):(Qe=0,xt=0,ft=0);const Ct=dt.convert(K.format),yt=dt.convert(K.type);let Ge;K.isData3DTexture?(z.setTexture3D(K,0),Ge=H.TEXTURE_3D):K.isDataArrayTexture||K.isCompressedArrayTexture?(z.setTexture2DArray(K,0),Ge=H.TEXTURE_2D_ARRAY):(z.setTexture2D(K,0),Ge=H.TEXTURE_2D),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,K.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,K.unpackAlignment);const un=H.getParameter(H.UNPACK_ROW_LENGTH),Ht=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Zt=H.getParameter(H.UNPACK_SKIP_PIXELS),wn=H.getParameter(H.UNPACK_SKIP_ROWS),xn=H.getParameter(H.UNPACK_SKIP_IMAGES);H.pixelStorei(H.UNPACK_ROW_LENGTH,rt.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,rt.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Ke),H.pixelStorei(H.UNPACK_SKIP_ROWS,lt),H.pixelStorei(H.UNPACK_SKIP_IMAGES,ht);const $i=U.isDataArrayTexture||U.isData3DTexture,Bt=K.isDataArrayTexture||K.isData3DTexture;if(U.isRenderTargetTexture||U.isDepthTexture){const On=ze.get(U),Kn=ze.get(K),rn=ze.get(On.__renderTarget),Ci=ze.get(Kn.__renderTarget);Le.bindFramebuffer(H.READ_FRAMEBUFFER,rn.__webglFramebuffer),Le.bindFramebuffer(H.DRAW_FRAMEBUFFER,Ci.__webglFramebuffer);for(let Gr=0;Gr<Ze;Gr++)$i&&H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,ze.get(U).__webglTexture,Z,ht+Gr),U.isDepthTexture?(Bt&&H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,ze.get(K).__webglTexture,Z,ft+Gr),H.blitFramebuffer(Ke,lt,we,Be,Qe,xt,we,Be,H.DEPTH_BUFFER_BIT,H.NEAREST)):Bt?H.copyTexSubImage3D(Ge,Z,Qe,xt,ft+Gr,Ke,lt,we,Be):H.copyTexSubImage2D(Ge,Z,Qe,xt,ft+Gr,Ke,lt,we,Be);Le.bindFramebuffer(H.READ_FRAMEBUFFER,null),Le.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else Bt?U.isDataTexture||U.isData3DTexture?H.texSubImage3D(Ge,Z,Qe,xt,ft,we,Be,Ze,Ct,yt,rt.data):K.isCompressedArrayTexture?H.compressedTexSubImage3D(Ge,Z,Qe,xt,ft,we,Be,Ze,Ct,rt.data):H.texSubImage3D(Ge,Z,Qe,xt,ft,we,Be,Ze,Ct,yt,rt):U.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,Z,Qe,xt,we,Be,Ct,yt,rt.data):U.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,Z,Qe,xt,rt.width,rt.height,Ct,rt.data):H.texSubImage2D(H.TEXTURE_2D,Z,Qe,xt,we,Be,Ct,yt,rt);H.pixelStorei(H.UNPACK_ROW_LENGTH,un),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Ht),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Zt),H.pixelStorei(H.UNPACK_SKIP_ROWS,wn),H.pixelStorei(H.UNPACK_SKIP_IMAGES,xn),Z===0&&K.generateMipmaps&&H.generateMipmap(Ge),Le.unbindTexture()},this.copyTextureToTexture3D=function(U,K,ae=null,oe=null,Z=0){return U.isTexture!==!0&&(xS("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ae=arguments[0]||null,oe=arguments[1]||null,U=arguments[2],K=arguments[3],Z=arguments[4]||0),xS('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(U,K,ae,oe,Z)},this.initRenderTarget=function(U){ze.get(U).__webglFramebuffer===void 0&&z.setupRenderTarget(U)},this.initTexture=function(U){U.isCubeTexture?z.setTextureCube(U,0):U.isData3DTexture?z.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?z.setTexture2DArray(U,0):z.setTexture2D(U,0),Le.unbindTexture()},this.resetState=function(){A=0,L=0,I=null,Le.reset(),Vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return zu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=bn._getDrawingBufferColorSpace(e),n.unpackColorSpace=bn._getUnpackColorSpace()}}class mR{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Pt(e),this.density=n}clone(){return new mR(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class gR{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Pt(e),this.near=n,this.far=r}clone(){return new gR(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Z3 extends Ln{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new bo,this.environmentIntensity=1,this.environmentRotation=new bo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class vR{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=rM,this.updateRanges=[],this.version=0,this.uuid=mo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=mo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=mo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const js=new le;class Rg{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)js.fromBufferAttribute(this,n),js.applyMatrix4(e),this.setXYZ(n,js.x,js.y,js.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)js.fromBufferAttribute(this,n),js.applyNormalMatrix(e),this.setXYZ(n,js.x,js.y,js.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)js.fromBufferAttribute(this,n),js.transformDirection(e),this.setXYZ(n,js.x,js.y,js.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Ks(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Jt(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Jt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Jt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Jt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Jt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ks(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ks(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ks(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ks(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Jt(n,this.array),r=Jt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Jt(n,this.array),r=Jt(r,this.array),i=Jt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Jt(n,this.array),r=Jt(r,this.array),i=Jt(i,this.array),s=Jt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new $n(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Rg(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Z6 extends ps{static get type(){return"SpriteMaterial"}constructor(e){super(),this.isSpriteMaterial=!0,this.color=new Pt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let pv;const P_=new le,mv=new le,gv=new le,vv=new et,R_=new et,ene=new Yt,e2=new le,L_=new le,t2=new le,iG=new et,w4=new et,sG=new et;class tne extends Ln{constructor(e=new Z6){if(super(),this.isSprite=!0,this.type="Sprite",pv===void 0){pv=new tn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new vR(n,5);pv.setIndex([0,1,2,0,2,3]),pv.setAttribute("position",new Rg(r,3,0,!1)),pv.setAttribute("uv",new Rg(r,2,3,!1))}this.geometry=pv,this.material=e,this.center=new et(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),mv.setFromMatrixScale(this.matrixWorld),ene.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),gv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&mv.multiplyScalar(-gv.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;n2(e2.set(-.5,-.5,0),gv,a,mv,i,s),n2(L_.set(.5,-.5,0),gv,a,mv,i,s),n2(t2.set(.5,.5,0),gv,a,mv,i,s),iG.set(0,0),w4.set(1,0),sG.set(1,1);let o=e.ray.intersectTriangle(e2,L_,t2,!1,P_);if(o===null&&(n2(L_.set(-.5,.5,0),gv,a,mv,i,s),w4.set(0,1),o=e.ray.intersectTriangle(e2,t2,L_,!1,P_),o===null))return;const l=e.ray.origin.distanceTo(P_);l<e.near||l>e.far||n.push({distance:l,point:P_.clone(),uv:Ma.getInterpolation(P_,e2,L_,t2,iG,w4,sG,new et),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function n2(t,e,n,r,i,s){vv.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(R_.x=s*vv.x-i*vv.y,R_.y=i*vv.x+s*vv.y):R_.copy(vv),t.copy(e),t.x+=R_.x,t.y+=R_.y,t.applyMatrix4(ene)}const r2=new le,aG=new le;class nne extends Ln{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){r2.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(r2);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){r2.setFromMatrixPosition(e.matrixWorld),aG.setFromMatrixPosition(this.matrixWorld);const r=r2.distanceTo(aG)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const oG=new le,lG=new An,uG=new An,O2e=new le,cG=new Yt,i2=new le,E4=new ks,hG=new Yt,T4=new Q1;class rne extends ci{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=wO,this.bindMatrix=new Yt,this.bindMatrixInverse=new Yt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ta),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,i2),this.boundingBox.expandByPoint(i2)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ks),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,i2),this.boundingSphere.expandByPoint(i2)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),E4.copy(this.boundingSphere),E4.applyMatrix4(i),e.ray.intersectsSphere(E4)!==!1&&(hG.copy(i).invert(),T4.copy(e.ray).applyMatrix4(hG),!(this.boundingBox!==null&&T4.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,T4)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new An,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===wO?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Mte?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;lG.fromBufferAttribute(i.attributes.skinIndex,e),uG.fromBufferAttribute(i.attributes.skinWeight,e),oG.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=uG.getComponent(s);if(a!==0){const o=lG.getComponent(s);cG.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(O2e.copy(oG).applyMatrix4(cG),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class K6 extends Ln{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ku extends Ar{constructor(e=null,n=1,r=1,i,s,a,o,l,u=us,h=us,d,f){super(null,a,o,l,u,h,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const dG=new Yt,k2e=new Yt;class yR{constructor(e=[],n=[]){this.uuid=mo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Yt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Yt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:k2e;dG.multiplyMatrices(o,n[s]),dG.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new yR(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Ku(n,e,e,Ns,Ta);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new K6),this.bones.push(a),this.boneInverses.push(new Yt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class w1 extends $n{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const yv=new Yt,fG=new Yt,s2=[],pG=new ta,U2e=new Yt,I_=new ci,N_=new ks;class ine extends ci{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new w1(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,U2e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ta),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,yv),pG.copy(e.boundingBox).applyMatrix4(yv),this.boundingBox.union(pG)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ks),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,yv),N_.copy(e.boundingSphere).applyMatrix4(yv),this.boundingSphere.union(N_)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let o=0;o<r.length;o++)r[o]=i[a+o]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(I_.geometry=this.geometry,I_.material=this.material,I_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),N_.copy(this.boundingSphere),N_.applyMatrix4(r),e.ray.intersectsSphere(N_)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,yv),fG.multiplyMatrices(r,yv),I_.matrixWorld=fG,I_.raycast(e,s2);for(let a=0,o=s2.length;a<o;a++){const l=s2[a];l.instanceId=s,l.object=this,n.push(l)}s2.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new w1(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Ku(new Float32Array(i*this.count),i,this.count,uR,Ta));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<r.length;u++)a+=r[u];const o=this.geometry.morphTargetsRelative?1:1-a,l=i*e;s[l]=o,s.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function A4(t,e){return t-e}function F2e(t,e){return t.z-e.z}function z2e(t,e){return e.z-t.z}class B2e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=n,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const ma=new Yt,V2e=new Pt(1,1,1),C4=new vw,a2=new ta,Qp=new ks,D_=new le,mG=new le,H2e=new le,P4=new B2e,Ms=new ci,o2=[];function G2e(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function Jp(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class sne extends ci{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,n,r=n*2,i){super(new tn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Ku(n,e,e,Ns,Ta);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Ku(n,e,e,fw,Wh);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Ku(n,e,e,Ns,Ta);r.colorSpace=bn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:u}=a,h=new o.constructor(r*l),d=new $n(h,l,u);n.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new $n(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ta);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,ma),this.getBoundingBoxAt(s,a2).applyMatrix4(ma),e.union(a2)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ks);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,ma),this.getBoundingSphereAt(s,Qp).applyMatrix4(ma),e.union(Qp)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(A4),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;ma.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(V2e.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(A4),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=n.getIndex(),o=this._geometryInfo[e];if(i&&a.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const h in r.attributes){const d=n.getAttribute(h),f=r.getAttribute(h);G2e(d,f,l);const m=d.itemSize;for(let v=d.count,S=u;v<S;v++){const y=l+v;for(let g=0;g<m;g++)f.setComponent(y,g,0)}f.needsUpdate=!0,f.addUpdateRange(l*m,u*m)}if(i){const h=o.indexStart,d=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let f=0;f<a.count;f++)s.setX(h+f,l+a.getX(f));for(let f=a.count,m=d;f<m;f++)s.setX(h+f,l);s.needsUpdate=!0,s.addUpdateRange(h,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,o)=>o).sort((a,o)=>r[a].vertexStart-r[o].vertexStart),s=this.geometry;for(let a=0,o=r.length;a<o;a++){const l=i[a],u=r[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==n){const{indexStart:h,vertexStart:d,reservedIndexCount:f}=u,m=s.index,v=m.array,S=e-d;for(let y=h;y<h+f;y++)v[y]=v[y]+S;m.array.copyWithin(n,h,h+f),m.addUpdateRange(n,f),u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:h,reservedVertexCount:d}=u,f=s.attributes;for(const m in f){const v=f[m],{array:S,itemSize:y}=v;S.copyWithin(e*y,h*y,(h+d)*y),v.addUpdateRange(e*y,d*y)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new ta,a=r.index,o=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let h=l;a&&(h=a.getX(h)),s.expandByPoint(D_.fromBufferAttribute(o,h))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new ks;this.getBoundingBoxAt(e,a2),a2.getCenter(s.center);const a=r.index,o=r.attributes.position;let l=0;for(let u=i.start,h=i.start+i.count;u<h;u++){let d=u;a&&(d=a.getX(d)),D_.fromBufferAttribute(o,d),l=Math.max(l,s.center.distanceToSquared(D_))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){const r=this._instanceInfo,i=this._matricesTexture,s=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._instanceInfo,i=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._colorsTexture,i=this._colorsTexture.image.data,s=this._instanceInfo;return e>=s.length||s[e].active===!1?this:(n.toArray(i,e*4),r.needsUpdate=!0,this)}getColorAt(e,n){const r=this._colorsTexture.image.data,i=this._instanceInfo;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*4)}setVisibleAt(e,n){const r=this._instanceInfo;return e>=r.length||r[e].active===!1||r[e].visible===n?this:(r[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}setGeometryIdAt(e,n){const r=this._instanceInfo,i=this._geometryInfo;return e>=r.length||r[e].active===!1||n>=i.length||i[n].active===!1?null:(r[e].geometryIndex=n,this)}getGeometryIdAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?-1:n[e].geometryIndex}getGeometryRangeAt(e,n={}){if(e<0||e>=this._geometryCount)return null;const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(A4);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);Jp(this._multiDrawCounts,i),Jp(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Jp(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Jp(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Jp(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tn,this._initializeGeometry(s));const a=this.geometry;s.index&&Jp(s.index.array,a.index.array);for(const o in s.attributes)Jp(s.attributes[o].array,a.attributes[o].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;Ms.material=this.material,Ms.geometry.index=a.index,Ms.geometry.attributes=a.attributes,Ms.geometry.boundingBox===null&&(Ms.geometry.boundingBox=new ta),Ms.geometry.boundingSphere===null&&(Ms.geometry.boundingSphere=new ks);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const u=r[o].geometryIndex,h=i[u];Ms.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(o,Ms.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Ms.geometry.boundingBox),this.getBoundingSphereAt(u,Ms.geometry.boundingSphere),Ms.raycast(e,o2);for(let d=0,f=o2.length;d<f;d++){const m=o2[d];m.object=this,m.batchId=o,n.push(m)}o2.length=0}Ms.material=null,Ms.geometry.index=null,Ms.geometry.attributes={},Ms.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,h=this._multiDrawCounts,d=this._geometryInfo,f=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data;f&&(ma.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),C4.setFromProjectionMatrix(ma,e.coordinateSystem));let S=0;if(this.sortObjects){ma.copy(this.matrixWorld).invert(),D_.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ma),mG.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ma);for(let b=0,M=l.length;b<M;b++)if(l[b].visible&&l[b].active){const E=l[b].geometryIndex;this.getMatrixAt(b,ma),this.getBoundingSphereAt(E,Qp).applyMatrix4(ma);let P=!1;if(f&&(P=!C4.intersectsSphere(Qp)),!P){const A=d[E],L=H2e.subVectors(Qp.center,D_).dot(mG);P4.push(A.start,A.count,L,b)}}const y=P4.list,g=this.customSort;g===null?y.sort(s.transparent?z2e:F2e):g.call(this,y,r);for(let b=0,M=y.length;b<M;b++){const E=y[b];u[S]=E.start*o,h[S]=E.count,v[S]=E.index,S++}P4.reset()}else for(let y=0,g=l.length;y<g;y++)if(l[y].visible&&l[y].active){const b=l[y].geometryIndex;let M=!1;if(f&&(this.getMatrixAt(y,ma),this.getBoundingSphereAt(b,Qp).applyMatrix4(ma),M=!C4.intersectsSphere(Qp)),!M){const E=d[b];u[S]=E.start*o,h[S]=E.count,v[S]=y,S++}}m.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class oa extends ps{static get type(){return"LineBasicMaterial"}constructor(e){super(),this.isLineBasicMaterial=!0,this.color=new Pt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const K3=new le,Q3=new le,gG=new Yt,O_=new Q1,l2=new ks,R4=new le,vG=new le;class Bf extends Ln{constructor(e=new tn,n=new oa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)K3.fromBufferAttribute(n,i-1),Q3.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=K3.distanceTo(Q3);e.setAttribute("lineDistance",new Ut(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),l2.copy(r.boundingSphere),l2.applyMatrix4(i),l2.radius+=s,e.ray.intersectsSphere(l2)===!1)return;gG.copy(i).invert(),O_.copy(e.ray).applyMatrix4(gG);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,h=r.index,f=r.attributes.position;if(h!==null){const m=Math.max(0,a.start),v=Math.min(h.count,a.start+a.count);for(let S=m,y=v-1;S<y;S+=u){const g=h.getX(S),b=h.getX(S+1),M=u2(this,e,O_,l,g,b);M&&n.push(M)}if(this.isLineLoop){const S=h.getX(v-1),y=h.getX(m),g=u2(this,e,O_,l,S,y);g&&n.push(g)}}else{const m=Math.max(0,a.start),v=Math.min(f.count,a.start+a.count);for(let S=m,y=v-1;S<y;S+=u){const g=u2(this,e,O_,l,S,S+1);g&&n.push(g)}if(this.isLineLoop){const S=u2(this,e,O_,l,v-1,m);S&&n.push(S)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function u2(t,e,n,r,i,s){const a=t.geometry.attributes.position;if(K3.fromBufferAttribute(a,i),Q3.fromBufferAttribute(a,s),n.distanceSqToSegment(K3,Q3,R4,vG)>r)return;R4.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(R4);if(!(l<e.near||l>e.far))return{distance:l,point:vG.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:t}}const yG=new le,xG=new le;class hc extends Bf{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)yG.fromBufferAttribute(n,i),xG.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+yG.distanceTo(xG);e.setAttribute("lineDistance",new Ut(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ane extends Bf{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Q6 extends ps{static get type(){return"PointsMaterial"}constructor(e){super(),this.isPointsMaterial=!0,this.color=new Pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _G=new Yt,RO=new Q1,c2=new ks,h2=new le;class one extends Ln{constructor(e=new tn,n=new Q6){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),c2.copy(r.boundingSphere),c2.applyMatrix4(i),c2.radius+=s,e.ray.intersectsSphere(c2)===!1)return;_G.copy(i).invert(),RO.copy(e.ray).applyMatrix4(_G);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=r.index,d=r.attributes.position;if(u!==null){const f=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let v=f,S=m;v<S;v++){const y=u.getX(v);h2.fromBufferAttribute(d,y),SG(h2,y,l,i,e,n,this)}}else{const f=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count);for(let v=f,S=m;v<S;v++)h2.fromBufferAttribute(d,v),SG(h2,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function SG(t,e,n,r,i,s,a){const o=RO.distanceSqToPoint(t);if(o<n){const l=new le;RO.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class W2e extends Ar{constructor(e,n,r,i,s,a,o,l,u){super(e,n,r,i,s,a,o,l,u),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Si,this.magFilter=s!==void 0?s:Si,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class j2e extends Ar{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=us,this.minFilter=us,this.generateMipmaps=!1,this.needsUpdate=!0}}class xR extends Ar{constructor(e,n,r,i,s,a,o,l,u,h,d,f){super(null,a,o,l,u,h,i,s,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class X2e extends xR{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=sl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class $2e extends xR{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Gh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Y2e extends Ar{constructor(e,n,r,i,s,a,o,l,u){super(e,n,r,i,s,a,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class tu{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,l=s-1,u;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),u=r[i]-a,u<0)o=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const h=r[i],f=r[i+1]-h,m=(a-h)/f;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=n||(a.isVector2?new et:new le);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new le,i=[],s=[],a=[],o=new le,l=new Yt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new le)}s[0]=new le,a[0]=new le;let u=Number.MAX_VALUE;const h=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);h<=u&&(u=h,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),f<=u&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),a[m]=a[m-1].clone(),o.crossVectors(i[m-1],i[m]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(Vr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(o,v))}a[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Vr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),a[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class _R extends tu{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new et){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,m=u-this.aY;l=f*h-m*d+this.aX,u=f*d+m*h+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class lne extends _R{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function J6(){let t=0,e=0,n=0,r=0;function i(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,u){i(a,o,u*(o-s),u*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,u,h,d){let f=(a-s)/u-(o-s)/(u+h)+(o-a)/h,m=(o-a)/h-(l-a)/(h+d)+(l-o)/d;f*=h,m*=h,i(a,o,f,m)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const d2=new le,L4=new J6,I4=new J6,N4=new J6;class une extends tu{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new le){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let u,h;this.closed||o>0?u=i[(o-1)%s]:(d2.subVectors(i[0],i[1]).add(i[0]),u=d2);const d=i[o%s],f=i[(o+1)%s];if(this.closed||o+2<s?h=i[(o+2)%s]:(d2.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=d2),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(d),m),S=Math.pow(d.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(h),m);S<1e-4&&(S=1),v<1e-4&&(v=S),y<1e-4&&(y=S),L4.initNonuniformCatmullRom(u.x,d.x,f.x,h.x,v,S,y),I4.initNonuniformCatmullRom(u.y,d.y,f.y,h.y,v,S,y),N4.initNonuniformCatmullRom(u.z,d.z,f.z,h.z,v,S,y)}else this.curveType==="catmullrom"&&(L4.initCatmullRom(u.x,d.x,f.x,h.x,this.tension),I4.initCatmullRom(u.y,d.y,f.y,h.y,this.tension),N4.initCatmullRom(u.z,d.z,f.z,h.z,this.tension));return r.set(L4.calc(l),I4.calc(l),N4.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new le().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function bG(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+s+a)*l+(-3*n+3*r-2*s-a)*o+s*t+n}function q2e(t,e){const n=1-t;return n*n*e}function Z2e(t,e){return 2*(1-t)*t*e}function K2e(t,e){return t*t*e}function nb(t,e,n,r){return q2e(t,e)+Z2e(t,n)+K2e(t,r)}function Q2e(t,e){const n=1-t;return n*n*n*e}function J2e(t,e){const n=1-t;return 3*n*n*t*e}function eTe(t,e){return 3*(1-t)*t*t*e}function tTe(t,e){return t*t*t*e}function rb(t,e,n,r,i){return Q2e(t,e)+J2e(t,n)+eTe(t,r)+tTe(t,i)}class ez extends tu{constructor(e=new et,n=new et,r=new et,i=new et){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new et){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(rb(e,i.x,s.x,a.x,o.x),rb(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cne extends tu{constructor(e=new le,n=new le,r=new le,i=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(rb(e,i.x,s.x,a.x,o.x),rb(e,i.y,s.y,a.y,o.y),rb(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class tz extends tu{constructor(e=new et,n=new et){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new et){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new et){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hne extends tu{constructor(e=new le,n=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new le){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new le){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nz extends tu{constructor(e=new et,n=new et,r=new et){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new et){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(nb(e,i.x,s.x,a.x),nb(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rz extends tu{constructor(e=new le,n=new le,r=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(nb(e,i.x,s.x,a.x),nb(e,i.y,s.y,a.y),nb(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iz extends tu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new et){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],u=i[a],h=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return r.set(bG(o,l.x,u.x,h.x,d.x),bG(o,l.y,u.y,h.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new et().fromArray(i))}return this}}var J3=Object.freeze({__proto__:null,ArcCurve:lne,CatmullRomCurve3:une,CubicBezierCurve:ez,CubicBezierCurve3:cne,EllipseCurve:_R,LineCurve:tz,LineCurve3:hne,QuadraticBezierCurve:nz,QuadraticBezierCurve3:rz,SplineCurve:iz});class dne extends tu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new J3[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),u=l===0?0:1-a/l;return o.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let u=0;u<l.length;u++){const h=l[u];r&&r.equals(h)||(n.push(h),r=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new J3[i.type]().fromJSON(i))}return this}}class aM extends dne{constructor(e){super(),this.type="Path",this.currentPoint=new et,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new tz(this.currentPoint.clone(),new et(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new nz(this.currentPoint.clone(),new et(e,n),new et(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new ez(this.currentPoint.clone(),new et(e,n),new et(r,i),new et(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new iz(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,n+h,r,i,s,a,o,l),this}absellipse(e,n,r,i,s,a,o,l){const u=new _R(e,n,r,i,s,a,o,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class xw extends tn{constructor(e=[new et(0,-.5),new et(.5,0),new et(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Vr(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],u=[],h=1/n,d=new le,f=new et,m=new le,v=new le,S=new le;let y=0,g=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:y=e[b+1].x-e[b].x,g=e[b+1].y-e[b].y,m.x=g*1,m.y=-y,m.z=g*0,S.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:y=e[b+1].x-e[b].x,g=e[b+1].y-e[b].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),l.push(m.x,m.y,m.z),S.copy(v)}for(let b=0;b<=n;b++){const M=r+b*h*i,E=Math.sin(M),P=Math.cos(M);for(let A=0;A<=e.length-1;A++){d.x=e[A].x*E,d.y=e[A].y,d.z=e[A].x*P,a.push(d.x,d.y,d.z),f.x=b/n,f.y=A/(e.length-1),o.push(f.x,f.y);const L=l[3*A+0]*E,I=l[3*A+1],R=l[3*A+0]*P;u.push(L,I,R)}}for(let b=0;b<n;b++)for(let M=0;M<e.length-1;M++){const E=M+b*e.length,P=E,A=E+e.length,L=E+e.length+1,I=E+1;s.push(P,A,I),s.push(L,I,A)}this.setIndex(s),this.setAttribute("position",new Ut(a,3)),this.setAttribute("uv",new Ut(o,2)),this.setAttribute("normal",new Ut(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xw(e.points,e.segments,e.phiStart,e.phiLength)}}class SR extends xw{constructor(e=1,n=1,r=4,i=8){const s=new aM;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new SR(e.radius,e.length,e.capSegments,e.radialSegments)}}class bR extends tn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],o=[],l=[],u=new le,h=new et;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const m=r+d/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),a.push(u.x,u.y,u.z),o.push(0,0,1),h.x=(a[f]/e+1)/2,h.y=(a[f+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ut(a,3)),this.setAttribute("normal",new Ut(o,3)),this.setAttribute("uv",new Ut(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bR(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class tx extends tn{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],d=[],f=[],m=[];let v=0;const S=[],y=r/2;let g=0;b(),a===!1&&(e>0&&M(!0),n>0&&M(!1)),this.setIndex(h),this.setAttribute("position",new Ut(d,3)),this.setAttribute("normal",new Ut(f,3)),this.setAttribute("uv",new Ut(m,2));function b(){const E=new le,P=new le;let A=0;const L=(n-e)/r;for(let I=0;I<=s;I++){const R=[],C=I/s,O=C*(n-e)+e;for(let G=0;G<=i;G++){const j=G/i,q=j*l+o,Q=Math.sin(q),X=Math.cos(q);P.x=O*Q,P.y=-C*r+y,P.z=O*X,d.push(P.x,P.y,P.z),E.set(Q,L,X).normalize(),f.push(E.x,E.y,E.z),m.push(j,1-C),R.push(v++)}S.push(R)}for(let I=0;I<i;I++)for(let R=0;R<s;R++){const C=S[R][I],O=S[R+1][I],G=S[R+1][I+1],j=S[R][I+1];(e>0||R!==0)&&(h.push(C,O,j),A+=3),(n>0||R!==s-1)&&(h.push(O,G,j),A+=3)}u.addGroup(g,A,0),g+=A}function M(E){const P=v,A=new et,L=new le;let I=0;const R=E===!0?e:n,C=E===!0?1:-1;for(let G=1;G<=i;G++)d.push(0,y*C,0),f.push(0,C,0),m.push(.5,.5),v++;const O=v;for(let G=0;G<=i;G++){const q=G/i*l+o,Q=Math.cos(q),X=Math.sin(q);L.x=R*X,L.y=y*C,L.z=R*Q,d.push(L.x,L.y,L.z),f.push(0,C,0),A.x=Q*.5+.5,A.y=X*.5*C+.5,m.push(A.x,A.y),v++}for(let G=0;G<i;G++){const j=P+G,q=O+G;E===!0?h.push(q,q+1,j):h.push(q+1,q,j),I+=3}u.addGroup(g,I,E===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class MR extends tx{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new MR(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class np extends tn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),u(r),h(),this.setAttribute("position",new Ut(s,3)),this.setAttribute("normal",new Ut(s.slice(),3)),this.setAttribute("uv",new Ut(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(b){const M=new le,E=new le,P=new le;for(let A=0;A<n.length;A+=3)m(n[A+0],M),m(n[A+1],E),m(n[A+2],P),l(M,E,P,b)}function l(b,M,E,P){const A=P+1,L=[];for(let I=0;I<=A;I++){L[I]=[];const R=b.clone().lerp(E,I/A),C=M.clone().lerp(E,I/A),O=A-I;for(let G=0;G<=O;G++)G===0&&I===A?L[I][G]=R:L[I][G]=R.clone().lerp(C,G/O)}for(let I=0;I<A;I++)for(let R=0;R<2*(A-I)-1;R++){const C=Math.floor(R/2);R%2===0?(f(L[I][C+1]),f(L[I+1][C]),f(L[I][C])):(f(L[I][C+1]),f(L[I+1][C+1]),f(L[I+1][C]))}}function u(b){const M=new le;for(let E=0;E<s.length;E+=3)M.x=s[E+0],M.y=s[E+1],M.z=s[E+2],M.normalize().multiplyScalar(b),s[E+0]=M.x,s[E+1]=M.y,s[E+2]=M.z}function h(){const b=new le;for(let M=0;M<s.length;M+=3){b.x=s[M+0],b.y=s[M+1],b.z=s[M+2];const E=y(b)/2/Math.PI+.5,P=g(b)/Math.PI+.5;a.push(E,1-P)}v(),d()}function d(){for(let b=0;b<a.length;b+=6){const M=a[b+0],E=a[b+2],P=a[b+4],A=Math.max(M,E,P),L=Math.min(M,E,P);A>.9&&L<.1&&(M<.2&&(a[b+0]+=1),E<.2&&(a[b+2]+=1),P<.2&&(a[b+4]+=1))}}function f(b){s.push(b.x,b.y,b.z)}function m(b,M){const E=b*3;M.x=e[E+0],M.y=e[E+1],M.z=e[E+2]}function v(){const b=new le,M=new le,E=new le,P=new le,A=new et,L=new et,I=new et;for(let R=0,C=0;R<s.length;R+=9,C+=6){b.set(s[R+0],s[R+1],s[R+2]),M.set(s[R+3],s[R+4],s[R+5]),E.set(s[R+6],s[R+7],s[R+8]),A.set(a[C+0],a[C+1]),L.set(a[C+2],a[C+3]),I.set(a[C+4],a[C+5]),P.copy(b).add(M).add(E).divideScalar(3);const O=y(P);S(A,C+0,b,O),S(L,C+2,M,O),S(I,C+4,E,O)}}function S(b,M,E,P){P<0&&b.x===1&&(a[M]=b.x-1),E.x===0&&E.z===0&&(a[M]=P/2/Math.PI+.5)}function y(b){return Math.atan2(b.z,-b.x)}function g(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new np(e.vertices,e.indices,e.radius,e.details)}}class wR extends np{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new wR(e.radius,e.detail)}}const f2=new le,p2=new le,D4=new le,m2=new Ma;class fne extends tn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(ag*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,u=[0,0,0],h=["a","b","c"],d=new Array(3),f={},m=[];for(let v=0;v<l;v+=3){a?(u[0]=a.getX(v),u[1]=a.getX(v+1),u[2]=a.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:S,b:y,c:g}=m2;if(S.fromBufferAttribute(o,u[0]),y.fromBufferAttribute(o,u[1]),g.fromBufferAttribute(o,u[2]),m2.getNormal(D4),d[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let b=0;b<3;b++){const M=(b+1)%3,E=d[b],P=d[M],A=m2[h[b]],L=m2[h[M]],I=`${E}_${P}`,R=`${P}_${E}`;R in f&&f[R]?(D4.dot(f[R].normal)<=s&&(m.push(A.x,A.y,A.z),m.push(L.x,L.y,L.z)),f[R]=null):I in f||(f[I]={index0:u[b],index1:u[M],normal:D4.clone()})}}for(const v in f)if(f[v]){const{index0:S,index1:y}=f[v];f2.fromBufferAttribute(o,S),p2.fromBufferAttribute(o,y),m.push(f2.x,f2.y,f2.z),m.push(p2.x,p2.y,p2.z)}this.setAttribute("position",new Ut(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class lg extends aM{constructor(e){super(e),this.uuid=mo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new aM().fromJSON(i))}return this}}const nTe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=pne(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u,h,d,f,m;if(r&&(s=oTe(t,e,s,n)),t.length>80*n){o=u=t[0],l=h=t[1];for(let v=n;v<i;v+=n)d=t[v],f=t[v+1],d<o&&(o=d),f<l&&(l=f),d>u&&(u=d),f>h&&(h=f);m=Math.max(u-o,h-l),m=m!==0?32767/m:0}return oM(s,a,n,o,l,m,0),a}};function pne(t,e,n,r,i){let s,a;if(i===yTe(t,e,n,r)>0)for(s=e;s<n;s+=r)a=MG(s,t[s],t[s+1],a);else for(s=n-r;s>=e;s-=r)a=MG(s,t[s],t[s+1],a);return a&&ER(a,a.next)&&(uM(a),a=a.next),a}function Lg(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(ER(n,n.next)||wr(n.prev,n,n.next)===0)){if(uM(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function oM(t,e,n,r,i,s,a){if(!t)return;!a&&s&&dTe(t,r,i,s);let o=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?iTe(t,r,i,s):rTe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),uM(t),t=u.next,o=u.next;continue}if(t=u,t===o){a?a===1?(t=sTe(Lg(t),e,n),oM(t,e,n,r,i,s,2)):a===2&&aTe(t,e,n,r,i,s):oM(Lg(t),e,n,r,i,s,1);break}}}function rTe(t){const e=t.prev,n=t,r=t.next;if(wr(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,u=r.y,h=i<s?i<a?i:a:s<a?s:a,d=o<l?o<u?o:u:l<u?l:u,f=i>s?i>a?i:a:s>a?s:a,m=o>l?o>u?o:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=h&&v.x<=f&&v.y>=d&&v.y<=m&&yy(i,o,s,l,a,u,v.x,v.y)&&wr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function iTe(t,e,n,r){const i=t.prev,s=t,a=t.next;if(wr(i,s,a)>=0)return!1;const o=i.x,l=s.x,u=a.x,h=i.y,d=s.y,f=a.y,m=o<l?o<u?o:u:l<u?l:u,v=h<d?h<f?h:f:d<f?d:f,S=o>l?o>u?o:u:l>u?l:u,y=h>d?h>f?h:f:d>f?d:f,g=LO(m,v,e,n,r),b=LO(S,y,e,n,r);let M=t.prevZ,E=t.nextZ;for(;M&&M.z>=g&&E&&E.z<=b;){if(M.x>=m&&M.x<=S&&M.y>=v&&M.y<=y&&M!==i&&M!==a&&yy(o,h,l,d,u,f,M.x,M.y)&&wr(M.prev,M,M.next)>=0||(M=M.prevZ,E.x>=m&&E.x<=S&&E.y>=v&&E.y<=y&&E!==i&&E!==a&&yy(o,h,l,d,u,f,E.x,E.y)&&wr(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;M&&M.z>=g;){if(M.x>=m&&M.x<=S&&M.y>=v&&M.y<=y&&M!==i&&M!==a&&yy(o,h,l,d,u,f,M.x,M.y)&&wr(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;E&&E.z<=b;){if(E.x>=m&&E.x<=S&&E.y>=v&&E.y<=y&&E!==i&&E!==a&&yy(o,h,l,d,u,f,E.x,E.y)&&wr(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function sTe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!ER(i,s)&&mne(i,r,r.next,s)&&lM(i,s)&&lM(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),uM(r),uM(r.next),r=t=s),r=r.next}while(r!==t);return Lg(r)}function aTe(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&mTe(a,o)){let l=gne(a,o);a=Lg(a,a.next),l=Lg(l,l.next),oM(a,e,n,r,i,s,0),oM(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function oTe(t,e,n,r){const i=[];let s,a,o,l,u;for(s=0,a=e.length;s<a;s++)o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,u=pne(t,o,l,r,!1),u===u.next&&(u.steiner=!0),i.push(pTe(u));for(i.sort(lTe),s=0;s<i.length;s++)n=uTe(i[s],n);return n}function lTe(t,e){return t.x-e.x}function uTe(t,e){const n=cTe(t,e);if(!n)return e;const r=gne(n,t);return Lg(r,r.next),Lg(n,n.next)}function cTe(t,e){let n=e,r=-1/0,i;const s=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const f=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=s&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===s))return i}n=n.next}while(n!==e);if(!i)return null;const o=i,l=i.x,u=i.y;let h=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&yy(a<u?s:r,a,l,u,a<u?r:s,a,n.x,n.y)&&(d=Math.abs(a-n.y)/(s-n.x),lM(n,t)&&(d<h||d===h&&(n.x>i.x||n.x===i.x&&hTe(i,n)))&&(i=n,h=d)),n=n.next;while(n!==o);return i}function hTe(t,e){return wr(t.prev,t,e.prev)<0&&wr(e.next,t,t.next)<0}function dTe(t,e,n,r){let i=t;do i.z===0&&(i.z=LO(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,fTe(i)}function fTe(t){let e,n,r,i,s,a,o,l,u=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,r=n,o=0,e=0;e<u&&(o++,r=r.nextZ,!!r);e++);for(l=u;o>0||l>0&&r;)o!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(a>1);return t}function LO(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function pTe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function yy(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function mTe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!gTe(t,e)&&(lM(t,e)&&lM(e,t)&&vTe(t,e)&&(wr(t.prev,t,e.prev)||wr(t,e.prev,e))||ER(t,e)&&wr(t.prev,t,t.next)>0&&wr(e.prev,e,e.next)>0)}function wr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ER(t,e){return t.x===e.x&&t.y===e.y}function mne(t,e,n,r){const i=v2(wr(t,e,n)),s=v2(wr(t,e,r)),a=v2(wr(n,r,t)),o=v2(wr(n,r,e));return!!(i!==s&&a!==o||i===0&&g2(t,n,e)||s===0&&g2(t,r,e)||a===0&&g2(n,t,r)||o===0&&g2(n,e,r))}function g2(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function v2(t){return t>0?1:t<0?-1:0}function gTe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&mne(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function lM(t,e){return wr(t.prev,t,t.next)<0?wr(t,e,t.next)>=0&&wr(t,t.prev,e)>=0:wr(t,e,t.prev)<0||wr(t,t.next,e)<0}function vTe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function gne(t,e){const n=new IO(t.i,t.x,t.y),r=new IO(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function MG(t,e,n,r){const i=new IO(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function uM(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function IO(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function yTe(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class Qu{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Qu.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];wG(e),EG(r,e);let a=e.length;n.forEach(wG);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,EG(r,n[l]);const o=nTe.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function wG(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function EG(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class TR extends tn{constructor(e=new lg([new et(.5,.5),new et(-.5,.5),new et(-.5,-.5),new et(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];a(u)}this.setAttribute("position",new Ut(i,3)),this.setAttribute("uv",new Ut(s,2)),this.computeVertexNormals();function a(o){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:xTe;let M,E=!1,P,A,L,I;g&&(M=g.getSpacedPoints(h),E=!0,f=!1,P=g.computeFrenetFrames(h,!1),A=new le,L=new le,I=new le),f||(y=0,m=0,v=0,S=0);const R=o.extractPoints(u);let C=R.shape;const O=R.holes;if(!Qu.isClockWise(C)){C=C.reverse();for(let pe=0,be=O.length;pe<be;pe++){const H=O[pe];Qu.isClockWise(H)&&(O[pe]=H.reverse())}}const j=Qu.triangulateShape(C,O),q=C;for(let pe=0,be=O.length;pe<be;pe++){const H=O[pe];C=C.concat(H)}function Q(pe,be,H){return be||console.error("THREE.ExtrudeGeometry: vec does not exist"),pe.clone().addScaledVector(be,H)}const X=C.length,se=j.length;function D(pe,be,H){let Ee,Te,He;const Le=pe.x-be.x,it=pe.y-be.y,ze=H.x-pe.x,z=H.y-pe.y,k=Le*Le+it*it,J=Le*z-it*ze;if(Math.abs(J)>Number.EPSILON){const ge=Math.sqrt(k),xe=Math.sqrt(ze*ze+z*z),me=be.x-it/ge,qe=be.y+Le/ge,Ie=H.x-z/xe,Xe=H.y+ze/xe,pt=((Ie-me)*z-(Xe-qe)*ze)/(Le*z-it*ze);Ee=me+Le*pt-pe.x,Te=qe+it*pt-pe.y;const Me=Ee*Ee+Te*Te;if(Me<=2)return new et(Ee,Te);He=Math.sqrt(Me/2)}else{let ge=!1;Le>Number.EPSILON?ze>Number.EPSILON&&(ge=!0):Le<-Number.EPSILON?ze<-Number.EPSILON&&(ge=!0):Math.sign(it)===Math.sign(z)&&(ge=!0),ge?(Ee=-it,Te=Le,He=Math.sqrt(k)):(Ee=Le,Te=it,He=Math.sqrt(k/2))}return new et(Ee/He,Te/He)}const V=[];for(let pe=0,be=q.length,H=be-1,Ee=pe+1;pe<be;pe++,H++,Ee++)H===be&&(H=0),Ee===be&&(Ee=0),V[pe]=D(q[pe],q[H],q[Ee]);const B=[];let $,te=V.concat();for(let pe=0,be=O.length;pe<be;pe++){const H=O[pe];$=[];for(let Ee=0,Te=H.length,He=Te-1,Le=Ee+1;Ee<Te;Ee++,He++,Le++)He===Te&&(He=0),Le===Te&&(Le=0),$[Ee]=D(H[Ee],H[He],H[Le]);B.push($),te=te.concat($)}for(let pe=0;pe<y;pe++){const be=pe/y,H=m*Math.cos(be*Math.PI/2),Ee=v*Math.sin(be*Math.PI/2)+S;for(let Te=0,He=q.length;Te<He;Te++){const Le=Q(q[Te],V[Te],Ee);he(Le.x,Le.y,-H)}for(let Te=0,He=O.length;Te<He;Te++){const Le=O[Te];$=B[Te];for(let it=0,ze=Le.length;it<ze;it++){const z=Q(Le[it],$[it],Ee);he(z.x,z.y,-H)}}}const Ae=v+S;for(let pe=0;pe<X;pe++){const be=f?Q(C[pe],te[pe],Ae):C[pe];E?(L.copy(P.normals[0]).multiplyScalar(be.x),A.copy(P.binormals[0]).multiplyScalar(be.y),I.copy(M[0]).add(L).add(A),he(I.x,I.y,I.z)):he(be.x,be.y,0)}for(let pe=1;pe<=h;pe++)for(let be=0;be<X;be++){const H=f?Q(C[be],te[be],Ae):C[be];E?(L.copy(P.normals[pe]).multiplyScalar(H.x),A.copy(P.binormals[pe]).multiplyScalar(H.y),I.copy(M[pe]).add(L).add(A),he(I.x,I.y,I.z)):he(H.x,H.y,d/h*pe)}for(let pe=y-1;pe>=0;pe--){const be=pe/y,H=m*Math.cos(be*Math.PI/2),Ee=v*Math.sin(be*Math.PI/2)+S;for(let Te=0,He=q.length;Te<He;Te++){const Le=Q(q[Te],V[Te],Ee);he(Le.x,Le.y,d+H)}for(let Te=0,He=O.length;Te<He;Te++){const Le=O[Te];$=B[Te];for(let it=0,ze=Le.length;it<ze;it++){const z=Q(Le[it],$[it],Ee);E?he(z.x,z.y+M[h-1].y,M[h-1].x+H):he(z.x,z.y,d+H)}}}F(),ve();function F(){const pe=i.length/3;if(f){let be=0,H=X*be;for(let Ee=0;Ee<se;Ee++){const Te=j[Ee];Ve(Te[2]+H,Te[1]+H,Te[0]+H)}be=h+y*2,H=X*be;for(let Ee=0;Ee<se;Ee++){const Te=j[Ee];Ve(Te[0]+H,Te[1]+H,Te[2]+H)}}else{for(let be=0;be<se;be++){const H=j[be];Ve(H[2],H[1],H[0])}for(let be=0;be<se;be++){const H=j[be];Ve(H[0]+X*h,H[1]+X*h,H[2]+X*h)}}r.addGroup(pe,i.length/3-pe,0)}function ve(){const pe=i.length/3;let be=0;ie(q,be),be+=q.length;for(let H=0,Ee=O.length;H<Ee;H++){const Te=O[H];ie(Te,be),be+=Te.length}r.addGroup(pe,i.length/3-pe,1)}function ie(pe,be){let H=pe.length;for(;--H>=0;){const Ee=H;let Te=H-1;Te<0&&(Te=pe.length-1);for(let He=0,Le=h+y*2;He<Le;He++){const it=X*He,ze=X*(He+1),z=be+Ee+it,k=be+Te+it,J=be+Te+ze,ge=be+Ee+ze;ke(z,k,J,ge)}}}function he(pe,be,H){l.push(pe),l.push(be),l.push(H)}function Ve(pe,be,H){Pe(pe),Pe(be),Pe(H);const Ee=i.length/3,Te=b.generateTopUV(r,i,Ee-3,Ee-2,Ee-1);Ce(Te[0]),Ce(Te[1]),Ce(Te[2])}function ke(pe,be,H,Ee){Pe(pe),Pe(be),Pe(Ee),Pe(be),Pe(H),Pe(Ee);const Te=i.length/3,He=b.generateSideWallUV(r,i,Te-6,Te-3,Te-2,Te-1);Ce(He[0]),Ce(He[1]),Ce(He[3]),Ce(He[1]),Ce(He[2]),Ce(He[3])}function Pe(pe){i.push(l[pe*3+0]),i.push(l[pe*3+1]),i.push(l[pe*3+2])}function Ce(pe){s.push(pe.x),s.push(pe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return _Te(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new J3[i.type]().fromJSON(i)),new TR(r,e.options)}}const xTe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],l=e[r*3+1],u=e[i*3],h=e[i*3+1];return[new et(s,a),new et(o,l),new et(u,h)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],u=e[r*3],h=e[r*3+1],d=e[r*3+2],f=e[i*3],m=e[i*3+1],v=e[i*3+2],S=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(o-h)<Math.abs(a-u)?[new et(a,1-l),new et(u,1-d),new et(f,1-v),new et(S,1-g)]:[new et(o,1-l),new et(h,1-d),new et(m,1-v),new et(y,1-g)]}};function _Te(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class AR extends np{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new AR(e.radius,e.detail)}}class _w extends np{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _w(e.radius,e.detail)}}class CR extends tn{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],u=[],h=[];let d=e;const f=(n-e)/i,m=new le,v=new et;for(let S=0;S<=i;S++){for(let y=0;y<=r;y++){const g=s+y/r*a;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,h.push(v.x,v.y)}d+=f}for(let S=0;S<i;S++){const y=S*(r+1);for(let g=0;g<r;g++){const b=g+y,M=b,E=b+r+1,P=b+r+2,A=b+1;o.push(M,E,A),o.push(E,P,A)}}this.setIndex(o),this.setAttribute("position",new Ut(l,3)),this.setAttribute("normal",new Ut(u,3)),this.setAttribute("uv",new Ut(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CR(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class PR extends tn{constructor(e=new lg([new et(0,.5),new et(-.5,-.5),new et(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(o,l,h),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ut(i,3)),this.setAttribute("normal",new Ut(s,3)),this.setAttribute("uv",new Ut(a,2));function u(h){const d=i.length/3,f=h.extractPoints(n);let m=f.shape;const v=f.holes;Qu.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const b=v[y];Qu.isClockWise(b)===!0&&(v[y]=b.reverse())}const S=Qu.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const b=v[y];m=m.concat(b)}for(let y=0,g=m.length;y<g;y++){const b=m[y];i.push(b.x,b.y,0),s.push(0,0,1),a.push(b.x,b.y)}for(let y=0,g=S.length;y<g;y++){const b=S[y],M=b[0]+d,E=b[1]+d,P=b[2]+d;r.push(M,E,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return STe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new PR(r,e.curveSegments)}}function STe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Sw extends tn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let u=0;const h=[],d=new le,f=new le,m=[],v=[],S=[],y=[];for(let g=0;g<=r;g++){const b=[],M=g/r;let E=0;g===0&&a===0?E=.5/n:g===r&&l===Math.PI&&(E=-.5/n);for(let P=0;P<=n;P++){const A=P/n;d.x=-e*Math.cos(i+A*s)*Math.sin(a+M*o),d.y=e*Math.cos(a+M*o),d.z=e*Math.sin(i+A*s)*Math.sin(a+M*o),v.push(d.x,d.y,d.z),f.copy(d).normalize(),S.push(f.x,f.y,f.z),y.push(A+E,1-M),b.push(u++)}h.push(b)}for(let g=0;g<r;g++)for(let b=0;b<n;b++){const M=h[g][b+1],E=h[g][b],P=h[g+1][b],A=h[g+1][b+1];(g!==0||a>0)&&m.push(M,E,A),(g!==r-1||l<Math.PI)&&m.push(E,P,A)}this.setIndex(m),this.setAttribute("position",new Ut(v,3)),this.setAttribute("normal",new Ut(S,3)),this.setAttribute("uv",new Ut(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class RR extends np{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new RR(e.radius,e.detail)}}class LR extends tn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],u=[],h=new le,d=new le,f=new le;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const S=v/i*s,y=m/r*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(S),d.y=(e+n*Math.cos(y))*Math.sin(S),d.z=n*Math.sin(y),o.push(d.x,d.y,d.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),f.subVectors(d,h).normalize(),l.push(f.x,f.y,f.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const S=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,b=(i+1)*m+v;a.push(S,y,b),a.push(y,g,b)}this.setIndex(a),this.setAttribute("position",new Ut(o,3)),this.setAttribute("normal",new Ut(l,3)),this.setAttribute("uv",new Ut(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LR(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class IR extends tn{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],u=[],h=[],d=new le,f=new le,m=new le,v=new le,S=new le,y=new le,g=new le;for(let M=0;M<=r;++M){const E=M/r*s*Math.PI*2;b(E,s,a,e,m),b(E+.01,s,a,e,v),y.subVectors(v,m),g.addVectors(v,m),S.crossVectors(y,g),g.crossVectors(S,y),S.normalize(),g.normalize();for(let P=0;P<=i;++P){const A=P/i*Math.PI*2,L=-n*Math.cos(A),I=n*Math.sin(A);d.x=m.x+(L*g.x+I*S.x),d.y=m.y+(L*g.y+I*S.y),d.z=m.z+(L*g.z+I*S.z),l.push(d.x,d.y,d.z),f.subVectors(d,m).normalize(),u.push(f.x,f.y,f.z),h.push(M/r),h.push(P/i)}}for(let M=1;M<=r;M++)for(let E=1;E<=i;E++){const P=(i+1)*(M-1)+(E-1),A=(i+1)*M+(E-1),L=(i+1)*M+E,I=(i+1)*(M-1)+E;o.push(P,A,I),o.push(A,L,I)}this.setIndex(o),this.setAttribute("position",new Ut(l,3)),this.setAttribute("normal",new Ut(u,3)),this.setAttribute("uv",new Ut(h,2));function b(M,E,P,A,L){const I=Math.cos(M),R=Math.sin(M),C=P/E*M,O=Math.cos(C);L.x=A*(2+O)*.5*I,L.y=A*(2+O)*R*.5,L.z=A*Math.sin(C)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new IR(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class NR extends tn{constructor(e=new rz(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new le,l=new le,u=new et;let h=new le;const d=[],f=[],m=[],v=[];S(),this.setIndex(v),this.setAttribute("position",new Ut(d,3)),this.setAttribute("normal",new Ut(f,3)),this.setAttribute("uv",new Ut(m,2));function S(){for(let M=0;M<n;M++)y(M);y(s===!1?n:0),b(),g()}function y(M){h=e.getPointAt(M/n,h);const E=a.normals[M],P=a.binormals[M];for(let A=0;A<=i;A++){const L=A/i*Math.PI*2,I=Math.sin(L),R=-Math.cos(L);l.x=R*E.x+I*P.x,l.y=R*E.y+I*P.y,l.z=R*E.z+I*P.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=h.x+r*l.x,o.y=h.y+r*l.y,o.z=h.z+r*l.z,d.push(o.x,o.y,o.z)}}function g(){for(let M=1;M<=n;M++)for(let E=1;E<=i;E++){const P=(i+1)*(M-1)+(E-1),A=(i+1)*M+(E-1),L=(i+1)*M+E,I=(i+1)*(M-1)+E;v.push(P,A,I),v.push(A,L,I)}}function b(){for(let M=0;M<=n;M++)for(let E=0;E<=i;E++)u.x=M/n,u.y=E/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new NR(new J3[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class vne extends tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new le,s=new le;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const d=l[u],f=d.start,m=d.count;for(let v=f,S=f+m;v<S;v+=3)for(let y=0;y<3;y++){const g=o.getX(v+y),b=o.getX(v+(y+1)%3);i.fromBufferAttribute(a,g),s.fromBufferAttribute(a,b),TG(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let u=0;u<3;u++){const h=3*o+u,d=3*o+(u+1)%3;i.fromBufferAttribute(a,h),s.fromBufferAttribute(a,d),TG(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ut(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function TG(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var AG=Object.freeze({__proto__:null,BoxGeometry:Zg,CapsuleGeometry:SR,CircleGeometry:bR,ConeGeometry:MR,CylinderGeometry:tx,DodecahedronGeometry:wR,EdgesGeometry:fne,ExtrudeGeometry:TR,IcosahedronGeometry:AR,LatheGeometry:xw,OctahedronGeometry:_w,PlaneGeometry:J1,PolyhedronGeometry:np,RingGeometry:CR,ShapeGeometry:PR,SphereGeometry:Sw,TetrahedronGeometry:RR,TorusGeometry:LR,TorusKnotGeometry:IR,TubeGeometry:NR,WireframeGeometry:vne});class yne extends ps{static get type(){return"ShadowMaterial"}constructor(e){super(),this.isShadowMaterial=!0,this.color=new Pt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class xne extends dl{static get type(){return"RawShaderMaterial"}constructor(e){super(e),this.isRawShaderMaterial=!0}}class sz extends ps{static get type(){return"MeshStandardMaterial"}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new Pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new bo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _ne extends sz{static get type(){return"MeshPhysicalMaterial"}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new et(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Pt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Pt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Pt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Sne extends ps{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new Pt(16777215),this.specular=new Pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new bo,this.combine=dw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bne extends ps{static get type(){return"MeshToonMaterial"}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new Pt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Mne extends ps{static get type(){return"MeshNormalMaterial"}constructor(e){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class wne extends ps{static get type(){return"MeshLambertMaterial"}constructor(e){super(),this.isMeshLambertMaterial=!0,this.color=new Pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new bo,this.combine=dw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ene extends ps{static get type(){return"MeshMatcapMaterial"}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new Pt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Tne extends oa{static get type(){return"LineDashedMaterial"}constructor(e){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wm(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Ane(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cne(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function NO(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let l=0;l!==e;++l)i[a++]=t[o+l]}return i}function az(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function bTe(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),d=[],f=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<n||v>=r)){d.push(u.times[m]);for(let S=0;S<h;++S)f.push(u.values[m*h+S])}}d.length!==0&&(u.times=Wm(d,u.times.constructor),u.values=Wm(f,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function MTe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===o.name&&g.ValueTypeName===l});if(u===void 0)continue;let h=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let f=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const v=o.times.length-1;let S;if(s<=o.times[0]){const g=h,b=d-h;S=o.values.slice(g,b)}else if(s>=o.times[v]){const g=v*d+h,b=g+d-h;S=o.values.slice(g,b)}else{const g=o.createInterpolant(),b=h,M=d-h;g.evaluate(s),S=g.resultBuffer.slice(b,M)}l==="quaternion"&&new Ia().fromArray(S).normalize().conjugate().toArray(S);const y=u.times.length;for(let g=0;g<y;++g){const b=g*m+f;if(l==="quaternion")Ia.multiplyQuaternionsFlat(u.values,b,S,0,u.values,b);else{const M=m-f*2;for(let E=0;E<M;++E)u.values[b+E]-=S[E]}}}return t.blendMode=B6,t}const wTe={convertArray:Wm,isTypedArray:Ane,getKeyframeOrder:Cne,sortedArray:NO,flattenJSON:az,subclip:bTe,makeClipAdditive:MTe};class bw{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Pne extends bw{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vm,endingEnd:Vm}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case Hm:s=e,o=2*n-r;break;case nM:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Hm:a=e,l=2*r-n;break;case nM:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const u=(r-n)*.5,h=this.valueSize;this._weightPrev=u/(n-o),this._weightNext=u/(l-r),this._offsetPrev=s*h,this._offsetNext=a*h}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,h=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),S=v*v,y=S*v,g=-f*y+2*f*S-f*v,b=(1+f)*y+(-1.5-2*f)*S+(-.5+f)*v+1,M=(-1-m)*y+(1.5+m)*S+.5*v,E=m*y-m*S;for(let P=0;P!==o;++P)s[P]=g*a[h+P]+b*a[u+P]+M*a[l+P]+E*a[d+P];return s}}class oz extends bw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,h=(r-n)/(i-n),d=1-h;for(let f=0;f!==o;++f)s[f]=a[u+f]*d+a[l+f]*h;return s}}class Rne extends bw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class nu{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wm(n,this.TimeBufferType),this.values=Wm(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Wm(e.times,Array),values:Wm(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Rne(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new oz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Pne(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case tM:n=this.InterpolantFactoryMethodDiscrete;break;case q3:n=this.InterpolantFactoryMethodLinear;break;case aA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return tM;case this.InterpolantFactoryMethodLinear:return q3;case this.InterpolantFactoryMethodSmooth:return aA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&Ane(i))for(let o=0,l=i.length;o!==l;++o){const u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===aA,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const u=e[o],h=e[o+1];if(u!==h&&(o!==1||u!==e[0]))if(i)l=!0;else{const d=o*r,f=d-r,m=d+r;for(let v=0;v!==r;++v){const S=n[d+v];if(S!==n[f+v]||S!==n[m+v]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const d=o*r,f=a*r;for(let m=0;m!==r;++m)n[f+m]=n[d+m]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,u=0;u!==r;++u)n[l+u]=n[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}nu.prototype.TimeBufferType=Float32Array;nu.prototype.ValueBufferType=Float32Array;nu.prototype.DefaultInterpolation=q3;class Kg extends nu{constructor(e,n,r){super(e,n,r)}}Kg.prototype.ValueTypeName="bool";Kg.prototype.ValueBufferType=Array;Kg.prototype.DefaultInterpolation=tM;Kg.prototype.InterpolantFactoryMethodLinear=void 0;Kg.prototype.InterpolantFactoryMethodSmooth=void 0;class lz extends nu{}lz.prototype.ValueTypeName="color";class cM extends nu{}cM.prototype.ValueTypeName="number";class Lne extends bw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let u=e*o;for(let h=u+o;u!==h;u+=4)Ia.slerpFlat(s,0,a,u-o,a,u,l);return s}}class Mw extends nu{InterpolantFactoryMethodLinear(e){return new Lne(this.times,this.values,this.getValueSize(),e)}}Mw.prototype.ValueTypeName="quaternion";Mw.prototype.InterpolantFactoryMethodSmooth=void 0;class Qg extends nu{constructor(e,n,r){super(e,n,r)}}Qg.prototype.ValueTypeName="string";Qg.prototype.ValueBufferType=Array;Qg.prototype.DefaultInterpolation=tM;Qg.prototype.InterpolantFactoryMethodLinear=void 0;Qg.prototype.InterpolantFactoryMethodSmooth=void 0;class hM extends nu{}hM.prototype.ValueTypeName="vector";class dM{constructor(e="",n=-1,r=[],i=dR){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=mo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push(TTe(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)n.push(nu.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],u=[];l.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const h=Cne(l);l=NO(l,1,h),u=NO(u,1,h),!i&&l[0]===0&&(l.push(s),u.push(u[0])),a.push(new cM(".morphTargetInfluences["+n[o].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],h=u.name.match(s);if(h&&h.length>1){const d=h[1];let f=i[d];f||(i[d]=f=[]),f.push(u)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,m,v,S){if(m.length!==0){const y=[],g=[];az(m,y,g,v),y.length!==0&&S.push(new d(f,y,g))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const f=u[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let v;for(v=0;v<f.length;v++)if(f[v].morphTargets)for(let S=0;S<f[v].morphTargets.length;S++)m[f[v].morphTargets[S]]=-1;for(const S in m){const y=[],g=[];for(let b=0;b!==f[v].morphTargets.length;++b){const M=f[v];y.push(M.time),g.push(M.morphTarget===S?1:0)}i.push(new cM(".morphTargetInfluence["+S+"]",y,g))}l=m.length*a}else{const m=".bones["+n[d].name+"]";r(hM,m+".position",f,"pos",i),r(Mw,m+".quaternion",f,"rot",i),r(hM,m+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ETe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cM;case"vector":case"vector2":case"vector3":case"vector4":return hM;case"color":return lz;case"quaternion":return Mw;case"bool":case"boolean":return Kg;case"string":return Qg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function TTe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ETe(t.type);if(t.times===void 0){const n=[],r=[];az(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const gh={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class uz{constructor(e,n,r){const i=this;let s=!1,a=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(h){o++,s===!1&&i.onStart!==void 0&&i.onStart(h,a,o),s=!0},this.itemEnd=function(h){a++,i.onProgress!==void 0&&i.onProgress(h,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return u.push(h,d),this},this.removeHandler=function(h){const d=u.indexOf(h);return d!==-1&&u.splice(d,2),this},this.getHandler=function(h){for(let d=0,f=u.length;d<f;d+=2){const m=u[d],v=u[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const Ine=new uz;class Ua{constructor(e){this.manager=e!==void 0?e:Ine,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ua.DEFAULT_MATERIAL_NAME="__DEFAULT";const Zc={};class ATe extends Error{constructor(e,n){super(e),this.response=n}}class jh extends Ua{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=gh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Zc[e]!==void 0){Zc[e].push({onLoad:n,onProgress:r,onError:i});return}Zc[e]=[],Zc[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=Zc[e],d=u.body.getReader(),f=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=f?parseInt(f):0,v=m!==0;let S=0;const y=new ReadableStream({start(g){b();function b(){d.read().then(({done:M,value:E})=>{if(M)g.close();else{S+=E.byteLength;const P=new ProgressEvent("progress",{lengthComputable:v,loaded:S,total:m});for(let A=0,L=h.length;A<L;A++){const I=h[A];I.onProgress&&I.onProgress(P)}g.enqueue(E),b()}},M=>{g.error(M)})}}});return new Response(y)}else throw new ATe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return u.json();default:if(o===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),f=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(f);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{gh.add(e,u);const h=Zc[e];delete Zc[e];for(let d=0,f=h.length;d<f;d++){const m=h[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const h=Zc[e];if(h===void 0)throw this.manager.itemError(e),u;delete Zc[e];for(let d=0,f=h.length;d<f;d++){const m=h[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class CTe extends Ua{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new jh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=dM.parse(e[r]);n.push(i)}return n}}class PTe extends Ua{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],o=new xR,l=new jh(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(d){l.load(e[d],function(f){const m=s.parse(f,!0);a[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(o.minFilter=Si),o.image=a,o.format=m.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)h(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let v=0;v<m;v++){a[v]={mipmaps:[]};for(let S=0;S<f.mipmapCount;S++)a[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+S]),a[v].format=f.format,a[v].width=f.width,a[v].height=f.height}o.image=a}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=Si),o.format=f.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}class fM extends Ua{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=gh.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o=sM("img");function l(){h(),gh.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){h(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class RTe extends Ua{constructor(e){super(e)}load(e,n,r,i){const s=new gw;s.colorSpace=xa;const a=new fM(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(u){a.load(e[u],function(h){s.images[u]=h,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class LTe extends Ua{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new Ku,o=new jh(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let u;try{u=s.parse(l)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:sl,a.wrapT=u.wrapT!==void 0?u.wrapT:sl,a.magFilter=u.magFilter!==void 0?u.magFilter:Si,a.minFilter=u.minFilter!==void 0?u.minFilter:Si,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Fu),u.mipmapCount===1&&(a.minFilter=Si),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u)},r,i),a}}class ITe extends Ua{constructor(e){super(e)}load(e,n,r,i){const s=new Ar,a=new fM(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class rp extends Ln{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Pt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Nne extends rp{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ln.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Pt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const O4=new Yt,CG=new le,PG=new le;class cz{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new et(512,512),this.map=null,this.mapPass=null,this.matrix=new Yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vw,this._frameExtents=new et(1,1),this._viewportCount=1,this._viewports=[new An(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;CG.setFromMatrixPosition(e.matrixWorld),n.position.copy(CG),PG.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(PG),n.updateMatrixWorld(),O4.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(O4),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(O4)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class NTe extends cz{constructor(){super(new Vi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=b1*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Dne extends rp{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ln.DEFAULT_UP),this.updateMatrix(),this.target=new Ln,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new NTe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const RG=new Yt,k_=new le,k4=new le;class DTe extends cz{constructor(){super(new Vi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new et(4,2),this._viewportCount=6,this._viewports=[new An(2,1,1,1),new An(0,1,1,1),new An(3,1,1,1),new An(1,1,1,1),new An(3,0,1,1),new An(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),k_.setFromMatrixPosition(e.matrixWorld),r.position.copy(k_),k4.copy(r.position),k4.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(k4),r.updateMatrixWorld(),i.makeTranslation(-k_.x,-k_.y,-k_.z),RG.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(RG)}}class One extends rp{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new DTe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class OTe extends cz{constructor(){super(new yw(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class kne extends rp{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ln.DEFAULT_UP),this.updateMatrix(),this.target=new Ln,this.shadow=new OTe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Une extends rp{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Fne extends rp{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class zne{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Bne extends rp{constructor(e=new zne,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class DR extends Ua{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new jh(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Pt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new Pt().setHex(a.value);break;case"v2":i.uniforms[s].value=new et().fromArray(a.value);break;case"v3":i.uniforms[s].value=new le().fromArray(a.value);break;case"v4":i.uniforms[s].value=new An().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Kt().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Yt().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new et().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new et().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return DR.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:yne,SpriteMaterial:Z6,RawShaderMaterial:xne,ShaderMaterial:dl,PointsMaterial:Q6,MeshPhysicalMaterial:_ne,MeshStandardMaterial:sz,MeshPhongMaterial:Sne,MeshToonMaterial:bne,MeshNormalMaterial:Mne,MeshLambertMaterial:wne,MeshDepthMaterial:Y6,MeshDistanceMaterial:q6,MeshBasicMaterial:tp,MeshMatcapMaterial:Ene,LineDashedMaterial:Tne,LineBasicMaterial:oa,Material:ps};return new n[e]}}class DO{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Vne extends tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Hne extends Ua{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new jh(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],g=s(m,y.buffer),b=my(y.type,g),M=new vR(b,y.stride);return M.uuid=y.uuid,n[v]=M,M}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return r[v]=g,g}const a=e.isInstancedBufferGeometry?new Vne:new tn,o=e.data.index;if(o!==void 0){const m=my(o.type,o.array);a.setIndex(new $n(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let S;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);S=new Rg(y,v.itemSize,v.offset,v.normalized)}else{const y=my(v.type,v.array),g=v.isInstancedBufferAttribute?w1:$n;S=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(S.name=v.name),v.usage!==void 0&&S.setUsage(v.usage),a.setAttribute(m,S)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],S=[];for(let y=0,g=v.length;y<g;y++){const b=v[y];let M;if(b.isInterleavedBufferAttribute){const E=i(e.data,b.data);M=new Rg(E,b.itemSize,b.offset,b.normalized)}else{const E=my(b.type,b.array);M=new $n(E,b.itemSize,b.normalized)}b.name!==void 0&&(M.name=b.name),S.push(M)}a.morphAttributes[m]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const S=d[m];a.addGroup(S.start,S.count,S.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const m=new le;f.center!==void 0&&m.fromArray(f.center),a.boundingSphere=new ks(m,f.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class kTe extends Ua{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?DO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new jh(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?DO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new jh(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(u)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,r),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),this.bindLightTargets(u),n!==void 0){let d=!1;for(const f in a)if(a[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new lg().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new yR().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Hne;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in AG?o=AG[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new DR;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=dM.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(h)}else return l.data?{data:my(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new uz(n);s=new fM(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const d=e[u],f=d.url;if(Array.isArray(f)){const m=[];for(let v=0,S=f.length;v<S;v++){const y=f[v],g=o(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Ku(g.data,g.width,g.height)))}i[d.uuid]=new Gm(m)}else{const m=o(d.url);i[d.uuid]=new Gm(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:my(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new fM(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const h=[];for(let d=0,f=u.length;d<f;d++){const m=u[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Ku(v.data,v.width,v.height)))}r[l.uuid]=new Gm(h)}else{const h=await s(l.url);r[l.uuid]=new Gm(h)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],u=l.data;let h;Array.isArray(u)?(h=new gw,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Ku:h=new Ar,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=r(o.mapping,UTe)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=r(o.wrap[0],LG),h.wrapT=r(o.wrap[1],LG)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.minFilter!==void 0&&(h.minFilter=r(o.minFilter,IG)),o.magFilter!==void 0&&(h.magFilter=r(o.magFilter,IG)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),i[o.uuid]=h}return i}parseObject(e,n,r,i,s){let a;function o(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let v=0,S=f.length;v<S;v++){const y=f[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function u(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let h,d;switch(e.type){case"Scene":a=new Z3,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Pt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new gR(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new mR(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Vi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new yw(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Une(e.color,e.intensity);break;case"DirectionalLight":a=new kne(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new One(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Fne(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Dne(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new Nne(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Bne().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),d=l(e.material),a=new rne(h,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),d=l(e.material),a=new ci(h,d);break;case"InstancedMesh":h=o(e.geometry),d=l(e.material);const f=e.count,m=e.instanceMatrix,v=e.instanceColor;a=new ine(h,d,f),a.instanceMatrix=new w1(new Float32Array(m.array),16),v!==void 0&&(a.instanceColor=new w1(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":h=o(e.geometry),d=l(e.material),a=new sne(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),a.geometry=h,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(S=>{const y=new ta;y.min.fromArray(S.boxMin),y.max.fromArray(S.boxMax);const g=new ks;return g.radius=S.sphereRadius,g.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:y,sphereInitialized:S.sphereInitialized,sphere:g}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":a=new nne;break;case"Line":a=new Bf(o(e.geometry),l(e.material));break;case"LineLoop":a=new ane(o(e.geometry),l(e.material));break;case"LineSegments":a=new hc(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new one(o(e.geometry),l(e.material));break;case"Sprite":a=new tne(l(e.material));break;case"Group":a=new vy;break;case"Bone":a=new K6;break;default:a=new Ln}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)a.add(this.parseObject(f[m],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const v=f[m];a.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const v=f[m],S=a.getObjectByProperty("uuid",v.object);S!==void 0&&a.addLevel(S,v.distance,v.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Ln}})}}const UTe={UVMapping:sR,CubeReflectionMapping:Gh,CubeRefractionMapping:zf,EquirectangularReflectionMapping:Kb,EquirectangularRefractionMapping:Qb,CubeUVReflectionMapping:Z1},LG={RepeatWrapping:Jb,ClampToEdgeWrapping:sl,MirroredRepeatWrapping:eM},IG={NearestFilter:us,NearestMipmapNearestFilter:R6,NearestMipmapLinearFilter:py,LinearFilter:Si,LinearMipmapNearestFilter:qS,LinearMipmapLinearFilter:Fu};class FTe extends Ua{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=gh.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return gh.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),gh.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});gh.add(e,l),s.manager.itemStart(e)}}let y2;class hz{static getContext(){return y2===void 0&&(y2=new(window.AudioContext||window.webkitAudioContext)),y2}static setContext(e){y2=e}}class zTe extends Ua{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new jh(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);hz.getContext().decodeAudioData(u,function(d){n(d)}).catch(o)}catch(u){o(u)}},r,i);function o(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const NG=new Yt,DG=new Yt,em=new Yt;class BTe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Vi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Vi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,em.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,a=n.near*Math.tan(ag*n.fov*.5)/n.zoom;let o,l;DG.elements[12]=-i,NG.elements[12]=i,o=-a*n.aspect+s,l=a*n.aspect+s,em.elements[0]=2*n.near/(l-o),em.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(em),o=-a*n.aspect-s,l=a*n.aspect-s,em.elements[0]=2*n.near/(l-o),em.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(em)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(DG),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(NG)}}class dz{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=OG(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=OG();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function OG(){return performance.now()}const tm=new le,kG=new Ia,VTe=new le,nm=new le;class HTe extends Ln{constructor(){super(),this.type="AudioListener",this.context=hz.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new dz}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(tm,kG,VTe),nm.set(0,0,-1).applyQuaternion(kG),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(tm.x,i),n.positionY.linearRampToValueAtTime(tm.y,i),n.positionZ.linearRampToValueAtTime(tm.z,i),n.forwardX.linearRampToValueAtTime(nm.x,i),n.forwardY.linearRampToValueAtTime(nm.y,i),n.forwardZ.linearRampToValueAtTime(nm.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(tm.x,tm.y,tm.z),n.setOrientation(nm.x,nm.y,nm.z,r.x,r.y,r.z)}}class Gne extends Ln{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const rm=new le,UG=new Ia,GTe=new le,im=new le;class WTe extends Gne{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(rm,UG,GTe),im.set(0,0,1).applyQuaternion(UG);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(rm.x,r),n.positionY.linearRampToValueAtTime(rm.y,r),n.positionZ.linearRampToValueAtTime(rm.z,r),n.orientationX.linearRampToValueAtTime(im.x,r),n.orientationY.linearRampToValueAtTime(im.y,r),n.orientationZ.linearRampToValueAtTime(im.z,r)}else n.setPosition(rm.x,rm.y,rm.z),n.setOrientation(im.x,im.y,im.z)}}class jTe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Wne{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){Ia.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;Ia.multiplyQuaternionsFlat(e,a,e,n,e,r),Ia.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const fz="\\[\\]\\.:\\/",XTe=new RegExp("["+fz+"]","g"),pz="[^"+fz+"]",$Te="[^"+fz.replace("\\.","")+"]",YTe=/((?:WC+[\/:])*)/.source.replace("WC",pz),qTe=/(WCOD+)?/.source.replace("WCOD",$Te),ZTe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",pz),KTe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",pz),QTe=new RegExp("^"+YTe+qTe+ZTe+KTe+"$"),JTe=["material","materials","bones","map"];class eAe{constructor(e,n,r){const i=r||En.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class En{constructor(e,n,r){this.path=n,this.parsedPath=r||En.parseTrackName(n),this.node=En.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new En.Composite(e,n,r):new En(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(XTe,"")}static parseTrackName(e){const n=QTe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);JTe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=En.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}En.Composite=eAe;En.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};En.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};En.prototype.GetterByBindingType=[En.prototype._getValue_direct,En.prototype._getValue_array,En.prototype._getValue_arrayElement,En.prototype._getValue_toArray];En.prototype.SetterByBindingTypeAndVersioning=[[En.prototype._setValue_direct,En.prototype._setValue_direct_setNeedsUpdate,En.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[En.prototype._setValue_array,En.prototype._setValue_array_setNeedsUpdate,En.prototype._setValue_array_setMatrixWorldNeedsUpdate],[En.prototype._setValue_arrayElement,En.prototype._setValue_arrayElement_setNeedsUpdate,En.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[En.prototype._setValue_fromArray,En.prototype._setValue_fromArray_setNeedsUpdate,En.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class tAe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=mo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,u=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const f=arguments[h],m=f.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(f);for(let S=0,y=a;S!==y;++S)s[S].push(new En(f,r[S],i[S]))}else if(v<u){o=e[v];const S=--u,y=e[S];n[y.uuid]=v,e[v]=y,n[m]=S,e[S]=f;for(let g=0,b=a;g!==b;++g){const M=s[g],E=M[S];let P=M[v];M[v]=E,P===void 0&&(P=new En(f,r[g],i[g])),M[S]=P}}else e[v]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],u=l.uuid,h=n[u];if(h!==void 0&&h>=s){const d=s++,f=e[d];n[f.uuid]=h,e[h]=f,n[u]=d,e[d]=l;for(let m=0,v=i;m!==v;++m){const S=r[m],y=S[d],g=S[h];S[h]=y,S[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],h=u.uuid,d=n[h];if(d!==void 0)if(delete n[h],d<s){const f=--s,m=e[f],v=--a,S=e[v];n[m.uuid]=d,e[d]=m,n[S.uuid]=f,e[f]=S,e.pop();for(let y=0,g=i;y!==g;++y){const b=r[y],M=b[f],E=b[v];b[d]=M,b[f]=E,b.pop()}}else{const f=--a,m=e[f];f>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let v=0,S=i;v!==S;++v){const y=r[v];y[d]=y[f],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,a.push(e),o.push(n),s.push(d);for(let f=h,m=l.length;f!==m;++f){const v=l[f];d[f]=new En(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],u=e[o];n[u]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class jne{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:Vm,endingEnd:Vm};for(let u=0;u!==a;++u){const h=s[u].createInterpolant(null);o[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ete,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case B6:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(a),u[h].accumulateAdditive(o);break;case dR:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(a),u[h].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===Tte;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===wte){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Hm,i.endingEnd=Hm):(e?i.endingStart=this.zeroSlopeAtStart?Hm:Vm:i.endingStart=nM,n?i.endingEnd=this.zeroSlopeAtEnd?Hm:Vm:i.endingEnd=nM)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=r,this}}const nAe=new Float32Array(1);class rAe extends cc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let d=0;d!==s;++d){const f=i[d],m=f.name;let v=h[m];if(v!==void 0)++v.referenceCount,a[d]=v;else{if(v=a[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const S=n&&n._propertyBindings[d].binding.parsedPath;v=new Wne(En.create(r,m,S),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),a[d]=v}o[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new oz(new Float32Array(2),new Float32Array(2),1,nAe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?dM.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=dR),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const h=new jne(this,a,n,r);return this._bindAction(h,u),this._addInactiveAction(h,o,s),h}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?dM.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const u=a[o];this._deactivateAction(u);const h=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=h,n[h]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class mz{constructor(e){this.value=e}clone(){return new mz(this.value.clone===void 0?this.value:this.value.clone())}}let iAe=0;class sAe extends cc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:iAe++}),this.name="",this.usage=rM,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class aAe extends vR{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class oAe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const FG=new Yt;class Xne{constructor(e,n,r=0,i=1/0){this.ray=new Q1(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new og,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return FG.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(FG),this}intersectObject(e,n=!0,r=[]){return OO(e,this,r,n),r.sort(zG),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)OO(e[i],this,r,n);return r.sort(zG),r}}function zG(t,e){return t.distance-e.distance}function OO(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let a=0,o=s.length;a<o;a++)OO(s[a],e,n,!0)}}class $ne{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Vr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class lAe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class gz{constructor(e,n,r,i){gz.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const BG=new et;class uAe{constructor(e=new et(1/0,1/0),n=new et(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=BG.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,BG).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const VG=new le,x2=new le;class cAe{constructor(e=new le,n=new le){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){VG.subVectors(e,this.start),x2.subVectors(this.end,this.start);const r=x2.dot(x2);let s=x2.dot(VG)/r;return n&&(s=Vr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const HG=new le;class hAe extends Ln{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new tn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const u=a/l*Math.PI*2,h=o/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new Ut(i,3));const s=new oa({fog:!1,toneMapped:!1});this.cone=new hc(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),HG.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(HG),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ud=new le,_2=new Yt,U4=new Yt;class dAe extends hc{constructor(e){const n=Yne(e),r=new tn,i=[],s=[],a=new Pt(0,0,1),o=new Pt(0,1,0);for(let u=0;u<n.length;u++){const h=n[u];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}r.setAttribute("position",new Ut(i,3)),r.setAttribute("color",new Ut(s,3));const l=new oa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");U4.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(_2.multiplyMatrices(U4,o.matrixWorld),Ud.setFromMatrixPosition(_2),i.setXYZ(a,Ud.x,Ud.y,Ud.z),_2.multiplyMatrices(U4,o.parent.matrixWorld),Ud.setFromMatrixPosition(_2),i.setXYZ(a+1,Ud.x,Ud.y,Ud.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Yne(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Yne(t.children[n]));return e}class fAe extends ci{constructor(e,n,r){const i=new Sw(n,4,2),s=new tp({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const pAe=new le,GG=new Pt,WG=new Pt;class mAe extends Ln{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new _w(n);i.rotateY(Math.PI*.5),this.material=new tp({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new $n(a,3)),this.add(new ci(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");GG.copy(this.light.color),WG.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?GG:WG;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(pAe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class gAe extends hc{constructor(e=10,n=10,r=4473924,i=8947848){r=new Pt(r),i=new Pt(i);const s=n/2,a=e/n,o=e/2,l=[],u=[];for(let f=0,m=0,v=-o;f<=n;f++,v+=a){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const S=f===s?r:i;S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3}const h=new tn;h.setAttribute("position",new Ut(l,3)),h.setAttribute("color",new Ut(u,3));const d=new oa({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class vAe extends hc{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new Pt(s),a=new Pt(a);const o=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),m=Math.sin(f)*e,v=Math.cos(f)*e;o.push(0,0,0),o.push(m,0,v);const S=d&1?s:a;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let d=0;d<r;d++){const f=d&1?s:a,m=e-e/r*d;for(let v=0;v<i;v++){let S=v/i*(Math.PI*2),y=Math.sin(S)*m,g=Math.cos(S)*m;o.push(y,0,g),l.push(f.r,f.g,f.b),S=(v+1)/i*(Math.PI*2),y=Math.sin(S)*m,g=Math.cos(S)*m,o.push(y,0,g),l.push(f.r,f.g,f.b)}}const u=new tn;u.setAttribute("position",new Ut(o,3)),u.setAttribute("color",new Ut(l,3));const h=new oa({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const jG=new le,S2=new le,XG=new le;class yAe extends Ln{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new tn;i.setAttribute("position",new Ut([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new oa({fog:!1,toneMapped:!1});this.lightPlane=new Bf(i,s),this.add(this.lightPlane),i=new tn,i.setAttribute("position",new Ut([0,0,0,0,0,1],3)),this.targetLine=new Bf(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),jG.setFromMatrixPosition(this.light.matrixWorld),S2.setFromMatrixPosition(this.light.target.matrixWorld),XG.subVectors(S2,jG),this.lightPlane.lookAt(S2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(S2),this.targetLine.scale.z=XG.length()}}const b2=new le,Or=new mw;class xAe extends hc{constructor(e){const n=new tn,r=new oa({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(v,S){l(v),l(S)}function l(v){i.push(0,0,0),s.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}n.setAttribute("position",new Ut(i,3)),n.setAttribute("color",new Ut(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new Pt(16755200),h=new Pt(16711680),d=new Pt(43775),f=new Pt(16777215),m=new Pt(3355443);this.setColors(u,h,d,f,m)}setColors(e,n,r,i,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Or.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),jr("c",n,e,Or,0,0,-1),jr("t",n,e,Or,0,0,1),jr("n1",n,e,Or,-r,-i,-1),jr("n2",n,e,Or,r,-i,-1),jr("n3",n,e,Or,-r,i,-1),jr("n4",n,e,Or,r,i,-1),jr("f1",n,e,Or,-r,-i,1),jr("f2",n,e,Or,r,-i,1),jr("f3",n,e,Or,-r,i,1),jr("f4",n,e,Or,r,i,1),jr("u1",n,e,Or,r*.7,i*1.1,-1),jr("u2",n,e,Or,-r*.7,i*1.1,-1),jr("u3",n,e,Or,0,i*2,-1),jr("cf1",n,e,Or,-r,0,1),jr("cf2",n,e,Or,r,0,1),jr("cf3",n,e,Or,0,-i,1),jr("cf4",n,e,Or,0,i,1),jr("cn1",n,e,Or,-r,0,-1),jr("cn2",n,e,Or,r,0,-1),jr("cn3",n,e,Or,0,-i,-1),jr("cn4",n,e,Or,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function jr(t,e,n,r,i,s,a){b2.set(i,s,a).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let u=0,h=o.length;u<h;u++)l.setXYZ(o[u],b2.x,b2.y,b2.z)}}const M2=new ta;class _Ae extends hc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new tn;s.setIndex(new $n(r,1)),s.setAttribute("position",new $n(i,3)),super(s,new oa({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&M2.setFromObject(this.object),M2.isEmpty())return;const n=M2.min,r=M2.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class SAe extends hc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new tn;s.setIndex(new $n(r,1)),s.setAttribute("position",new Ut(i,3)),super(s,new oa({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class bAe extends Bf{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new tn;a.setAttribute("position",new Ut(s,3)),a.computeBoundingSphere(),super(a,new oa({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new tn;l.setAttribute("position",new Ut(o,3)),l.computeBoundingSphere(),this.add(new ci(l,new tp({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const $G=new le;let w2,F4;class MAe extends Ln{constructor(e=new le(0,0,1),n=new le(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",w2===void 0&&(w2=new tn,w2.setAttribute("position",new Ut([0,0,0,0,1,0],3)),F4=new tx(0,.5,1,5,1),F4.translate(0,-.5,0)),this.position.copy(n),this.line=new Bf(w2,new oa({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ci(F4,new tp({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{$G.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle($G,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class wAe extends hc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new tn;i.setAttribute("position",new Ut(n,3)),i.setAttribute("color",new Ut(r,3));const s=new oa({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Pt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class EAe{constructor(){this.type="ShapePath",this.color=new Pt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new aM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const b=[];for(let M=0,E=g.length;M<E;M++){const P=g[M],A=new lg;A.curves=P.curves,b.push(A)}return b}function r(g,b){const M=b.length;let E=!1;for(let P=M-1,A=0;A<M;P=A++){let L=b[P],I=b[A],R=I.x-L.x,C=I.y-L.y;if(Math.abs(C)>Number.EPSILON){if(C<0&&(L=b[A],R=-R,I=b[P],C=-C),g.y<L.y||g.y>I.y)continue;if(g.y===L.y){if(g.x===L.x)return!0}else{const O=C*(g.x-L.x)-R*(g.y-L.y);if(O===0)return!0;if(O<0)continue;E=!E}}else{if(g.y!==L.y)continue;if(I.x<=g.x&&g.x<=L.x||L.x<=g.x&&g.x<=I.x)return!0}}return E}const i=Qu.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const u=[];if(s.length===1)return o=s[0],l=new lg,l.curves=o.curves,u.push(l),u;let h=!i(s[0].getPoints());h=e?!h:h;const d=[],f=[];let m=[],v=0,S;f[v]=void 0,m[v]=[];for(let g=0,b=s.length;g<b;g++)o=s[g],S=o.getPoints(),a=i(S),a=e?!a:a,a?(!h&&f[v]&&v++,f[v]={s:new lg,p:S},f[v].s.curves=o.curves,h&&v++,m[v]=[]):m[v].push({h:o,p:S[0]});if(!f[0])return n(s);if(f.length>1){let g=!1,b=0;for(let M=0,E=f.length;M<E;M++)d[M]=[];for(let M=0,E=f.length;M<E;M++){const P=m[M];for(let A=0;A<P.length;A++){const L=P[A];let I=!0;for(let R=0;R<f.length;R++)r(L.p,f[R].p)&&(M!==R&&b++,I?(I=!1,d[R].push(L)):g=!0);I&&d[M].push(L)}}b>0&&g===!1&&(m=d)}let y;for(let g=0,b=f.length;g<b;g++){l=f[g].s,u.push(l),y=m[g];for(let M=0,E=y.length;M<E;M++)l.holes.push(y[M].h)}return u}}class TAe extends cc{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class AAe extends Kl{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:hw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=hw);const CAe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:P6,AddEquation:af,AddOperation:gte,AdditiveAnimationBlendMode:B6,AdditiveBlending:f3,AgXToneMapping:Ste,AlphaFormat:D6,AlwaysCompare:kte,AlwaysDepth:v3,AlwaysStencilFunc:EO,AmbientLight:Une,AnimationAction:jne,AnimationClip:dM,AnimationLoader:CTe,AnimationMixer:rAe,AnimationObjectGroup:tAe,AnimationUtils:wTe,ArcCurve:lne,ArrayCamera:Qte,ArrowHelper:MAe,AttachedBindMode:wO,Audio:Gne,AudioAnalyser:jTe,AudioContext:hz,AudioListener:HTe,AudioLoader:zTe,AxesHelper:wAe,BackSide:ea,BasicDepthPacking:Ate,BasicShadowMap:Zee,BatchedMesh:sne,Bone:K6,BooleanKeyframeTrack:Kg,Box2:uAe,Box3:ta,Box3Helper:SAe,BoxGeometry:Zg,BoxHelper:_Ae,BufferAttribute:$n,BufferGeometry:tn,BufferGeometryLoader:Hne,ByteType:L6,Cache:gh,Camera:mw,CameraHelper:xAe,CanvasTexture:Y2e,CapsuleGeometry:SR,CatmullRomCurve3:une,CineonToneMapping:xte,CircleGeometry:bR,ClampToEdgeWrapping:sl,Clock:dz,Color:Pt,ColorKeyframeTrack:lz,ColorManagement:bn,CompressedArrayTexture:X2e,CompressedCubeTexture:$2e,CompressedTexture:xR,CompressedTextureLoader:PTe,ConeGeometry:MR,ConstantAlphaFactor:fte,ConstantColorFactor:hte,Controls:TAe,CubeCamera:Wte,CubeReflectionMapping:Gh,CubeRefractionMapping:zf,CubeTexture:gw,CubeTextureLoader:RTe,CubeUVReflectionMapping:Z1,CubicBezierCurve:ez,CubicBezierCurve3:cne,CubicInterpolant:Pne,CullFaceBack:SO,CullFaceFront:qee,CullFaceFrontBack:b_e,CullFaceNone:Yee,Curve:tu,CurvePath:dne,CustomBlending:Kee,CustomToneMapping:_te,CylinderGeometry:tx,Cylindrical:lAe,Data3DTexture:G6,DataArrayTexture:fR,DataTexture:Ku,DataTextureLoader:LTe,DataUtils:kSe,DecrementStencilOp:k_e,DecrementWrapStencilOp:F_e,DefaultLoadingManager:Ine,DepthFormat:sg,DepthStencilFormat:Pg,DepthTexture:$6,DetachedBindMode:Mte,DirectionalLight:kne,DirectionalLightHelper:yAe,DiscreteInterpolant:Rne,DodecahedronGeometry:wR,DoubleSide:Nu,DstAlphaFactor:ate,DstColorFactor:lte,DynamicCopyUsage:J_e,DynamicDrawUsage:$_e,DynamicReadUsage:Z_e,EdgesGeometry:fne,EllipseCurve:_R,EqualCompare:Ite,EqualDepth:x3,EqualStencilFunc:H_e,EquirectangularReflectionMapping:Kb,EquirectangularRefractionMapping:Qb,Euler:bo,EventDispatcher:cc,ExtrudeGeometry:TR,FileLoader:jh,Float16BufferAttribute:HSe,Float32BufferAttribute:Ut,FloatType:Ta,Fog:gR,FogExp2:mR,FramebufferTexture:j2e,FrontSide:Hh,Frustum:vw,GLBufferAttribute:oAe,GLSL1:tSe,GLSL3:TO,GreaterCompare:Nte,GreaterDepth:S3,GreaterEqualCompare:Ote,GreaterEqualDepth:_3,GreaterEqualStencilFunc:X_e,GreaterStencilFunc:W_e,GridHelper:gAe,Group:vy,HalfFloatType:K1,HemisphereLight:Nne,HemisphereLightHelper:mAe,IcosahedronGeometry:AR,ImageBitmapLoader:FTe,ImageLoader:fM,ImageUtils:zte,IncrementStencilOp:O_e,IncrementWrapStencilOp:U_e,InstancedBufferAttribute:w1,InstancedBufferGeometry:Vne,InstancedInterleavedBuffer:aAe,InstancedMesh:ine,Int16BufferAttribute:BSe,Int32BufferAttribute:VSe,Int8BufferAttribute:USe,IntType:aR,InterleavedBuffer:vR,InterleavedBufferAttribute:Rg,Interpolant:bw,InterpolateDiscrete:tM,InterpolateLinear:q3,InterpolateSmooth:aA,InvertStencilOp:z_e,KeepStencilOp:wm,KeyframeTrack:nu,LOD:nne,LatheGeometry:xw,Layers:og,LessCompare:Lte,LessDepth:y3,LessEqualCompare:V6,LessEqualDepth:Ag,LessEqualStencilFunc:G_e,LessStencilFunc:V_e,Light:rp,LightProbe:Bne,Line:Bf,Line3:cAe,LineBasicMaterial:oa,LineCurve:tz,LineCurve3:hne,LineDashedMaterial:Tne,LineLoop:ane,LineSegments:hc,LinearFilter:Si,LinearInterpolant:oz,LinearMipMapLinearFilter:T_e,LinearMipMapNearestFilter:E_e,LinearMipmapLinearFilter:Fu,LinearMipmapNearestFilter:qS,LinearSRGBColorSpace:qg,LinearToneMapping:vte,LinearTransfer:pw,Loader:Ua,LoaderUtils:DO,LoadingManager:uz,LoopOnce:wte,LoopPingPong:Tte,LoopRepeat:Ete,LuminanceAlphaFormat:U6,LuminanceFormat:k6,MOUSE:__e,Material:ps,MaterialLoader:DR,MathUtils:ySe,Matrix2:gz,Matrix3:Kt,Matrix4:Yt,MaxEquation:tte,Mesh:ci,MeshBasicMaterial:tp,MeshDepthMaterial:Y6,MeshDistanceMaterial:q6,MeshLambertMaterial:wne,MeshMatcapMaterial:Ene,MeshNormalMaterial:Mne,MeshPhongMaterial:Sne,MeshPhysicalMaterial:_ne,MeshStandardMaterial:sz,MeshToonMaterial:bne,MinEquation:ete,MirroredRepeatWrapping:eM,MixOperation:mte,MultiplyBlending:MO,MultiplyOperation:dw,NearestFilter:us,NearestMipMapLinearFilter:w_e,NearestMipMapNearestFilter:M_e,NearestMipmapLinearFilter:py,NearestMipmapNearestFilter:R6,NeutralToneMapping:bte,NeverCompare:Rte,NeverDepth:g3,NeverStencilFunc:B_e,NoBlending:Th,NoColorSpace:lh,NoToneMapping:Zu,NormalAnimationBlendMode:dR,NormalBlending:ig,NotEqualCompare:Dte,NotEqualDepth:b3,NotEqualStencilFunc:j_e,NumberKeyframeTrack:cM,Object3D:Ln,ObjectLoader:kTe,ObjectSpaceNormalMap:Pte,OctahedronGeometry:_w,OneFactor:rte,OneMinusConstantAlphaFactor:pte,OneMinusConstantColorFactor:dte,OneMinusDstAlphaFactor:ote,OneMinusDstColorFactor:ute,OneMinusSrcAlphaFactor:m3,OneMinusSrcColorFactor:ste,OrthographicCamera:yw,PCFShadowMap:iR,PCFSoftShadowMap:YS,PMREMGenerator:AO,Path:aM,PerspectiveCamera:Vi,Plane:Qd,PlaneGeometry:J1,PlaneHelper:bAe,PointLight:One,PointLightHelper:fAe,Points:one,PointsMaterial:Q6,PolarGridHelper:vAe,PolyhedronGeometry:np,PositionalAudio:WTe,PropertyBinding:En,PropertyMixer:Wne,QuadraticBezierCurve:nz,QuadraticBezierCurve3:rz,Quaternion:Ia,QuaternionKeyframeTrack:Mw,QuaternionLinearInterpolant:Lne,RED_GREEN_RGTC2_Format:$3,RED_RGTC1_Format:z6,REVISION:hw,RGBADepthPacking:Cte,RGBAFormat:Ns,RGBAIntegerFormat:hR,RGBA_ASTC_10x10_Format:V3,RGBA_ASTC_10x5_Format:F3,RGBA_ASTC_10x6_Format:z3,RGBA_ASTC_10x8_Format:B3,RGBA_ASTC_12x10_Format:H3,RGBA_ASTC_12x12_Format:G3,RGBA_ASTC_4x4_Format:R3,RGBA_ASTC_5x4_Format:L3,RGBA_ASTC_5x5_Format:I3,RGBA_ASTC_6x5_Format:N3,RGBA_ASTC_6x6_Format:D3,RGBA_ASTC_8x5_Format:O3,RGBA_ASTC_8x6_Format:k3,RGBA_ASTC_8x8_Format:U3,RGBA_BPTC_Format:eb,RGBA_ETC2_EAC_Format:P3,RGBA_PVRTC_2BPPV1_Format:T3,RGBA_PVRTC_4BPPV1_Format:E3,RGBA_S3TC_DXT1_Format:KS,RGBA_S3TC_DXT3_Format:QS,RGBA_S3TC_DXT5_Format:JS,RGBDepthPacking:L_e,RGBFormat:O6,RGBIntegerFormat:A_e,RGB_BPTC_SIGNED_Format:W3,RGB_BPTC_UNSIGNED_Format:j3,RGB_ETC1_Format:A3,RGB_ETC2_Format:C3,RGB_PVRTC_2BPPV1_Format:w3,RGB_PVRTC_4BPPV1_Format:M3,RGB_S3TC_DXT1_Format:ZS,RGDepthPacking:I_e,RGFormat:F6,RGIntegerFormat:cR,RawShaderMaterial:xne,Ray:Q1,Raycaster:Xne,RectAreaLight:Fne,RedFormat:uR,RedIntegerFormat:fw,ReinhardToneMapping:yte,RenderTarget:Bte,RepeatWrapping:Jb,ReplaceStencilOp:D_e,ReverseSubtractEquation:Jee,RingGeometry:CR,SIGNED_RED_GREEN_RGTC2_Format:Y3,SIGNED_RED_RGTC1_Format:X3,SRGBColorSpace:xa,SRGBTransfer:zn,Scene:Z3,ShaderChunk:on,ShaderLib:Vl,ShaderMaterial:dl,ShadowMaterial:yne,Shape:lg,ShapeGeometry:PR,ShapePath:EAe,ShapeUtils:Qu,ShortType:I6,Skeleton:yR,SkeletonHelper:dAe,SkinnedMesh:rne,Source:Gm,Sphere:ks,SphereGeometry:Sw,Spherical:$ne,SphericalHarmonics3:zne,SplineCurve:iz,SpotLight:Dne,SpotLightHelper:hAe,Sprite:tne,SpriteMaterial:Z6,SrcAlphaFactor:p3,SrcAlphaSaturateFactor:cte,SrcColorFactor:ite,StaticCopyUsage:Q_e,StaticDrawUsage:rM,StaticReadUsage:q_e,StereoCamera:BTe,StreamCopyUsage:eSe,StreamDrawUsage:Y_e,StreamReadUsage:K_e,StringKeyframeTrack:Qg,SubtractEquation:Qee,SubtractiveBlending:bO,TOUCH:S_e,TangentSpaceNormalMap:ep,TetrahedronGeometry:RR,Texture:Ar,TextureLoader:ITe,TextureUtils:E2e,TorusGeometry:LR,TorusKnotGeometry:IR,Triangle:Ma,TriangleFanDrawMode:R_e,TriangleStripDrawMode:P_e,TrianglesDrawMode:C_e,TubeGeometry:NR,UVMapping:sR,Uint16BufferAttribute:W6,Uint32BufferAttribute:j6,Uint8BufferAttribute:FSe,Uint8ClampedBufferAttribute:zSe,Uniform:mz,UniformsGroup:sAe,UniformsLib:wt,UniformsUtils:Gte,UnsignedByteType:Zl,UnsignedInt248Type:Cg,UnsignedInt5999Type:N6,UnsignedIntType:Wh,UnsignedShort4444Type:oR,UnsignedShort5551Type:lR,UnsignedShortType:S1,VSMShadowMap:Dl,Vector2:et,Vector3:le,Vector4:An,VectorKeyframeTrack:hM,VideoTexture:W2e,WebGL3DRenderTarget:TSe,WebGLArrayRenderTarget:ESe,WebGLCoordinateSystem:zu,WebGLCubeRenderTarget:jte,WebGLMultipleRenderTargets:AAe,WebGLRenderTarget:Kl,WebGLRenderer:Jte,WebGLUtils:Kte,WebGPUCoordinateSystem:iM,WireframeGeometry:vne,WrapAroundEnding:nM,ZeroCurvatureEnding:Vm,ZeroFactor:nte,ZeroSlopeEnding:Hm,ZeroStencilOp:N_e,createCanvasElement:Fte},Symbol.toStringTag,{value:"Module"}));var qne={exports:{}},Jg={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Jg.ConcurrentRoot=1;Jg.ContinuousEventPriority=4;Jg.DefaultEventPriority=16;Jg.DiscreteEventPriority=1;Jg.IdleEventPriority=536870912;Jg.LegacyRoot=0;qne.exports=Jg;var xy=qne.exports;function PAe(t){let e;const n=new Set,r=(u,h)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const f=e;e=h?d:Object.assign({},e,d),n.forEach(m=>m(e,f))}},i=()=>e,s=(u,h=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=h(e);function m(){const v=h(e);if(!d(f,v)){const S=f;u(f=v,S)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,h,d)=>h||d?s(u,h,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const RAe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),YG=RAe?de.useEffect:de.useLayoutEffect;function LAe(t){const e=typeof t=="function"?PAe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=de.useReducer(y=>y+1,0),a=e.getState(),o=de.useRef(a),l=de.useRef(r),u=de.useRef(i),h=de.useRef(!1),d=de.useRef();d.current===void 0&&(d.current=r(a));let f,m=!1;(o.current!==a||l.current!==r||u.current!==i||h.current)&&(f=r(a),m=!i(d.current,f)),YG(()=>{m&&(d.current=f),o.current=a,l.current=r,u.current=i,h.current=!1});const v=de.useRef(a);YG(()=>{const y=()=>{try{const b=e.getState(),M=l.current(b);u.current(d.current,M)||(o.current=b,d.current=M,s())}catch{h.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const S=m?f:d.current;return de.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var Zne={exports:{}},z4={exports:{}},B4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qG;function IAe(){return qG||(qG=1,function(t){function e(D,V){var B=D.length;D.push(V);e:for(;0<B;){var $=B-1>>>1,te=D[$];if(0<i(te,V))D[$]=V,D[B]=te,B=$;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],B=D.pop();if(B!==V){D[0]=B;e:for(var $=0,te=D.length,Ae=te>>>1;$<Ae;){var F=2*($+1)-1,ve=D[F],ie=F+1,he=D[ie];if(0>i(ve,B))ie<te&&0>i(he,ve)?(D[$]=he,D[ie]=B,$=ie):(D[$]=ve,D[F]=B,$=F);else if(ie<te&&0>i(he,B))D[$]=he,D[ie]=B,$=ie;else break e}}return V}function i(D,V){var B=D.sortIndex-V.sortIndex;return B!==0?B:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,m=!1,v=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(D){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=D)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function E(D){if(S=!1,M(D),!v)if(n(l)!==null)v=!0,X(P);else{var V=n(u);V!==null&&se(E,V.startTime-D)}}function P(D,V){v=!1,S&&(S=!1,g(I),I=-1),m=!0;var B=f;try{for(M(V),d=n(l);d!==null&&(!(d.expirationTime>V)||D&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var te=$(d.expirationTime<=V);V=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),M(V)}else r(l);d=n(l)}if(d!==null)var Ae=!0;else{var F=n(u);F!==null&&se(E,F.startTime-V),Ae=!1}return Ae}finally{d=null,f=B,m=!1}}var A=!1,L=null,I=-1,R=5,C=-1;function O(){return!(t.unstable_now()-C<R)}function G(){if(L!==null){var D=t.unstable_now();C=D;var V=!0;try{V=L(!0,D)}finally{V?j():(A=!1,L=null)}}else A=!1}var j;if(typeof b=="function")j=function(){b(G)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=G,j=function(){Q.postMessage(null)}}else j=function(){y(G,0)};function X(D){L=D,A||(A=!0,j())}function se(D,V){I=y(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,X(P))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var B=f;f=V;try{return D()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=f;f=D;try{return V()}finally{f=B}},t.unstable_scheduleCallback=function(D,V,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,D={id:h++,callback:V,priorityLevel:D,startTime:B,expirationTime:te,sortIndex:-1},B>$?(D.sortIndex=B,e(u,D),n(l)===null&&D===n(u)&&(S?(g(I),I=-1):S=!0,se(E,B-$))):(D.sortIndex=te,e(l,D),v||m||(v=!0,X(P))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var V=f;return function(){var B=f;f=V;try{return D.apply(this,arguments)}finally{f=B}}}}(B4)),B4}var ZG;function NAe(){return ZG||(ZG=1,z4.exports=IAe()),z4.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DAe=function(e){var n={},r=de,i=NAe(),s=Object.assign;function a(c){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+c,_=1;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+c+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),P=Symbol.iterator;function A(c){return c===null||typeof c!="object"?null:(c=P&&c[P]||c["@@iterator"],typeof c=="function"?c:null)}function L(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case h:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case S:var p=c.render;return c=c.displayName,c||(c=p.displayName||p.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case b:return p=c.displayName||null,p!==null?p:L(c.type)||"Memo";case M:p=c._payload,c=c._init;try{return L(c(p))}catch{}}return null}function I(c){var p=c.type;switch(c.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=p.render,c=c.displayName||c.name||"",p.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(p);case 8:return p===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function R(c){var p=c,_=c;if(c.alternate)for(;p.return;)p=p.return;else{c=p;do p=c,p.flags&4098&&(_=p.return),c=p.return;while(c)}return p.tag===3?_:null}function C(c){if(R(c)!==c)throw Error(a(188))}function O(c){var p=c.alternate;if(!p){if(p=R(c),p===null)throw Error(a(188));return p!==c?null:c}for(var _=c,w=p;;){var T=_.return;if(T===null)break;var N=T.alternate;if(N===null){if(w=T.return,w!==null){_=w;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===_)return C(T),c;if(N===w)return C(T),p;N=N.sibling}throw Error(a(188))}if(_.return!==w.return)_=T,w=N;else{for(var W=!1,ne=T.child;ne;){if(ne===_){W=!0,_=T,w=N;break}if(ne===w){W=!0,w=T,_=N;break}ne=ne.sibling}if(!W){for(ne=N.child;ne;){if(ne===_){W=!0,_=N,w=T;break}if(ne===w){W=!0,w=N,_=T;break}ne=ne.sibling}if(!W)throw Error(a(189))}}if(_.alternate!==w)throw Error(a(190))}if(_.tag!==3)throw Error(a(188));return _.stateNode.current===_?c:p}function G(c){return c=O(c),c!==null?j(c):null}function j(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var p=j(c);if(p!==null)return p;c=c.sibling}return null}function q(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var p=q(c);if(p!==null)return p}c=c.sibling}return null}var Q=Array.isArray,X=e.getPublicInstance,se=e.getRootHostContext,D=e.getChildHostContext,V=e.prepareForCommit,B=e.resetAfterCommit,$=e.createInstance,te=e.appendInitialChild,Ae=e.finalizeInitialChildren,F=e.prepareUpdate,ve=e.shouldSetTextContent,ie=e.createTextInstance,he=e.scheduleTimeout,Ve=e.cancelTimeout,ke=e.noTimeout,Pe=e.isPrimaryRenderer,Ce=e.supportsMutation,pe=e.supportsPersistence,be=e.supportsHydration,H=e.getInstanceFromNode,Ee=e.preparePortalMount,Te=e.getCurrentEventPriority,He=e.detachDeletedInstance,Le=e.supportsMicrotasks,it=e.scheduleMicrotask,ze=e.supportsTestSelectors,z=e.findFiberRoot,k=e.getBoundingRect,J=e.getTextContent,ge=e.isHiddenSubtree,xe=e.matchAccessibilityRole,me=e.setFocusIfFocusable,qe=e.setupIntersectionObserver,Ie=e.appendChild,Xe=e.appendChildToContainer,pt=e.commitTextUpdate,Me=e.commitMount,je=e.commitUpdate,nt=e.insertBefore,at=e.insertInContainerBefore,$e=e.removeChild,Tt=e.removeChildFromContainer,dt=e.resetTextContent,Vt=e.hideInstance,Y=e.hideTextInstance,Oe=e.unhideInstance,ce=e.unhideTextInstance,_e=e.clearContainer,We=e.cloneInstance,De=e.createContainerChildSet,vt=e.appendChildToContainerChildSet,jt=e.finalizeContainerChildren,dn=e.replaceContainerChildren,Nt=e.cloneHiddenInstance,jn=e.cloneHiddenTextInstance,xr=e.canHydrateInstance,pc=e.canHydrateTextInstance,su=e.canHydrateSuspenseInstance,Ir=e.isSuspenseInstancePending,za=e.isSuspenseInstanceFallback,Ba=e.registerSuspenseInstanceRetry,Va=e.getNextHydratableSibling,Ha=e.getFirstHydratableChild,mc=e.getFirstHydratableChildWithinContainer,Ga=e.getFirstHydratableChildWithinSuspenseInstance,gc=e.hydrateInstance,vc=e.hydrateTextInstance,dp=e.hydrateSuspenseInstance,ud=e.getNextHydratableInstanceAfterSuspenseInstance,cd=e.commitHydratedContainer,U=e.commitHydratedSuspenseInstance,K=e.clearSuspenseBoundary,ae=e.clearSuspenseBoundaryFromContainer,oe=e.shouldDeleteUnhydratedTailInstances,Z=e.didNotMatchHydratedContainerTextInstance,we=e.didNotMatchHydratedTextInstance,Be;function Ze(c){if(Be===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);Be=p&&p[1]||""}return`
`+Be+c}var Ke=!1;function lt(c,p){if(!c||Ke)return"";Ke=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ne){var w=Ne}Reflect.construct(c,[],p)}else{try{p.call()}catch(Ne){w=Ne}c.call(p.prototype)}else{try{throw Error()}catch(Ne){w=Ne}c()}}catch(Ne){if(Ne&&w&&typeof Ne.stack=="string"){for(var T=Ne.stack.split(`
`),N=w.stack.split(`
`),W=T.length-1,ne=N.length-1;1<=W&&0<=ne&&T[W]!==N[ne];)ne--;for(;1<=W&&0<=ne;W--,ne--)if(T[W]!==N[ne]){if(W!==1||ne!==1)do if(W--,ne--,0>ne||T[W]!==N[ne]){var ye=`
`+T[W].replace(" at new "," at ");return c.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",c.displayName)),ye}while(1<=W&&0<=ne);break}}}finally{Ke=!1,Error.prepareStackTrace=_}return(c=c?c.displayName||c.name:"")?Ze(c):""}var ht=Object.prototype.hasOwnProperty,Qe=[],xt=-1;function ft(c){return{current:c}}function rt(c){0>xt||(c.current=Qe[xt],Qe[xt]=null,xt--)}function Ct(c,p){xt++,Qe[xt]=c.current,c.current=p}var yt={},Ge=ft(yt),un=ft(!1),Ht=yt;function Zt(c,p){var _=c.type.contextTypes;if(!_)return yt;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===p)return w.__reactInternalMemoizedMaskedChildContext;var T={},N;for(N in _)T[N]=p[N];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=p,c.__reactInternalMemoizedMaskedChildContext=T),T}function wn(c){return c=c.childContextTypes,c!=null}function xn(){rt(un),rt(Ge)}function $i(c,p,_){if(Ge.current!==yt)throw Error(a(168));Ct(Ge,p),Ct(un,_)}function Bt(c,p,_){var w=c.stateNode;if(p=p.childContextTypes,typeof w.getChildContext!="function")return _;w=w.getChildContext();for(var T in w)if(!(T in p))throw Error(a(108,I(c)||"Unknown",T));return s({},_,w)}function On(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||yt,Ht=Ge.current,Ct(Ge,c),Ct(un,un.current),!0}function Kn(c,p,_){var w=c.stateNode;if(!w)throw Error(a(169));_?(c=Bt(c,p,Ht),w.__reactInternalMemoizedMergedChildContext=c,rt(un),rt(Ge),Ct(Ge,c)):rt(un),Ct(un,_)}var rn=Math.clz32?Math.clz32:Io,Ci=Math.log,Gr=Math.LN2;function Io(c){return c>>>=0,c===0?32:31-(Ci(c)/Gr|0)|0}var yc=64,au=4194304;function ou(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function u0(c,p){var _=c.pendingLanes;if(_===0)return 0;var w=0,T=c.suspendedLanes,N=c.pingedLanes,W=_&268435455;if(W!==0){var ne=W&~T;ne!==0?w=ou(ne):(N&=W,N!==0&&(w=ou(N)))}else W=_&~T,W!==0?w=ou(W):N!==0&&(w=ou(N));if(w===0)return 0;if(p!==0&&p!==w&&!(p&T)&&(T=w&-w,N=p&-p,T>=N||T===16&&(N&4194240)!==0))return p;if(w&4&&(w|=_&16),p=c.entangledLanes,p!==0)for(c=c.entanglements,p&=w;0<p;)_=31-rn(p),T=1<<_,w|=c[_],p&=~T;return w}function GL(c,p){switch(c){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function px(c,p){for(var _=c.suspendedLanes,w=c.pingedLanes,T=c.expirationTimes,N=c.pendingLanes;0<N;){var W=31-rn(N),ne=1<<W,ye=T[W];ye===-1?(!(ne&_)||ne&w)&&(T[W]=GL(ne,p)):ye<=p&&(c.expiredLanes|=ne),N&=~ne}}function fp(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function xc(c){for(var p=[],_=0;31>_;_++)p.push(c);return p}function pp(c,p,_){c.pendingLanes|=p,p!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,p=31-rn(p),c[p]=_}function mx(c,p){var _=c.pendingLanes&~p;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=p,c.mutableReadLanes&=p,c.entangledLanes&=p,p=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<_;){var T=31-rn(_),N=1<<T;p[T]=0,w[T]=-1,c[T]=-1,_&=~N}}function yn(c,p){var _=c.entangledLanes|=p;for(c=c.entanglements;_;){var w=31-rn(_),T=1<<w;T&p|c[w]&p&&(c[w]|=p),_&=~T}}var _n=0;function c0(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var h0=i.unstable_scheduleCallback,Zw=i.unstable_cancelCallback,WL=i.unstable_shouldYield,Kr=i.unstable_requestPaint,Nr=i.unstable_now,gx=i.unstable_ImmediatePriority,vx=i.unstable_UserBlockingPriority,yx=i.unstable_NormalPriority,d0=i.unstable_IdlePriority,Gs=null,No=null;function jL(c){if(No&&typeof No.onCommitFiberRoot=="function")try{No.onCommitFiberRoot(Gs,c,void 0,(c.current.flags&128)===128)}catch{}}function Do(c,p){return c===p&&(c!==0||1/c===1/p)||c!==c&&p!==p}var Qr=typeof Object.is=="function"?Object.is:Do,ha=null,hd=!1,f0=!1;function Kw(c){ha===null?ha=[c]:ha.push(c)}function Oo(c){hd=!0,Kw(c)}function ko(){if(!f0&&ha!==null){f0=!0;var c=0,p=_n;try{var _=ha;for(_n=1;c<_.length;c++){var w=_[c];do w=w(!0);while(w!==null)}ha=null,hd=!1}catch(T){throw ha!==null&&(ha=ha.slice(c+1)),h0(gx,ko),T}finally{_n=p,f0=!1}}return null}var p0=o.ReactCurrentBatchConfig;function m0(c,p){if(Qr(c,p))return!0;if(typeof c!="object"||c===null||typeof p!="object"||p===null)return!1;var _=Object.keys(c),w=Object.keys(p);if(_.length!==w.length)return!1;for(w=0;w<_.length;w++){var T=_[w];if(!ht.call(p,T)||!Qr(c[T],p[T]))return!1}return!0}function Wa(c){switch(c.tag){case 5:return Ze(c.type);case 16:return Ze("Lazy");case 13:return Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 2:case 15:return c=lt(c.type,!1),c;case 11:return c=lt(c.type.render,!1),c;case 1:return c=lt(c.type,!0),c;default:return""}}function gs(c,p){if(c&&c.defaultProps){p=s({},p),c=c.defaultProps;for(var _ in c)p[_]===void 0&&(p[_]=c[_]);return p}return p}var _c=ft(null),gl=null,lu=null,mp=null;function g0(){mp=lu=gl=null}function v0(c,p,_){Pe?(Ct(_c,p._currentValue),p._currentValue=_):(Ct(_c,p._currentValue2),p._currentValue2=_)}function gp(c){var p=_c.current;rt(_c),Pe?c._currentValue=p:c._currentValue2=p}function uu(c,p,_){for(;c!==null;){var w=c.alternate;if((c.childLanes&p)!==p?(c.childLanes|=p,w!==null&&(w.childLanes|=p)):w!==null&&(w.childLanes&p)!==p&&(w.childLanes|=p),c===_)break;c=c.return}}function fi(c,p){gl=c,mp=lu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&p&&(Un=!0),c.firstContext=null)}function _r(c){var p=Pe?c._currentValue:c._currentValue2;if(mp!==c)if(c={context:c,memoizedValue:p,next:null},lu===null){if(gl===null)throw Error(a(308));lu=c,gl.dependencies={lanes:0,firstContext:c}}else lu=lu.next=c;return p}var pi=null,Uo=!1;function y0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(c,p){c=c.updateQueue,p.updateQueue===c&&(p.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Pi(c,p){return{eventTime:c,lane:p,tag:0,payload:null,callback:null,next:null}}function ja(c,p){var _=c.updateQueue;_!==null&&(_=_.shared,sn!==null&&c.mode&1&&!(zt&2)?(c=_.interleaved,c===null?(p.next=p,pi===null?pi=[_]:pi.push(_)):(p.next=c.next,c.next=p),_.interleaved=p):(c=_.pending,c===null?p.next=p:(p.next=c.next,c.next=p),_.pending=p))}function vp(c,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194240)!==0)){var w=p.lanes;w&=c.pendingLanes,_|=w,p.lanes=_,yn(c,_)}}function yp(c,p){var _=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,_===w)){var T=null,N=null;if(_=_.firstBaseUpdate,_!==null){do{var W={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};N===null?T=N=W:N=N.next=W,_=_.next}while(_!==null);N===null?T=N=p:N=N.next=p}else T=N=p;_={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:w.shared,effects:w.effects},c.updateQueue=_;return}c=_.lastBaseUpdate,c===null?_.firstBaseUpdate=p:c.next=p,_.lastBaseUpdate=p}function xp(c,p,_,w){var T=c.updateQueue;Uo=!1;var N=T.firstBaseUpdate,W=T.lastBaseUpdate,ne=T.shared.pending;if(ne!==null){T.shared.pending=null;var ye=ne,Ne=ye.next;ye.next=null,W===null?N=Ne:W.next=Ne,W=ye;var Je=c.alternate;Je!==null&&(Je=Je.updateQueue,ne=Je.lastBaseUpdate,ne!==W&&(ne===null?Je.firstBaseUpdate=Ne:ne.next=Ne,Je.lastBaseUpdate=ye))}if(N!==null){var ot=T.baseState;W=0,Je=Ne=ye=null,ne=N;do{var _t=ne.lane,mt=ne.eventTime;if((w&_t)===_t){Je!==null&&(Je=Je.next={eventTime:mt,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var At=c,Fn=ne;switch(_t=p,mt=_,Fn.tag){case 1:if(At=Fn.payload,typeof At=="function"){ot=At.call(mt,ot,_t);break e}ot=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Fn.payload,_t=typeof At=="function"?At.call(mt,ot,_t):At,_t==null)break e;ot=s({},ot,_t);break e;case 2:Uo=!0}}ne.callback!==null&&ne.lane!==0&&(c.flags|=64,_t=T.effects,_t===null?T.effects=[ne]:_t.push(ne))}else mt={eventTime:mt,lane:_t,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Je===null?(Ne=Je=mt,ye=ot):Je=Je.next=mt,W|=_t;if(ne=ne.next,ne===null){if(ne=T.shared.pending,ne===null)break;_t=ne,ne=_t.next,_t.next=null,T.lastBaseUpdate=_t,T.shared.pending=null}}while(!0);if(Je===null&&(ye=ot),T.baseState=ye,T.firstBaseUpdate=Ne,T.lastBaseUpdate=Je,p=T.shared.interleaved,p!==null){T=p;do W|=T.lane,T=T.next;while(T!==p)}else N===null&&(T.shared.lanes=0);Sl|=W,c.lanes=W,c.memoizedState=ot}}function xx(c,p,_){if(c=p.effects,p.effects=null,c!==null)for(p=0;p<c.length;p++){var w=c[p],T=w.callback;if(T!==null){if(w.callback=null,w=_,typeof T!="function")throw Error(a(191,T));T.call(w)}}}var x0=new r.Component().refs;function dd(c,p,_,w){p=c.memoizedState,_=_(w,p),_=_==null?p:s({},p,_),c.memoizedState=_,c.lanes===0&&(c.updateQueue.baseState=_)}var _p={isMounted:function(c){return(c=c._reactInternals)?R(c)===c:!1},enqueueSetState:function(c,p,_){c=c._reactInternals;var w=dr(),T=Wr(c),N=Pi(w,T);N.payload=p,_!=null&&(N.callback=_),ja(c,N),p=ts(c,T,w),p!==null&&vp(p,c,T)},enqueueReplaceState:function(c,p,_){c=c._reactInternals;var w=dr(),T=Wr(c),N=Pi(w,T);N.tag=1,N.payload=p,_!=null&&(N.callback=_),ja(c,N),p=ts(c,T,w),p!==null&&vp(p,c,T)},enqueueForceUpdate:function(c,p){c=c._reactInternals;var _=dr(),w=Wr(c),T=Pi(_,w);T.tag=2,p!=null&&(T.callback=p),ja(c,T),p=ts(c,w,_),p!==null&&vp(p,c,w)}};function _x(c,p,_,w,T,N,W){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,N,W):p.prototype&&p.prototype.isPureReactComponent?!m0(_,w)||!m0(T,N):!0}function Sx(c,p,_){var w=!1,T=yt,N=p.contextType;return typeof N=="object"&&N!==null?N=_r(N):(T=wn(p)?Ht:Ge.current,w=p.contextTypes,N=(w=w!=null)?Zt(c,T):yt),p=new p(_,N),c.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=_p,c.stateNode=p,p._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=N),p}function _0(c,p,_,w){c=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,w),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,w),p.state!==c&&_p.enqueueReplaceState(p,p.state,null)}function cu(c,p,_,w){var T=c.stateNode;T.props=_,T.state=c.memoizedState,T.refs=x0,y0(c);var N=p.contextType;typeof N=="object"&&N!==null?T.context=_r(N):(N=wn(p)?Ht:Ge.current,T.context=Zt(c,N)),T.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(dd(c,p,N,_),T.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(p=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),p!==T.state&&_p.enqueueReplaceState(T,T.state,null),xp(c,_,T,w),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}var Xa=[],vl=0,Sc=null,Yi=0,tr=[],Jr=0,qi=null,mi=1,Zi="";function hu(c,p){Xa[vl++]=Yi,Xa[vl++]=Sc,Sc=c,Yi=p}function S0(c,p,_){tr[Jr++]=mi,tr[Jr++]=Zi,tr[Jr++]=qi,qi=c;var w=mi;c=Zi;var T=32-rn(w)-1;w&=~(1<<T),_+=1;var N=32-rn(p)+T;if(30<N){var W=T-T%5;N=(w&(1<<W)-1).toString(32),w>>=W,T-=W,mi=1<<32-rn(p)+T|_<<T|w,Zi=N+c}else mi=1<<N|_<<T|w,Zi=c}function Sp(c){c.return!==null&&(hu(c,1),S0(c,1,0))}function Ki(c){for(;c===Sc;)Sc=Xa[--vl],Xa[vl]=null,Yi=Xa[--vl],Xa[vl]=null;for(;c===qi;)qi=tr[--Jr],tr[Jr]=null,Zi=tr[--Jr],tr[Jr]=null,mi=tr[--Jr],tr[Jr]=null}var qn=null,pn=null,Dn=!1,Qi=!1,da=null;function bx(c,p){var _=ys(5,null,null,0);_.elementType="DELETED",_.stateNode=p,_.return=c,p=c.deletions,p===null?(c.deletions=[_],c.flags|=16):p.push(_)}function b0(c,p){switch(c.tag){case 5:return p=xr(p,c.type,c.pendingProps),p!==null?(c.stateNode=p,qn=c,pn=Ha(p),!0):!1;case 6:return p=pc(p,c.pendingProps),p!==null?(c.stateNode=p,qn=c,pn=null,!0):!1;case 13:if(p=su(p),p!==null){var _=qi!==null?{id:mi,overflow:Zi}:null;return c.memoizedState={dehydrated:p,treeContext:_,retryLane:1073741824},_=ys(18,null,null,0),_.stateNode=p,_.return=c,c.child=_,qn=c,pn=null,!0}return!1;default:return!1}}function bp(c){return(c.mode&1)!==0&&(c.flags&128)===0}function M0(c){if(Dn){var p=pn;if(p){var _=p;if(!b0(c,p)){if(bp(c))throw Error(a(418));p=Va(_);var w=qn;p&&b0(c,p)?bx(w,_):(c.flags=c.flags&-4097|2,Dn=!1,qn=c)}}else{if(bp(c))throw Error(a(418));c.flags=c.flags&-4097|2,Dn=!1,qn=c}}}function fd(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;qn=c}function zo(c){if(!be||c!==qn)return!1;if(!Dn)return fd(c),Dn=!0,!1;if(c.tag!==3&&(c.tag!==5||oe(c.type)&&!ve(c.type,c.memoizedProps))){var p=pn;if(p){if(bp(c)){for(c=pn;c;)c=Va(c);throw Error(a(418))}for(;p;)bx(c,p),p=Va(p)}}if(fd(c),c.tag===13){if(!be)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));pn=ud(c)}else pn=qn?Va(c.stateNode):null;return!0}function du(){be&&(pn=qn=null,Qi=Dn=!1)}function bc(c){da===null?da=[c]:da.push(c)}function fu(c,p,_){if(c=_.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(a(309));var w=_.stateNode}if(!w)throw Error(a(147,c));var T=w,N=""+c;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===N?p.ref:(p=function(W){var ne=T.refs;ne===x0&&(ne=T.refs={}),W===null?delete ne[N]:ne[N]=W},p._stringRef=N,p)}if(typeof c!="string")throw Error(a(284));if(!_._owner)throw Error(a(290,c))}return c}function Mp(c,p){throw c=Object.prototype.toString.call(p),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":c))}function Mx(c){var p=c._init;return p(c._payload)}function Mc(c){function p(ee,re){if(c){var Se=ee.deletions;Se===null?(ee.deletions=[re],ee.flags|=16):Se.push(re)}}function _(ee,re){if(!c)return null;for(;re!==null;)p(ee,re),re=re.sibling;return null}function w(ee,re){for(ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function T(ee,re){return ee=eo(ee,re),ee.index=0,ee.sibling=null,ee}function N(ee,re,Se){return ee.index=Se,c?(Se=ee.alternate,Se!==null?(Se=Se.index,Se<re?(ee.flags|=2,re):Se):(ee.flags|=2,re)):(ee.flags|=1048576,re)}function W(ee){return c&&ee.alternate===null&&(ee.flags|=2),ee}function ne(ee,re,Se,Ye){return re===null||re.tag!==6?(re=Wp(Se,ee.mode,Ye),re.return=ee,re):(re=T(re,Se),re.return=ee,re)}function ye(ee,re,Se,Ye){var st=Se.type;return st===h?Je(ee,re,Se.props.children,Ye,Se.key):re!==null&&(re.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===M&&Mx(st)===re.type)?(Ye=T(re,Se.props),Ye.ref=fu(ee,re,Se),Ye.return=ee,Ye):(Ye=Xo(Se.type,Se.key,Se.props,null,ee.mode,Ye),Ye.ref=fu(ee,re,Se),Ye.return=ee,Ye)}function Ne(ee,re,Se,Ye){return re===null||re.tag!==4||re.stateNode.containerInfo!==Se.containerInfo||re.stateNode.implementation!==Se.implementation?(re=u_(Se,ee.mode,Ye),re.return=ee,re):(re=T(re,Se.children||[]),re.return=ee,re)}function Je(ee,re,Se,Ye,st){return re===null||re.tag!==7?(re=$o(Se,ee.mode,Ye,st),re.return=ee,re):(re=T(re,Se),re.return=ee,re)}function ot(ee,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Wp(""+re,ee.mode,Se),re.return=ee,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case l:return Se=Xo(re.type,re.key,re.props,null,ee.mode,Se),Se.ref=fu(ee,null,re),Se.return=ee,Se;case u:return re=u_(re,ee.mode,Se),re.return=ee,re;case M:var Ye=re._init;return ot(ee,Ye(re._payload),Se)}if(Q(re)||A(re))return re=$o(re,ee.mode,Se,null),re.return=ee,re;Mp(ee,re)}return null}function _t(ee,re,Se,Ye){var st=re!==null?re.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return st!==null?null:ne(ee,re,""+Se,Ye);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Se.key===st?ye(ee,re,Se,Ye):null;case u:return Se.key===st?Ne(ee,re,Se,Ye):null;case M:return st=Se._init,_t(ee,re,st(Se._payload),Ye)}if(Q(Se)||A(Se))return st!==null?null:Je(ee,re,Se,Ye,null);Mp(ee,Se)}return null}function mt(ee,re,Se,Ye,st){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return ee=ee.get(Se)||null,ne(re,ee,""+Ye,st);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case l:return ee=ee.get(Ye.key===null?Se:Ye.key)||null,ye(re,ee,Ye,st);case u:return ee=ee.get(Ye.key===null?Se:Ye.key)||null,Ne(re,ee,Ye,st);case M:var gt=Ye._init;return mt(ee,re,Se,gt(Ye._payload),st)}if(Q(Ye)||A(Ye))return ee=ee.get(Se)||null,Je(re,ee,Ye,st,null);Mp(re,Ye)}return null}function At(ee,re,Se,Ye){for(var st=null,gt=null,Mt=re,Gt=re=0,Wt=null;Mt!==null&&Gt<Se.length;Gt++){Mt.index>Gt?(Wt=Mt,Mt=null):Wt=Mt.sibling;var an=_t(ee,Mt,Se[Gt],Ye);if(an===null){Mt===null&&(Mt=Wt);break}c&&Mt&&an.alternate===null&&p(ee,Mt),re=N(an,re,Gt),gt===null?st=an:gt.sibling=an,gt=an,Mt=Wt}if(Gt===Se.length)return _(ee,Mt),Dn&&hu(ee,Gt),st;if(Mt===null){for(;Gt<Se.length;Gt++)Mt=ot(ee,Se[Gt],Ye),Mt!==null&&(re=N(Mt,re,Gt),gt===null?st=Mt:gt.sibling=Mt,gt=Mt);return Dn&&hu(ee,Gt),st}for(Mt=w(ee,Mt);Gt<Se.length;Gt++)Wt=mt(Mt,ee,Gt,Se[Gt],Ye),Wt!==null&&(c&&Wt.alternate!==null&&Mt.delete(Wt.key===null?Gt:Wt.key),re=N(Wt,re,Gt),gt===null?st=Wt:gt.sibling=Wt,gt=Wt);return c&&Mt.forEach(function(Eu){return p(ee,Eu)}),Dn&&hu(ee,Gt),st}function Fn(ee,re,Se,Ye){var st=A(Se);if(typeof st!="function")throw Error(a(150));if(Se=st.call(Se),Se==null)throw Error(a(151));for(var gt=st=null,Mt=re,Gt=re=0,Wt=null,an=Se.next();Mt!==null&&!an.done;Gt++,an=Se.next()){Mt.index>Gt?(Wt=Mt,Mt=null):Wt=Mt.sibling;var Eu=_t(ee,Mt,an.value,Ye);if(Eu===null){Mt===null&&(Mt=Wt);break}c&&Mt&&Eu.alternate===null&&p(ee,Mt),re=N(Eu,re,Gt),gt===null?st=Eu:gt.sibling=Eu,gt=Eu,Mt=Wt}if(an.done)return _(ee,Mt),Dn&&hu(ee,Gt),st;if(Mt===null){for(;!an.done;Gt++,an=Se.next())an=ot(ee,an.value,Ye),an!==null&&(re=N(an,re,Gt),gt===null?st=an:gt.sibling=an,gt=an);return Dn&&hu(ee,Gt),st}for(Mt=w(ee,Mt);!an.done;Gt++,an=Se.next())an=mt(Mt,ee,Gt,an.value,Ye),an!==null&&(c&&an.alternate!==null&&Mt.delete(an.key===null?Gt:an.key),re=N(an,re,Gt),gt===null?st=an:gt.sibling=an,gt=an);return c&&Mt.forEach(function(she){return p(ee,she)}),Dn&&hu(ee,Gt),st}function Re(ee,re,Se,Ye){if(typeof Se=="object"&&Se!==null&&Se.type===h&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:e:{for(var st=Se.key,gt=re;gt!==null;){if(gt.key===st){if(st=Se.type,st===h){if(gt.tag===7){_(ee,gt.sibling),re=T(gt,Se.props.children),re.return=ee,ee=re;break e}}else if(gt.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===M&&Mx(st)===gt.type){_(ee,gt.sibling),re=T(gt,Se.props),re.ref=fu(ee,gt,Se),re.return=ee,ee=re;break e}_(ee,gt);break}else p(ee,gt);gt=gt.sibling}Se.type===h?(re=$o(Se.props.children,ee.mode,Ye,Se.key),re.return=ee,ee=re):(Ye=Xo(Se.type,Se.key,Se.props,null,ee.mode,Ye),Ye.ref=fu(ee,re,Se),Ye.return=ee,ee=Ye)}return W(ee);case u:e:{for(gt=Se.key;re!==null;){if(re.key===gt)if(re.tag===4&&re.stateNode.containerInfo===Se.containerInfo&&re.stateNode.implementation===Se.implementation){_(ee,re.sibling),re=T(re,Se.children||[]),re.return=ee,ee=re;break e}else{_(ee,re);break}else p(ee,re);re=re.sibling}re=u_(Se,ee.mode,Ye),re.return=ee,ee=re}return W(ee);case M:return gt=Se._init,Re(ee,re,gt(Se._payload),Ye)}if(Q(Se))return At(ee,re,Se,Ye);if(A(Se))return Fn(ee,re,Se,Ye);Mp(ee,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,re!==null&&re.tag===6?(_(ee,re.sibling),re=T(re,Se),re.return=ee,ee=re):(_(ee,re),re=Wp(Se,ee.mode,Ye),re.return=ee,ee=re),W(ee)):_(ee,re)}return Re}var wc=Mc(!0),pd=Mc(!1),Ri={},Li=ft(Ri),Bo=ft(Ri),Ji=ft(Ri);function fa(c){if(c===Ri)throw Error(a(174));return c}function pu(c,p){Ct(Ji,p),Ct(Bo,c),Ct(Li,Ri),c=se(p),rt(Li),Ct(Li,c)}function Ec(){rt(Li),rt(Bo),rt(Ji)}function w0(c){var p=fa(Ji.current),_=fa(Li.current);p=D(_,c.type,p),_!==p&&(Ct(Bo,c),Ct(Li,p))}function Zn(c){Bo.current===c&&(rt(Li),rt(Bo))}var Xn=ft(0);function md(c){for(var p=c;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Ir(_)||za(_)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var wp=[];function gd(){for(var c=0;c<wp.length;c++){var p=wp[c];Pe?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}wp.length=0}var es=o.ReactCurrentDispatcher,gi=o.ReactCurrentBatchConfig,kn=0,fn=null,Sn=null,Sr=null,mu=!1,yl=!1,Ep=0,Ii=0;function ei(){throw Error(a(321))}function Tp(c,p){if(p===null)return!1;for(var _=0;_<p.length&&_<c.length;_++)if(!Qr(c[_],p[_]))return!1;return!0}function Ap(c,p,_,w,T,N){if(kn=N,fn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,es.current=c===null||c.memoizedState===null?$L:YL,c=_(w,T),yl){N=0;do{if(yl=!1,Ep=0,25<=N)throw Error(a(301));N+=1,Sr=Sn=null,p.updateQueue=null,es.current=kx,c=_(w,T)}while(yl)}if(es.current=C0,p=Sn!==null&&Sn.next!==null,kn=0,Sr=Sn=fn=null,mu=!1,p)throw Error(a(300));return c}function $a(){var c=Ep!==0;return Ep=0,c}function ti(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?fn.memoizedState=Sr=c:Sr=Sr.next=c,Sr}function Ni(){if(Sn===null){var c=fn.alternate;c=c!==null?c.memoizedState:null}else c=Sn.next;var p=Sr===null?fn.memoizedState:Sr.next;if(p!==null)Sr=p,Sn=c;else{if(c===null)throw Error(a(310));Sn=c,c={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Sr===null?fn.memoizedState=Sr=c:Sr=Sr.next=c}return Sr}function Vo(c,p){return typeof p=="function"?p(c):p}function Tc(c){var p=Ni(),_=p.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=c;var w=Sn,T=w.baseQueue,N=_.pending;if(N!==null){if(T!==null){var W=T.next;T.next=N.next,N.next=W}w.baseQueue=T=N,_.pending=null}if(T!==null){N=T.next,w=w.baseState;var ne=W=null,ye=null,Ne=N;do{var Je=Ne.lane;if((kn&Je)===Je)ye!==null&&(ye=ye.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),w=Ne.hasEagerState?Ne.eagerState:c(w,Ne.action);else{var ot={lane:Je,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};ye===null?(ne=ye=ot,W=w):ye=ye.next=ot,fn.lanes|=Je,Sl|=Je}Ne=Ne.next}while(Ne!==null&&Ne!==N);ye===null?W=w:ye.next=ne,Qr(w,p.memoizedState)||(Un=!0),p.memoizedState=w,p.baseState=W,p.baseQueue=ye,_.lastRenderedState=w}if(c=_.interleaved,c!==null){T=c;do N=T.lane,fn.lanes|=N,Sl|=N,T=T.next;while(T!==c)}else T===null&&(_.lanes=0);return[p.memoizedState,_.dispatch]}function Cp(c){var p=Ni(),_=p.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=c;var w=_.dispatch,T=_.pending,N=p.memoizedState;if(T!==null){_.pending=null;var W=T=T.next;do N=c(N,W.action),W=W.next;while(W!==T);Qr(N,p.memoizedState)||(Un=!0),p.memoizedState=N,p.baseQueue===null&&(p.baseState=N),_.lastRenderedState=N}return[N,w]}function wx(){}function Ex(c,p){var _=fn,w=Ni(),T=p(),N=!Qr(w.memoizedState,T);if(N&&(w.memoizedState=T,Un=!0),w=w.queue,xd(Cx.bind(null,_,w,c),[c]),w.getSnapshot!==p||N||Sr!==null&&Sr.memoizedState.tag&1){if(_.flags|=2048,vd(9,Ax.bind(null,_,w,T,p),void 0,null),sn===null)throw Error(a(349));kn&30||Tx(_,p,T)}return T}function Tx(c,p,_){c.flags|=16384,c={getSnapshot:p,value:_},p=fn.updateQueue,p===null?(p={lastEffect:null,stores:null},fn.updateQueue=p,p.stores=[c]):(_=p.stores,_===null?p.stores=[c]:_.push(c))}function Ax(c,p,_,w){p.value=_,p.getSnapshot=w,E0(p)&&ts(c,1,-1)}function Cx(c,p,_){return _(function(){E0(p)&&ts(c,1,-1)})}function E0(c){var p=c.getSnapshot;c=c.value;try{var _=p();return!Qr(c,_)}catch{return!0}}function Ac(c){var p=ti();return typeof c=="function"&&(c=c()),p.memoizedState=p.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:c},p.queue=c,c=c.dispatch=tE.bind(null,fn,c),[p.memoizedState,c]}function vd(c,p,_,w){return c={tag:c,create:p,destroy:_,deps:w,next:null},p=fn.updateQueue,p===null?(p={lastEffect:null,stores:null},fn.updateQueue=p,p.lastEffect=c.next=c):(_=p.lastEffect,_===null?p.lastEffect=c.next=c:(w=_.next,_.next=c,c.next=w,p.lastEffect=c)),c}function Pp(){return Ni().memoizedState}function Cc(c,p,_,w){var T=ti();fn.flags|=c,T.memoizedState=vd(1|p,_,void 0,w===void 0?null:w)}function yd(c,p,_,w){var T=Ni();w=w===void 0?null:w;var N=void 0;if(Sn!==null){var W=Sn.memoizedState;if(N=W.destroy,w!==null&&Tp(w,W.deps)){T.memoizedState=vd(p,_,N,w);return}}fn.flags|=c,T.memoizedState=vd(1|p,_,N,w)}function Pc(c,p){return Cc(8390656,8,c,p)}function xd(c,p){return yd(2048,8,c,p)}function Px(c,p){return yd(4,2,c,p)}function Rx(c,p){return yd(4,4,c,p)}function Lx(c,p){if(typeof p=="function")return c=c(),p(c),function(){p(null)};if(p!=null)return c=c(),p.current=c,function(){p.current=null}}function T0(c,p,_){return _=_!=null?_.concat([c]):null,yd(4,4,Lx.bind(null,p,c),_)}function A0(){}function Ix(c,p){var _=Ni();p=p===void 0?null:p;var w=_.memoizedState;return w!==null&&p!==null&&Tp(p,w[1])?w[0]:(_.memoizedState=[c,p],c)}function Qw(c,p){var _=Ni();p=p===void 0?null:p;var w=_.memoizedState;return w!==null&&p!==null&&Tp(p,w[1])?w[0]:(c=c(),_.memoizedState=[c,p],c)}function Jw(c,p){var _=_n;_n=_!==0&&4>_?_:4,c(!0);var w=gi.transition;gi.transition={};try{c(!1),p()}finally{_n=_,gi.transition=w}}function eE(){return Ni().memoizedState}function XL(c,p,_){var w=Wr(c);_={lane:w,action:_,hasEagerState:!1,eagerState:null,next:null},Nx(c)?Dx(p,_):(Ox(c,p,_),_=dr(),c=ts(c,w,_),c!==null&&Rp(c,p,w))}function tE(c,p,_){var w=Wr(c),T={lane:w,action:_,hasEagerState:!1,eagerState:null,next:null};if(Nx(c))Dx(p,T);else{Ox(c,p,T);var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=p.lastRenderedReducer,N!==null))try{var W=p.lastRenderedState,ne=N(W,_);if(T.hasEagerState=!0,T.eagerState=ne,Qr(ne,W))return}catch{}finally{}_=dr(),c=ts(c,w,_),c!==null&&Rp(c,p,w)}}function Nx(c){var p=c.alternate;return c===fn||p!==null&&p===fn}function Dx(c,p){yl=mu=!0;var _=c.pending;_===null?p.next=p:(p.next=_.next,_.next=p),c.pending=p}function Ox(c,p,_){sn!==null&&c.mode&1&&!(zt&2)?(c=p.interleaved,c===null?(_.next=_,pi===null?pi=[p]:pi.push(p)):(_.next=c.next,c.next=_),p.interleaved=_):(c=p.pending,c===null?_.next=_:(_.next=c.next,c.next=_),p.pending=_)}function Rp(c,p,_){if(_&4194240){var w=p.lanes;w&=c.pendingLanes,_|=w,p.lanes=_,yn(c,_)}}var C0={readContext:_r,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},$L={readContext:_r,useCallback:function(c,p){return ti().memoizedState=[c,p===void 0?null:p],c},useContext:_r,useEffect:Pc,useImperativeHandle:function(c,p,_){return _=_!=null?_.concat([c]):null,Cc(4194308,4,Lx.bind(null,p,c),_)},useLayoutEffect:function(c,p){return Cc(4194308,4,c,p)},useInsertionEffect:function(c,p){return Cc(4,2,c,p)},useMemo:function(c,p){var _=ti();return p=p===void 0?null:p,c=c(),_.memoizedState=[c,p],c},useReducer:function(c,p,_){var w=ti();return p=_!==void 0?_(p):p,w.memoizedState=w.baseState=p,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:p},w.queue=c,c=c.dispatch=XL.bind(null,fn,c),[w.memoizedState,c]},useRef:function(c){var p=ti();return c={current:c},p.memoizedState=c},useState:Ac,useDebugValue:A0,useDeferredValue:function(c){var p=Ac(c),_=p[0],w=p[1];return Pc(function(){var T=gi.transition;gi.transition={};try{w(c)}finally{gi.transition=T}},[c]),_},useTransition:function(){var c=Ac(!1),p=c[0];return c=Jw.bind(null,c[1]),ti().memoizedState=c,[p,c]},useMutableSource:function(){},useSyncExternalStore:function(c,p,_){var w=fn,T=ti();if(Dn){if(_===void 0)throw Error(a(407));_=_()}else{if(_=p(),sn===null)throw Error(a(349));kn&30||Tx(w,p,_)}T.memoizedState=_;var N={value:_,getSnapshot:p};return T.queue=N,Pc(Cx.bind(null,w,N,c),[c]),w.flags|=2048,vd(9,Ax.bind(null,w,N,_,p),void 0,null),_},useId:function(){var c=ti(),p=sn.identifierPrefix;if(Dn){var _=Zi,w=mi;_=(w&~(1<<32-rn(w)-1)).toString(32)+_,p=":"+p+"R"+_,_=Ep++,0<_&&(p+="H"+_.toString(32)),p+=":"}else _=Ii++,p=":"+p+"r"+_.toString(32)+":";return c.memoizedState=p},unstable_isNewReconciler:!1},YL={readContext:_r,useCallback:Ix,useContext:_r,useEffect:xd,useImperativeHandle:T0,useInsertionEffect:Px,useLayoutEffect:Rx,useMemo:Qw,useReducer:Tc,useRef:Pp,useState:function(){return Tc(Vo)},useDebugValue:A0,useDeferredValue:function(c){var p=Tc(Vo),_=p[0],w=p[1];return xd(function(){var T=gi.transition;gi.transition={};try{w(c)}finally{gi.transition=T}},[c]),_},useTransition:function(){var c=Tc(Vo)[0],p=Ni().memoizedState;return[c,p]},useMutableSource:wx,useSyncExternalStore:Ex,useId:eE,unstable_isNewReconciler:!1},kx={readContext:_r,useCallback:Ix,useContext:_r,useEffect:xd,useImperativeHandle:T0,useInsertionEffect:Px,useLayoutEffect:Rx,useMemo:Qw,useReducer:Cp,useRef:Pp,useState:function(){return Cp(Vo)},useDebugValue:A0,useDeferredValue:function(c){var p=Cp(Vo),_=p[0],w=p[1];return xd(function(){var T=gi.transition;gi.transition={};try{w(c)}finally{gi.transition=T}},[c]),_},useTransition:function(){var c=Cp(Vo)[0],p=Ni().memoizedState;return[c,p]},useMutableSource:wx,useSyncExternalStore:Ex,useId:eE,unstable_isNewReconciler:!1};function Lp(c,p){try{var _="",w=p;do _+=Wa(w),w=w.return;while(w);var T=_}catch(N){T=`
Error generating stack: `+N.message+`
`+N.stack}return{value:c,source:p,stack:T}}function Ux(c,p){try{console.error(p.value)}catch(_){setTimeout(function(){throw _})}}var nE=typeof WeakMap=="function"?WeakMap:Map;function Fx(c,p,_){_=Pi(-1,_),_.tag=3,_.payload={element:null};var w=p.value;return _.callback=function(){Ed||(Ed=!0,jo=w),Ux(c,p)},_}function zx(c,p,_){_=Pi(-1,_),_.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var T=p.value;_.payload=function(){return w(T)},_.callback=function(){Ux(c,p)}}var N=c.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(_.callback=function(){Ux(c,p),typeof w!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var W=p.stack;this.componentDidCatch(p.value,{componentStack:W!==null?W:""})}),_}function Bx(c,p,_){var w=c.pingCache;if(w===null){w=c.pingCache=new nE;var T=new Set;w.set(p,T)}else T=w.get(p),T===void 0&&(T=new Set,w.set(p,T));T.has(_)||(T.add(_),c=aE.bind(null,c,p,_),p.then(c,c))}function Vx(c){do{var p;if((p=c.tag===13)&&(p=c.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return c;c=c.return}while(c!==null);return null}function Ya(c,p,_,w,T){return c.mode&1?(c.flags|=65536,c.lanes=T,c):(c===p?c.flags|=65536:(c.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(p=Pi(-1,1),p.tag=2,ja(_,p))),_.lanes|=1),c)}function qa(c){c.flags|=4}function _d(c,p){if(c!==null&&c.child===p.child)return!0;if(p.flags&16)return!1;for(c=p.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var xl,gu,Rc,Ip;if(Ce)xl=function(c,p){for(var _=p.child;_!==null;){if(_.tag===5||_.tag===6)te(c,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===p)break;for(;_.sibling===null;){if(_.return===null||_.return===p)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},gu=function(){},Rc=function(c,p,_,w,T){if(c=c.memoizedProps,c!==w){var N=p.stateNode,W=fa(Li.current);_=F(N,_,c,w,T,W),(p.updateQueue=_)&&qa(p)}},Ip=function(c,p,_,w){_!==w&&qa(p)};else if(pe){xl=function(c,p,_,w){for(var T=p.child;T!==null;){if(T.tag===5){var N=T.stateNode;_&&w&&(N=Nt(N,T.type,T.memoizedProps,T)),te(c,N)}else if(T.tag===6)N=T.stateNode,_&&w&&(N=jn(N,T.memoizedProps,T)),te(c,N);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)N=T.child,N!==null&&(N.return=T),xl(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===p)break;for(;T.sibling===null;){if(T.return===null||T.return===p)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var Sd=function(c,p,_,w){for(var T=p.child;T!==null;){if(T.tag===5){var N=T.stateNode;_&&w&&(N=Nt(N,T.type,T.memoizedProps,T)),vt(c,N)}else if(T.tag===6)N=T.stateNode,_&&w&&(N=jn(N,T.memoizedProps,T)),vt(c,N);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)N=T.child,N!==null&&(N.return=T),Sd(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===p)break;for(;T.sibling===null;){if(T.return===null||T.return===p)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};gu=function(c,p){var _=p.stateNode;if(!_d(c,p)){c=_.containerInfo;var w=De(c);Sd(w,p,!1,!1),_.pendingChildren=w,qa(p),jt(c,w)}},Rc=function(c,p,_,w,T){var N=c.stateNode,W=c.memoizedProps;if((c=_d(c,p))&&W===w)p.stateNode=N;else{var ne=p.stateNode,ye=fa(Li.current),Ne=null;W!==w&&(Ne=F(ne,_,W,w,T,ye)),c&&Ne===null?p.stateNode=N:(N=We(N,Ne,_,W,w,p,c,ne),Ae(N,_,w,T,ye)&&qa(p),p.stateNode=N,c?qa(p):xl(N,p,!1,!1))}},Ip=function(c,p,_,w){_!==w?(c=fa(Ji.current),_=fa(Li.current),p.stateNode=ie(w,c,_,p),qa(p)):p.stateNode=c.stateNode}}else gu=function(){},Rc=function(){},Ip=function(){};function Dr(c,p){if(!Dn)switch(c.tailMode){case"hidden":p=c.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?c.tail=null:_.sibling=null;break;case"collapsed":_=c.tail;for(var w=null;_!==null;)_.alternate!==null&&(w=_),_=_.sibling;w===null?p||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function Di(c){var p=c.alternate!==null&&c.alternate.child===c.child,_=0,w=0;if(p)for(var T=c.child;T!==null;)_|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)_|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=w,c.childLanes=_,p}function qL(c,p,_){var w=p.pendingProps;switch(Ki(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(p),null;case 1:return wn(p.type)&&xn(),Di(p),null;case 3:return w=p.stateNode,Ec(),rt(un),rt(Ge),gd(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(zo(p)?qa(p):c===null||c.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,da!==null&&(r_(da),da=null))),gu(c,p),Di(p),null;case 5:Zn(p),_=fa(Ji.current);var T=p.type;if(c!==null&&p.stateNode!=null)Rc(c,p,T,w,_),c.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!w){if(p.stateNode===null)throw Error(a(166));return Di(p),null}if(c=fa(Li.current),zo(p)){if(!be)throw Error(a(175));c=gc(p.stateNode,p.type,p.memoizedProps,_,c,p,!Qi),p.updateQueue=c,c!==null&&qa(p)}else{var N=$(T,w,_,c,p);xl(N,p,!1,!1),p.stateNode=N,Ae(N,T,w,_,c)&&qa(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Di(p),null;case 6:if(c&&p.stateNode!=null)Ip(c,p,c.memoizedProps,w);else{if(typeof w!="string"&&p.stateNode===null)throw Error(a(166));if(c=fa(Ji.current),_=fa(Li.current),zo(p)){if(!be)throw Error(a(176));if(c=p.stateNode,w=p.memoizedProps,(_=vc(c,w,p,!Qi))&&(T=qn,T!==null))switch(N=(T.mode&1)!==0,T.tag){case 3:Z(T.stateNode.containerInfo,c,w,N);break;case 5:we(T.type,T.memoizedProps,T.stateNode,c,w,N)}_&&qa(p)}else p.stateNode=ie(w,c,_,p)}return Di(p),null;case 13:if(rt(Xn),w=p.memoizedState,Dn&&pn!==null&&p.mode&1&&!(p.flags&128)){for(c=pn;c;)c=Va(c);return du(),p.flags|=98560,p}if(w!==null&&w.dehydrated!==null){if(w=zo(p),c===null){if(!w)throw Error(a(318));if(!be)throw Error(a(344));if(c=p.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));dp(c,p)}else du(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Di(p),null}return da!==null&&(r_(da),da=null),p.flags&128?(p.lanes=_,p):(w=w!==null,_=!1,c===null?zo(p):_=c.memoizedState!==null,w&&!_&&(p.child.flags|=8192,p.mode&1&&(c===null||Xn.current&1?rr===0&&(rr=3):Ad())),p.updateQueue!==null&&(p.flags|=4),Di(p),null);case 4:return Ec(),gu(c,p),c===null&&Ee(p.stateNode.containerInfo),Di(p),null;case 10:return gp(p.type._context),Di(p),null;case 17:return wn(p.type)&&xn(),Di(p),null;case 19:if(rt(Xn),T=p.memoizedState,T===null)return Di(p),null;if(w=(p.flags&128)!==0,N=T.rendering,N===null)if(w)Dr(T,!1);else{if(rr!==0||c!==null&&c.flags&128)for(c=p.child;c!==null;){if(N=md(c),N!==null){for(p.flags|=128,Dr(T,!1),c=N.updateQueue,c!==null&&(p.updateQueue=c,p.flags|=4),p.subtreeFlags=0,c=_,w=p.child;w!==null;)_=w,T=c,_.flags&=14680066,N=_.alternate,N===null?(_.childLanes=0,_.lanes=T,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=N.childLanes,_.lanes=N.lanes,_.child=N.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=N.memoizedProps,_.memoizedState=N.memoizedState,_.updateQueue=N.updateQueue,_.type=N.type,T=N.dependencies,_.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),w=w.sibling;return Ct(Xn,Xn.current&1|2),p.child}c=c.sibling}T.tail!==null&&Nr()>yu&&(p.flags|=128,w=!0,Dr(T,!1),p.lanes=4194304)}else{if(!w)if(c=md(N),c!==null){if(p.flags|=128,w=!0,c=c.updateQueue,c!==null&&(p.updateQueue=c,p.flags|=4),Dr(T,!0),T.tail===null&&T.tailMode==="hidden"&&!N.alternate&&!Dn)return Di(p),null}else 2*Nr()-T.renderingStartTime>yu&&_!==1073741824&&(p.flags|=128,w=!0,Dr(T,!1),p.lanes=4194304);T.isBackwards?(N.sibling=p.child,p.child=N):(c=T.last,c!==null?c.sibling=N:p.child=N,T.last=N)}return T.tail!==null?(p=T.tail,T.rendering=p,T.tail=p.sibling,T.renderingStartTime=Nr(),p.sibling=null,c=Xn.current,Ct(Xn,w?c&1|2:c&1),p):(Di(p),null);case 22:case 23:return wl(),w=p.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(p.flags|=8192),w&&p.mode&1?ni&1073741824&&(Di(p),Ce&&p.subtreeFlags&6&&(p.flags|=8192)):Di(p),null;case 24:return null;case 25:return null}throw Error(a(156,p.tag))}var Ws=o.ReactCurrentOwner,Un=!1;function Oi(c,p,_,w){p.child=c===null?pd(p,null,_,w):wc(p,c.child,_,w)}function Hx(c,p,_,w,T){_=_.render;var N=p.ref;return fi(p,T),w=Ap(c,p,_,w,N,T),_=$a(),c!==null&&!Un?(p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~T,_l(c,p,T)):(Dn&&_&&Sp(p),p.flags|=1,Oi(c,p,w,T),p.child)}function Gx(c,p,_,w,T){if(c===null){var N=_.type;return typeof N=="function"&&!l_(N)&&N.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(p.tag=15,p.type=N,Wx(c,p,N,w,T)):(c=Xo(_.type,null,w,p,p.mode,T),c.ref=p.ref,c.return=p,p.child=c)}if(N=c.child,!(c.lanes&T)){var W=N.memoizedProps;if(_=_.compare,_=_!==null?_:m0,_(W,w)&&c.ref===p.ref)return _l(c,p,T)}return p.flags|=1,c=eo(N,w),c.ref=p.ref,c.return=p,p.child=c}function Wx(c,p,_,w,T){if(c!==null&&m0(c.memoizedProps,w)&&c.ref===p.ref)if(Un=!1,(c.lanes&T)!==0)c.flags&131072&&(Un=!0);else return p.lanes=c.lanes,_l(c,p,T);return R0(c,p,_,w,T)}function jx(c,p,_){var w=p.pendingProps,T=w.children,N=c!==null?c.memoizedState:null;if(w.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},Ct(Qn,ni),ni|=_;else if(_&1073741824)p.memoizedState={baseLanes:0,cachePool:null},w=N!==null?N.baseLanes:_,Ct(Qn,ni),ni|=w;else return c=N!==null?N.baseLanes|_:_,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:c,cachePool:null},p.updateQueue=null,Ct(Qn,ni),ni|=c,null;else N!==null?(w=N.baseLanes|_,p.memoizedState=null):w=_,Ct(Qn,ni),ni|=w;return Oi(c,p,T,_),p.child}function P0(c,p){var _=p.ref;(c===null&&_!==null||c!==null&&c.ref!==_)&&(p.flags|=512,p.flags|=2097152)}function R0(c,p,_,w,T){var N=wn(_)?Ht:Ge.current;return N=Zt(p,N),fi(p,T),_=Ap(c,p,_,w,N,T),w=$a(),c!==null&&!Un?(p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~T,_l(c,p,T)):(Dn&&w&&Sp(p),p.flags|=1,Oi(c,p,_,T),p.child)}function L0(c,p,_,w,T){if(wn(_)){var N=!0;On(p)}else N=!1;if(fi(p,T),p.stateNode===null)c!==null&&(c.alternate=null,p.alternate=null,p.flags|=2),Sx(p,_,w),cu(p,_,w,T),w=!0;else if(c===null){var W=p.stateNode,ne=p.memoizedProps;W.props=ne;var ye=W.context,Ne=_.contextType;typeof Ne=="object"&&Ne!==null?Ne=_r(Ne):(Ne=wn(_)?Ht:Ge.current,Ne=Zt(p,Ne));var Je=_.getDerivedStateFromProps,ot=typeof Je=="function"||typeof W.getSnapshotBeforeUpdate=="function";ot||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ne!==w||ye!==Ne)&&_0(p,W,w,Ne),Uo=!1;var _t=p.memoizedState;W.state=_t,xp(p,w,W,T),ye=p.memoizedState,ne!==w||_t!==ye||un.current||Uo?(typeof Je=="function"&&(dd(p,_,Je,w),ye=p.memoizedState),(ne=Uo||_x(p,_,ne,w,_t,ye,Ne))?(ot||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(p.flags|=4194308)):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=w,p.memoizedState=ye),W.props=w,W.state=ye,W.context=Ne,w=ne):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),w=!1)}else{W=p.stateNode,Fo(c,p),ne=p.memoizedProps,Ne=p.type===p.elementType?ne:gs(p.type,ne),W.props=Ne,ot=p.pendingProps,_t=W.context,ye=_.contextType,typeof ye=="object"&&ye!==null?ye=_r(ye):(ye=wn(_)?Ht:Ge.current,ye=Zt(p,ye));var mt=_.getDerivedStateFromProps;(Je=typeof mt=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ne!==ot||_t!==ye)&&_0(p,W,w,ye),Uo=!1,_t=p.memoizedState,W.state=_t,xp(p,w,W,T);var At=p.memoizedState;ne!==ot||_t!==At||un.current||Uo?(typeof mt=="function"&&(dd(p,_,mt,w),At=p.memoizedState),(Ne=Uo||_x(p,_,Ne,w,_t,At,ye)||!1)?(Je||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(w,At,ye),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(w,At,ye)),typeof W.componentDidUpdate=="function"&&(p.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof W.componentDidUpdate!="function"||ne===c.memoizedProps&&_t===c.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ne===c.memoizedProps&&_t===c.memoizedState||(p.flags|=1024),p.memoizedProps=w,p.memoizedState=At),W.props=w,W.state=At,W.context=ye,w=Ne):(typeof W.componentDidUpdate!="function"||ne===c.memoizedProps&&_t===c.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ne===c.memoizedProps&&_t===c.memoizedState||(p.flags|=1024),w=!1)}return I0(c,p,_,w,N,T)}function I0(c,p,_,w,T,N){P0(c,p);var W=(p.flags&128)!==0;if(!w&&!W)return T&&Kn(p,_,!1),_l(c,p,N);w=p.stateNode,Ws.current=p;var ne=W&&typeof _.getDerivedStateFromError!="function"?null:w.render();return p.flags|=1,c!==null&&W?(p.child=wc(p,c.child,null,N),p.child=wc(p,null,ne,N)):Oi(c,p,ne,N),p.memoizedState=w.state,T&&Kn(p,_,!0),p.child}function Xx(c){var p=c.stateNode;p.pendingContext?$i(c,p.pendingContext,p.pendingContext!==p.context):p.context&&$i(c,p.context,!1),pu(c,p.containerInfo)}function Np(c,p,_,w,T){return du(),bc(T),p.flags|=256,Oi(c,p,_,w),p.child}var Lc={dehydrated:null,treeContext:null,retryLane:0};function Dp(c){return{baseLanes:c,cachePool:null}}function N0(c,p,_){var w=p.pendingProps,T=Xn.current,N=!1,W=(p.flags&128)!==0,ne;if((ne=W)||(ne=c!==null&&c.memoizedState===null?!1:(T&2)!==0),ne?(N=!0,p.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),Ct(Xn,T&1),c===null)return M0(p),c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(p.mode&1?za(c)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(T=w.children,c=w.fallback,N?(w=p.mode,N=p.child,T={mode:"hidden",children:T},!(w&1)&&N!==null?(N.childLanes=0,N.pendingProps=T):N=Cd(T,w,0,null),c=$o(c,w,_,null),N.return=p,c.return=p,N.sibling=c,p.child=N,p.child.memoizedState=Dp(_),p.memoizedState=Lc,c):D0(p,T));if(T=c.memoizedState,T!==null){if(ne=T.dehydrated,ne!==null){if(W)return p.flags&256?(p.flags&=-257,kp(c,p,_,Error(a(422)))):p.memoizedState!==null?(p.child=c.child,p.flags|=128,null):(N=w.fallback,T=p.mode,w=Cd({mode:"visible",children:w.children},T,0,null),N=$o(N,T,_,null),N.flags|=2,w.return=p,N.return=p,w.sibling=N,p.child=w,p.mode&1&&wc(p,c.child,null,_),p.child.memoizedState=Dp(_),p.memoizedState=Lc,N);if(!(p.mode&1))p=kp(c,p,_,null);else if(za(ne))p=kp(c,p,_,Error(a(419)));else if(w=(_&c.childLanes)!==0,Un||w){if(w=sn,w!==null){switch(_&-_){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}w=N&(w.suspendedLanes|_)?0:N,w!==0&&w!==T.retryLane&&(T.retryLane=w,ts(c,w,-1))}Ad(),p=kp(c,p,_,Error(a(421)))}else Ir(ne)?(p.flags|=128,p.child=c.child,p=JL.bind(null,c),Ba(ne,p),p=null):(_=T.treeContext,be&&(pn=Ga(ne),qn=p,Dn=!0,da=null,Qi=!1,_!==null&&(tr[Jr++]=mi,tr[Jr++]=Zi,tr[Jr++]=qi,mi=_.id,Zi=_.overflow,qi=p)),p=D0(p,p.pendingProps.children),p.flags|=4096);return p}return N?(w=Op(c,p,w.children,w.fallback,_),N=p.child,T=c.child.memoizedState,N.memoizedState=T===null?Dp(_):{baseLanes:T.baseLanes|_,cachePool:null},N.childLanes=c.childLanes&~_,p.memoizedState=Lc,w):(_=$x(c,p,w.children,_),p.memoizedState=null,_)}return N?(w=Op(c,p,w.children,w.fallback,_),N=p.child,T=c.child.memoizedState,N.memoizedState=T===null?Dp(_):{baseLanes:T.baseLanes|_,cachePool:null},N.childLanes=c.childLanes&~_,p.memoizedState=Lc,w):(_=$x(c,p,w.children,_),p.memoizedState=null,_)}function D0(c,p){return p=Cd({mode:"visible",children:p},c.mode,0,null),p.return=c,c.child=p}function $x(c,p,_,w){var T=c.child;return c=T.sibling,_=eo(T,{mode:"visible",children:_}),!(p.mode&1)&&(_.lanes=w),_.return=p,_.sibling=null,c!==null&&(w=p.deletions,w===null?(p.deletions=[c],p.flags|=16):w.push(c)),p.child=_}function Op(c,p,_,w,T){var N=p.mode;c=c.child;var W=c.sibling,ne={mode:"hidden",children:_};return!(N&1)&&p.child!==c?(_=p.child,_.childLanes=0,_.pendingProps=ne,p.deletions=null):(_=eo(c,ne),_.subtreeFlags=c.subtreeFlags&14680064),W!==null?w=eo(W,w):(w=$o(w,N,T,null),w.flags|=2),w.return=p,_.return=p,_.sibling=w,p.child=_,w}function kp(c,p,_,w){return w!==null&&bc(w),wc(p,c.child,null,_),c=D0(p,p.pendingProps.children),c.flags|=2,p.memoizedState=null,c}function O0(c,p,_){c.lanes|=p;var w=c.alternate;w!==null&&(w.lanes|=p),uu(c.return,p,_)}function k0(c,p,_,w,T){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:w,tail:_,tailMode:T}:(N.isBackwards=p,N.rendering=null,N.renderingStartTime=0,N.last=w,N.tail=_,N.tailMode=T)}function Ho(c,p,_){var w=p.pendingProps,T=w.revealOrder,N=w.tail;if(Oi(c,p,w.children,_),w=Xn.current,w&2)w=w&1|2,p.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=p.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&O0(c,_,p);else if(c.tag===19)O0(c,_,p);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===p)break e;for(;c.sibling===null;){if(c.return===null||c.return===p)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(Ct(Xn,w),!(p.mode&1))p.memoizedState=null;else switch(T){case"forwards":for(_=p.child,T=null;_!==null;)c=_.alternate,c!==null&&md(c)===null&&(T=_),_=_.sibling;_=T,_===null?(T=p.child,p.child=null):(T=_.sibling,_.sibling=null),k0(p,!1,T,_,N);break;case"backwards":for(_=null,T=p.child,p.child=null;T!==null;){if(c=T.alternate,c!==null&&md(c)===null){p.child=T;break}c=T.sibling,T.sibling=_,_=T,T=c}k0(p,!0,_,null,N);break;case"together":k0(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function _l(c,p,_){if(c!==null&&(p.dependencies=c.dependencies),Sl|=p.lanes,!(_&p.childLanes))return null;if(c!==null&&p.child!==c.child)throw Error(a(153));if(p.child!==null){for(c=p.child,_=eo(c,c.pendingProps),p.child=_,_.return=p;c.sibling!==null;)c=c.sibling,_=_.sibling=eo(c,c.pendingProps),_.return=p;_.sibling=null}return p.child}function ZL(c,p,_){switch(p.tag){case 3:Xx(p),du();break;case 5:w0(p);break;case 1:wn(p.type)&&On(p);break;case 4:pu(p,p.stateNode.containerInfo);break;case 10:v0(p,p.type._context,p.memoizedProps.value);break;case 13:var w=p.memoizedState;if(w!==null)return w.dehydrated!==null?(Ct(Xn,Xn.current&1),p.flags|=128,null):_&p.child.childLanes?N0(c,p,_):(Ct(Xn,Xn.current&1),c=_l(c,p,_),c!==null?c.sibling:null);Ct(Xn,Xn.current&1);break;case 19:if(w=(_&p.childLanes)!==0,c.flags&128){if(w)return Ho(c,p,_);p.flags|=128}var T=p.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ct(Xn,Xn.current),w)break;return null;case 22:case 23:return p.lanes=0,jx(c,p,_)}return _l(c,p,_)}function U0(c,p){switch(Ki(p),p.tag){case 1:return wn(p.type)&&xn(),c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 3:return Ec(),rt(un),rt(Ge),gd(),c=p.flags,c&65536&&!(c&128)?(p.flags=c&-65537|128,p):null;case 5:return Zn(p),null;case 13:if(rt(Xn),c=p.memoizedState,c!==null&&c.dehydrated!==null){if(p.alternate===null)throw Error(a(340));du()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 19:return rt(Xn),null;case 4:return Ec(),null;case 10:return gp(p.type._context),null;case 22:case 23:return wl(),null;case 24:return null;default:return null}}var Go=!1,Ic=!1,bt=typeof WeakSet=="function"?WeakSet:Set,St=null;function Up(c,p){var _=c.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(w){vs(c,p,w)}else _.current=null}function F0(c,p,_){try{_()}catch(w){vs(c,p,w)}}var rE=!1;function Nc(c,p){for(V(c.containerInfo),St=p;St!==null;)if(c=St,p=c.child,(c.subtreeFlags&1028)!==0&&p!==null)p.return=c,St=p;else for(;St!==null;){c=St;try{var _=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,T=_.memoizedState,N=c.stateNode,W=N.getSnapshotBeforeUpdate(c.elementType===c.type?w:gs(c.type,w),T);N.__reactInternalSnapshotBeforeUpdate=W}break;case 3:Ce&&_e(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ne){vs(c,c.return,ne)}if(p=c.sibling,p!==null){p.return=c.return,St=p;break}St=c.return}return _=rE,rE=!1,_}function Za(c,p,_){var w=p.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&c)===c){var N=T.destroy;T.destroy=void 0,N!==void 0&&F0(p,_,N)}T=T.next}while(T!==w)}}function Dc(c,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var _=p=p.next;do{if((_.tag&c)===c){var w=_.create;_.destroy=w()}_=_.next}while(_!==p)}}function z0(c){var p=c.ref;if(p!==null){var _=c.stateNode;switch(c.tag){case 5:c=X(_);break;default:c=_}typeof p=="function"?p(c):p.current=c}}function Yx(c,p,_){if(No&&typeof No.onCommitFiberUnmount=="function")try{No.onCommitFiberUnmount(Gs,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(c=p.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var w=c=c.next;do{var T=w,N=T.destroy;T=T.tag,N!==void 0&&(T&2||T&4)&&F0(p,_,N),w=w.next}while(w!==c)}break;case 1:if(Up(p,_),c=p.stateNode,typeof c.componentWillUnmount=="function")try{c.props=p.memoizedProps,c.state=p.memoizedState,c.componentWillUnmount()}catch(W){vs(p,_,W)}break;case 5:Up(p,_);break;case 4:Ce?H0(c,p,_):pe&&pe&&(p=p.stateNode.containerInfo,_=De(p),dn(p,_))}}function qx(c,p,_){for(var w=p;;)if(Yx(c,w,_),w.child===null||Ce&&w.tag===4){if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function Zx(c){var p=c.alternate;p!==null&&(c.alternate=null,Zx(p)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(p=c.stateNode,p!==null&&He(p)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Kx(c){return c.tag===5||c.tag===3||c.tag===4}function Qx(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Kx(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function B0(c){if(Ce){e:{for(var p=c.return;p!==null;){if(Kx(p))break e;p=p.return}throw Error(a(160))}var _=p;switch(_.tag){case 5:p=_.stateNode,_.flags&32&&(dt(p),_.flags&=-33),_=Qx(c),V0(c,_,p);break;case 3:case 4:p=_.stateNode.containerInfo,_=Qx(c),Fp(c,_,p);break;default:throw Error(a(161))}}}function Fp(c,p,_){var w=c.tag;if(w===5||w===6)c=c.stateNode,p?at(_,c,p):Xe(_,c);else if(w!==4&&(c=c.child,c!==null))for(Fp(c,p,_),c=c.sibling;c!==null;)Fp(c,p,_),c=c.sibling}function V0(c,p,_){var w=c.tag;if(w===5||w===6)c=c.stateNode,p?nt(_,c,p):Ie(_,c);else if(w!==4&&(c=c.child,c!==null))for(V0(c,p,_),c=c.sibling;c!==null;)V0(c,p,_),c=c.sibling}function H0(c,p,_){for(var w=p,T=!1,N,W;;){if(!T){T=w.return;e:for(;;){if(T===null)throw Error(a(160));switch(N=T.stateNode,T.tag){case 5:W=!1;break e;case 3:N=N.containerInfo,W=!0;break e;case 4:N=N.containerInfo,W=!0;break e}T=T.return}T=!0}if(w.tag===5||w.tag===6)qx(c,w,_),W?Tt(N,w.stateNode):$e(N,w.stateNode);else if(w.tag===18)W?ae(N,w.stateNode):K(N,w.stateNode);else if(w.tag===4){if(w.child!==null){N=w.stateNode.containerInfo,W=!0,w.child.return=w,w=w.child;continue}}else if(Yx(c,w,_),w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return,w.tag===4&&(T=!1)}w.sibling.return=w.return,w=w.sibling}}function bd(c,p){if(Ce){switch(p.tag){case 0:case 11:case 14:case 15:Za(3,p,p.return),Dc(3,p),Za(5,p,p.return);return;case 1:return;case 5:var _=p.stateNode;if(_!=null){var w=p.memoizedProps;c=c!==null?c.memoizedProps:w;var T=p.type,N=p.updateQueue;p.updateQueue=null,N!==null&&je(_,N,T,c,w,p)}return;case 6:if(p.stateNode===null)throw Error(a(162));_=p.memoizedProps,pt(p.stateNode,c!==null?c.memoizedProps:_,_);return;case 3:be&&c!==null&&c.memoizedState.isDehydrated&&cd(p.stateNode.containerInfo);return;case 12:return;case 13:G0(p);return;case 19:G0(p);return;case 17:return}throw Error(a(163))}switch(p.tag){case 0:case 11:case 14:case 15:Za(3,p,p.return),Dc(3,p),Za(5,p,p.return);return;case 12:return;case 13:G0(p);return;case 19:G0(p);return;case 3:be&&c!==null&&c.memoizedState.isDehydrated&&cd(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(pe){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,dn(p.containerInfo,p.pendingChildren);break e}throw Error(a(163))}}function G0(c){var p=c.updateQueue;if(p!==null){c.updateQueue=null;var _=c.stateNode;_===null&&(_=c.stateNode=new bt),p.forEach(function(w){var T=lE.bind(null,c,w);_.has(w)||(_.add(w),w.then(T,T))})}}function KL(c,p){for(St=p;St!==null;){p=St;var _=p.deletions;if(_!==null)for(var w=0;w<_.length;w++){var T=_[w];try{var N=c;Ce?H0(N,T,p):qx(N,T,p);var W=T.alternate;W!==null&&(W.return=null),T.return=null}catch(st){vs(T,p,st)}}if(_=p.child,p.subtreeFlags&12854&&_!==null)_.return=p,St=_;else for(;St!==null;){p=St;try{var ne=p.flags;if(ne&32&&Ce&&dt(p.stateNode),ne&512){var ye=p.alternate;if(ye!==null){var Ne=ye.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}if(ne&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var Je=p.alternate;(Je===null||Je.memoizedState===null)&&(Hp=Nr())}break;case 22:var ot=p.memoizedState!==null,_t=p.alternate,mt=_t!==null&&_t.memoizedState!==null;if(_=p,Ce){e:if(w=_,T=ot,N=null,Ce)for(var At=w;;){if(At.tag===5){if(N===null){N=At;var Fn=At.stateNode;T?Vt(Fn):Oe(At.stateNode,At.memoizedProps)}}else if(At.tag===6){if(N===null){var Re=At.stateNode;T?Y(Re):ce(Re,At.memoizedProps)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===w)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===w)break;for(;At.sibling===null;){if(At.return===null||At.return===w)break e;N===At&&(N=null),At=At.return}N===At&&(N=null),At.sibling.return=At.return,At=At.sibling}}if(ot&&!mt&&_.mode&1){St=_;for(var ee=_.child;ee!==null;){for(_=St=ee;St!==null;){w=St;var re=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Za(4,w,w.return);break;case 1:Up(w,w.return);var Se=w.stateNode;if(typeof Se.componentWillUnmount=="function"){var Ye=w.return;try{Se.props=w.memoizedProps,Se.state=w.memoizedState,Se.componentWillUnmount()}catch(st){vs(w,Ye,st)}}break;case 5:Up(w,w.return);break;case 22:if(w.memoizedState!==null){t_(_);continue}}re!==null?(re.return=w,St=re):t_(_)}ee=ee.sibling}}}switch(ne&4102){case 2:B0(p),p.flags&=-3;break;case 6:B0(p),p.flags&=-3,bd(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,bd(p.alternate,p);break;case 4:bd(p.alternate,p)}}catch(st){vs(p,p.return,st)}if(_=p.sibling,_!==null){_.return=p.return,St=_;break}St=p.return}}}function iE(c,p,_){St=c,Jx(c)}function Jx(c,p,_){for(var w=(c.mode&1)!==0;St!==null;){var T=St,N=T.child;if(T.tag===22&&w){var W=T.memoizedState!==null||Go;if(!W){var ne=T.alternate,ye=ne!==null&&ne.memoizedState!==null||Ic;ne=Go;var Ne=Ic;if(Go=W,(Ic=ye)&&!Ne)for(St=T;St!==null;)W=St,ye=W.child,W.tag===22&&W.memoizedState!==null?zp(T):ye!==null?(ye.return=W,St=ye):zp(T);for(;N!==null;)St=N,Jx(N),N=N.sibling;St=T,Go=ne,Ic=Ne}e_(c)}else T.subtreeFlags&8772&&N!==null?(N.return=T,St=N):e_(c)}}function e_(c){for(;St!==null;){var p=St;if(p.flags&8772){var _=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Ic||Dc(5,p);break;case 1:var w=p.stateNode;if(p.flags&4&&!Ic)if(_===null)w.componentDidMount();else{var T=p.elementType===p.type?_.memoizedProps:gs(p.type,_.memoizedProps);w.componentDidUpdate(T,_.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&xx(p,N,w);break;case 3:var W=p.updateQueue;if(W!==null){if(_=null,p.child!==null)switch(p.child.tag){case 5:_=X(p.child.stateNode);break;case 1:_=p.child.stateNode}xx(p,W,_)}break;case 5:var ne=p.stateNode;_===null&&p.flags&4&&Me(ne,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(be&&p.memoizedState===null){var ye=p.alternate;if(ye!==null){var Ne=ye.memoizedState;if(Ne!==null){var Je=Ne.dehydrated;Je!==null&&U(Je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Ic||p.flags&512&&z0(p)}catch(ot){vs(p,p.return,ot)}}if(p===c){St=null;break}if(_=p.sibling,_!==null){_.return=p.return,St=_;break}St=p.return}}function t_(c){for(;St!==null;){var p=St;if(p===c){St=null;break}var _=p.sibling;if(_!==null){_.return=p.return,St=_;break}St=p.return}}function zp(c){for(;St!==null;){var p=St;try{switch(p.tag){case 0:case 11:case 15:var _=p.return;try{Dc(4,p)}catch(ye){vs(p,_,ye)}break;case 1:var w=p.stateNode;if(typeof w.componentDidMount=="function"){var T=p.return;try{w.componentDidMount()}catch(ye){vs(p,T,ye)}}var N=p.return;try{z0(p)}catch(ye){vs(p,N,ye)}break;case 5:var W=p.return;try{z0(p)}catch(ye){vs(p,W,ye)}}}catch(ye){vs(p,p.return,ye)}if(p===c){St=null;break}var ne=p.sibling;if(ne!==null){ne.return=p.return,St=ne;break}St=p.return}}var Oc=0,kc=1,Uc=2,Fc=3,vu=4;if(typeof Symbol=="function"&&Symbol.for){var zc=Symbol.for;Oc=zc("selector.component"),kc=zc("selector.has_pseudo_class"),Uc=zc("selector.role"),Fc=zc("selector.test_id"),vu=zc("selector.text")}function Bp(c){var p=H(c);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(a(364));return p}if(c=z(c),c===null)throw Error(a(362));return c.stateNode.current}function Vp(c,p){switch(p.$$typeof){case Oc:if(c.type===p.value)return!0;break;case kc:e:{p=p.value,c=[c,0];for(var _=0;_<c.length;){var w=c[_++],T=c[_++],N=p[T];if(w.tag!==5||!ge(w)){for(;N!=null&&Vp(w,N);)T++,N=p[T];if(T===p.length){p=!0;break e}else for(w=w.child;w!==null;)c.push(w,T),w=w.sibling}}p=!1}return p;case Uc:if(c.tag===5&&xe(c.stateNode,p.value))return!0;break;case vu:if((c.tag===5||c.tag===6)&&(c=J(c),c!==null&&0<=c.indexOf(p.value)))return!0;break;case Fc:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function W0(c){switch(c.$$typeof){case Oc:return"<"+(L(c.value)||"Unknown")+">";case kc:return":has("+(W0(c)||"")+")";case Uc:return'[role="'+c.value+'"]';case vu:return'"'+c.value+'"';case Fc:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function j0(c,p){var _=[];c=[c,0];for(var w=0;w<c.length;){var T=c[w++],N=c[w++],W=p[N];if(T.tag!==5||!ge(T)){for(;W!=null&&Vp(T,W);)N++,W=p[N];if(N===p.length)_.push(T);else for(T=T.child;T!==null;)c.push(T,N),T=T.sibling}}return _}function n_(c,p){if(!ze)throw Error(a(363));c=Bp(c),c=j0(c,p),p=[],c=Array.from(c);for(var _=0;_<c.length;){var w=c[_++];if(w.tag===5)ge(w)||p.push(w.stateNode);else for(w=w.child;w!==null;)c.push(w),w=w.sibling}return p}var X0=Math.ceil,Md=o.ReactCurrentDispatcher,nr=o.ReactCurrentOwner,kt=o.ReactCurrentBatchConfig,zt=0,sn=null,mn=null,Nn=0,ni=0,Qn=ft(0),rr=0,Wo=null,Sl=0,wd=0,Bc=0,ri=null,ki=null,Hp=0,yu=1/0;function bl(){yu=Nr()+500}var Ed=!1,jo=null,Ka=null,Qa=!1,Ja=null,xu=0,Vc=0,Td=null,Hc=-1,ii=0;function dr(){return zt&6?Nr():Hc!==-1?Hc:Hc=Nr()}function Wr(c){return c.mode&1?zt&2&&Nn!==0?Nn&-Nn:p0.transition!==null?(ii===0&&(c=yc,yc<<=1,!(yc&4194240)&&(yc=64),ii=c),ii):(c=_n,c!==0?c:Te()):1}function ts(c,p,_){if(50<Vc)throw Vc=0,Td=null,Error(a(185));var w=vi(c,p);return w===null?null:(pp(w,p,_),(!(zt&2)||w!==sn)&&(w===sn&&(!(zt&2)&&(wd|=p),rr===4&&Ml(w,Nn)),ns(w,_),p===1&&zt===0&&!(c.mode&1)&&(bl(),hd&&ko())),w)}function vi(c,p){c.lanes|=p;var _=c.alternate;for(_!==null&&(_.lanes|=p),_=c,c=c.return;c!==null;)c.childLanes|=p,_=c.alternate,_!==null&&(_.childLanes|=p),_=c,c=c.return;return _.tag===3?_.stateNode:null}function ns(c,p){var _=c.callbackNode;px(c,p);var w=u0(c,c===sn?Nn:0);if(w===0)_!==null&&Zw(_),c.callbackNode=null,c.callbackPriority=0;else if(p=w&-w,c.callbackPriority!==p){if(_!=null&&Zw(_),p===1)c.tag===0?Oo(i_.bind(null,c)):Kw(i_.bind(null,c)),Le?it(function(){zt===0&&ko()}):h0(gx,ko),_=null;else{switch(c0(w)){case 1:_=gx;break;case 4:_=vx;break;case 16:_=yx;break;case 536870912:_=d0;break;default:_=yx}_=uE(_,$0.bind(null,c))}c.callbackPriority=p,c.callbackNode=_}}function $0(c,p){if(Hc=-1,ii=0,zt&6)throw Error(a(327));var _=c.callbackNode;if(Mu()&&c.callbackNode!==_)return null;var w=u0(c,c===sn?Nn:0);if(w===0)return null;if(w&30||w&c.expiredLanes||p)p=Z0(c,w);else{p=w;var T=zt;zt|=2;var N=q0();(sn!==c||Nn!==p)&&(bl(),Su(c,p));do try{sE();break}catch(ne){s_(c,ne)}while(!0);g0(),Md.current=N,zt=T,mn!==null?p=0:(sn=null,Nn=0,p=rr)}if(p!==0){if(p===2&&(T=fp(c),T!==0&&(w=T,p=Gp(c,T))),p===1)throw _=Wo,Su(c,0),Ml(c,w),ns(c,Nr()),_;if(p===6)Ml(c,w);else{if(T=c.current.alternate,!(w&30)&&!_u(T)&&(p=Z0(c,w),p===2&&(N=fp(c),N!==0&&(w=N,p=Gp(c,N))),p===1))throw _=Wo,Su(c,0),Ml(c,w),ns(c,Nr()),_;switch(c.finishedWork=T,c.finishedLanes=w,p){case 0:case 1:throw Error(a(345));case 2:Gc(c,ki);break;case 3:if(Ml(c,w),(w&130023424)===w&&(p=Hp+500-Nr(),10<p)){if(u0(c,0)!==0)break;if(T=c.suspendedLanes,(T&w)!==w){dr(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=he(Gc.bind(null,c,ki),p);break}Gc(c,ki);break;case 4:if(Ml(c,w),(w&4194240)===w)break;for(p=c.eventTimes,T=-1;0<w;){var W=31-rn(w);N=1<<W,W=p[W],W>T&&(T=W),w&=~N}if(w=T,w=Nr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*X0(w/1960))-w,10<w){c.timeoutHandle=he(Gc.bind(null,c,ki),w);break}Gc(c,ki);break;case 5:Gc(c,ki);break;default:throw Error(a(329))}}}return ns(c,Nr()),c.callbackNode===_?$0.bind(null,c):null}function Gp(c,p){var _=ri;return c.current.memoizedState.isDehydrated&&(Su(c,p).flags|=256),c=Z0(c,p),c!==2&&(p=ki,ki=_,p!==null&&r_(p)),c}function r_(c){ki===null?ki=c:ki.push.apply(ki,c)}function _u(c){for(var p=c;;){if(p.flags&16384){var _=p.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var w=0;w<_.length;w++){var T=_[w],N=T.getSnapshot;T=T.value;try{if(!Qr(N(),T))return!1}catch{return!1}}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ml(c,p){for(p&=~Bc,p&=~wd,c.suspendedLanes|=p,c.pingedLanes&=~p,c=c.expirationTimes;0<p;){var _=31-rn(p),w=1<<_;c[_]=-1,p&=~w}}function i_(c){if(zt&6)throw Error(a(327));Mu();var p=u0(c,0);if(!(p&1))return ns(c,Nr()),null;var _=Z0(c,p);if(c.tag!==0&&_===2){var w=fp(c);w!==0&&(p=w,_=Gp(c,w))}if(_===1)throw _=Wo,Su(c,0),Ml(c,p),ns(c,Nr()),_;if(_===6)throw Error(a(345));return c.finishedWork=c.current.alternate,c.finishedLanes=p,Gc(c,ki),ns(c,Nr()),null}function Y0(c){Ja!==null&&Ja.tag===0&&!(zt&6)&&Mu();var p=zt;zt|=1;var _=kt.transition,w=_n;try{if(kt.transition=null,_n=1,c)return c()}finally{_n=w,kt.transition=_,zt=p,!(zt&6)&&ko()}}function wl(){ni=Qn.current,rt(Qn)}function Su(c,p){c.finishedWork=null,c.finishedLanes=0;var _=c.timeoutHandle;if(_!==ke&&(c.timeoutHandle=ke,Ve(_)),mn!==null)for(_=mn.return;_!==null;){var w=_;switch(Ki(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&xn();break;case 3:Ec(),rt(un),rt(Ge),gd();break;case 5:Zn(w);break;case 4:Ec();break;case 13:rt(Xn);break;case 19:rt(Xn);break;case 10:gp(w.type._context);break;case 22:case 23:wl()}_=_.return}if(sn=c,mn=c=eo(c.current,null),Nn=ni=p,rr=0,Wo=null,Bc=wd=Sl=0,ki=ri=null,pi!==null){for(p=0;p<pi.length;p++)if(_=pi[p],w=_.interleaved,w!==null){_.interleaved=null;var T=w.next,N=_.pending;if(N!==null){var W=N.next;N.next=T,w.next=W}_.pending=w}pi=null}return c}function s_(c,p){do{var _=mn;try{if(g0(),es.current=C0,mu){for(var w=fn.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}mu=!1}if(kn=0,Sr=Sn=fn=null,yl=!1,Ep=0,nr.current=null,_===null||_.return===null){rr=1,Wo=p,mn=null;break}e:{var N=c,W=_.return,ne=_,ye=p;if(p=Nn,ne.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ne=ye,Je=ne,ot=Je.tag;if(!(Je.mode&1)&&(ot===0||ot===11||ot===15)){var _t=Je.alternate;_t?(Je.updateQueue=_t.updateQueue,Je.memoizedState=_t.memoizedState,Je.lanes=_t.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var mt=Vx(W);if(mt!==null){mt.flags&=-257,Ya(mt,W,ne,N,p),mt.mode&1&&Bx(N,Ne,p),p=mt,ye=Ne;var At=p.updateQueue;if(At===null){var Fn=new Set;Fn.add(ye),p.updateQueue=Fn}else At.add(ye);break e}else{if(!(p&1)){Bx(N,Ne,p),Ad();break e}ye=Error(a(426))}}else if(Dn&&ne.mode&1){var Re=Vx(W);if(Re!==null){!(Re.flags&65536)&&(Re.flags|=256),Ya(Re,W,ne,N,p),bc(ye);break e}}N=ye,rr!==4&&(rr=2),ri===null?ri=[N]:ri.push(N),ye=Lp(ye,ne),ne=W;do{switch(ne.tag){case 3:ne.flags|=65536,p&=-p,ne.lanes|=p;var ee=Fx(ne,ye,p);yp(ne,ee);break e;case 1:N=ye;var re=ne.type,Se=ne.stateNode;if(!(ne.flags&128)&&(typeof re.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Ka===null||!Ka.has(Se)))){ne.flags|=65536,p&=-p,ne.lanes|=p;var Ye=zx(ne,N,p);yp(ne,Ye);break e}}ne=ne.return}while(ne!==null)}bu(_)}catch(st){p=st,mn===_&&_!==null&&(mn=_=_.return);continue}break}while(!0)}function q0(){var c=Md.current;return Md.current=C0,c===null?C0:c}function Ad(){(rr===0||rr===3||rr===2)&&(rr=4),sn===null||!(Sl&268435455)&&!(wd&268435455)||Ml(sn,Nn)}function Z0(c,p){var _=zt;zt|=2;var w=q0();sn===c&&Nn===p||Su(c,p);do try{QL();break}catch(T){s_(c,T)}while(!0);if(g0(),zt=_,Md.current=w,mn!==null)throw Error(a(261));return sn=null,Nn=0,rr}function QL(){for(;mn!==null;)a_(mn)}function sE(){for(;mn!==null&&!WL();)a_(mn)}function a_(c){var p=o_(c.alternate,c,ni);c.memoizedProps=c.pendingProps,p===null?bu(c):mn=p,nr.current=null}function bu(c){var p=c;do{var _=p.alternate;if(c=p.return,p.flags&32768){if(_=U0(_,p),_!==null){_.flags&=32767,mn=_;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{rr=6,mn=null;return}}else if(_=qL(_,p,ni),_!==null){mn=_;return}if(p=p.sibling,p!==null){mn=p;return}mn=p=c}while(p!==null);rr===0&&(rr=5)}function Gc(c,p){var _=_n,w=kt.transition;try{kt.transition=null,_n=1,Wc(c,p,_)}finally{kt.transition=w,_n=_}return null}function Wc(c,p,_){do Mu();while(Ja!==null);if(zt&6)throw Error(a(327));var w=c.finishedWork,T=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0;var N=w.lanes|w.childLanes;if(mx(c,N),c===sn&&(mn=sn=null,Nn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||Qa||(Qa=!0,uE(yx,function(){return Mu(),null})),N=(w.flags&15990)!==0,w.subtreeFlags&15990||N){N=kt.transition,kt.transition=null;var W=_n;_n=1;var ne=zt;zt|=4,nr.current=null,Nc(c,w),KL(c,w),B(c.containerInfo),c.current=w,iE(w),Kr(),zt=ne,_n=W,kt.transition=N}else c.current=w;if(Qa&&(Qa=!1,Ja=c,xu=T),N=c.pendingLanes,N===0&&(Ka=null),jL(w.stateNode),ns(c,Nr()),p!==null)for(_=c.onRecoverableError,w=0;w<p.length;w++)_(p[w]);if(Ed)throw Ed=!1,c=jo,jo=null,c;return xu&1&&c.tag!==0&&Mu(),N=c.pendingLanes,N&1?c===Td?Vc++:(Vc=0,Td=c):Vc=0,ko(),null}function Mu(){if(Ja!==null){var c=c0(xu),p=kt.transition,_=_n;try{if(kt.transition=null,_n=16>c?16:c,Ja===null)var w=!1;else{if(c=Ja,Ja=null,xu=0,zt&6)throw Error(a(331));var T=zt;for(zt|=4,St=c.current;St!==null;){var N=St,W=N.child;if(St.flags&16){var ne=N.deletions;if(ne!==null){for(var ye=0;ye<ne.length;ye++){var Ne=ne[ye];for(St=Ne;St!==null;){var Je=St;switch(Je.tag){case 0:case 11:case 15:Za(8,Je,N)}var ot=Je.child;if(ot!==null)ot.return=Je,St=ot;else for(;St!==null;){Je=St;var _t=Je.sibling,mt=Je.return;if(Zx(Je),Je===Ne){St=null;break}if(_t!==null){_t.return=mt,St=_t;break}St=mt}}}var At=N.alternate;if(At!==null){var Fn=At.child;if(Fn!==null){At.child=null;do{var Re=Fn.sibling;Fn.sibling=null,Fn=Re}while(Fn!==null)}}St=N}}if(N.subtreeFlags&2064&&W!==null)W.return=N,St=W;else e:for(;St!==null;){if(N=St,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Za(9,N,N.return)}var ee=N.sibling;if(ee!==null){ee.return=N.return,St=ee;break e}St=N.return}}var re=c.current;for(St=re;St!==null;){W=St;var Se=W.child;if(W.subtreeFlags&2064&&Se!==null)Se.return=W,St=Se;else e:for(W=re;St!==null;){if(ne=St,ne.flags&2048)try{switch(ne.tag){case 0:case 11:case 15:Dc(9,ne)}}catch(st){vs(ne,ne.return,st)}if(ne===W){St=null;break e}var Ye=ne.sibling;if(Ye!==null){Ye.return=ne.return,St=Ye;break e}St=ne.return}}if(zt=T,ko(),No&&typeof No.onPostCommitFiberRoot=="function")try{No.onPostCommitFiberRoot(Gs,c)}catch{}w=!0}return w}finally{_n=_,kt.transition=p}}return!1}function rs(c,p,_){p=Lp(_,p),p=Fx(c,p,1),ja(c,p),p=dr(),c=vi(c,1),c!==null&&(pp(c,1,p),ns(c,p))}function vs(c,p,_){if(c.tag===3)rs(c,c,_);else for(;p!==null;){if(p.tag===3){rs(p,c,_);break}else if(p.tag===1){var w=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Ka===null||!Ka.has(w))){c=Lp(_,c),c=zx(p,c,1),ja(p,c),c=dr(),p=vi(p,1),p!==null&&(pp(p,1,c),ns(p,c));break}}p=p.return}}function aE(c,p,_){var w=c.pingCache;w!==null&&w.delete(p),p=dr(),c.pingedLanes|=c.suspendedLanes&_,sn===c&&(Nn&_)===_&&(rr===4||rr===3&&(Nn&130023424)===Nn&&500>Nr()-Hp?Su(c,0):Bc|=_),ns(c,p)}function oE(c,p){p===0&&(c.mode&1?(p=au,au<<=1,!(au&130023424)&&(au=4194304)):p=1);var _=dr();c=vi(c,p),c!==null&&(pp(c,p,_),ns(c,_))}function JL(c){var p=c.memoizedState,_=0;p!==null&&(_=p.retryLane),oE(c,_)}function lE(c,p){var _=0;switch(c.tag){case 13:var w=c.stateNode,T=c.memoizedState;T!==null&&(_=T.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(a(314))}w!==null&&w.delete(p),oE(c,_)}var o_;o_=function(c,p,_){if(c!==null)if(c.memoizedProps!==p.pendingProps||un.current)Un=!0;else{if(!(c.lanes&_)&&!(p.flags&128))return Un=!1,ZL(c,p,_);Un=!!(c.flags&131072)}else Un=!1,Dn&&p.flags&1048576&&S0(p,Yi,p.index);switch(p.lanes=0,p.tag){case 2:var w=p.type;c!==null&&(c.alternate=null,p.alternate=null,p.flags|=2),c=p.pendingProps;var T=Zt(p,Ge.current);fi(p,_),T=Ap(null,p,w,c,T,_);var N=$a();return p.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,wn(w)?(N=!0,On(p)):N=!1,p.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,y0(p),T.updater=_p,p.stateNode=T,T._reactInternals=p,cu(p,w,c,_),p=I0(null,p,w,!0,N,_)):(p.tag=0,Dn&&N&&Sp(p),Oi(null,p,T,_),p=p.child),p;case 16:w=p.elementType;e:{switch(c!==null&&(c.alternate=null,p.alternate=null,p.flags|=2),c=p.pendingProps,T=w._init,w=T(w._payload),p.type=w,T=p.tag=wu(w),c=gs(w,c),T){case 0:p=R0(null,p,w,c,_);break e;case 1:p=L0(null,p,w,c,_);break e;case 11:p=Hx(null,p,w,c,_);break e;case 14:p=Gx(null,p,w,gs(w.type,c),_);break e}throw Error(a(306,w,""))}return p;case 0:return w=p.type,T=p.pendingProps,T=p.elementType===w?T:gs(w,T),R0(c,p,w,T,_);case 1:return w=p.type,T=p.pendingProps,T=p.elementType===w?T:gs(w,T),L0(c,p,w,T,_);case 3:e:{if(Xx(p),c===null)throw Error(a(387));w=p.pendingProps,N=p.memoizedState,T=N.element,Fo(c,p),xp(p,w,null,_);var W=p.memoizedState;if(w=W.element,be&&N.isDehydrated)if(N={element:w,isDehydrated:!1,cache:W.cache,transitions:W.transitions},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){T=Error(a(423)),p=Np(c,p,w,_,T);break e}else if(w!==T){T=Error(a(424)),p=Np(c,p,w,_,T);break e}else for(be&&(pn=mc(p.stateNode.containerInfo),qn=p,Dn=!0,da=null,Qi=!1),_=pd(p,null,w,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(du(),w===T){p=_l(c,p,_);break e}Oi(c,p,w,_)}p=p.child}return p;case 5:return w0(p),c===null&&M0(p),w=p.type,T=p.pendingProps,N=c!==null?c.memoizedProps:null,W=T.children,ve(w,T)?W=null:N!==null&&ve(w,N)&&(p.flags|=32),P0(c,p),Oi(c,p,W,_),p.child;case 6:return c===null&&M0(p),null;case 13:return N0(c,p,_);case 4:return pu(p,p.stateNode.containerInfo),w=p.pendingProps,c===null?p.child=wc(p,null,w,_):Oi(c,p,w,_),p.child;case 11:return w=p.type,T=p.pendingProps,T=p.elementType===w?T:gs(w,T),Hx(c,p,w,T,_);case 7:return Oi(c,p,p.pendingProps,_),p.child;case 8:return Oi(c,p,p.pendingProps.children,_),p.child;case 12:return Oi(c,p,p.pendingProps.children,_),p.child;case 10:e:{if(w=p.type._context,T=p.pendingProps,N=p.memoizedProps,W=T.value,v0(p,w,W),N!==null)if(Qr(N.value,W)){if(N.children===T.children&&!un.current){p=_l(c,p,_);break e}}else for(N=p.child,N!==null&&(N.return=p);N!==null;){var ne=N.dependencies;if(ne!==null){W=N.child;for(var ye=ne.firstContext;ye!==null;){if(ye.context===w){if(N.tag===1){ye=Pi(-1,_&-_),ye.tag=2;var Ne=N.updateQueue;if(Ne!==null){Ne=Ne.shared;var Je=Ne.pending;Je===null?ye.next=ye:(ye.next=Je.next,Je.next=ye),Ne.pending=ye}}N.lanes|=_,ye=N.alternate,ye!==null&&(ye.lanes|=_),uu(N.return,_,p),ne.lanes|=_;break}ye=ye.next}}else if(N.tag===10)W=N.type===p.type?null:N.child;else if(N.tag===18){if(W=N.return,W===null)throw Error(a(341));W.lanes|=_,ne=W.alternate,ne!==null&&(ne.lanes|=_),uu(W,_,p),W=N.sibling}else W=N.child;if(W!==null)W.return=N;else for(W=N;W!==null;){if(W===p){W=null;break}if(N=W.sibling,N!==null){N.return=W.return,W=N;break}W=W.return}N=W}Oi(c,p,T.children,_),p=p.child}return p;case 9:return T=p.type,w=p.pendingProps.children,fi(p,_),T=_r(T),w=w(T),p.flags|=1,Oi(c,p,w,_),p.child;case 14:return w=p.type,T=gs(w,p.pendingProps),T=gs(w.type,T),Gx(c,p,w,T,_);case 15:return Wx(c,p,p.type,p.pendingProps,_);case 17:return w=p.type,T=p.pendingProps,T=p.elementType===w?T:gs(w,T),c!==null&&(c.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,wn(w)?(c=!0,On(p)):c=!1,fi(p,_),Sx(p,w,T),cu(p,w,T,_),I0(null,p,w,!0,c,_);case 19:return Ho(c,p,_);case 22:return jx(c,p,_)}throw Error(a(156,p.tag))};function uE(c,p){return h0(c,p)}function pa(c,p,_,w){this.tag=c,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(c,p,_,w){return new pa(c,p,_,w)}function l_(c){return c=c.prototype,!(!c||!c.isReactComponent)}function wu(c){if(typeof c=="function")return l_(c)?1:0;if(c!=null){if(c=c.$$typeof,c===S)return 11;if(c===b)return 14}return 2}function eo(c,p){var _=c.alternate;return _===null?(_=ys(c.tag,p,c.key,c.mode),_.elementType=c.elementType,_.type=c.type,_.stateNode=c.stateNode,_.alternate=c,c.alternate=_):(_.pendingProps=p,_.type=c.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=c.flags&14680064,_.childLanes=c.childLanes,_.lanes=c.lanes,_.child=c.child,_.memoizedProps=c.memoizedProps,_.memoizedState=c.memoizedState,_.updateQueue=c.updateQueue,p=c.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=c.sibling,_.index=c.index,_.ref=c.ref,_}function Xo(c,p,_,w,T,N){var W=2;if(w=c,typeof c=="function")l_(c)&&(W=1);else if(typeof c=="string")W=5;else e:switch(c){case h:return $o(_.children,T,N,p);case d:W=8,T|=8;break;case f:return c=ys(12,_,p,T|2),c.elementType=f,c.lanes=N,c;case y:return c=ys(13,_,p,T),c.elementType=y,c.lanes=N,c;case g:return c=ys(19,_,p,T),c.elementType=g,c.lanes=N,c;case E:return Cd(_,T,N,p);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:W=10;break e;case v:W=9;break e;case S:W=11;break e;case b:W=14;break e;case M:W=16,w=null;break e}throw Error(a(130,c==null?c:typeof c,""))}return p=ys(W,_,p,T),p.elementType=c,p.type=w,p.lanes=N,p}function $o(c,p,_,w){return c=ys(7,c,w,p),c.lanes=_,c}function Cd(c,p,_,w){return c=ys(22,c,w,p),c.elementType=E,c.lanes=_,c.stateNode={},c}function Wp(c,p,_){return c=ys(6,c,null,p),c.lanes=_,c}function u_(c,p,_){return p=ys(4,c.children!==null?c.children:[],c.key,p),p.lanes=_,p.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},p}function cE(c,p,_,w,T){this.tag=p,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xc(0),this.expirationTimes=xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xc(0),this.identifierPrefix=w,this.onRecoverableError=T,be&&(this.mutableSourceEagerHydrationData=null)}function c_(c,p,_,w,T,N,W,ne,ye){return c=new cE(c,p,_,ne,ye),p===1?(p=1,N===!0&&(p|=8)):p=0,N=ys(3,null,null,p),c.current=N,N.stateNode=c,N.memoizedState={element:w,isDehydrated:_,cache:null,transitions:null},y0(N),c}function h_(c){if(!c)return yt;c=c._reactInternals;e:{if(R(c)!==c||c.tag!==1)throw Error(a(170));var p=c;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(wn(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(a(171))}if(c.tag===1){var _=c.type;if(wn(_))return Bt(c,_,p)}return p}function d_(c){var p=c._reactInternals;if(p===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=G(p),c===null?null:c.stateNode}function K0(c,p){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var _=c.retryLane;c.retryLane=_!==0&&_<p?_:p}}function f_(c,p){K0(c,p),(c=c.alternate)&&K0(c,p)}function eI(c){return c=G(c),c===null?null:c.stateNode}function x(){return null}return n.attemptContinuousHydration=function(c){if(c.tag===13){var p=dr();ts(c,134217728,p),f_(c,134217728)}},n.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var p=dr(),_=Wr(c);ts(c,_,p),f_(c,_)}},n.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var p=c.stateNode;if(p.current.memoizedState.isDehydrated){var _=ou(p.pendingLanes);_!==0&&(yn(p,_|1),ns(p,Nr()),!(zt&6)&&(bl(),ko()))}break;case 13:var w=dr();Y0(function(){return ts(c,1,w)}),f_(c,1)}},n.batchedUpdates=function(c,p){var _=zt;zt|=1;try{return c(p)}finally{zt=_,zt===0&&(bl(),hd&&ko())}},n.createComponentSelector=function(c){return{$$typeof:Oc,value:c}},n.createContainer=function(c,p,_,w,T,N,W){return c_(c,p,!1,null,_,w,T,N,W)},n.createHasPseudoClassSelector=function(c){return{$$typeof:kc,value:c}},n.createHydrationContainer=function(c,p,_,w,T,N,W,ne,ye){return c=c_(_,w,!0,c,T,N,W,ne,ye),c.context=h_(null),_=c.current,w=dr(),T=Wr(_),N=Pi(w,T),N.callback=p??null,ja(_,N),c.current.lanes=T,pp(c,T,w),ns(c,w),c},n.createPortal=function(c,p,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:c,containerInfo:p,implementation:_}},n.createRoleSelector=function(c){return{$$typeof:Uc,value:c}},n.createTestNameSelector=function(c){return{$$typeof:Fc,value:c}},n.createTextSelector=function(c){return{$$typeof:vu,value:c}},n.deferredUpdates=function(c){var p=_n,_=kt.transition;try{return kt.transition=null,_n=16,c()}finally{_n=p,kt.transition=_}},n.discreteUpdates=function(c,p,_,w,T){var N=_n,W=kt.transition;try{return kt.transition=null,_n=1,c(p,_,w,T)}finally{_n=N,kt.transition=W,zt===0&&bl()}},n.findAllNodes=n_,n.findBoundingRects=function(c,p){if(!ze)throw Error(a(363));p=n_(c,p),c=[];for(var _=0;_<p.length;_++)c.push(k(p[_]));for(p=c.length-1;0<p;p--){_=c[p];for(var w=_.x,T=w+_.width,N=_.y,W=N+_.height,ne=p-1;0<=ne;ne--)if(p!==ne){var ye=c[ne],Ne=ye.x,Je=Ne+ye.width,ot=ye.y,_t=ot+ye.height;if(w>=Ne&&N>=ot&&T<=Je&&W<=_t){c.splice(p,1);break}else if(w!==Ne||_.width!==ye.width||_t<N||ot>W){if(!(N!==ot||_.height!==ye.height||Je<w||Ne>T)){Ne>w&&(ye.width+=Ne-w,ye.x=w),Je<T&&(ye.width=T-Ne),c.splice(p,1);break}}else{ot>N&&(ye.height+=ot-N,ye.y=N),_t<W&&(ye.height=W-ot),c.splice(p,1);break}}}return c},n.findHostInstance=d_,n.findHostInstanceWithNoPortals=function(c){return c=O(c),c=c!==null?q(c):null,c===null?null:c.stateNode},n.findHostInstanceWithWarning=function(c){return d_(c)},n.flushControlled=function(c){var p=zt;zt|=1;var _=kt.transition,w=_n;try{kt.transition=null,_n=1,c()}finally{_n=w,kt.transition=_,zt=p,zt===0&&(bl(),ko())}},n.flushPassiveEffects=Mu,n.flushSync=Y0,n.focusWithin=function(c,p){if(!ze)throw Error(a(363));for(c=Bp(c),p=j0(c,p),p=Array.from(p),c=0;c<p.length;){var _=p[c++];if(!ge(_)){if(_.tag===5&&me(_.stateNode))return!0;for(_=_.child;_!==null;)p.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return _n},n.getFindAllNodesFailureDescription=function(c,p){if(!ze)throw Error(a(363));var _=0,w=[];c=[Bp(c),0];for(var T=0;T<c.length;){var N=c[T++],W=c[T++],ne=p[W];if((N.tag!==5||!ge(N))&&(Vp(N,ne)&&(w.push(W0(ne)),W++,W>_&&(_=W)),W<p.length))for(N=N.child;N!==null;)c.push(N,W),N=N.sibling}if(_<p.length){for(c=[];_<p.length;_++)c.push(W0(p[_]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},n.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return X(c.child.stateNode);default:return c.child.stateNode}},n.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:eI,findFiberByHostInstance:c.findFiberByHostInstance||x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)c=!0;else{try{Gs=p.inject(c),No=p}catch{}c=!!p.checkDCE}}return c},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(c,p,_,w){if(!ze)throw Error(a(363));c=n_(c,p);var T=qe(c,_,w).disconnect;return{disconnect:function(){T()}}},n.registerMutableSourceForHydration=function(c,p){var _=p._getVersion;_=_(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,_]:c.mutableSourceEagerHydrationData.push(p,_)},n.runWithPriority=function(c,p){var _=_n;try{return _n=c,p()}finally{_n=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(c,p,_,w){var T=p.current,N=dr(),W=Wr(T);return _=h_(_),p.context===null?p.context=_:p.pendingContext=_,p=Pi(N,W),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),ja(T,p),c=ts(T,W,N),c!==null&&vp(c,T,W),W},n};Zne.exports=DAe;var OAe=Zne.exports;const kAe=jg(OAe);var Kne={exports:{}},Qne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var B=D.length;D.push(V);e:for(;0<B;){var $=B-1>>>1,te=D[$];if(0<i(te,V))D[$]=V,D[B]=te,B=$;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],B=D.pop();if(B!==V){D[0]=B;e:for(var $=0,te=D.length,Ae=te>>>1;$<Ae;){var F=2*($+1)-1,ve=D[F],ie=F+1,he=D[ie];if(0>i(ve,B))ie<te&&0>i(he,ve)?(D[$]=he,D[ie]=B,$=ie):(D[$]=ve,D[F]=B,$=F);else if(ie<te&&0>i(he,B))D[$]=he,D[ie]=B,$=ie;else break e}}return V}function i(D,V){var B=D.sortIndex-V.sortIndex;return B!==0?B:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,m=!1,v=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(D){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=D)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function E(D){if(S=!1,M(D),!v)if(n(l)!==null)v=!0,X(P);else{var V=n(u);V!==null&&se(E,V.startTime-D)}}function P(D,V){v=!1,S&&(S=!1,g(I),I=-1),m=!0;var B=f;try{for(M(V),d=n(l);d!==null&&(!(d.expirationTime>V)||D&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var te=$(d.expirationTime<=V);V=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),M(V)}else r(l);d=n(l)}if(d!==null)var Ae=!0;else{var F=n(u);F!==null&&se(E,F.startTime-V),Ae=!1}return Ae}finally{d=null,f=B,m=!1}}var A=!1,L=null,I=-1,R=5,C=-1;function O(){return!(t.unstable_now()-C<R)}function G(){if(L!==null){var D=t.unstable_now();C=D;var V=!0;try{V=L(!0,D)}finally{V?j():(A=!1,L=null)}}else A=!1}var j;if(typeof b=="function")j=function(){b(G)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=G,j=function(){Q.postMessage(null)}}else j=function(){y(G,0)};function X(D){L=D,A||(A=!0,j())}function se(D,V){I=y(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,X(P))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var B=f;f=V;try{return D()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=f;f=D;try{return V()}finally{f=B}},t.unstable_scheduleCallback=function(D,V,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,D={id:h++,callback:V,priorityLevel:D,startTime:B,expirationTime:te,sortIndex:-1},B>$?(D.sortIndex=B,e(u,D),n(l)===null&&D===n(u)&&(S?(g(I),I=-1):S=!0,se(E,B-$))):(D.sortIndex=te,e(l,D),v||m||(v=!0,X(P))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var V=f;return function(){var B=f;f=V;try{return D.apply(this,arguments)}finally{f=B}}}})(Qne);Kne.exports=Qne;var KG=Kne.exports;const vz={},UAe=t=>void Object.assign(vz,t);function FAe(t,e){function n(h,{args:d=[],attach:f,...m},v){let S=`${h[0].toUpperCase()}${h.slice(1)}`,y;if(h==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=Wv(g,{type:h,root:v,attach:f,primitive:!0})}else{const g=vz[S];if(!g)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");y=Wv(new g(...d),{type:h,root:v,attach:f,memoizedProps:{args:d}})}return y.__r3f.attach===void 0&&(y instanceof tn?y.__r3f.attach="geometry":y instanceof ps&&(y.__r3f.attach="material")),S!=="inject"&&G4(y,m),y}function r(h,d){let f=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?H4(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),f=!0),f||(v=h.__r3f)==null||v.objects.push(d),d.__r3f||Wv(d,{}),d.__r3f.parent=h,UO(d),jv(d)}}function i(h,d,f){let m=!1;if(d){var v,S;if((v=d.__r3f)!=null&&v.attach)H4(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"}),h.dispatchEvent({type:"childadded",child:d});const y=h.children.filter(b=>b!==d),g=y.indexOf(f);h.children=[...y.slice(0,g),d,...y.slice(g)],m=!0}m||(S=h.__r3f)==null||S.objects.push(d),d.__r3f||Wv(d,{}),d.__r3f.parent=h,UO(d),jv(d)}}function s(h,d,f=!1){h&&[...h].forEach(m=>a(d,m,f))}function a(h,d,f){if(d){var m,v,S;if(d.__r3f&&(d.__r3f.parent=null),(m=h.__r3f)!=null&&m.objects&&(h.__r3f.objects=h.__r3f.objects.filter(E=>E!==d)),(v=d.__r3f)!=null&&v.attach)nW(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var y;h.remove(d),(y=d.__r3f)!=null&&y.root&&XAe(lA(d),d)}const b=(S=d.__r3f)==null?void 0:S.primitive,M=!b&&(f===void 0?d.dispose!==null:f);if(!b){var g;s((g=d.__r3f)==null?void 0:g.objects,d,M),s(d.children,d,M)}if(delete d.__r3f,M&&d.dispose&&d.type!=="Scene"){const E=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?KG.unstable_scheduleCallback(KG.unstable_IdlePriority,E):E()}jv(h)}}function o(h,d,f,m){var v;const S=(v=h.__r3f)==null?void 0:v.parent;if(!S)return;const y=n(d,f,h.__r3f.root);if(h.children){for(const g of h.children)g.__r3f&&r(y,g);h.children=h.children.filter(g=>!g.__r3f)}h.__r3f.objects.forEach(g=>r(y,g)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||a(S,h),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(S,y),y.raycast&&y.__r3f.eventCount&&lA(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>{};return{reconciler:kAe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const f=h.getState().scene;f.__r3f&&(f.__r3f.root=h,r(f,d))},removeChildFromContainer:(h,d)=>{d&&a(h.getState().scene,d)},insertInContainerBefore:(h,d,f)=>{if(!d||!f)return;const m=h.getState().scene;m.__r3f&&i(m,d,f)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;return!!((d=h==null?void 0:h.__r3f)!=null?d:{}).handlers},prepareUpdate(h,d,f,m){var v;if(((v=h==null?void 0:h.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==h)return[!0];{const{args:y=[],children:g,...b}=m,{args:M=[],children:E,...P}=f;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((L,I)=>L!==M[I]))return[!0];const A=sre(h,b,P,!0);return A.changes.length?[!1,A]:null}},commitUpdate(h,[d,f],m,v,S,y){d?o(h,m,S,y):G4(h,f)},commitMount(h,d,f,m){var v;const S=(v=h.__r3f)!=null?v:{};h.raycast&&S.handlers&&S.eventCount&&lA(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>Wv(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:f,parent:m}=(d=h.__r3f)!=null?d:{};f&&m&&nW(m,h,f),h.isObject3D&&(h.visible=!1),jv(h)},unhideInstance(h,d){var f;const{attach:m,parent:v}=(f=h.__r3f)!=null?f:{};m&&v&&H4(v,h,m),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),jv(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():xy.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ar.fun(performance.now)?performance.now:ar.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ar.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ar.fun(clearTimeout)?clearTimeout:void 0}),applyProps:G4}}var QG,JG;const V4=t=>"colorSpace"in t||"outputColorSpace"in t,Jne=()=>{var t;return(t=vz.ColorManagement)!=null?t:null},ere=t=>t&&t.isOrthographicCamera,zAe=t=>t&&t.hasOwnProperty("current"),ww=typeof window<"u"&&((QG=window.document)!=null&&QG.createElement||((JG=window.navigator)==null?void 0:JG.product)==="ReactNative")?de.useLayoutEffect:de.useEffect;function tre(t){const e=de.useRef(t);return ww(()=>void(e.current=t),[t]),e}function BAe({set:t}){return ww(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class nre extends de.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}nre.getDerivedStateFromError=()=>({error:!0});const rre="__default",eW=new Map,VAe=t=>t&&!!t.memoized&&!!t.changes;function ire(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const U_=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function lA(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ar={obj:t=>t===Object(t)&&!ar.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(ar.str(t)||ar.num(t)||ar.boo(t))return t===e;const s=ar.obj(t);if(s&&r==="reference")return t===e;const a=ar.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!ar.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(ar.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function HAe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Wv(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function kO(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const tW=/-\d+$/;function H4(t,e,n){if(ar.str(n)){if(tW.test(n)){const s=n.replace(tW,""),{target:a,key:o}=kO(t,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=kO(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function nW(t,e,n){var r,i;if(ar.str(n)){const{target:s,key:a}=kO(t,n),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function sre(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:o,...l}={},u=!1){const h=t.__r3f,d=Object.entries(i),f=[];if(u){const v=Object.keys(l);for(let S=0;S<v.length;S++)i.hasOwnProperty(v[S])||d.unshift([v[S],rre+"remove"])}d.forEach(([v,S])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&v==="object"||ar.equ(S,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return f.push([v,S,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),f.push([v,S,!1,g]);for(const b in i){const M=i[b];b.startsWith(`${v}-`)&&f.push([b,M,!1,b.split("-")])}});const m={...i};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:f}}const GAe=typeof process<"u"&&!1;function G4(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=VAe(e)?e:sre(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let h=0;h<o.length;h++){let[d,f,m,v]=o[h];if(V4(t)){const b="srgb",M="srgb-linear";d==="encoding"?(d="colorSpace",f=f===3001?b:M):d==="outputEncoding"&&(d="outputColorSpace",f=f===3001?b:M)}let S=t,y=S[d];if(v.length&&(y=v.reduce((g,b)=>g[b],t),!(y&&y.set))){const[g,...b]=v.reverse();S=b.reverse().reduce((M,E)=>M[E],t),d=g}if(f===rre+"remove")if(S.constructor){let g=eW.get(S.constructor);g||(g=new S.constructor,eW.set(S.constructor,g)),f=g[d]}else f=0;if(m&&r)f?r.handlers[d]=f:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof og)){if(Array.isArray(f))y.fromArray?y.fromArray(f):y.set(...f);else if(y.copy&&f&&f.constructor&&(GAe?y.constructor.name===f.constructor.name:y.constructor===f.constructor))y.copy(f);else if(f!==void 0){const g=y instanceof Pt;!g&&y.setScalar?y.setScalar(f):y instanceof og&&f instanceof og?y.mask=f.mask:y.set(f),!Jne()&&s&&!s.linear&&g&&y.convertSRGBToLinear()}}else if(S[d]=f,S[d]instanceof Ar&&S[d].format===Ns&&S[d].type===Zl&&s){const g=S[d];V4(g)&&V4(s.gl)?g.colorSpace=s.gl.outputColorSpace:g.encoding=s.gl.outputEncoding}jv(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const h=lA(t).getState().internal,d=h.interaction.indexOf(t);d>-1&&h.interaction.splice(d,1),r.eventCount&&h.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&UO(t),t}function jv(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function UO(t){t.onUpdate==null||t.onUpdate(t)}function WAe(t,e){t.manual||(ere(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function E2(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function jAe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return xy.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return xy.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return xy.ContinuousEventPriority;default:return xy.DefaultEventPriority}}function are(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function XAe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{are(n.capturedMap,e,r,i)})}function $Ae(t){function e(l){const{internal:u}=t.getState(),h=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function r(l,u){const h=t.getState(),d=new Set,f=[],m=u?u(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const b=U_(m[g]);b&&(b.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const b=U_(g);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var M;b.events.compute==null||b.events.compute(l,b,(M=b.previousRoot)==null?void 0:M.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(g,!0):[]}let S=m.flatMap(v).sort((g,b)=>{const M=U_(g.object),E=U_(b.object);return!M||!E?g.distance-b.distance:E.events.priority-M.events.priority||g.distance-b.distance}).filter(g=>{const b=E2(g);return d.has(b)?!1:(d.add(b),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const g of S){let b=g.object;for(;b;){var y;(y=b.__r3f)!=null&&y.eventCount&&f.push({...g,eventObject:b}),b=b.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())d.has(E2(g.intersection))||f.push(g.intersection);return f}function i(l,u,h,d){const f=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const S=U_(v.object)||f,{raycaster:y,pointer:g,camera:b,internal:M}=S,E=new le(g.x,g.y,0).unproject(b),P=C=>{var O,G;return(O=(G=M.capturedMap.get(C))==null?void 0:G.has(v.eventObject))!=null?O:!1},A=C=>{const O={intersection:v,target:u.target};M.capturedMap.has(C)?M.capturedMap.get(C).set(v.eventObject,O):M.capturedMap.set(C,new Map([[v.eventObject,O]])),u.target.setPointerCapture(C)},L=C=>{const O=M.capturedMap.get(C);O&&are(M.capturedMap,v.eventObject,O,C)};let I={};for(let C in u){let O=u[C];typeof O!="function"&&(I[C]=O)}let R={...v,...I,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:E,ray:y.ray,camera:b,stopPropagation(){const C="pointerId"in u&&M.capturedMap.get(u.pointerId);if((!C||C.has(v.eventObject))&&(R.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:P,setPointerCapture:A,releasePointerCapture:L},currentTarget:{hasPointerCapture:P,setPointerCapture:A,releasePointerCapture:L},nativeEvent:u};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const h of u.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const f=h.eventObject.__r3f,m=f==null?void 0:f.handlers;if(u.hovered.delete(E2(h)),f!=null&&f.eventCount){const v={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function a(l,u){for(let h=0;h<u.length;h++){const d=u[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=t.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=h;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(h,m?n:void 0),g=v?e(h):0;l==="onPointerDown"&&(f.initialClick=[h.offsetX,h.offsetY],f.initialHits=y.map(M=>M.eventObject)),v&&!y.length&&g<=2&&(a(h,f.interaction),d&&d(h)),m&&s(y);function b(M){const E=M.eventObject,P=E.__r3f,A=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(m){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const L=E2(M),I=f.hovered.get(L);I?I.stopped&&M.stopPropagation():(f.hovered.set(L,M),A.onPointerOver==null||A.onPointerOver(M),A.onPointerEnter==null||A.onPointerEnter(M))}A.onPointerMove==null||A.onPointerMove(M)}else{const L=A[l];L?(!v||f.initialHits.includes(E))&&(a(h,f.interaction.filter(I=>!f.initialHits.includes(I))),L(M)):v&&f.initialHits.includes(E)&&a(h,f.interaction.filter(I=>!f.initialHits.includes(I)))}}i(y,h,g,b)}}return{handlePointer:o}}const ore=t=>!!(t!=null&&t.render),lre=de.createContext(null),YAe=(t,e)=>{const n=LAe((o,l)=>{const u=new le,h=new le,d=new le;function f(g=l().camera,b=h,M=l().size){const{width:E,height:P,top:A,left:L}=M,I=E/P;b instanceof le?d.copy(b):d.set(...b);const R=g.getWorldPosition(u).distanceTo(d);if(ere(g))return{width:E/g.zoom,height:P/g.zoom,top:A,left:L,factor:1,distance:R,aspect:I};{const C=g.fov*Math.PI/180,O=2*Math.tan(C/2)*R,G=O*(E/P);return{width:G,height:O,top:A,left:L,factor:E/G,distance:R,aspect:I}}}let m;const v=g=>o(b=>({performance:{...b.performance,current:g}})),S=new et;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,b)=>e(g,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new dz,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:g=>o(b=>({...b,events:{...b.events,...g}})),setSize:(g,b,M,E,P)=>{const A=l().camera,L={width:g,height:b,top:E||0,left:P||0,updateStyle:M};o(I=>({size:L,viewport:{...I.viewport,...f(A,h,L)}}))},setDpr:g=>o(b=>{const M=ire(g);return{viewport:{...b.viewport,dpr:M,initialDpr:b.viewport.initialDpr||M}}}),setFrameloop:(g="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,g!=="never"&&(b.start(),b.elapsedTime=0),o(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:de.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,b,M)=>{const E=l().internal;return E.priority=E.priority+(b>0?1:0),E.subscribers.push({ref:g,priority:b,store:M}),E.subscribers=E.subscribers.sort((P,A)=>P.priority-A.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(b>0?1:0),P.subscribers=P.subscribers.filter(A=>A.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:h,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var f;i=l,s=u.dpr,WAe(o,l),h.setPixelRatio(u.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}o!==a&&(a=o,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let T2,qAe=new Set,ZAe=new Set,KAe=new Set;function W4(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function F_(t,e){switch(t){case"before":return W4(qAe,e);case"after":return W4(ZAe,e);case"tail":return W4(KAe,e)}}let j4,X4;function $4(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),j4=e.internal.subscribers,T2=0;T2<j4.length;T2++)X4=j4[T2],X4.ref.current(X4.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function QAe(t){let e=!1,n=!1,r,i,s;function a(u){i=requestAnimationFrame(a),e=!0,r=0,F_("before",u),n=!0;for(const d of t.values()){var h;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(r+=$4(u,s))}if(n=!1,F_("after",u),r===0)return F_("tail",u),e=!1,cancelAnimationFrame(i)}function o(u,h=1){var d;if(!u)return t.forEach(f=>o(f.store.getState(),h));(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(h>1?u.internal.frames=Math.min(60,u.internal.frames+h):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(u,h=!0,d,f){if(h&&F_("before",u),d)$4(u,d,f);else for(const m of t.values())$4(u,m.store.getState());h&&F_("after",u)}return{loop:a,invalidate:o,advance:l}}function JAe(){const t=de.useContext(lre);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function e3e(t,e=0){const n=JAe(),r=n.getState().internal.subscribe,i=tre(t);return ww(()=>r(i,e,n),[e,r,n]),null}const E1=new Map,{invalidate:rW,advance:iW}=QAe(E1),{reconciler:eC,applyProps:xv}=FAe(E1,jAe),_v={objects:"shallow",strict:!1},t3e=(t,e)=>{const n=typeof t=="function"?t(e):t;return ore(n)?n:new Jte({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function n3e(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function r3e(t){const e=E1.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||YAe(rW,iW),a=n||eC.createContainer(s,xy.ConcurrentRoot,null,!1,null,"",i,null);e||E1.set(t,{fiber:a,store:s});let o,l=!1,u;return{configure(h={}){let{gl:d,size:f,scene:m,events:v,onCreated:S,shadows:y=!1,linear:g=!1,flat:b=!1,legacy:M=!1,orthographic:E=!1,frameloop:P="always",dpr:A=[1,2],performance:L,raycaster:I,camera:R,onPointerMissed:C}=h,O=s.getState(),G=O.gl;O.gl||O.set({gl:G=t3e(d,t)});let j=O.raycaster;j||O.set({raycaster:j=new Xne});const{params:q,...Q}=I||{};if(ar.equ(Q,j,_v)||xv(j,{...Q}),ar.equ(q,j.params,_v)||xv(j,{params:{...j.params,...q}}),!O.camera||O.camera===u&&!ar.equ(u,R,_v)){u=R;const B=R instanceof mw,$=B?R:E?new yw(0,0,0,0,.1,1e3):new Vi(75,0,.1,1e3);B||($.position.z=5,R&&(xv($,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&($.manual=!0,$.updateProjectionMatrix())),!O.camera&&!(R!=null&&R.rotation)&&$.lookAt(0,0,0)),O.set({camera:$}),j.camera=$}if(!O.scene){let B;m instanceof Z3?B=m:(B=new Z3,m&&xv(B,m)),O.set({scene:Wv(B)})}if(!O.xr){var X;const B=(Ae,F)=>{const ve=s.getState();ve.frameloop!=="never"&&iW(Ae,!0,ve,F)},$=()=>{const Ae=s.getState();Ae.gl.xr.enabled=Ae.gl.xr.isPresenting,Ae.gl.xr.setAnimationLoop(Ae.gl.xr.isPresenting?B:null),Ae.gl.xr.isPresenting||rW(Ae)},te={connect(){const Ae=s.getState().gl;Ae.xr.addEventListener("sessionstart",$),Ae.xr.addEventListener("sessionend",$)},disconnect(){const Ae=s.getState().gl;Ae.xr.removeEventListener("sessionstart",$),Ae.xr.removeEventListener("sessionend",$)}};typeof((X=G.xr)==null?void 0:X.addEventListener)=="function"&&te.connect(),O.set({xr:te})}if(G.shadowMap){const B=G.shadowMap.enabled,$=G.shadowMap.type;if(G.shadowMap.enabled=!!y,ar.boo(y))G.shadowMap.type=YS;else if(ar.str(y)){var se;const te={basic:Zee,percentage:iR,soft:YS,variance:Dl};G.shadowMap.type=(se=te[y])!=null?se:YS}else ar.obj(y)&&Object.assign(G.shadowMap,y);(B!==G.shadowMap.enabled||$!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const D=Jne();D&&("enabled"in D?D.enabled=!M:"legacyMode"in D&&(D.legacyMode=M)),l||xv(G,{outputEncoding:g?3e3:3001,toneMapping:b?Zu:P6}),O.legacy!==M&&O.set(()=>({legacy:M})),O.linear!==g&&O.set(()=>({linear:g})),O.flat!==b&&O.set(()=>({flat:b})),d&&!ar.fun(d)&&!ore(d)&&!ar.equ(d,G,_v)&&xv(G,d),v&&!O.events.handlers&&O.set({events:v(s)});const V=n3e(t,f);return ar.equ(V,O.size,_v)||O.setSize(V.width,V.height,V.updateStyle,V.top,V.left),A&&O.viewport.dpr!==ire(A)&&O.setDpr(A),O.frameloop!==P&&O.setFrameloop(P),O.onPointerMissed||O.set({onPointerMissed:C}),L&&!ar.equ(L,O.performance,_v)&&O.set(B=>({performance:{...B.performance,...L}})),o=S,l=!0,this},render(h){return l||this.configure(),eC.updateContainer(Ue.jsx(i3e,{store:s,children:h,onCreated:o,rootElement:t}),a,null,()=>{}),s},unmount(){ure(t)}}}function i3e({store:t,children:e,onCreated:n,rootElement:r}){return ww(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Ue.jsx(lre.Provider,{value:t,children:e})}function ure(t,e){const n=E1.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),eC.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),HAe(i),E1.delete(t)}catch{}},500)})}}eC.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:de.version});const Y4={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function s3e(t){const{handlePointer:e}=$Ae(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Y4).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,u]=Y4[a];n.addEventListener(l,o,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=Y4[s];r.connected.removeEventListener(o,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function FO(t,e,n){var r,i,s,a,o;e==null&&(e=100);function l(){var h=Date.now()-a;h<e&&h>=0?r=setTimeout(l,e-h):(r=null,n||(o=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,a=Date.now();var h=n&&!r;return r||(r=setTimeout(l,e)),h&&(o=t.apply(s,i),s=i=null),o};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(o=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}FO.debounce=FO;var a3e=FO;const sW=jg(a3e);var o3e=Object.defineProperty,l3e=Object.defineProperties,u3e=Object.getOwnPropertyDescriptors,aW=Object.getOwnPropertySymbols,c3e=Object.prototype.hasOwnProperty,h3e=Object.prototype.propertyIsEnumerable,oW=(t,e,n)=>e in t?o3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lW=(t,e)=>{for(var n in e||(e={}))c3e.call(e,n)&&oW(t,n,e[n]);if(aW)for(var n of aW(e))h3e.call(e,n)&&oW(t,n,e[n]);return t},d3e=(t,e)=>l3e(t,u3e(e)),uW,cW;typeof window<"u"&&((uW=window.document)!=null&&uW.createElement||((cW=window.navigator)==null?void 0:cW.product)==="ReactNative")?de.useLayoutEffect:de.useEffect;function cre(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=cre(r,e,n);if(i)return i;r=r.sibling}}function hre(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const hW=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=hW;return}return hW.apply(this,arguments)};const yz=hre(de.createContext(null));class dre extends de.Component{render(){return de.createElement(yz.Provider,{value:this._reactInternals},this.props.children)}}function f3e(){const t=de.useContext(yz);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=de.useId();return de.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=cre(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function p3e(){const t=f3e(),[e]=de.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==yz&&!e.has(i)&&e.set(i,de.useContext(hre(i)))}n=n.return}return e}function m3e(){const t=p3e();return de.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>de.createElement(e,null,de.createElement(n.Provider,d3e(lW({},r),{value:t.get(n)}))),e=>de.createElement(dre,lW({},e))),[t])}function g3e({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||typeof window<"u"&&window.ResizeObserver,[s,a]=de.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const o=de.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,h=de.useRef(!1);de.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[d,f,m]=de.useMemo(()=>{const g=()=>{if(!o.current.element)return;const{left:b,top:M,width:E,height:P,bottom:A,right:L,x:I,y:R}=o.current.element.getBoundingClientRect(),C={left:b,top:M,width:E,height:P,bottom:A,right:L,x:I,y:R};o.current.element instanceof HTMLElement&&r&&(C.height=o.current.element.offsetHeight,C.width=o.current.element.offsetWidth),Object.freeze(C),h.current&&!_3e(o.current.lastBounds,C)&&a(o.current.lastBounds=C)};return[g,u?sW(g,u):g,l?sW(g,l):g]},[a,r,l,u]);function v(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){var g;o.current.element&&(o.current.resizeObserver=new i(f),(g=o.current.resizeObserver)==null||g.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(b=>b.addEventListener("scroll",m,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const y=g=>{!g||g===o.current.element||(v(),o.current.element=g,o.current.scrollContainers=fre(g),S())};return y3e(m,!!e),v3e(f),de.useEffect(()=>{v(),S()},[e,m,f]),de.useEffect(()=>v,[]),[y,s,d]}function v3e(t){de.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function y3e(t,e){de.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function fre(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...fre(t.parentElement)]}const x3e=["x","y","top","bottom","left","right","width","height"],_3e=(t,e)=>x3e.every(n=>t[n]===e[n]),S3e=de.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:a=s3e,eventSource:o,eventPrefix:l,shadows:u,linear:h,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:S,performance:y,raycaster:g,camera:b,scene:M,onPointerMissed:E,onCreated:P,...A},L){de.useMemo(()=>UAe(CAe),[]);const I=m3e(),[R,C]=g3e({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=de.useRef(null),G=de.useRef(null);de.useImperativeHandle(L,()=>O.current);const j=tre(E),[q,Q]=de.useState(!1),[X,se]=de.useState(!1);if(q)throw q;if(X)throw X;const D=de.useRef(null);ww(()=>{const B=O.current;C.width>0&&C.height>0&&B&&(D.current||(D.current=r3e(B)),D.current.configure({gl:s,events:a,shadows:u,linear:h,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:S,performance:y,raycaster:g,camera:b,scene:M,size:C,onPointerMissed:(...$)=>j.current==null?void 0:j.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(o?zAe(o)?o.current:o:G.current),l&&$.setEvents({compute:(te,Ae)=>{const F=te[l+"X"],ve=te[l+"Y"];Ae.pointer.set(F/Ae.size.width*2-1,-(ve/Ae.size.height)*2+1),Ae.raycaster.setFromCamera(Ae.pointer,Ae.camera)}}),P==null||P($)}}),D.current.render(Ue.jsx(I,{children:Ue.jsx(nre,{set:se,children:Ue.jsx(de.Suspense,{fallback:Ue.jsx(BAe,{set:Q}),children:e})})})))}),de.useEffect(()=>{const B=O.current;if(B)return()=>ure(B)},[]);const V=o?"none":"auto";return Ue.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...i},...A,children:Ue.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:Ue.jsx("canvas",{ref:O,style:{display:"block"},children:n})})})}),b3e=de.forwardRef(function(e,n){return Ue.jsx(dre,{children:Ue.jsx(S3e,{...e,ref:n})})}),M3e=()=>parseInt(hw.replace(/\D+/g,"")),w3e=M3e();class E3e extends dl{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${w3e>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const T3e=t=>new le().setFromSpherical(new $ne(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),A3e=de.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:a=1},o)=>{const l=de.useRef(),[u,h,d]=de.useMemo(()=>{const m=[],v=[],S=Array.from({length:n},()=>(.5+.5*Math.random())*i),y=new Pt;let g=t+e;const b=e/n;for(let M=0;M<n;M++)g-=b*Math.random(),m.push(...T3e(g).toArray()),y.setHSL(M/n,r,.9),v.push(y.r,y.g,y.b);return[new Float32Array(m),new Float32Array(v),new Float32Array(S)]},[n,e,i,t,r]);e3e(m=>l.current&&(l.current.uniforms.time.value=m.clock.getElapsedTime()*a));const[f]=de.useState(()=>new E3e);return de.createElement("points",{ref:o},de.createElement("bufferGeometry",null,de.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),de.createElement("bufferAttribute",{attach:"attributes-color",args:[h,3]}),de.createElement("bufferAttribute",{attach:"attributes-size",args:[d,1]})),de.createElement("primitive",{ref:l,object:f,attach:"material",blending:f3,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))}),dW=["#13FFAA","#1E67C6","#CEB4CF","#00335C"];function C3e(){const t=lee(dW[0]),e=rO`radial-gradient(125% 125% at 50% 0%, #020617 50%, ${t})`;return de.useEffect(()=>{Yye(t,dW,{ease:"easeInOut",duration:10,repeat:1/0})},[]),Ue.jsxs(Eh.div,{className:"relative grid min-h-screen place-content-center overflow-hidden bg-gray-950 text-gray-200",style:{backgroundImage:e},children:[Ue.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[Ue.jsx(pme,{}),Ue.jsx(Kye,{color:t}),Ue.jsx(Qye,{}),Ue.jsx(i_e,{}),Ue.jsx(o_e,{}),Ue.jsx(x_e,{})]}),Ue.jsx("div",{className:"absolute inset-0 z-0",children:Ue.jsx(b3e,{children:Ue.jsx(A3e,{radius:50,count:2500,factor:8,fade:!0,speed:2})})})]})}FK(document.getElementById("root")).render(Ue.jsx(de.StrictMode,{children:Ue.jsx(C3e,{})}));(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();var P3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pre={exports:{}},OR={},mre={exports:{}},vn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ew=Symbol.for("react.element"),R3e=Symbol.for("react.portal"),L3e=Symbol.for("react.fragment"),I3e=Symbol.for("react.strict_mode"),N3e=Symbol.for("react.profiler"),D3e=Symbol.for("react.provider"),O3e=Symbol.for("react.context"),k3e=Symbol.for("react.forward_ref"),U3e=Symbol.for("react.suspense"),F3e=Symbol.for("react.memo"),z3e=Symbol.for("react.lazy"),fW=Symbol.iterator;function B3e(t){return t===null||typeof t!="object"?null:(t=fW&&t[fW]||t["@@iterator"],typeof t=="function"?t:null)}var gre={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vre=Object.assign,yre={};function nx(t,e,n){this.props=t,this.context=e,this.refs=yre,this.updater=n||gre}nx.prototype.isReactComponent={};nx.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nx.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xre(){}xre.prototype=nx.prototype;function xz(t,e,n){this.props=t,this.context=e,this.refs=yre,this.updater=n||gre}var _z=xz.prototype=new xre;_z.constructor=xz;vre(_z,nx.prototype);_z.isPureReactComponent=!0;var pW=Array.isArray,_re=Object.prototype.hasOwnProperty,Sz={current:null},Sre={key:!0,ref:!0,__self:!0,__source:!0};function bre(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)_re.call(e,r)&&!Sre.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ew,type:t,key:s,ref:a,props:i,_owner:Sz.current}}function V3e(t,e){return{$$typeof:Ew,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bz(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ew}function H3e(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mW=/\/+/g;function q4(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H3e(""+t.key):e.toString(36)}function uA(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ew:case R3e:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+q4(a,0):r,pW(i)?(n="",t!=null&&(n=t.replace(mW,"$&/")+"/"),uA(i,e,n,"",function(u){return u})):i!=null&&(bz(i)&&(i=V3e(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mW,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",pW(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+q4(s,o);a+=uA(s,e,n,l,i)}else if(l=B3e(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+q4(s,o++),a+=uA(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function A2(t,e,n){if(t==null)return t;var r=[],i=0;return uA(t,r,"","",function(s){return e.call(n,s,i++)}),r}function G3e(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var la={current:null},cA={transition:null},W3e={ReactCurrentDispatcher:la,ReactCurrentBatchConfig:cA,ReactCurrentOwner:Sz};function Mre(){throw Error("act(...) is not supported in production builds of React.")}vn.Children={map:A2,forEach:function(t,e,n){A2(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return A2(t,function(){e++}),e},toArray:function(t){return A2(t,function(e){return e})||[]},only:function(t){if(!bz(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vn.Component=nx;vn.Fragment=L3e;vn.Profiler=N3e;vn.PureComponent=xz;vn.StrictMode=I3e;vn.Suspense=U3e;vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W3e;vn.act=Mre;vn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vre({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Sz.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)_re.call(e,l)&&!Sre.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Ew,type:t.type,key:i,ref:s,props:r,_owner:a}};vn.createContext=function(t){return t={$$typeof:O3e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:D3e,_context:t},t.Consumer=t};vn.createElement=bre;vn.createFactory=function(t){var e=bre.bind(null,t);return e.type=t,e};vn.createRef=function(){return{current:null}};vn.forwardRef=function(t){return{$$typeof:k3e,render:t}};vn.isValidElement=bz;vn.lazy=function(t){return{$$typeof:z3e,_payload:{_status:-1,_result:t},_init:G3e}};vn.memo=function(t,e){return{$$typeof:F3e,type:t,compare:e===void 0?null:e}};vn.startTransition=function(t){var e=cA.transition;cA.transition={};try{t()}finally{cA.transition=e}};vn.unstable_act=Mre;vn.useCallback=function(t,e){return la.current.useCallback(t,e)};vn.useContext=function(t){return la.current.useContext(t)};vn.useDebugValue=function(){};vn.useDeferredValue=function(t){return la.current.useDeferredValue(t)};vn.useEffect=function(t,e){return la.current.useEffect(t,e)};vn.useId=function(){return la.current.useId()};vn.useImperativeHandle=function(t,e,n){return la.current.useImperativeHandle(t,e,n)};vn.useInsertionEffect=function(t,e){return la.current.useInsertionEffect(t,e)};vn.useLayoutEffect=function(t,e){return la.current.useLayoutEffect(t,e)};vn.useMemo=function(t,e){return la.current.useMemo(t,e)};vn.useReducer=function(t,e,n){return la.current.useReducer(t,e,n)};vn.useRef=function(t){return la.current.useRef(t)};vn.useState=function(t){return la.current.useState(t)};vn.useSyncExternalStore=function(t,e,n){return la.current.useSyncExternalStore(t,e,n)};vn.useTransition=function(){return la.current.useTransition()};vn.version="18.3.1";mre.exports=vn;var fe=mre.exports;const Wi=e0(fe);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var j3e=fe,X3e=Symbol.for("react.element"),$3e=Symbol.for("react.fragment"),Y3e=Object.prototype.hasOwnProperty,q3e=j3e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z3e={key:!0,ref:!0,__self:!0,__source:!0};function wre(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Y3e.call(e,r)&&!Z3e.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:X3e,type:t,key:s,ref:a,props:i,_owner:q3e.current}}OR.Fragment=$3e;OR.jsx=wre;OR.jsxs=wre;pre.exports=OR;var Fe=pre.exports,Ere={exports:{}},Po={},Tre={exports:{}},Are={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(D,V){var B=D.length;D.push(V);e:for(;0<B;){var $=B-1>>>1,te=D[$];if(0<i(te,V))D[$]=V,D[B]=te,B=$;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],B=D.pop();if(B!==V){D[0]=B;e:for(var $=0,te=D.length,Ae=te>>>1;$<Ae;){var F=2*($+1)-1,ve=D[F],ie=F+1,he=D[ie];if(0>i(ve,B))ie<te&&0>i(he,ve)?(D[$]=he,D[ie]=B,$=ie):(D[$]=ve,D[F]=B,$=F);else if(ie<te&&0>i(he,B))D[$]=he,D[ie]=B,$=ie;else break e}}return V}function i(D,V){var B=D.sortIndex-V.sortIndex;return B!==0?B:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,m=!1,v=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(D){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=D)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function E(D){if(S=!1,M(D),!v)if(n(l)!==null)v=!0,X(P);else{var V=n(u);V!==null&&se(E,V.startTime-D)}}function P(D,V){v=!1,S&&(S=!1,g(I),I=-1),m=!0;var B=f;try{for(M(V),d=n(l);d!==null&&(!(d.expirationTime>V)||D&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var te=$(d.expirationTime<=V);V=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),M(V)}else r(l);d=n(l)}if(d!==null)var Ae=!0;else{var F=n(u);F!==null&&se(E,F.startTime-V),Ae=!1}return Ae}finally{d=null,f=B,m=!1}}var A=!1,L=null,I=-1,R=5,C=-1;function O(){return!(t.unstable_now()-C<R)}function G(){if(L!==null){var D=t.unstable_now();C=D;var V=!0;try{V=L(!0,D)}finally{V?j():(A=!1,L=null)}}else A=!1}var j;if(typeof b=="function")j=function(){b(G)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=G,j=function(){Q.postMessage(null)}}else j=function(){y(G,0)};function X(D){L=D,A||(A=!0,j())}function se(D,V){I=y(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,X(P))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var B=f;f=V;try{return D()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=f;f=D;try{return V()}finally{f=B}},t.unstable_scheduleCallback=function(D,V,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,D={id:h++,callback:V,priorityLevel:D,startTime:B,expirationTime:te,sortIndex:-1},B>$?(D.sortIndex=B,e(u,D),n(l)===null&&D===n(u)&&(S?(g(I),I=-1):S=!0,se(E,B-$))):(D.sortIndex=te,e(l,D),v||m||(v=!0,X(P))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var V=f;return function(){var B=f;f=V;try{return D.apply(this,arguments)}finally{f=B}}}})(Are);Tre.exports=Are;var K3e=Tre.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Q3e=fe,Mo=K3e;function ct(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cre=new Set,pM={};function t0(t,e){T1(t,e),T1(t+"Capture",e)}function T1(t,e){for(pM[t]=e,t=0;t<e.length;t++)Cre.add(e[t])}var Xh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zO=Object.prototype.hasOwnProperty,J3e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gW={},vW={};function eCe(t){return zO.call(vW,t)?!0:zO.call(gW,t)?!1:J3e.test(t)?vW[t]=!0:(gW[t]=!0,!1)}function tCe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nCe(t,e,n,r){if(e===null||typeof e>"u"||tCe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ua(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var fs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fs[t]=new ua(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fs[e]=new ua(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fs[t]=new ua(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fs[t]=new ua(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fs[t]=new ua(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fs[t]=new ua(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fs[t]=new ua(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fs[t]=new ua(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fs[t]=new ua(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mz=/[\-:]([a-z])/g;function wz(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mz,wz);fs[e]=new ua(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mz,wz);fs[e]=new ua(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mz,wz);fs[e]=new ua(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fs[t]=new ua(t,1,!1,t.toLowerCase(),null,!1,!1)});fs.xlinkHref=new ua("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fs[t]=new ua(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ez(t,e,n,r){var i=fs.hasOwnProperty(e)?fs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nCe(e,n,i,r)&&(n=null),r||i===null?eCe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ad=Q3e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C2=Symbol.for("react.element"),_y=Symbol.for("react.portal"),Sy=Symbol.for("react.fragment"),Tz=Symbol.for("react.strict_mode"),BO=Symbol.for("react.profiler"),Pre=Symbol.for("react.provider"),Rre=Symbol.for("react.context"),Az=Symbol.for("react.forward_ref"),VO=Symbol.for("react.suspense"),HO=Symbol.for("react.suspense_list"),Cz=Symbol.for("react.memo"),Jd=Symbol.for("react.lazy"),Lre=Symbol.for("react.offscreen"),yW=Symbol.iterator;function z_(t){return t===null||typeof t!="object"?null:(t=yW&&t[yW]||t["@@iterator"],typeof t=="function"?t:null)}var Lr=Object.assign,Z4;function bS(t){if(Z4===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Z4=e&&e[1]||""}return`
`+Z4+t}var K4=!1;function Q4(t,e){if(!t||K4)return"";K4=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{K4=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bS(t):""}function rCe(t){switch(t.tag){case 5:return bS(t.type);case 16:return bS("Lazy");case 13:return bS("Suspense");case 19:return bS("SuspenseList");case 0:case 2:case 15:return t=Q4(t.type,!1),t;case 11:return t=Q4(t.type.render,!1),t;case 1:return t=Q4(t.type,!0),t;default:return""}}function GO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sy:return"Fragment";case _y:return"Portal";case BO:return"Profiler";case Tz:return"StrictMode";case VO:return"Suspense";case HO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rre:return(t.displayName||"Context")+".Consumer";case Pre:return(t._context.displayName||"Context")+".Provider";case Az:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cz:return e=t.displayName||null,e!==null?e:GO(t.type)||"Memo";case Jd:e=t._payload,t=t._init;try{return GO(t(e))}catch{}}return null}function iCe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return GO(e);case 8:return e===Tz?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ire(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sCe(t){var e=Ire(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function P2(t){t._valueTracker||(t._valueTracker=sCe(t))}function Nre(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ire(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tC(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function WO(t,e){var n=e.checked;return Lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xW(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dre(t,e){e=e.checked,e!=null&&Ez(t,"checked",e,!1)}function jO(t,e){Dre(t,e);var n=Vf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?XO(t,e.type,n):e.hasOwnProperty("defaultValue")&&XO(t,e.type,Vf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _W(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function XO(t,e,n){(e!=="number"||tC(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var MS=Array.isArray;function e1(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $O(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ct(91));return Lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function SW(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ct(92));if(MS(n)){if(1<n.length)throw Error(ct(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vf(n)}}function Ore(t,e){var n=Vf(e.value),r=Vf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bW(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kre(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kre(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var R2,Ure=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(R2=R2||document.createElement("div"),R2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=R2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mM(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ib={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aCe=["Webkit","ms","Moz","O"];Object.keys(ib).forEach(function(t){aCe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ib[e]=ib[t]})});function Fre(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ib.hasOwnProperty(t)&&ib[t]?(""+e).trim():e+"px"}function zre(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Fre(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var oCe=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qO(t,e){if(e){if(oCe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ct(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ct(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ct(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ct(62))}}function ZO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KO=null;function Pz(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var QO=null,t1=null,n1=null;function MW(t){if(t=Cw(t)){if(typeof QO!="function")throw Error(ct(280));var e=t.stateNode;e&&(e=BR(e),QO(t.stateNode,t.type,e))}}function Bre(t){t1?n1?n1.push(t):n1=[t]:t1=t}function Vre(){if(t1){var t=t1,e=n1;if(n1=t1=null,MW(t),e)for(t=0;t<e.length;t++)MW(e[t])}}function Hre(t,e){return t(e)}function Gre(){}var J4=!1;function Wre(t,e,n){if(J4)return t(e,n);J4=!0;try{return Hre(t,e,n)}finally{J4=!1,(t1!==null||n1!==null)&&(Gre(),Vre())}}function gM(t,e){var n=t.stateNode;if(n===null)return null;var r=BR(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ct(231,e,typeof n));return n}var JO=!1;if(Xh)try{var B_={};Object.defineProperty(B_,"passive",{get:function(){JO=!0}}),window.addEventListener("test",B_,B_),window.removeEventListener("test",B_,B_)}catch{JO=!1}function lCe(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var sb=!1,nC=null,rC=!1,ek=null,uCe={onError:function(t){sb=!0,nC=t}};function cCe(t,e,n,r,i,s,a,o,l){sb=!1,nC=null,lCe.apply(uCe,arguments)}function hCe(t,e,n,r,i,s,a,o,l){if(cCe.apply(this,arguments),sb){if(sb){var u=nC;sb=!1,nC=null}else throw Error(ct(198));rC||(rC=!0,ek=u)}}function n0(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jre(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wW(t){if(n0(t)!==t)throw Error(ct(188))}function dCe(t){var e=t.alternate;if(!e){if(e=n0(t),e===null)throw Error(ct(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wW(i),t;if(s===r)return wW(i),e;s=s.sibling}throw Error(ct(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ct(189))}}if(n.alternate!==r)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?t:e}function Xre(t){return t=dCe(t),t!==null?$re(t):null}function $re(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$re(t);if(e!==null)return e;t=t.sibling}return null}var Yre=Mo.unstable_scheduleCallback,EW=Mo.unstable_cancelCallback,fCe=Mo.unstable_shouldYield,pCe=Mo.unstable_requestPaint,Yr=Mo.unstable_now,mCe=Mo.unstable_getCurrentPriorityLevel,Rz=Mo.unstable_ImmediatePriority,qre=Mo.unstable_UserBlockingPriority,iC=Mo.unstable_NormalPriority,gCe=Mo.unstable_LowPriority,Zre=Mo.unstable_IdlePriority,kR=null,Ju=null;function vCe(t){if(Ju&&typeof Ju.onCommitFiberRoot=="function")try{Ju.onCommitFiberRoot(kR,t,void 0,(t.current.flags&128)===128)}catch{}}var $l=Math.clz32?Math.clz32:_Ce,yCe=Math.log,xCe=Math.LN2;function _Ce(t){return t>>>=0,t===0?32:31-(yCe(t)/xCe|0)|0}var L2=64,I2=4194304;function wS(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sC(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=wS(o):(s&=a,s!==0&&(r=wS(s)))}else a=n&~i,a!==0?r=wS(a):s!==0&&(r=wS(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$l(e),i=1<<n,r|=t[n],e&=~i;return r}function SCe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bCe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-$l(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=SCe(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function tk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kre(){var t=L2;return L2<<=1,!(L2&4194240)&&(L2=64),t}function eN(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tw(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$l(e),t[e]=n}function MCe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$l(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lz(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$l(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Wn=0;function Qre(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jre,Iz,eie,tie,nie,nk=!1,N2=[],wf=null,Ef=null,Tf=null,vM=new Map,yM=new Map,of=[],wCe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TW(t,e){switch(t){case"focusin":case"focusout":wf=null;break;case"dragenter":case"dragleave":Ef=null;break;case"mouseover":case"mouseout":Tf=null;break;case"pointerover":case"pointerout":vM.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yM.delete(e.pointerId)}}function V_(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cw(e),e!==null&&Iz(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ECe(t,e,n,r,i){switch(e){case"focusin":return wf=V_(wf,t,e,n,r,i),!0;case"dragenter":return Ef=V_(Ef,t,e,n,r,i),!0;case"mouseover":return Tf=V_(Tf,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vM.set(s,V_(vM.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yM.set(s,V_(yM.get(s)||null,t,e,n,r,i)),!0}return!1}function rie(t){var e=jm(t.target);if(e!==null){var n=n0(e);if(n!==null){if(e=n.tag,e===13){if(e=jre(n),e!==null){t.blockedOn=e,nie(t.priority,function(){eie(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hA(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);KO=r,n.target.dispatchEvent(r),KO=null}else return e=Cw(n),e!==null&&Iz(e),t.blockedOn=n,!1;e.shift()}return!0}function AW(t,e,n){hA(t)&&n.delete(e)}function TCe(){nk=!1,wf!==null&&hA(wf)&&(wf=null),Ef!==null&&hA(Ef)&&(Ef=null),Tf!==null&&hA(Tf)&&(Tf=null),vM.forEach(AW),yM.forEach(AW)}function H_(t,e){t.blockedOn===e&&(t.blockedOn=null,nk||(nk=!0,Mo.unstable_scheduleCallback(Mo.unstable_NormalPriority,TCe)))}function xM(t){function e(i){return H_(i,t)}if(0<N2.length){H_(N2[0],t);for(var n=1;n<N2.length;n++){var r=N2[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wf!==null&&H_(wf,t),Ef!==null&&H_(Ef,t),Tf!==null&&H_(Tf,t),vM.forEach(e),yM.forEach(e),n=0;n<of.length;n++)r=of[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<of.length&&(n=of[0],n.blockedOn===null);)rie(n),n.blockedOn===null&&of.shift()}var r1=ad.ReactCurrentBatchConfig,aC=!0;function ACe(t,e,n,r){var i=Wn,s=r1.transition;r1.transition=null;try{Wn=1,Nz(t,e,n,r)}finally{Wn=i,r1.transition=s}}function CCe(t,e,n,r){var i=Wn,s=r1.transition;r1.transition=null;try{Wn=4,Nz(t,e,n,r)}finally{Wn=i,r1.transition=s}}function Nz(t,e,n,r){if(aC){var i=rk(t,e,n,r);if(i===null)cN(t,e,r,oC,n),TW(t,r);else if(ECe(i,t,e,n,r))r.stopPropagation();else if(TW(t,r),e&4&&-1<wCe.indexOf(t)){for(;i!==null;){var s=Cw(i);if(s!==null&&Jre(s),s=rk(t,e,n,r),s===null&&cN(t,e,r,oC,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cN(t,e,r,null,n)}}var oC=null;function rk(t,e,n,r){if(oC=null,t=Pz(r),t=jm(t),t!==null)if(e=n0(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jre(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oC=t,null}function iie(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mCe()){case Rz:return 1;case qre:return 4;case iC:case gCe:return 16;case Zre:return 536870912;default:return 16}default:return 16}}var ff=null,Dz=null,dA=null;function sie(){if(dA)return dA;var t,e=Dz,n=e.length,r,i="value"in ff?ff.value:ff.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return dA=i.slice(t,1<r?1-r:void 0)}function fA(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function D2(){return!0}function CW(){return!1}function Ro(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?D2:CW,this.isPropagationStopped=CW,this}return Lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=D2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=D2)},persist:function(){},isPersistent:D2}),e}var rx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oz=Ro(rx),Aw=Lr({},rx,{view:0,detail:0}),PCe=Ro(Aw),tN,nN,G_,UR=Lr({},Aw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kz,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==G_&&(G_&&t.type==="mousemove"?(tN=t.screenX-G_.screenX,nN=t.screenY-G_.screenY):nN=tN=0,G_=t),tN)},movementY:function(t){return"movementY"in t?t.movementY:nN}}),PW=Ro(UR),RCe=Lr({},UR,{dataTransfer:0}),LCe=Ro(RCe),ICe=Lr({},Aw,{relatedTarget:0}),rN=Ro(ICe),NCe=Lr({},rx,{animationName:0,elapsedTime:0,pseudoElement:0}),DCe=Ro(NCe),OCe=Lr({},rx,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kCe=Ro(OCe),UCe=Lr({},rx,{data:0}),RW=Ro(UCe),FCe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zCe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BCe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VCe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BCe[t])?!!e[t]:!1}function kz(){return VCe}var HCe=Lr({},Aw,{key:function(t){if(t.key){var e=FCe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fA(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zCe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kz,charCode:function(t){return t.type==="keypress"?fA(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fA(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GCe=Ro(HCe),WCe=Lr({},UR,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LW=Ro(WCe),jCe=Lr({},Aw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kz}),XCe=Ro(jCe),$Ce=Lr({},rx,{propertyName:0,elapsedTime:0,pseudoElement:0}),YCe=Ro($Ce),qCe=Lr({},UR,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZCe=Ro(qCe),KCe=[9,13,27,32],Uz=Xh&&"CompositionEvent"in window,ab=null;Xh&&"documentMode"in document&&(ab=document.documentMode);var QCe=Xh&&"TextEvent"in window&&!ab,aie=Xh&&(!Uz||ab&&8<ab&&11>=ab),IW=" ",NW=!1;function oie(t,e){switch(t){case"keyup":return KCe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var by=!1;function JCe(t,e){switch(t){case"compositionend":return lie(e);case"keypress":return e.which!==32?null:(NW=!0,IW);case"textInput":return t=e.data,t===IW&&NW?null:t;default:return null}}function ePe(t,e){if(by)return t==="compositionend"||!Uz&&oie(t,e)?(t=sie(),dA=Dz=ff=null,by=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aie&&e.locale!=="ko"?null:e.data;default:return null}}var tPe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DW(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tPe[t.type]:e==="textarea"}function uie(t,e,n,r){Bre(r),e=lC(e,"onChange"),0<e.length&&(n=new Oz("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ob=null,_M=null;function nPe(t){_ie(t,0)}function FR(t){var e=Ey(t);if(Nre(e))return t}function rPe(t,e){if(t==="change")return e}var cie=!1;if(Xh){var iN;if(Xh){var sN="oninput"in document;if(!sN){var OW=document.createElement("div");OW.setAttribute("oninput","return;"),sN=typeof OW.oninput=="function"}iN=sN}else iN=!1;cie=iN&&(!document.documentMode||9<document.documentMode)}function kW(){ob&&(ob.detachEvent("onpropertychange",hie),_M=ob=null)}function hie(t){if(t.propertyName==="value"&&FR(_M)){var e=[];uie(e,_M,t,Pz(t)),Wre(nPe,e)}}function iPe(t,e,n){t==="focusin"?(kW(),ob=e,_M=n,ob.attachEvent("onpropertychange",hie)):t==="focusout"&&kW()}function sPe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return FR(_M)}function aPe(t,e){if(t==="click")return FR(e)}function oPe(t,e){if(t==="input"||t==="change")return FR(e)}function lPe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ql=typeof Object.is=="function"?Object.is:lPe;function SM(t,e){if(Ql(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zO.call(e,i)||!Ql(t[i],e[i]))return!1}return!0}function UW(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FW(t,e){var n=UW(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UW(n)}}function die(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?die(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fie(){for(var t=window,e=tC();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tC(t.document)}return e}function Fz(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uPe(t){var e=fie(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&die(n.ownerDocument.documentElement,n)){if(r!==null&&Fz(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=FW(n,s);var a=FW(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cPe=Xh&&"documentMode"in document&&11>=document.documentMode,My=null,ik=null,lb=null,sk=!1;function zW(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sk||My==null||My!==tC(r)||(r=My,"selectionStart"in r&&Fz(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lb&&SM(lb,r)||(lb=r,r=lC(ik,"onSelect"),0<r.length&&(e=new Oz("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=My)))}function O2(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wy={animationend:O2("Animation","AnimationEnd"),animationiteration:O2("Animation","AnimationIteration"),animationstart:O2("Animation","AnimationStart"),transitionend:O2("Transition","TransitionEnd")},aN={},pie={};Xh&&(pie=document.createElement("div").style,"AnimationEvent"in window||(delete wy.animationend.animation,delete wy.animationiteration.animation,delete wy.animationstart.animation),"TransitionEvent"in window||delete wy.transitionend.transition);function zR(t){if(aN[t])return aN[t];if(!wy[t])return t;var e=wy[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pie)return aN[t]=e[n];return t}var mie=zR("animationend"),gie=zR("animationiteration"),vie=zR("animationstart"),yie=zR("transitionend"),xie=new Map,BW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ip(t,e){xie.set(t,e),t0(e,[t])}for(var oN=0;oN<BW.length;oN++){var lN=BW[oN],hPe=lN.toLowerCase(),dPe=lN[0].toUpperCase()+lN.slice(1);ip(hPe,"on"+dPe)}ip(mie,"onAnimationEnd");ip(gie,"onAnimationIteration");ip(vie,"onAnimationStart");ip("dblclick","onDoubleClick");ip("focusin","onFocus");ip("focusout","onBlur");ip(yie,"onTransitionEnd");T1("onMouseEnter",["mouseout","mouseover"]);T1("onMouseLeave",["mouseout","mouseover"]);T1("onPointerEnter",["pointerout","pointerover"]);T1("onPointerLeave",["pointerout","pointerover"]);t0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));t0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));t0("onBeforeInput",["compositionend","keypress","textInput","paste"]);t0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));t0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));t0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ES="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fPe=new Set("cancel close invalid load scroll toggle".split(" ").concat(ES));function VW(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hCe(r,e,void 0,t),t.currentTarget=null}function _ie(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;VW(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;VW(i,o,u),s=l}}}if(rC)throw t=ek,rC=!1,ek=null,t}function sr(t,e){var n=e[ck];n===void 0&&(n=e[ck]=new Set);var r=t+"__bubble";n.has(r)||(Sie(e,t,2,!1),n.add(r))}function uN(t,e,n){var r=0;e&&(r|=4),Sie(n,t,r,e)}var k2="_reactListening"+Math.random().toString(36).slice(2);function bM(t){if(!t[k2]){t[k2]=!0,Cre.forEach(function(n){n!=="selectionchange"&&(fPe.has(n)||uN(n,!1,t),uN(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[k2]||(e[k2]=!0,uN("selectionchange",!1,e))}}function Sie(t,e,n,r){switch(iie(e)){case 1:var i=ACe;break;case 4:i=CCe;break;default:i=Nz}n=i.bind(null,e,n,t),i=void 0,!JO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cN(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=jm(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Wre(function(){var u=s,h=Pz(n),d=[];e:{var f=xie.get(t);if(f!==void 0){var m=Oz,v=t;switch(t){case"keypress":if(fA(n)===0)break e;case"keydown":case"keyup":m=GCe;break;case"focusin":v="focus",m=rN;break;case"focusout":v="blur",m=rN;break;case"beforeblur":case"afterblur":m=rN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=PW;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=LCe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=XCe;break;case mie:case gie:case vie:m=DCe;break;case yie:m=YCe;break;case"scroll":m=PCe;break;case"wheel":m=ZCe;break;case"copy":case"cut":case"paste":m=kCe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=LW}var S=(e&4)!==0,y=!S&&t==="scroll",g=S?f!==null?f+"Capture":null:f;S=[];for(var b=u,M;b!==null;){M=b;var E=M.stateNode;if(M.tag===5&&E!==null&&(M=E,g!==null&&(E=gM(b,g),E!=null&&S.push(MM(b,E,M)))),y)break;b=b.return}0<S.length&&(f=new m(f,v,null,n,h),d.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==KO&&(v=n.relatedTarget||n.fromElement)&&(jm(v)||v[$h]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?jm(v):null,v!==null&&(y=n0(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(S=PW,E="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(S=LW,E="onPointerLeave",g="onPointerEnter",b="pointer"),y=m==null?f:Ey(m),M=v==null?f:Ey(v),f=new S(E,b+"leave",m,n,h),f.target=y,f.relatedTarget=M,E=null,jm(h)===u&&(S=new S(g,b+"enter",v,n,h),S.target=M,S.relatedTarget=y,E=S),y=E,m&&v)t:{for(S=m,g=v,b=0,M=S;M;M=Sv(M))b++;for(M=0,E=g;E;E=Sv(E))M++;for(;0<b-M;)S=Sv(S),b--;for(;0<M-b;)g=Sv(g),M--;for(;b--;){if(S===g||g!==null&&S===g.alternate)break t;S=Sv(S),g=Sv(g)}S=null}else S=null;m!==null&&HW(d,f,m,S,!1),v!==null&&y!==null&&HW(d,y,v,S,!0)}}e:{if(f=u?Ey(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var P=rPe;else if(DW(f))if(cie)P=oPe;else{P=sPe;var A=iPe}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=aPe);if(P&&(P=P(t,u))){uie(d,P,n,h);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&XO(f,"number",f.value)}switch(A=u?Ey(u):window,t){case"focusin":(DW(A)||A.contentEditable==="true")&&(My=A,ik=u,lb=null);break;case"focusout":lb=ik=My=null;break;case"mousedown":sk=!0;break;case"contextmenu":case"mouseup":case"dragend":sk=!1,zW(d,n,h);break;case"selectionchange":if(cPe)break;case"keydown":case"keyup":zW(d,n,h)}var L;if(Uz)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else by?oie(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(aie&&n.locale!=="ko"&&(by||I!=="onCompositionStart"?I==="onCompositionEnd"&&by&&(L=sie()):(ff=h,Dz="value"in ff?ff.value:ff.textContent,by=!0)),A=lC(u,I),0<A.length&&(I=new RW(I,t,null,n,h),d.push({event:I,listeners:A}),L?I.data=L:(L=lie(n),L!==null&&(I.data=L)))),(L=QCe?JCe(t,n):ePe(t,n))&&(u=lC(u,"onBeforeInput"),0<u.length&&(h=new RW("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=L))}_ie(d,e)})}function MM(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lC(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gM(t,n),s!=null&&r.unshift(MM(t,s,i)),s=gM(t,e),s!=null&&r.push(MM(t,s,i))),t=t.return}return r}function Sv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function HW(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=gM(n,s),l!=null&&a.unshift(MM(n,l,o))):i||(l=gM(n,s),l!=null&&a.push(MM(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var pPe=/\r\n?/g,mPe=/\u0000|\uFFFD/g;function GW(t){return(typeof t=="string"?t:""+t).replace(pPe,`
`).replace(mPe,"")}function U2(t,e,n){if(e=GW(e),GW(t)!==e&&n)throw Error(ct(425))}function uC(){}var ak=null,ok=null;function lk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uk=typeof setTimeout=="function"?setTimeout:void 0,gPe=typeof clearTimeout=="function"?clearTimeout:void 0,WW=typeof Promise=="function"?Promise:void 0,vPe=typeof queueMicrotask=="function"?queueMicrotask:typeof WW<"u"?function(t){return WW.resolve(null).then(t).catch(yPe)}:uk;function yPe(t){setTimeout(function(){throw t})}function hN(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xM(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xM(e)}function Af(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jW(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ix=Math.random().toString(36).slice(2),Du="__reactFiber$"+ix,wM="__reactProps$"+ix,$h="__reactContainer$"+ix,ck="__reactEvents$"+ix,xPe="__reactListeners$"+ix,_Pe="__reactHandles$"+ix;function jm(t){var e=t[Du];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$h]||n[Du]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jW(t);t!==null;){if(n=t[Du])return n;t=jW(t)}return e}t=n,n=t.parentNode}return null}function Cw(t){return t=t[Du]||t[$h],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ey(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ct(33))}function BR(t){return t[wM]||null}var hk=[],Ty=-1;function sp(t){return{current:t}}function cr(t){0>Ty||(t.current=hk[Ty],hk[Ty]=null,Ty--)}function er(t,e){Ty++,hk[Ty]=t.current,t.current=e}var Hf={},Bs=sp(Hf),Na=sp(!1),Ig=Hf;function A1(t,e){var n=t.type.contextTypes;if(!n)return Hf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Da(t){return t=t.childContextTypes,t!=null}function cC(){cr(Na),cr(Bs)}function XW(t,e,n){if(Bs.current!==Hf)throw Error(ct(168));er(Bs,e),er(Na,n)}function bie(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ct(108,iCe(t)||"Unknown",i));return Lr({},n,r)}function hC(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hf,Ig=Bs.current,er(Bs,t),er(Na,Na.current),!0}function $W(t,e,n){var r=t.stateNode;if(!r)throw Error(ct(169));n?(t=bie(t,e,Ig),r.__reactInternalMemoizedMergedChildContext=t,cr(Na),cr(Bs),er(Bs,t)):cr(Na),er(Na,n)}var ah=null,VR=!1,dN=!1;function Mie(t){ah===null?ah=[t]:ah.push(t)}function SPe(t){VR=!0,Mie(t)}function ap(){if(!dN&&ah!==null){dN=!0;var t=0,e=Wn;try{var n=ah;for(Wn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ah=null,VR=!1}catch(i){throw ah!==null&&(ah=ah.slice(t+1)),Yre(Rz,ap),i}finally{Wn=e,dN=!1}}return null}var Ay=[],Cy=0,dC=null,fC=0,nl=[],rl=0,Ng=null,vh=1,yh="";function Tm(t,e){Ay[Cy++]=fC,Ay[Cy++]=dC,dC=t,fC=e}function wie(t,e,n){nl[rl++]=vh,nl[rl++]=yh,nl[rl++]=Ng,Ng=t;var r=vh;t=yh;var i=32-$l(r)-1;r&=~(1<<i),n+=1;var s=32-$l(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,vh=1<<32-$l(e)+i|n<<i|r,yh=s+t}else vh=1<<s|n<<i|r,yh=t}function zz(t){t.return!==null&&(Tm(t,1),wie(t,1,0))}function Bz(t){for(;t===dC;)dC=Ay[--Cy],Ay[Cy]=null,fC=Ay[--Cy],Ay[Cy]=null;for(;t===Ng;)Ng=nl[--rl],nl[rl]=null,yh=nl[--rl],nl[rl]=null,vh=nl[--rl],nl[rl]=null}var go=null,co=null,pr=!1,Hl=null;function Eie(t,e){var n=al(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function YW(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,go=t,co=Af(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,go=t,co=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ng!==null?{id:vh,overflow:yh}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=al(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,go=t,co=null,!0):!1;default:return!1}}function dk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fk(t){if(pr){var e=co;if(e){var n=e;if(!YW(t,e)){if(dk(t))throw Error(ct(418));e=Af(n.nextSibling);var r=go;e&&YW(t,e)?Eie(r,n):(t.flags=t.flags&-4097|2,pr=!1,go=t)}}else{if(dk(t))throw Error(ct(418));t.flags=t.flags&-4097|2,pr=!1,go=t}}}function qW(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;go=t}function F2(t){if(t!==go)return!1;if(!pr)return qW(t),pr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lk(t.type,t.memoizedProps)),e&&(e=co)){if(dk(t))throw Tie(),Error(ct(418));for(;e;)Eie(t,e),e=Af(e.nextSibling)}if(qW(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ct(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){co=Af(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}co=null}}else co=go?Af(t.stateNode.nextSibling):null;return!0}function Tie(){for(var t=co;t;)t=Af(t.nextSibling)}function C1(){co=go=null,pr=!1}function Vz(t){Hl===null?Hl=[t]:Hl.push(t)}var bPe=ad.ReactCurrentBatchConfig;function W_(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var r=n.stateNode}if(!r)throw Error(ct(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,t))}return t}function z2(t,e){throw t=Object.prototype.toString.call(e),Error(ct(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZW(t){var e=t._init;return e(t._payload)}function Aie(t){function e(g,b){if(t){var M=g.deletions;M===null?(g.deletions=[b],g.flags|=16):M.push(b)}}function n(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=Lf(g,b),g.index=0,g.sibling=null,g}function s(g,b,M){return g.index=M,t?(M=g.alternate,M!==null?(M=M.index,M<b?(g.flags|=2,b):M):(g.flags|=2,b)):(g.flags|=1048576,b)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,b,M,E){return b===null||b.tag!==6?(b=xN(M,g.mode,E),b.return=g,b):(b=i(b,M),b.return=g,b)}function l(g,b,M,E){var P=M.type;return P===Sy?h(g,b,M.props.children,E,M.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Jd&&ZW(P)===b.type)?(E=i(b,M.props),E.ref=W_(g,b,M),E.return=g,E):(E=_A(M.type,M.key,M.props,null,g.mode,E),E.ref=W_(g,b,M),E.return=g,E)}function u(g,b,M,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==M.containerInfo||b.stateNode.implementation!==M.implementation?(b=_N(M,g.mode,E),b.return=g,b):(b=i(b,M.children||[]),b.return=g,b)}function h(g,b,M,E,P){return b===null||b.tag!==7?(b=cg(M,g.mode,E,P),b.return=g,b):(b=i(b,M),b.return=g,b)}function d(g,b,M){if(typeof b=="string"&&b!==""||typeof b=="number")return b=xN(""+b,g.mode,M),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C2:return M=_A(b.type,b.key,b.props,null,g.mode,M),M.ref=W_(g,null,b),M.return=g,M;case _y:return b=_N(b,g.mode,M),b.return=g,b;case Jd:var E=b._init;return d(g,E(b._payload),M)}if(MS(b)||z_(b))return b=cg(b,g.mode,M,null),b.return=g,b;z2(g,b)}return null}function f(g,b,M,E){var P=b!==null?b.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return P!==null?null:o(g,b,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C2:return M.key===P?l(g,b,M,E):null;case _y:return M.key===P?u(g,b,M,E):null;case Jd:return P=M._init,f(g,b,P(M._payload),E)}if(MS(M)||z_(M))return P!==null?null:h(g,b,M,E,null);z2(g,M)}return null}function m(g,b,M,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(M)||null,o(b,g,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case C2:return g=g.get(E.key===null?M:E.key)||null,l(b,g,E,P);case _y:return g=g.get(E.key===null?M:E.key)||null,u(b,g,E,P);case Jd:var A=E._init;return m(g,b,M,A(E._payload),P)}if(MS(E)||z_(E))return g=g.get(M)||null,h(b,g,E,P,null);z2(b,E)}return null}function v(g,b,M,E){for(var P=null,A=null,L=b,I=b=0,R=null;L!==null&&I<M.length;I++){L.index>I?(R=L,L=null):R=L.sibling;var C=f(g,L,M[I],E);if(C===null){L===null&&(L=R);break}t&&L&&C.alternate===null&&e(g,L),b=s(C,b,I),A===null?P=C:A.sibling=C,A=C,L=R}if(I===M.length)return n(g,L),pr&&Tm(g,I),P;if(L===null){for(;I<M.length;I++)L=d(g,M[I],E),L!==null&&(b=s(L,b,I),A===null?P=L:A.sibling=L,A=L);return pr&&Tm(g,I),P}for(L=r(g,L);I<M.length;I++)R=m(L,g,I,M[I],E),R!==null&&(t&&R.alternate!==null&&L.delete(R.key===null?I:R.key),b=s(R,b,I),A===null?P=R:A.sibling=R,A=R);return t&&L.forEach(function(O){return e(g,O)}),pr&&Tm(g,I),P}function S(g,b,M,E){var P=z_(M);if(typeof P!="function")throw Error(ct(150));if(M=P.call(M),M==null)throw Error(ct(151));for(var A=P=null,L=b,I=b=0,R=null,C=M.next();L!==null&&!C.done;I++,C=M.next()){L.index>I?(R=L,L=null):R=L.sibling;var O=f(g,L,C.value,E);if(O===null){L===null&&(L=R);break}t&&L&&O.alternate===null&&e(g,L),b=s(O,b,I),A===null?P=O:A.sibling=O,A=O,L=R}if(C.done)return n(g,L),pr&&Tm(g,I),P;if(L===null){for(;!C.done;I++,C=M.next())C=d(g,C.value,E),C!==null&&(b=s(C,b,I),A===null?P=C:A.sibling=C,A=C);return pr&&Tm(g,I),P}for(L=r(g,L);!C.done;I++,C=M.next())C=m(L,g,I,C.value,E),C!==null&&(t&&C.alternate!==null&&L.delete(C.key===null?I:C.key),b=s(C,b,I),A===null?P=C:A.sibling=C,A=C);return t&&L.forEach(function(G){return e(g,G)}),pr&&Tm(g,I),P}function y(g,b,M,E){if(typeof M=="object"&&M!==null&&M.type===Sy&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case C2:e:{for(var P=M.key,A=b;A!==null;){if(A.key===P){if(P=M.type,P===Sy){if(A.tag===7){n(g,A.sibling),b=i(A,M.props.children),b.return=g,g=b;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Jd&&ZW(P)===A.type){n(g,A.sibling),b=i(A,M.props),b.ref=W_(g,A,M),b.return=g,g=b;break e}n(g,A);break}else e(g,A);A=A.sibling}M.type===Sy?(b=cg(M.props.children,g.mode,E,M.key),b.return=g,g=b):(E=_A(M.type,M.key,M.props,null,g.mode,E),E.ref=W_(g,b,M),E.return=g,g=E)}return a(g);case _y:e:{for(A=M.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===M.containerInfo&&b.stateNode.implementation===M.implementation){n(g,b.sibling),b=i(b,M.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else e(g,b);b=b.sibling}b=_N(M,g.mode,E),b.return=g,g=b}return a(g);case Jd:return A=M._init,y(g,b,A(M._payload),E)}if(MS(M))return v(g,b,M,E);if(z_(M))return S(g,b,M,E);z2(g,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,M),b.return=g,g=b):(n(g,b),b=xN(M,g.mode,E),b.return=g,g=b),a(g)):n(g,b)}return y}var P1=Aie(!0),Cie=Aie(!1),pC=sp(null),mC=null,Py=null,Hz=null;function Gz(){Hz=Py=mC=null}function Wz(t){var e=pC.current;cr(pC),t._currentValue=e}function pk(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function i1(t,e){mC=t,Hz=Py=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Aa=!0),t.firstContext=null)}function fl(t){var e=t._currentValue;if(Hz!==t)if(t={context:t,memoizedValue:e,next:null},Py===null){if(mC===null)throw Error(ct(308));Py=t,mC.dependencies={lanes:0,firstContext:t}}else Py=Py.next=t;return e}var Xm=null;function jz(t){Xm===null?Xm=[t]:Xm.push(t)}function Pie(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jz(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yh(t,r)}function Yh(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ef=!1;function Xz(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rie(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ch(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Rn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yh(t,n)}return i=r.interleaved,i===null?(e.next=e,jz(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yh(t,n)}function pA(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lz(t,n)}}function KW(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gC(t,e,n,r){var i=t.updateQueue;ef=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,h=u=l=null,o=s;do{var f=o.lane,m=o.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,S=o;switch(f=e,m=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=Lr({},d,f);break e;case 2:ef=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Og|=a,t.lanes=a,t.memoizedState=d}}function QW(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ct(191,i));i.call(r)}}}var Pw={},ec=sp(Pw),EM=sp(Pw),TM=sp(Pw);function $m(t){if(t===Pw)throw Error(ct(174));return t}function $z(t,e){switch(er(TM,e),er(EM,t),er(ec,Pw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:YO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=YO(e,t)}cr(ec),er(ec,e)}function R1(){cr(ec),cr(EM),cr(TM)}function Lie(t){$m(TM.current);var e=$m(ec.current),n=YO(e,t.type);e!==n&&(er(EM,t),er(ec,n))}function Yz(t){EM.current===t&&(cr(ec),cr(EM))}var Mr=sp(0);function vC(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fN=[];function qz(){for(var t=0;t<fN.length;t++)fN[t]._workInProgressVersionPrimary=null;fN.length=0}var mA=ad.ReactCurrentDispatcher,pN=ad.ReactCurrentBatchConfig,Dg=0,Cr=null,xi=null,Bi=null,yC=!1,ub=!1,AM=0,MPe=0;function ws(){throw Error(ct(321))}function Zz(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ql(t[n],e[n]))return!1;return!0}function Kz(t,e,n,r,i,s){if(Dg=s,Cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mA.current=t===null||t.memoizedState===null?APe:CPe,t=n(r,i),ub){s=0;do{if(ub=!1,AM=0,25<=s)throw Error(ct(301));s+=1,Bi=xi=null,e.updateQueue=null,mA.current=PPe,t=n(r,i)}while(ub)}if(mA.current=xC,e=xi!==null&&xi.next!==null,Dg=0,Bi=xi=Cr=null,yC=!1,e)throw Error(ct(300));return t}function Qz(){var t=AM!==0;return AM=0,t}function Pu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?Cr.memoizedState=Bi=t:Bi=Bi.next=t,Bi}function pl(){if(xi===null){var t=Cr.alternate;t=t!==null?t.memoizedState:null}else t=xi.next;var e=Bi===null?Cr.memoizedState:Bi.next;if(e!==null)Bi=e,xi=t;else{if(t===null)throw Error(ct(310));xi=t,t={memoizedState:xi.memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},Bi===null?Cr.memoizedState=Bi=t:Bi=Bi.next=t}return Bi}function CM(t,e){return typeof e=="function"?e(t):e}function mN(t){var e=pl(),n=e.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=t;var r=xi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((Dg&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,Cr.lanes|=h,Og|=h}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ql(r,e.memoizedState)||(Aa=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Cr.lanes|=s,Og|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gN(t){var e=pl(),n=e.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ql(s,e.memoizedState)||(Aa=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Iie(){}function Nie(t,e){var n=Cr,r=pl(),i=e(),s=!Ql(r.memoizedState,i);if(s&&(r.memoizedState=i,Aa=!0),r=r.queue,Jz(kie.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Bi!==null&&Bi.memoizedState.tag&1){if(n.flags|=2048,PM(9,Oie.bind(null,n,r,i,e),void 0,null),Xi===null)throw Error(ct(349));Dg&30||Die(n,e,i)}return i}function Die(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Oie(t,e,n,r){e.value=n,e.getSnapshot=r,Uie(e)&&Fie(t)}function kie(t,e,n){return n(function(){Uie(e)&&Fie(t)})}function Uie(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ql(t,n)}catch{return!0}}function Fie(t){var e=Yh(t,1);e!==null&&Yl(e,t,1,-1)}function JW(t){var e=Pu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:CM,lastRenderedState:t},e.queue=t,t=t.dispatch=TPe.bind(null,Cr,t),[e.memoizedState,t]}function PM(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zie(){return pl().memoizedState}function gA(t,e,n,r){var i=Pu();Cr.flags|=t,i.memoizedState=PM(1|e,n,void 0,r===void 0?null:r)}function HR(t,e,n,r){var i=pl();r=r===void 0?null:r;var s=void 0;if(xi!==null){var a=xi.memoizedState;if(s=a.destroy,r!==null&&Zz(r,a.deps)){i.memoizedState=PM(e,n,s,r);return}}Cr.flags|=t,i.memoizedState=PM(1|e,n,s,r)}function ej(t,e){return gA(8390656,8,t,e)}function Jz(t,e){return HR(2048,8,t,e)}function Bie(t,e){return HR(4,2,t,e)}function Vie(t,e){return HR(4,4,t,e)}function Hie(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gie(t,e,n){return n=n!=null?n.concat([t]):null,HR(4,4,Hie.bind(null,e,t),n)}function eB(){}function Wie(t,e){var n=pl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zz(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jie(t,e){var n=pl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zz(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xie(t,e,n){return Dg&21?(Ql(n,e)||(n=Kre(),Cr.lanes|=n,Og|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Aa=!0),t.memoizedState=n)}function wPe(t,e){var n=Wn;Wn=n!==0&&4>n?n:4,t(!0);var r=pN.transition;pN.transition={};try{t(!1),e()}finally{Wn=n,pN.transition=r}}function $ie(){return pl().memoizedState}function EPe(t,e,n){var r=Rf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yie(t))qie(e,n);else if(n=Pie(t,e,n,r),n!==null){var i=na();Yl(n,t,r,i),Zie(n,e,r)}}function TPe(t,e,n){var r=Rf(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yie(t))qie(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ql(o,a)){var l=e.interleaved;l===null?(i.next=i,jz(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Pie(t,e,i,r),n!==null&&(i=na(),Yl(n,t,r,i),Zie(n,e,r))}}function Yie(t){var e=t.alternate;return t===Cr||e!==null&&e===Cr}function qie(t,e){ub=yC=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zie(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lz(t,n)}}var xC={readContext:fl,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},APe={readContext:fl,useCallback:function(t,e){return Pu().memoizedState=[t,e===void 0?null:e],t},useContext:fl,useEffect:ej,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gA(4194308,4,Hie.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gA(4194308,4,t,e)},useInsertionEffect:function(t,e){return gA(4,2,t,e)},useMemo:function(t,e){var n=Pu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EPe.bind(null,Cr,t),[r.memoizedState,t]},useRef:function(t){var e=Pu();return t={current:t},e.memoizedState=t},useState:JW,useDebugValue:eB,useDeferredValue:function(t){return Pu().memoizedState=t},useTransition:function(){var t=JW(!1),e=t[0];return t=wPe.bind(null,t[1]),Pu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Cr,i=Pu();if(pr){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=e(),Xi===null)throw Error(ct(349));Dg&30||Die(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ej(kie.bind(null,r,s,t),[t]),r.flags|=2048,PM(9,Oie.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Pu(),e=Xi.identifierPrefix;if(pr){var n=yh,r=vh;n=(r&~(1<<32-$l(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=AM++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MPe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CPe={readContext:fl,useCallback:Wie,useContext:fl,useEffect:Jz,useImperativeHandle:Gie,useInsertionEffect:Bie,useLayoutEffect:Vie,useMemo:jie,useReducer:mN,useRef:zie,useState:function(){return mN(CM)},useDebugValue:eB,useDeferredValue:function(t){var e=pl();return Xie(e,xi.memoizedState,t)},useTransition:function(){var t=mN(CM)[0],e=pl().memoizedState;return[t,e]},useMutableSource:Iie,useSyncExternalStore:Nie,useId:$ie,unstable_isNewReconciler:!1},PPe={readContext:fl,useCallback:Wie,useContext:fl,useEffect:Jz,useImperativeHandle:Gie,useInsertionEffect:Bie,useLayoutEffect:Vie,useMemo:jie,useReducer:gN,useRef:zie,useState:function(){return gN(CM)},useDebugValue:eB,useDeferredValue:function(t){var e=pl();return xi===null?e.memoizedState=t:Xie(e,xi.memoizedState,t)},useTransition:function(){var t=gN(CM)[0],e=pl().memoizedState;return[t,e]},useMutableSource:Iie,useSyncExternalStore:Nie,useId:$ie,unstable_isNewReconciler:!1};function Ol(t,e){if(t&&t.defaultProps){e=Lr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mk(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Lr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var GR={isMounted:function(t){return(t=t._reactInternals)?n0(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=na(),i=Rf(t),s=Ch(r,i);s.payload=e,n!=null&&(s.callback=n),e=Cf(t,s,i),e!==null&&(Yl(e,t,i,r),pA(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=na(),i=Rf(t),s=Ch(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Cf(t,s,i),e!==null&&(Yl(e,t,i,r),pA(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=na(),r=Rf(t),i=Ch(n,r);i.tag=2,e!=null&&(i.callback=e),e=Cf(t,i,r),e!==null&&(Yl(e,t,r,n),pA(e,t,r))}};function tj(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!SM(n,r)||!SM(i,s):!0}function Kie(t,e,n){var r=!1,i=Hf,s=e.contextType;return typeof s=="object"&&s!==null?s=fl(s):(i=Da(e)?Ig:Bs.current,r=e.contextTypes,s=(r=r!=null)?A1(t,i):Hf),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=GR,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nj(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&GR.enqueueReplaceState(e,e.state,null)}function gk(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xz(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fl(s):(s=Da(e)?Ig:Bs.current,i.context=A1(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mk(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&GR.enqueueReplaceState(i,i.state,null),gC(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function L1(t,e){try{var n="",r=e;do n+=rCe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vN(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vk(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RPe=typeof WeakMap=="function"?WeakMap:Map;function Qie(t,e,n){n=Ch(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){SC||(SC=!0,Tk=r),vk(t,e)},n}function Jie(t,e,n){n=Ch(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vk(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vk(t,e),typeof r!="function"&&(Pf===null?Pf=new Set([this]):Pf.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function rj(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RPe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WPe.bind(null,t,e,n),e.then(t,t))}function ij(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sj(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ch(-1,1),e.tag=2,Cf(n,e,1))),n.lanes|=1),t)}var LPe=ad.ReactCurrentOwner,Aa=!1;function Zs(t,e,n,r){e.child=t===null?Cie(e,null,n,r):P1(e,t.child,n,r)}function aj(t,e,n,r,i){n=n.render;var s=e.ref;return i1(e,i),r=Kz(t,e,n,r,s,i),n=Qz(),t!==null&&!Aa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qh(t,e,i)):(pr&&n&&zz(e),e.flags|=1,Zs(t,e,r,i),e.child)}function oj(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!lB(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ese(t,e,s,r,i)):(t=_A(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:SM,n(a,r)&&t.ref===e.ref)return qh(t,e,i)}return e.flags|=1,t=Lf(s,r),t.ref=e.ref,t.return=e,e.child=t}function ese(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(SM(s,r)&&t.ref===e.ref)if(Aa=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Aa=!0);else return e.lanes=t.lanes,qh(t,e,i)}return yk(t,e,n,r,i)}function tse(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Ly,ao),ao|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,er(Ly,ao),ao|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,er(Ly,ao),ao|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,er(Ly,ao),ao|=r;return Zs(t,e,i,n),e.child}function nse(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yk(t,e,n,r,i){var s=Da(n)?Ig:Bs.current;return s=A1(e,s),i1(e,i),n=Kz(t,e,n,r,s,i),r=Qz(),t!==null&&!Aa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qh(t,e,i)):(pr&&r&&zz(e),e.flags|=1,Zs(t,e,n,i),e.child)}function lj(t,e,n,r,i){if(Da(n)){var s=!0;hC(e)}else s=!1;if(i1(e,i),e.stateNode===null)vA(t,e),Kie(e,n,r),gk(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=fl(u):(u=Da(n)?Ig:Bs.current,u=A1(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&nj(e,a,r,u),ef=!1;var f=e.memoizedState;a.state=f,gC(e,r,a,i),l=e.memoizedState,o!==r||f!==l||Na.current||ef?(typeof h=="function"&&(mk(e,n,h,r),l=e.memoizedState),(o=ef||tj(e,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Rie(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ol(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=fl(l):(l=Da(n)?Ig:Bs.current,l=A1(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&nj(e,a,r,l),ef=!1,f=e.memoizedState,a.state=f,gC(e,r,a,i);var v=e.memoizedState;o!==d||f!==v||Na.current||ef?(typeof m=="function"&&(mk(e,n,m,r),v=e.memoizedState),(u=ef||tj(e,n,u,r,f,v,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return xk(t,e,n,r,s,i)}function xk(t,e,n,r,i,s){nse(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&$W(e,n,!1),qh(t,e,s);r=e.stateNode,LPe.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=P1(e,t.child,null,s),e.child=P1(e,null,o,s)):Zs(t,e,o,s),e.memoizedState=r.state,i&&$W(e,n,!0),e.child}function rse(t){var e=t.stateNode;e.pendingContext?XW(t,e.pendingContext,e.pendingContext!==e.context):e.context&&XW(t,e.context,!1),$z(t,e.containerInfo)}function uj(t,e,n,r,i){return C1(),Vz(i),e.flags|=256,Zs(t,e,n,r),e.child}var _k={dehydrated:null,treeContext:null,retryLane:0};function Sk(t){return{baseLanes:t,cachePool:null,transitions:null}}function ise(t,e,n){var r=e.pendingProps,i=Mr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),er(Mr,i&1),t===null)return fk(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=XR(a,r,0,null),t=cg(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sk(n),e.memoizedState=_k,t):tB(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return IPe(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Lf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Lf(o,s):(s=cg(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Sk(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=_k,r}return s=t.child,t=s.sibling,r=Lf(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tB(t,e){return e=XR({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function B2(t,e,n,r){return r!==null&&Vz(r),P1(e,t.child,null,n),t=tB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IPe(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=vN(Error(ct(422))),B2(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=XR({mode:"visible",children:r.children},i,0,null),s=cg(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&P1(e,t.child,null,a),e.child.memoizedState=Sk(a),e.memoizedState=_k,s);if(!(e.mode&1))return B2(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ct(419)),r=vN(s,r,void 0),B2(t,e,a,r)}if(o=(a&t.childLanes)!==0,Aa||o){if(r=Xi,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yh(t,i),Yl(r,t,i,-1))}return oB(),r=vN(Error(ct(421))),B2(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jPe.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,co=Af(i.nextSibling),go=e,pr=!0,Hl=null,t!==null&&(nl[rl++]=vh,nl[rl++]=yh,nl[rl++]=Ng,vh=t.id,yh=t.overflow,Ng=e),e=tB(e,r.children),e.flags|=4096,e)}function cj(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pk(t.return,e,n)}function yN(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sse(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zs(t,e,r.children,n),r=Mr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cj(t,n,e);else if(t.tag===19)cj(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(er(Mr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vC(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yN(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vC(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yN(e,!0,n,null,s);break;case"together":yN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vA(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qh(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Og|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ct(153));if(e.child!==null){for(t=e.child,n=Lf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NPe(t,e,n){switch(e.tag){case 3:rse(e),C1();break;case 5:Lie(e);break;case 1:Da(e.type)&&hC(e);break;case 4:$z(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;er(pC,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(er(Mr,Mr.current&1),e.flags|=128,null):n&e.child.childLanes?ise(t,e,n):(er(Mr,Mr.current&1),t=qh(t,e,n),t!==null?t.sibling:null);er(Mr,Mr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sse(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),er(Mr,Mr.current),r)break;return null;case 22:case 23:return e.lanes=0,tse(t,e,n)}return qh(t,e,n)}var ase,bk,ose,lse;ase=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bk=function(){};ose=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$m(ec.current);var s=null;switch(n){case"input":i=WO(t,i),r=WO(t,r),s=[];break;case"select":i=Lr({},i,{value:void 0}),r=Lr({},r,{value:void 0}),s=[];break;case"textarea":i=$O(t,i),r=$O(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uC)}qO(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pM.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pM.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&sr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};lse=function(t,e,n,r){n!==r&&(e.flags|=4)};function j_(t,e){if(!pr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Es(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DPe(t,e,n){var r=e.pendingProps;switch(Bz(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Es(e),null;case 1:return Da(e.type)&&cC(),Es(e),null;case 3:return r=e.stateNode,R1(),cr(Na),cr(Bs),qz(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(F2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hl!==null&&(Pk(Hl),Hl=null))),bk(t,e),Es(e),null;case 5:Yz(e);var i=$m(TM.current);if(n=e.type,t!==null&&e.stateNode!=null)ose(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ct(166));return Es(e),null}if(t=$m(ec.current),F2(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Du]=e,r[wM]=s,t=(e.mode&1)!==0,n){case"dialog":sr("cancel",r),sr("close",r);break;case"iframe":case"object":case"embed":sr("load",r);break;case"video":case"audio":for(i=0;i<ES.length;i++)sr(ES[i],r);break;case"source":sr("error",r);break;case"img":case"image":case"link":sr("error",r),sr("load",r);break;case"details":sr("toggle",r);break;case"input":xW(r,s),sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},sr("invalid",r);break;case"textarea":SW(r,s),sr("invalid",r)}qO(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&U2(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&U2(r.textContent,o,t),i=["children",""+o]):pM.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&sr("scroll",r)}switch(n){case"input":P2(r),_W(r,s,!0);break;case"textarea":P2(r),bW(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uC)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kre(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Du]=e,t[wM]=r,ase(t,e,!1,!1),e.stateNode=t;e:{switch(a=ZO(n,r),n){case"dialog":sr("cancel",t),sr("close",t),i=r;break;case"iframe":case"object":case"embed":sr("load",t),i=r;break;case"video":case"audio":for(i=0;i<ES.length;i++)sr(ES[i],t);i=r;break;case"source":sr("error",t),i=r;break;case"img":case"image":case"link":sr("error",t),sr("load",t),i=r;break;case"details":sr("toggle",t),i=r;break;case"input":xW(t,r),i=WO(t,r),sr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Lr({},r,{value:void 0}),sr("invalid",t);break;case"textarea":SW(t,r),i=$O(t,r),sr("invalid",t);break;default:i=r}qO(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?zre(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ure(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mM(t,l):typeof l=="number"&&mM(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pM.hasOwnProperty(s)?l!=null&&s==="onScroll"&&sr("scroll",t):l!=null&&Ez(t,s,l,a))}switch(n){case"input":P2(t),_W(t,r,!1);break;case"textarea":P2(t),bW(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vf(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?e1(t,!!r.multiple,s,!1):r.defaultValue!=null&&e1(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uC)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Es(e),null;case 6:if(t&&e.stateNode!=null)lse(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ct(166));if(n=$m(TM.current),$m(ec.current),F2(e)){if(r=e.stateNode,n=e.memoizedProps,r[Du]=e,(s=r.nodeValue!==n)&&(t=go,t!==null))switch(t.tag){case 3:U2(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&U2(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Du]=e,e.stateNode=r}return Es(e),null;case 13:if(cr(Mr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pr&&co!==null&&e.mode&1&&!(e.flags&128))Tie(),C1(),e.flags|=98560,s=!1;else if(s=F2(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ct(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ct(317));s[Du]=e}else C1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Es(e),s=!1}else Hl!==null&&(Pk(Hl),Hl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Mr.current&1?bi===0&&(bi=3):oB())),e.updateQueue!==null&&(e.flags|=4),Es(e),null);case 4:return R1(),bk(t,e),t===null&&bM(e.stateNode.containerInfo),Es(e),null;case 10:return Wz(e.type._context),Es(e),null;case 17:return Da(e.type)&&cC(),Es(e),null;case 19:if(cr(Mr),s=e.memoizedState,s===null)return Es(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)j_(s,!1);else{if(bi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=vC(t),a!==null){for(e.flags|=128,j_(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return er(Mr,Mr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Yr()>I1&&(e.flags|=128,r=!0,j_(s,!1),e.lanes=4194304)}else{if(!r)if(t=vC(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),j_(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pr)return Es(e),null}else 2*Yr()-s.renderingStartTime>I1&&n!==1073741824&&(e.flags|=128,r=!0,j_(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yr(),e.sibling=null,n=Mr.current,er(Mr,r?n&1|2:n&1),e):(Es(e),null);case 22:case 23:return aB(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ao&1073741824&&(Es(e),e.subtreeFlags&6&&(e.flags|=8192)):Es(e),null;case 24:return null;case 25:return null}throw Error(ct(156,e.tag))}function OPe(t,e){switch(Bz(e),e.tag){case 1:return Da(e.type)&&cC(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return R1(),cr(Na),cr(Bs),qz(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yz(e),null;case 13:if(cr(Mr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ct(340));C1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cr(Mr),null;case 4:return R1(),null;case 10:return Wz(e.type._context),null;case 22:case 23:return aB(),null;case 24:return null;default:return null}}var V2=!1,Is=!1,kPe=typeof WeakSet=="function"?WeakSet:Set,It=null;function Ry(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Br(t,e,r)}else n.current=null}function use(t,e,n){try{n()}catch(r){Br(t,e,r)}}var hj=!1;function UPe(t,e){if(ak=aC,t=fie(),Fz(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=a),f===s&&++h===r&&(l=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ok={focusedElem:t,selectionRange:n},aC=!1,It=e;It!==null;)if(e=It,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,It=t;else for(;It!==null;){e=It;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,y=v.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:Ol(e.type,S),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(E){Br(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,It=t;break}It=e.return}return v=hj,hj=!1,v}function cb(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&use(e,n,s)}i=i.next}while(i!==r)}}function WR(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cse(t){var e=t.alternate;e!==null&&(t.alternate=null,cse(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Du],delete e[wM],delete e[ck],delete e[xPe],delete e[_Pe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hse(t){return t.tag===5||t.tag===3||t.tag===4}function dj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hse(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uC));else if(r!==4&&(t=t.child,t!==null))for(wk(t,e,n),t=t.sibling;t!==null;)wk(t,e,n),t=t.sibling}function Ek(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ek(t,e,n),t=t.sibling;t!==null;)Ek(t,e,n),t=t.sibling}var ss=null,Fl=!1;function Fd(t,e,n){for(n=n.child;n!==null;)dse(t,e,n),n=n.sibling}function dse(t,e,n){if(Ju&&typeof Ju.onCommitFiberUnmount=="function")try{Ju.onCommitFiberUnmount(kR,n)}catch{}switch(n.tag){case 5:Is||Ry(n,e);case 6:var r=ss,i=Fl;ss=null,Fd(t,e,n),ss=r,Fl=i,ss!==null&&(Fl?(t=ss,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ss.removeChild(n.stateNode));break;case 18:ss!==null&&(Fl?(t=ss,n=n.stateNode,t.nodeType===8?hN(t.parentNode,n):t.nodeType===1&&hN(t,n),xM(t)):hN(ss,n.stateNode));break;case 4:r=ss,i=Fl,ss=n.stateNode.containerInfo,Fl=!0,Fd(t,e,n),ss=r,Fl=i;break;case 0:case 11:case 14:case 15:if(!Is&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&use(n,e,a),i=i.next}while(i!==r)}Fd(t,e,n);break;case 1:if(!Is&&(Ry(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Br(n,e,o)}Fd(t,e,n);break;case 21:Fd(t,e,n);break;case 22:n.mode&1?(Is=(r=Is)||n.memoizedState!==null,Fd(t,e,n),Is=r):Fd(t,e,n);break;default:Fd(t,e,n)}}function fj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kPe),e.forEach(function(r){var i=XPe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pl(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ss=o.stateNode,Fl=!1;break e;case 3:ss=o.stateNode.containerInfo,Fl=!0;break e;case 4:ss=o.stateNode.containerInfo,Fl=!0;break e}o=o.return}if(ss===null)throw Error(ct(160));dse(s,a,i),ss=null,Fl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Br(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fse(e,t),e=e.sibling}function fse(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pl(e,t),Au(t),r&4){try{cb(3,t,t.return),WR(3,t)}catch(S){Br(t,t.return,S)}try{cb(5,t,t.return)}catch(S){Br(t,t.return,S)}}break;case 1:Pl(e,t),Au(t),r&512&&n!==null&&Ry(n,n.return);break;case 5:if(Pl(e,t),Au(t),r&512&&n!==null&&Ry(n,n.return),t.flags&32){var i=t.stateNode;try{mM(i,"")}catch(S){Br(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Dre(i,s),ZO(o,a);var u=ZO(o,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?zre(i,d):h==="dangerouslySetInnerHTML"?Ure(i,d):h==="children"?mM(i,d):Ez(i,h,d,u)}switch(o){case"input":jO(i,s);break;case"textarea":Ore(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?e1(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?e1(i,!!s.multiple,s.defaultValue,!0):e1(i,!!s.multiple,s.multiple?[]:"",!1))}i[wM]=s}catch(S){Br(t,t.return,S)}}break;case 6:if(Pl(e,t),Au(t),r&4){if(t.stateNode===null)throw Error(ct(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Br(t,t.return,S)}}break;case 3:if(Pl(e,t),Au(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xM(e.containerInfo)}catch(S){Br(t,t.return,S)}break;case 4:Pl(e,t),Au(t);break;case 13:Pl(e,t),Au(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(iB=Yr())),r&4&&fj(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Is=(u=Is)||h,Pl(e,t),Is=u):Pl(e,t),Au(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(It=t,h=t.child;h!==null;){for(d=It=h;It!==null;){switch(f=It,m=f.child,f.tag){case 0:case 11:case 14:case 15:cb(4,f,f.return);break;case 1:Ry(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){Br(r,n,S)}}break;case 5:Ry(f,f.return);break;case 22:if(f.memoizedState!==null){mj(d);continue}}m!==null?(m.return=f,It=m):mj(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Fre("display",a))}catch(S){Br(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){Br(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pl(e,t),Au(t),r&4&&fj(t);break;case 21:break;default:Pl(e,t),Au(t)}}function Au(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hse(n)){var r=n;break e}n=n.return}throw Error(ct(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mM(i,""),r.flags&=-33);var s=dj(t);Ek(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=dj(t);wk(t,o,a);break;default:throw Error(ct(161))}}catch(l){Br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FPe(t,e,n){It=t,pse(t)}function pse(t,e,n){for(var r=(t.mode&1)!==0;It!==null;){var i=It,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||V2;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Is;o=V2;var u=Is;if(V2=a,(Is=l)&&!u)for(It=i;It!==null;)a=It,l=a.child,a.tag===22&&a.memoizedState!==null?gj(i):l!==null?(l.return=a,It=l):gj(i);for(;s!==null;)It=s,pse(s),s=s.sibling;It=i,V2=o,Is=u}pj(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,It=s):pj(t)}}function pj(t){for(;It!==null;){var e=It;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Is||WR(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Is)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ol(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&QW(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QW(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&xM(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}Is||e.flags&512&&Mk(e)}catch(f){Br(e,e.return,f)}}if(e===t){It=null;break}if(n=e.sibling,n!==null){n.return=e.return,It=n;break}It=e.return}}function mj(t){for(;It!==null;){var e=It;if(e===t){It=null;break}var n=e.sibling;if(n!==null){n.return=e.return,It=n;break}It=e.return}}function gj(t){for(;It!==null;){var e=It;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{WR(4,e)}catch(l){Br(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Br(e,i,l)}}var s=e.return;try{Mk(e)}catch(l){Br(e,s,l)}break;case 5:var a=e.return;try{Mk(e)}catch(l){Br(e,a,l)}}}catch(l){Br(e,e.return,l)}if(e===t){It=null;break}var o=e.sibling;if(o!==null){o.return=e.return,It=o;break}It=e.return}}var zPe=Math.ceil,_C=ad.ReactCurrentDispatcher,nB=ad.ReactCurrentOwner,ul=ad.ReactCurrentBatchConfig,Rn=0,Xi=null,li=null,cs=0,ao=0,Ly=sp(0),bi=0,RM=null,Og=0,jR=0,rB=0,hb=null,ba=null,iB=0,I1=1/0,ih=null,SC=!1,Tk=null,Pf=null,H2=!1,pf=null,bC=0,db=0,Ak=null,yA=-1,xA=0;function na(){return Rn&6?Yr():yA!==-1?yA:yA=Yr()}function Rf(t){return t.mode&1?Rn&2&&cs!==0?cs&-cs:bPe.transition!==null?(xA===0&&(xA=Kre()),xA):(t=Wn,t!==0||(t=window.event,t=t===void 0?16:iie(t.type)),t):1}function Yl(t,e,n,r){if(50<db)throw db=0,Ak=null,Error(ct(185));Tw(t,n,r),(!(Rn&2)||t!==Xi)&&(t===Xi&&(!(Rn&2)&&(jR|=n),bi===4&&lf(t,cs)),Oa(t,r),n===1&&Rn===0&&!(e.mode&1)&&(I1=Yr()+500,VR&&ap()))}function Oa(t,e){var n=t.callbackNode;bCe(t,e);var r=sC(t,t===Xi?cs:0);if(r===0)n!==null&&EW(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&EW(n),e===1)t.tag===0?SPe(vj.bind(null,t)):Mie(vj.bind(null,t)),vPe(function(){!(Rn&6)&&ap()}),n=null;else{switch(Qre(r)){case 1:n=Rz;break;case 4:n=qre;break;case 16:n=iC;break;case 536870912:n=Zre;break;default:n=iC}n=bse(n,mse.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mse(t,e){if(yA=-1,xA=0,Rn&6)throw Error(ct(327));var n=t.callbackNode;if(s1()&&t.callbackNode!==n)return null;var r=sC(t,t===Xi?cs:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=MC(t,r);else{e=r;var i=Rn;Rn|=2;var s=vse();(Xi!==t||cs!==e)&&(ih=null,I1=Yr()+500,ug(t,e));do try{HPe();break}catch(o){gse(t,o)}while(!0);Gz(),_C.current=s,Rn=i,li!==null?e=0:(Xi=null,cs=0,e=bi)}if(e!==0){if(e===2&&(i=tk(t),i!==0&&(r=i,e=Ck(t,i))),e===1)throw n=RM,ug(t,0),lf(t,r),Oa(t,Yr()),n;if(e===6)lf(t,r);else{if(i=t.current.alternate,!(r&30)&&!BPe(i)&&(e=MC(t,r),e===2&&(s=tk(t),s!==0&&(r=s,e=Ck(t,s))),e===1))throw n=RM,ug(t,0),lf(t,r),Oa(t,Yr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ct(345));case 2:Am(t,ba,ih);break;case 3:if(lf(t,r),(r&130023424)===r&&(e=iB+500-Yr(),10<e)){if(sC(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){na(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uk(Am.bind(null,t,ba,ih),e);break}Am(t,ba,ih);break;case 4:if(lf(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-$l(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Yr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zPe(r/1960))-r,10<r){t.timeoutHandle=uk(Am.bind(null,t,ba,ih),r);break}Am(t,ba,ih);break;case 5:Am(t,ba,ih);break;default:throw Error(ct(329))}}}return Oa(t,Yr()),t.callbackNode===n?mse.bind(null,t):null}function Ck(t,e){var n=hb;return t.current.memoizedState.isDehydrated&&(ug(t,e).flags|=256),t=MC(t,e),t!==2&&(e=ba,ba=n,e!==null&&Pk(e)),t}function Pk(t){ba===null?ba=t:ba.push.apply(ba,t)}function BPe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ql(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lf(t,e){for(e&=~rB,e&=~jR,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$l(e),r=1<<n;t[n]=-1,e&=~r}}function vj(t){if(Rn&6)throw Error(ct(327));s1();var e=sC(t,0);if(!(e&1))return Oa(t,Yr()),null;var n=MC(t,e);if(t.tag!==0&&n===2){var r=tk(t);r!==0&&(e=r,n=Ck(t,r))}if(n===1)throw n=RM,ug(t,0),lf(t,e),Oa(t,Yr()),n;if(n===6)throw Error(ct(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Am(t,ba,ih),Oa(t,Yr()),null}function sB(t,e){var n=Rn;Rn|=1;try{return t(e)}finally{Rn=n,Rn===0&&(I1=Yr()+500,VR&&ap())}}function kg(t){pf!==null&&pf.tag===0&&!(Rn&6)&&s1();var e=Rn;Rn|=1;var n=ul.transition,r=Wn;try{if(ul.transition=null,Wn=1,t)return t()}finally{Wn=r,ul.transition=n,Rn=e,!(Rn&6)&&ap()}}function aB(){ao=Ly.current,cr(Ly)}function ug(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gPe(n)),li!==null)for(n=li.return;n!==null;){var r=n;switch(Bz(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cC();break;case 3:R1(),cr(Na),cr(Bs),qz();break;case 5:Yz(r);break;case 4:R1();break;case 13:cr(Mr);break;case 19:cr(Mr);break;case 10:Wz(r.type._context);break;case 22:case 23:aB()}n=n.return}if(Xi=t,li=t=Lf(t.current,null),cs=ao=e,bi=0,RM=null,rB=jR=Og=0,ba=hb=null,Xm!==null){for(e=0;e<Xm.length;e++)if(n=Xm[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Xm=null}return t}function gse(t,e){do{var n=li;try{if(Gz(),mA.current=xC,yC){for(var r=Cr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yC=!1}if(Dg=0,Bi=xi=Cr=null,ub=!1,AM=0,nB.current=null,n===null||n.return===null){bi=1,RM=e,li=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=cs,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=ij(a);if(m!==null){m.flags&=-257,sj(m,a,o,s,e),m.mode&1&&rj(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var S=new Set;S.add(l),e.updateQueue=S}else v.add(l);break e}else{if(!(e&1)){rj(s,u,e),oB();break e}l=Error(ct(426))}}else if(pr&&o.mode&1){var y=ij(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),sj(y,a,o,s,e),Vz(L1(l,o));break e}}s=l=L1(l,o),bi!==4&&(bi=2),hb===null?hb=[s]:hb.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Qie(s,l,e);KW(s,g);break e;case 1:o=l;var b=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Pf===null||!Pf.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Jie(s,o,e);KW(s,E);break e}}s=s.return}while(s!==null)}xse(n)}catch(P){e=P,li===n&&n!==null&&(li=n=n.return);continue}break}while(!0)}function vse(){var t=_C.current;return _C.current=xC,t===null?xC:t}function oB(){(bi===0||bi===3||bi===2)&&(bi=4),Xi===null||!(Og&268435455)&&!(jR&268435455)||lf(Xi,cs)}function MC(t,e){var n=Rn;Rn|=2;var r=vse();(Xi!==t||cs!==e)&&(ih=null,ug(t,e));do try{VPe();break}catch(i){gse(t,i)}while(!0);if(Gz(),Rn=n,_C.current=r,li!==null)throw Error(ct(261));return Xi=null,cs=0,bi}function VPe(){for(;li!==null;)yse(li)}function HPe(){for(;li!==null&&!fCe();)yse(li)}function yse(t){var e=Sse(t.alternate,t,ao);t.memoizedProps=t.pendingProps,e===null?xse(t):li=e,nB.current=null}function xse(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OPe(n,e),n!==null){n.flags&=32767,li=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bi=6,li=null;return}}else if(n=DPe(n,e,ao),n!==null){li=n;return}if(e=e.sibling,e!==null){li=e;return}li=e=t}while(e!==null);bi===0&&(bi=5)}function Am(t,e,n){var r=Wn,i=ul.transition;try{ul.transition=null,Wn=1,GPe(t,e,n,r)}finally{ul.transition=i,Wn=r}return null}function GPe(t,e,n,r){do s1();while(pf!==null);if(Rn&6)throw Error(ct(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ct(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MCe(t,s),t===Xi&&(li=Xi=null,cs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||H2||(H2=!0,bse(iC,function(){return s1(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ul.transition,ul.transition=null;var a=Wn;Wn=1;var o=Rn;Rn|=4,nB.current=null,UPe(t,n),fse(n,t),uPe(ok),aC=!!ak,ok=ak=null,t.current=n,FPe(n),pCe(),Rn=o,Wn=a,ul.transition=s}else t.current=n;if(H2&&(H2=!1,pf=t,bC=i),s=t.pendingLanes,s===0&&(Pf=null),vCe(n.stateNode),Oa(t,Yr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(SC)throw SC=!1,t=Tk,Tk=null,t;return bC&1&&t.tag!==0&&s1(),s=t.pendingLanes,s&1?t===Ak?db++:(db=0,Ak=t):db=0,ap(),null}function s1(){if(pf!==null){var t=Qre(bC),e=ul.transition,n=Wn;try{if(ul.transition=null,Wn=16>t?16:t,pf===null)var r=!1;else{if(t=pf,pf=null,bC=0,Rn&6)throw Error(ct(331));var i=Rn;for(Rn|=4,It=t.current;It!==null;){var s=It,a=s.child;if(It.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(It=u;It!==null;){var h=It;switch(h.tag){case 0:case 11:case 15:cb(8,h,s)}var d=h.child;if(d!==null)d.return=h,It=d;else for(;It!==null;){h=It;var f=h.sibling,m=h.return;if(cse(h),h===u){It=null;break}if(f!==null){f.return=m,It=f;break}It=m}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var y=S.sibling;S.sibling=null,S=y}while(S!==null)}}It=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,It=a;else e:for(;It!==null;){if(s=It,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cb(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,It=g;break e}It=s.return}}var b=t.current;for(It=b;It!==null;){a=It;var M=a.child;if(a.subtreeFlags&2064&&M!==null)M.return=a,It=M;else e:for(a=b;It!==null;){if(o=It,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:WR(9,o)}}catch(P){Br(o,o.return,P)}if(o===a){It=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,It=E;break e}It=o.return}}if(Rn=i,ap(),Ju&&typeof Ju.onPostCommitFiberRoot=="function")try{Ju.onPostCommitFiberRoot(kR,t)}catch{}r=!0}return r}finally{Wn=n,ul.transition=e}}return!1}function yj(t,e,n){e=L1(n,e),e=Qie(t,e,1),t=Cf(t,e,1),e=na(),t!==null&&(Tw(t,1,e),Oa(t,e))}function Br(t,e,n){if(t.tag===3)yj(t,t,n);else for(;e!==null;){if(e.tag===3){yj(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pf===null||!Pf.has(r))){t=L1(n,t),t=Jie(e,t,1),e=Cf(e,t,1),t=na(),e!==null&&(Tw(e,1,t),Oa(e,t));break}}e=e.return}}function WPe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=na(),t.pingedLanes|=t.suspendedLanes&n,Xi===t&&(cs&n)===n&&(bi===4||bi===3&&(cs&130023424)===cs&&500>Yr()-iB?ug(t,0):rB|=n),Oa(t,e)}function _se(t,e){e===0&&(t.mode&1?(e=I2,I2<<=1,!(I2&130023424)&&(I2=4194304)):e=1);var n=na();t=Yh(t,e),t!==null&&(Tw(t,e,n),Oa(t,n))}function jPe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_se(t,n)}function XPe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(e),_se(t,n)}var Sse;Sse=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Na.current)Aa=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Aa=!1,NPe(t,e,n);Aa=!!(t.flags&131072)}else Aa=!1,pr&&e.flags&1048576&&wie(e,fC,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vA(t,e),t=e.pendingProps;var i=A1(e,Bs.current);i1(e,n),i=Kz(null,e,r,t,i,n);var s=Qz();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Da(r)?(s=!0,hC(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xz(e),i.updater=GR,e.stateNode=i,i._reactInternals=e,gk(e,r,t,n),e=xk(null,e,r,!0,s,n)):(e.tag=0,pr&&s&&zz(e),Zs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vA(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YPe(r),t=Ol(r,t),i){case 0:e=yk(null,e,r,t,n);break e;case 1:e=lj(null,e,r,t,n);break e;case 11:e=aj(null,e,r,t,n);break e;case 14:e=oj(null,e,r,Ol(r.type,t),n);break e}throw Error(ct(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ol(r,i),yk(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ol(r,i),lj(t,e,r,i,n);case 3:e:{if(rse(e),t===null)throw Error(ct(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Rie(t,e),gC(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=L1(Error(ct(423)),e),e=uj(t,e,r,n,i);break e}else if(r!==i){i=L1(Error(ct(424)),e),e=uj(t,e,r,n,i);break e}else for(co=Af(e.stateNode.containerInfo.firstChild),go=e,pr=!0,Hl=null,n=Cie(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(C1(),r===i){e=qh(t,e,n);break e}Zs(t,e,r,n)}e=e.child}return e;case 5:return Lie(e),t===null&&fk(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,lk(r,i)?a=null:s!==null&&lk(r,s)&&(e.flags|=32),nse(t,e),Zs(t,e,a,n),e.child;case 6:return t===null&&fk(e),null;case 13:return ise(t,e,n);case 4:return $z(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=P1(e,null,r,n):Zs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ol(r,i),aj(t,e,r,i,n);case 7:return Zs(t,e,e.pendingProps,n),e.child;case 8:return Zs(t,e,e.pendingProps.children,n),e.child;case 12:return Zs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,er(pC,r._currentValue),r._currentValue=a,s!==null)if(Ql(s.value,a)){if(s.children===i.children&&!Na.current){e=qh(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ch(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pk(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ct(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),pk(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Zs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,i1(e,n),i=fl(i),r=r(i),e.flags|=1,Zs(t,e,r,n),e.child;case 14:return r=e.type,i=Ol(r,e.pendingProps),i=Ol(r.type,i),oj(t,e,r,i,n);case 15:return ese(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ol(r,i),vA(t,e),e.tag=1,Da(r)?(t=!0,hC(e)):t=!1,i1(e,n),Kie(e,r,i),gk(e,r,i,n),xk(null,e,r,!0,t,n);case 19:return sse(t,e,n);case 22:return tse(t,e,n)}throw Error(ct(156,e.tag))};function bse(t,e){return Yre(t,e)}function $Pe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function al(t,e,n,r){return new $Pe(t,e,n,r)}function lB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YPe(t){if(typeof t=="function")return lB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Az)return 11;if(t===Cz)return 14}return 2}function Lf(t,e){var n=t.alternate;return n===null?(n=al(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _A(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")lB(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Sy:return cg(n.children,i,s,e);case Tz:a=8,i|=8;break;case BO:return t=al(12,n,e,i|2),t.elementType=BO,t.lanes=s,t;case VO:return t=al(13,n,e,i),t.elementType=VO,t.lanes=s,t;case HO:return t=al(19,n,e,i),t.elementType=HO,t.lanes=s,t;case Lre:return XR(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pre:a=10;break e;case Rre:a=9;break e;case Az:a=11;break e;case Cz:a=14;break e;case Jd:a=16,r=null;break e}throw Error(ct(130,t==null?t:typeof t,""))}return e=al(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function cg(t,e,n,r){return t=al(7,t,r,e),t.lanes=n,t}function XR(t,e,n,r){return t=al(22,t,r,e),t.elementType=Lre,t.lanes=n,t.stateNode={isHidden:!1},t}function xN(t,e,n){return t=al(6,t,null,e),t.lanes=n,t}function _N(t,e,n){return e=al(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qPe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eN(0),this.expirationTimes=eN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eN(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uB(t,e,n,r,i,s,a,o,l){return t=new qPe(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=al(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xz(s),t}function ZPe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_y,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mse(t){if(!t)return Hf;t=t._reactInternals;e:{if(n0(t)!==t||t.tag!==1)throw Error(ct(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Da(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ct(171))}if(t.tag===1){var n=t.type;if(Da(n))return bie(t,n,e)}return e}function wse(t,e,n,r,i,s,a,o,l){return t=uB(n,r,!0,t,i,s,a,o,l),t.context=Mse(null),n=t.current,r=na(),i=Rf(n),s=Ch(r,i),s.callback=e??null,Cf(n,s,i),t.current.lanes=i,Tw(t,i,r),Oa(t,r),t}function $R(t,e,n,r){var i=e.current,s=na(),a=Rf(i);return n=Mse(n),e.context===null?e.context=n:e.pendingContext=n,e=Ch(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cf(i,e,a),t!==null&&(Yl(t,i,a,s),pA(t,i,a)),a}function wC(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cB(t,e){xj(t,e),(t=t.alternate)&&xj(t,e)}function KPe(){return null}var Ese=typeof reportError=="function"?reportError:function(t){console.error(t)};function hB(t){this._internalRoot=t}YR.prototype.render=hB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ct(409));$R(t,e,null,null)};YR.prototype.unmount=hB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kg(function(){$R(null,t,null,null)}),e[$h]=null}};function YR(t){this._internalRoot=t}YR.prototype.unstable_scheduleHydration=function(t){if(t){var e=tie();t={blockedOn:null,target:t,priority:e};for(var n=0;n<of.length&&e!==0&&e<of[n].priority;n++);of.splice(n,0,t),n===0&&rie(t)}};function dB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _j(){}function QPe(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=wC(a);s.call(u)}}var a=wse(e,r,t,0,null,!1,!1,"",_j);return t._reactRootContainer=a,t[$h]=a.current,bM(t.nodeType===8?t.parentNode:t),kg(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=wC(l);o.call(u)}}var l=uB(t,0,!1,null,null,!1,!1,"",_j);return t._reactRootContainer=l,t[$h]=l.current,bM(t.nodeType===8?t.parentNode:t),kg(function(){$R(e,l,n,r)}),l}function ZR(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=wC(a);o.call(l)}}$R(e,a,t,i)}else a=QPe(n,e,t,i,r);return wC(a)}Jre=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wS(e.pendingLanes);n!==0&&(Lz(e,n|1),Oa(e,Yr()),!(Rn&6)&&(I1=Yr()+500,ap()))}break;case 13:kg(function(){var r=Yh(t,1);if(r!==null){var i=na();Yl(r,t,1,i)}}),cB(t,1)}};Iz=function(t){if(t.tag===13){var e=Yh(t,134217728);if(e!==null){var n=na();Yl(e,t,134217728,n)}cB(t,134217728)}};eie=function(t){if(t.tag===13){var e=Rf(t),n=Yh(t,e);if(n!==null){var r=na();Yl(n,t,e,r)}cB(t,e)}};tie=function(){return Wn};nie=function(t,e){var n=Wn;try{return Wn=t,e()}finally{Wn=n}};QO=function(t,e,n){switch(e){case"input":if(jO(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=BR(r);if(!i)throw Error(ct(90));Nre(r),jO(r,i)}}}break;case"textarea":Ore(t,n);break;case"select":e=n.value,e!=null&&e1(t,!!n.multiple,e,!1)}};Hre=sB;Gre=kg;var JPe={usingClientEntryPoint:!1,Events:[Cw,Ey,BR,Bre,Vre,sB]},X_={findFiberByHostInstance:jm,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eRe={bundleType:X_.bundleType,version:X_.version,rendererPackageName:X_.rendererPackageName,rendererConfig:X_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ad.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xre(t),t===null?null:t.stateNode},findFiberByHostInstance:X_.findFiberByHostInstance||KPe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var G2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!G2.isDisabled&&G2.supportsFiber)try{kR=G2.inject(eRe),Ju=G2}catch{}}Po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JPe;Po.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dB(e))throw Error(ct(200));return ZPe(t,e,null,n)};Po.createRoot=function(t,e){if(!dB(t))throw Error(ct(299));var n=!1,r="",i=Ese;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uB(t,1,!1,null,null,n,!1,r,i),t[$h]=e.current,bM(t.nodeType===8?t.parentNode:t),new hB(e)};Po.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ct(188)):(t=Object.keys(t).join(","),Error(ct(268,t)));return t=Xre(e),t=t===null?null:t.stateNode,t};Po.flushSync=function(t){return kg(t)};Po.hydrate=function(t,e,n){if(!qR(e))throw Error(ct(200));return ZR(null,t,e,!0,n)};Po.hydrateRoot=function(t,e,n){if(!dB(t))throw Error(ct(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Ese;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=wse(e,null,t,1,n??null,i,!1,s,a),t[$h]=e.current,bM(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new YR(e)};Po.render=function(t,e,n){if(!qR(e))throw Error(ct(200));return ZR(null,t,e,!1,n)};Po.unmountComponentAtNode=function(t){if(!qR(t))throw Error(ct(40));return t._reactRootContainer?(kg(function(){ZR(null,null,t,!1,function(){t._reactRootContainer=null,t[$h]=null})}),!0):!1};Po.unstable_batchedUpdates=sB;Po.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qR(n))throw Error(ct(200));if(t==null||t._reactInternals===void 0)throw Error(ct(38));return ZR(t,e,n,!1,r)};Po.version="18.3.1-next-f1338f8080-20240426";function Tse(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tse)}catch(t){console.error(t)}}Tse(),Ere.exports=Po;var Ase=Ere.exports;const Iy=e0(Ase);var Cse,Sj=Ase;Cse=Sj.createRoot,Sj.hydrateRoot;var Pse={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Pse);var tRe=Pse.exports;const Zr=e0(tRe);function Rk(){return Rk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rk.apply(null,arguments)}function Rse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function bj(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function nRe(t){var e=rRe(t,"string");return typeof e=="symbol"?e:String(e)}function rRe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iRe(t,e,n){var r=fe.useRef(t!==void 0),i=fe.useState(e),s=i[0],a=i[1],o=t!==void 0,l=r.current;return r.current=o,!o&&l&&s!==e&&a(e),[o?t:s,fe.useCallback(function(u){for(var h=arguments.length,d=new Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),a(u)},[n])]}function Lse(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,a=s[bj(r)],o=s[r],l=Rse(s,[bj(r),r].map(nRe)),u=e[r],h=iRe(o,a,t[u]),d=h[0],f=h[1];return Rk({},l,(i={},i[r]=d,i[u]=f,i))},t)}function Lk(t,e){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Lk(t,e)}function sRe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Lk(t,e)}const aRe=["xxl","xl","lg","md","sm","xs"],oRe="xs",fB=fe.createContext({prefixes:{},breakpoints:aRe,minBreakpoint:oRe});function Hs(t,e){const{prefixes:n}=fe.useContext(fB);return t||n[e]||e}function Ise(){const{breakpoints:t}=fe.useContext(fB);return t}function Nse(){const{minBreakpoint:t}=fe.useContext(fB);return t}function pB(t){return t&&t.ownerDocument||document}function lRe(t){var e=pB(t);return e&&e.defaultView||window}function uRe(t,e){return lRe(t).getComputedStyle(t,e)}var cRe=/([A-Z])/g;function hRe(t){return t.replace(cRe,"-$1").toLowerCase()}var dRe=/^ms-/;function W2(t){return hRe(t).replace(dRe,"-ms-")}var fRe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function pRe(t){return!!(t&&fRe.test(t))}function Ph(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(W2(e))||uRe(t).getPropertyValue(W2(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(W2(i)):pRe(i)?r+=i+"("+s+") ":n+=W2(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var Dse={exports:{}},mRe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gRe=mRe,vRe=gRe;function Ose(){}function kse(){}kse.resetWarningCache=Ose;var yRe=function(){function t(r,i,s,a,o,l){if(l!==vRe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kse,resetWarningCache:Ose};return n.PropTypes=n,n};Dse.exports=yRe();var xRe=Dse.exports;const hn=e0(xRe),Mj={disabled:!1},Use=Wi.createContext(null);var _Re=function(t){return t.scrollTop},TS="unmounted",tf="exited",Gl="entering",ch="entered",LM="exiting",od=function(t){sRe(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=i,o=a&&!a.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?o?(l=tf,s.appearStatus=Gl):l=ch:r.unmountOnExit||r.mountOnEnter?l=TS:l=tf,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,i){var s=r.in;return s&&i.status===TS?{status:tf}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var i=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==Gl&&s!==ch&&(i=Gl):(s===Gl||s===ch)&&(i=LM)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,i,s,a;return i=s=a=r,r!=null&&typeof r!="number"&&(i=r.exit,s=r.enter,a=r.appear!==void 0?r.appear:s),{exit:i,enter:s,appear:a}},n.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===Gl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Iy.findDOMNode(this);s&&_Re(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tf&&this.setState({status:TS})},n.performEnter=function(r){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:r,o=this.props.nodeRef?[a]:[Iy.findDOMNode(this),a],l=o[0],u=o[1],h=this.getTimeouts(),d=a?h.appear:h.enter;if(!r&&!s||Mj.disabled){this.safeSetState({status:ch},function(){i.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:Gl},function(){i.props.onEntering(l,u),i.onTransitionEnd(d,function(){i.safeSetState({status:ch},function(){i.props.onEntered(l,u)})})})},n.performExit=function(){var r=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Iy.findDOMNode(this);if(!i||Mj.disabled){this.safeSetState({status:tf},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:LM},function(){r.props.onExiting(a),r.onTransitionEnd(s.exit,function(){r.safeSetState({status:tf},function(){r.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},n.setNextCallback=function(r){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,r(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(r,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:Iy.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],l=o[0],u=o[1];this.props.addEndListener(l,u)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===TS)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=Rse(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Wi.createElement(Use.Provider,{value:null},typeof s=="function"?s(r,a):Wi.cloneElement(Wi.Children.only(s),a))},e}(Wi.Component);od.contextType=Use;od.propTypes={};function bv(){}od.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bv,onEntering:bv,onEntered:bv,onExit:bv,onExiting:bv,onExited:bv};od.UNMOUNTED=TS;od.EXITED=tf;od.ENTERING=Gl;od.ENTERED=ch;od.EXITING=LM;const KR=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ik=!1,Nk=!1;try{var SN={get passive(){return Ik=!0},get once(){return Nk=Ik=!0}};KR&&(window.addEventListener("test",SN,SN),window.removeEventListener("test",SN,!0))}catch{}function SRe(t,e,n,r){if(r&&typeof r!="boolean"&&!Nk){var i=r.once,s=r.capture,a=n;!Nk&&i&&(a=n.__once||function o(l){this.removeEventListener(e,o,s),n.call(this,l)},n.__once=a),t.addEventListener(e,a,Ik?r:s)}t.addEventListener(e,n,r)}function bRe(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function EC(t,e,n,r){return SRe(t,e,n,r),function(){bRe(t,e,n,r)}}function MRe(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function wRe(t){var e=Ph(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function ERe(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||MRe(t,"transitionend",!0)},e+n),s=EC(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function TRe(t,e,n,r){n==null&&(n=wRe(t)||0);var i=ERe(t,n,r),s=EC(t,"transitionend",e);return function(){i(),s()}}function wj(t,e){const n=Ph(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function mB(t,e){const n=wj(t,"transitionDuration"),r=wj(t,"transitionDelay"),i=TRe(t,s=>{s.target===t&&(i(),e(s))},n+r)}function $_(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function Fse(t){t.offsetHeight}const Ej=t=>!t||typeof t=="function"?t:e=>{t.current=e};function ARe(t,e){const n=Ej(t),r=Ej(e);return i=>{n&&n(i),r&&r(i)}}function Rw(t,e){return fe.useMemo(()=>ARe(t,e),[t,e])}function CRe(t){return t&&"setState"in t?Iy.findDOMNode(t):t??null}const gB=Wi.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:a,children:o,childRef:l,...u},h)=>{const d=fe.useRef(null),f=Rw(d,l),m=A=>{f(CRe(A))},v=A=>L=>{A&&d.current&&A(d.current,L)},S=fe.useCallback(v(t),[t]),y=fe.useCallback(v(e),[e]),g=fe.useCallback(v(n),[n]),b=fe.useCallback(v(r),[r]),M=fe.useCallback(v(i),[i]),E=fe.useCallback(v(s),[s]),P=fe.useCallback(v(a),[a]);return Fe.jsx(od,{ref:h,...u,onEnter:S,onEntered:g,onEntering:y,onExit:b,onExited:E,onExiting:M,addEndListener:P,nodeRef:d,children:typeof o=="function"?(A,L)=>o(A,{...L,ref:m}):Wi.cloneElement(o,{ref:m})})}),PRe={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function RRe(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=PRe[t];return r+parseInt(Ph(e,i[0]),10)+parseInt(Ph(e,i[1]),10)}const LRe={[tf]:"collapse",[LM]:"collapsing",[Gl]:"collapsing",[ch]:"collapse show"},IRe=Wi.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:a,dimension:o="height",in:l=!1,timeout:u=300,mountOnEnter:h=!1,unmountOnExit:d=!1,appear:f=!1,getDimensionValue:m=RRe,...v},S)=>{const y=typeof o=="function"?o():o,g=fe.useMemo(()=>$_(A=>{A.style[y]="0"},t),[y,t]),b=fe.useMemo(()=>$_(A=>{const L=`scroll${y[0].toUpperCase()}${y.slice(1)}`;A.style[y]=`${A[L]}px`},e),[y,e]),M=fe.useMemo(()=>$_(A=>{A.style[y]=null},n),[y,n]),E=fe.useMemo(()=>$_(A=>{A.style[y]=`${m(y,A)}px`,Fse(A)},r),[r,m,y]),P=fe.useMemo(()=>$_(A=>{A.style[y]=null},i),[y,i]);return Fe.jsx(gB,{ref:S,addEndListener:mB,...v,"aria-expanded":v.role?l:null,onEnter:g,onEntering:b,onEntered:M,onExit:E,onExiting:P,childRef:a.ref,in:l,timeout:u,mountOnEnter:h,unmountOnExit:d,appear:f,children:(A,L)=>Wi.cloneElement(a,{...L,className:Zr(s,a.props.className,LRe[A],y==="width"&&"collapse-horizontal")})})});function NRe(t){const e=fe.useRef(t);return fe.useEffect(()=>{e.current=t},[t]),e}function lo(t){const e=NRe(t);return fe.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const DRe=t=>fe.forwardRef((e,n)=>Fe.jsx("div",{...e,ref:n,className:Zr(e.className,t)}));function ORe(){const t=fe.useRef(!0),e=fe.useRef(()=>t.current);return fe.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function kRe(t){const e=fe.useRef(null);return fe.useEffect(()=>{e.current=t}),e.current}const URe=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",FRe=typeof document<"u",Dk=FRe||URe?fe.useLayoutEffect:fe.useEffect,zRe=["as","disabled"];function BRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VRe(t){return!t||t.trim()==="#"}function zse({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:a,tabIndex:o=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const h=f=>{if((e||t==="a"&&VRe(n))&&f.preventDefault(),e){f.stopPropagation();return}a==null||a(f)},d=f=>{f.key===" "&&(f.preventDefault(),h(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:o,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:h,onKeyDown:d},u]}const Bse=fe.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=BRe(t,zRe);const[s,{tagName:a}]=zse(Object.assign({tagName:n,disabled:r},i));return Fe.jsx(a,Object.assign({},i,s,{ref:e}))});Bse.displayName="Button";const HRe=["onKeyDown"];function GRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WRe(t){return!t||t.trim()==="#"}const Vse=fe.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=GRe(t,HRe);const[i]=zse(Object.assign({tagName:"a"},r)),s=lo(a=>{i.onKeyDown(a),n==null||n(a)});return WRe(r.href)||r.role==="button"?Fe.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):Fe.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});Vse.displayName="Anchor";function jRe(t){return t.code==="Escape"||t.keyCode===27}function Hse(){const t=fe.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const XRe={[Gl]:"show",[ch]:"show"},Gse=fe.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},o=fe.useCallback((h,d)=>{Fse(h),r==null||r(h,d)},[r]),{major:l}=Hse(),u=l>=19?e.props.ref:e.ref;return Fe.jsx(gB,{ref:s,addEndListener:mB,...a,onEnter:o,childRef:u,children:(h,d)=>fe.cloneElement(e,{...d,className:Zr("fade",t,e.props.className,XRe[h],n[h])})})});Gse.displayName="Fade";const $Re={"aria-label":hn.string,onClick:hn.func,variant:hn.oneOf(["white"])},vB=fe.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>Fe.jsx("button",{ref:i,type:"button",className:Zr("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));vB.displayName="CloseButton";vB.propTypes=$Re;const Wse=fe.createContext(null);Wse.displayName="CardHeaderContext";function YRe(t){const e=fe.useRef(t);return e.current=t,e}function qRe(t){const e=YRe(t);fe.useEffect(()=>()=>e.current(),[])}function ZRe({as:t,bsPrefix:e,className:n,...r}){e=Hs(e,"col");const i=Ise(),s=Nse(),a=[],o=[];return i.forEach(l=>{const u=r[l];delete r[l];let h,d,f;typeof u=="object"&&u!=null?{span:h,offset:d,order:f}=u:h=u;const m=l!==s?`-${l}`:"";h&&a.push(h===!0?`${e}${m}`:`${e}${m}-${h}`),f!=null&&o.push(`order${m}-${f}`),d!=null&&o.push(`offset${m}-${d}`)}),[{...r,className:Zr(n,...a,...o)},{as:t,bsPrefix:e,spans:a}]}const jse=fe.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:a}]=ZRe(t);return Fe.jsx(i,{...r,ref:e,className:Zr(n,!a.length&&s)})});jse.displayName="Col";const Xse=fe.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const a=Hs(t,"container"),o=typeof e=="string"?`-${e}`:"-fluid";return Fe.jsx(n,{ref:s,...i,className:Zr(r,e?`${a}${o}`:a)})});Xse.displayName="Container";var KRe=Function.prototype.bind.call(Function.prototype.call,[].slice);function Cm(t,e){return KRe(t.querySelectorAll(e))}function QRe(){const[,t]=fe.useReducer(e=>!e,!1);return t}function Tj(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const TC=fe.createContext(null),yB=(t,e=null)=>t!=null?String(t):e||null,xB=fe.createContext(null);xB.displayName="NavContext";const JRe="data-rr-ui-",eLe="rrUi";function QR(t){return`${JRe}${t}`}function tLe(t){return`${eLe}${t}`}const $se=fe.createContext(KR?window:void 0);$se.Provider;function _B(){return fe.useContext($se)}const sx=fe.createContext(null);sx.displayName="NavbarContext";const Yse=fe.createContext(null),nLe=["as","active","eventKey"];function rLe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qse({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const a=fe.useContext(TC),o=fe.useContext(xB),l=fe.useContext(Yse);let u=n;const h={role:i};if(o){!i&&o.role==="tablist"&&(h.role="tab");const d=o.getControllerId(t??null),f=o.getControlledId(t??null);h[QR("event-key")]=t,h.id=d||r,u=n==null&&t!=null?o.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(h["aria-controls"]=f)}return h.role==="tab"&&(h["aria-selected"]=u,u||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=lo(d=>{s||(e==null||e(d),t!=null&&a&&!d.isPropagationStopped()&&a(t,d))}),[h,{isActive:u}]}const Zse=fe.forwardRef((t,e)=>{let{as:n=Bse,active:r,eventKey:i}=t,s=rLe(t,nLe);const[a,o]=qse(Object.assign({key:yB(i,s.href),active:r},s));return a[QR("active")]=o.isActive,Fe.jsx(n,Object.assign({},s,a,{ref:e}))});Zse.displayName="NavItem";const iLe=["as","onSelect","activeKey","role","onKeyDown"];function sLe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Aj=()=>{},Cj=QR("event-key"),Kse=fe.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:a}=t,o=sLe(t,iLe);const l=QRe(),u=fe.useRef(!1),h=fe.useContext(TC),d=fe.useContext(Yse);let f,m;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,m=d.getControllerId);const v=fe.useRef(null),S=M=>{const E=v.current;if(!E)return null;const P=Cm(E,`[${Cj}]:not([aria-disabled=true])`),A=E.querySelector("[aria-selected=true]");if(!A||A!==document.activeElement)return null;const L=P.indexOf(A);if(L===-1)return null;let I=L+M;return I>=P.length&&(I=0),I<0&&(I=P.length-1),P[I]},y=(M,E)=>{M!=null&&(r==null||r(M,E),h==null||h(M,E))},g=M=>{if(a==null||a(M),!d)return;let E;switch(M.key){case"ArrowLeft":case"ArrowUp":E=S(-1);break;case"ArrowRight":case"ArrowDown":E=S(1);break;default:return}E&&(M.preventDefault(),y(E.dataset[tLe("EventKey")]||null,M),u.current=!0,l())};fe.useEffect(()=>{if(v.current&&u.current){const M=v.current.querySelector(`[${Cj}][aria-selected=true]`);M==null||M.focus()}u.current=!1});const b=Rw(e,v);return Fe.jsx(TC.Provider,{value:y,children:Fe.jsx(xB.Provider,{value:{role:s,activeKey:yB(i),getControlledId:f||Aj,getControllerId:m||Aj},children:Fe.jsx(n,Object.assign({},o,{onKeyDown:g,ref:b,role:s}))})})});Kse.displayName="Nav";const aLe=Object.assign(Kse,{Item:Zse});function bN(t){t===void 0&&(t=pB());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function oLe(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Pj=QR("modal-open");class SB{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return oLe(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Ph(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(Pj,""),Ph(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Pj),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const MN=(t,e)=>KR?t==null?(e||pB()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function lLe(t,e){const n=_B(),[r,i]=fe.useState(()=>MN(t,n==null?void 0:n.document));if(!r){const s=MN(t);s&&i(s)}return fe.useEffect(()=>{},[e,r]),fe.useEffect(()=>{const s=MN(t);s!==r&&i(s)},[t,r]),r}function uLe({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=fe.useRef(null),a=fe.useRef(e),o=lo(n);fe.useEffect(()=>{e?a.current=!0:o(s.current)},[e,o]);const l=Rw(s,t.ref),u=fe.cloneElement(t,{ref:l});return e?u:i||!a.current&&r?null:u}const cLe=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function hLe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dLe(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:a,addEndListener:o,children:l}=t,u=hLe(t,cLe);const{major:h}=Hse(),d=h>=19?l.props.ref:l.ref,f=fe.useRef(null),m=Rw(f,typeof l=="function"?null:d),v=A=>L=>{A&&f.current&&A(f.current,L)},S=fe.useCallback(v(e),[e]),y=fe.useCallback(v(n),[n]),g=fe.useCallback(v(r),[r]),b=fe.useCallback(v(i),[i]),M=fe.useCallback(v(s),[s]),E=fe.useCallback(v(a),[a]),P=fe.useCallback(v(o),[o]);return Object.assign({},u,{nodeRef:f},e&&{onEnter:S},n&&{onEntering:y},r&&{onEntered:g},i&&{onExit:b},s&&{onExiting:M},a&&{onExited:E},o&&{addEndListener:P},{children:typeof l=="function"?(A,L)=>l(A,Object.assign({},L,{ref:m})):fe.cloneElement(l,{ref:m})})}const fLe=["component"];function pLe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const mLe=fe.forwardRef((t,e)=>{let{component:n}=t,r=pLe(t,fLe);const i=dLe(r);return Fe.jsx(n,Object.assign({ref:e},i))});function gLe({in:t,onTransition:e}){const n=fe.useRef(null),r=fe.useRef(!0),i=lo(e);return Dk(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),Dk(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function vLe({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,a]=fe.useState(!e);e&&s&&a(!1);const o=gLe({in:!!e,onTransition:u=>{const h=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(a(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(h,d=>{throw u.in||a(!0),d})}}),l=Rw(o,t.ref);return s&&!e?null:fe.cloneElement(t,{ref:l})}function Rj(t,e,n){return t?Fe.jsx(mLe,Object.assign({},n,{component:t})):e?Fe.jsx(vLe,Object.assign({},n,{transition:e})):Fe.jsx(uLe,Object.assign({},n))}const yLe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function xLe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let wN;function _Le(t){return wN||(wN=new SB({ownerDocument:t==null?void 0:t.document})),wN}function SLe(t){const e=_B(),n=t||_Le(e),r=fe.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:fe.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:fe.useCallback(i=>{r.current.backdrop=i},[])})}const Qse=fe.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:a,backdrop:o=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:d,runTransition:f,backdropTransition:m,runBackdropTransition:v,autoFocus:S=!0,enforceFocus:y=!0,restoreFocus:g=!0,restoreFocusOptions:b,renderDialog:M,renderBackdrop:E=Ee=>Fe.jsx("div",Object.assign({},Ee)),manager:P,container:A,onShow:L,onHide:I=()=>{},onExit:R,onExited:C,onExiting:O,onEnter:G,onEntering:j,onEntered:q}=t,Q=xLe(t,yLe);const X=_B(),se=lLe(A),D=SLe(P),V=ORe(),B=kRe(n),[$,te]=fe.useState(!n),Ae=fe.useRef(null);fe.useImperativeHandle(e,()=>D,[D]),KR&&!B&&n&&(Ae.current=bN(X==null?void 0:X.document)),n&&$&&te(!1);const F=lo(()=>{if(D.add(),Pe.current=EC(document,"keydown",Ve),ke.current=EC(document,"focus",()=>setTimeout(ie),!0),L&&L(),S){var Ee,Te;const He=bN((Ee=(Te=D.dialog)==null?void 0:Te.ownerDocument)!=null?Ee:X==null?void 0:X.document);D.dialog&&He&&!Tj(D.dialog,He)&&(Ae.current=He,D.dialog.focus())}}),ve=lo(()=>{if(D.remove(),Pe.current==null||Pe.current(),ke.current==null||ke.current(),g){var Ee;(Ee=Ae.current)==null||Ee.focus==null||Ee.focus(b),Ae.current=null}});fe.useEffect(()=>{!n||!se||F()},[n,se,F]),fe.useEffect(()=>{$&&ve()},[$,ve]),qRe(()=>{ve()});const ie=lo(()=>{if(!y||!V()||!D.isTopModal())return;const Ee=bN(X==null?void 0:X.document);D.dialog&&Ee&&!Tj(D.dialog,Ee)&&D.dialog.focus()}),he=lo(Ee=>{Ee.target===Ee.currentTarget&&(u==null||u(Ee),o===!0&&I())}),Ve=lo(Ee=>{l&&jRe(Ee)&&D.isTopModal()&&(h==null||h(Ee),Ee.defaultPrevented||I())}),ke=fe.useRef(),Pe=fe.useRef(),Ce=(...Ee)=>{te(!0),C==null||C(...Ee)};if(!se)return null;const pe=Object.assign({role:r,ref:D.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Q,{style:s,className:i,tabIndex:-1});let be=M?M(pe):Fe.jsx("div",Object.assign({},pe,{children:fe.cloneElement(a,{role:"document"})}));be=Rj(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:R,onExiting:O,onExited:Ce,onEnter:G,onEntering:j,onEntered:q,children:be});let H=null;return o&&(H=E({ref:D.setBackdropRef,onClick:he}),H=Rj(m,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:H})),Fe.jsx(Fe.Fragment,{children:Iy.createPortal(Fe.jsxs(Fe.Fragment,{children:[H,be]}),se)})});Qse.displayName="Modal";const bLe=Object.assign(Qse,{Manager:SB});function MLe(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function wLe(t,e){t.classList?t.classList.add(e):MLe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Lj(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ELe(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Lj(t.className,e):t.setAttribute("class",Lj(t.className&&t.className.baseVal||"",e))}const Mv={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Jse extends SB{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Ph(n,{[e]:`${parseFloat(Ph(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Ph(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(wLe(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Cm(n,Mv.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Cm(n,Mv.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Cm(n,Mv.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();ELe(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Cm(n,Mv.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Cm(n,Mv.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Cm(n,Mv.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let EN;function TLe(t){return EN||(EN=new Jse(t)),EN}const eae=fe.createContext({onHide(){}}),ALe=fe.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},a)=>{const o=fe.useContext(eae),l=lo(()=>{o==null||o.onHide(),r==null||r()});return Fe.jsxs("div",{ref:a,...s,children:[i,n&&Fe.jsx(vB,{"aria-label":t,variant:e,onClick:l})]})});var Ij={exports:{}},Ok={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(a,o,l,u,h,d){var f=u||"<<anonymous>>",m=d||l;if(o[l]==null)return a?new Error("Required "+h+" `"+m+"` was not specified "+("in `"+f+"`.")):null;for(var v=arguments.length,S=Array(v>6?v-6:0),y=6;y<v;y++)S[y-6]=arguments[y];return r.apply(void 0,[o,l,f,h,m].concat(S))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(Ok,Ok.exports);var CLe=Ok.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=CLe,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];function u(){for(var h=arguments.length,d=Array(h),f=0;f<h;f++)d[f]=arguments[f];var m=null;return o.forEach(function(v){if(m==null){var S=v.apply(void 0,d);S!=null&&(m=S)}}),m}return(0,r.default)(u)}t.exports=e.default})(Ij,Ij.exports);const tae=fe.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Hs(e,"nav-item"),Fe.jsx(n,{ref:i,className:Zr(t,e),...r})));tae.displayName="NavItem";const nae=fe.forwardRef(({bsPrefix:t,className:e,as:n=Vse,active:r,eventKey:i,disabled:s=!1,...a},o)=>{t=Hs(t,"nav-link");const[l,u]=qse({key:yB(i,a.href),active:r,disabled:s,...a});return Fe.jsx(n,{...a,...l,ref:o,disabled:s,className:Zr(e,t,s&&"disabled",u.isActive&&"active")})});nae.displayName="NavLink";const rae=fe.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:a=!1,navbar:o,navbarScroll:l,className:u,activeKey:h,...d}=Lse(t,{activeKey:"onSelect"}),f=Hs(r,"nav");let m,v,S=!1;const y=fe.useContext(sx),g=fe.useContext(Wse);return y?(m=y.bsPrefix,S=o??!0):g&&({cardHeaderBsPrefix:v}=g),Fe.jsx(aLe,{as:n,ref:e,activeKey:h,className:Zr(u,{[f]:!S,[`${m}-nav`]:S,[`${m}-nav-scroll`]:S&&l,[`${v}-${i}`]:!!v,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:a}),...d})});rae.displayName="Nav";const Y_=Object.assign(rae,{Item:tae,Link:nae}),iae=fe.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Hs(t,"navbar-brand");const s=n||(r.href?"a":"span");return Fe.jsx(s,{...r,ref:i,className:Zr(e,t)})});iae.displayName="NavbarBrand";const sae=fe.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Hs(e,"navbar-collapse");const i=fe.useContext(sx);return Fe.jsx(IRe,{in:!!(i&&i.expanded),...n,children:Fe.jsx("div",{ref:r,className:e,children:t})})});sae.displayName="NavbarCollapse";const aae=fe.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...a},o)=>{t=Hs(t,"navbar-toggler");const{onToggle:l,expanded:u}=fe.useContext(sx)||{},h=lo(d=>{s&&s(d),l&&l()});return i==="button"&&(a.type="button"),Fe.jsx(i,{...a,ref:o,onClick:h,"aria-label":r,className:Zr(e,t,!u&&"collapsed"),children:n||Fe.jsx("span",{className:`${t}-icon`})})});aae.displayName="NavbarToggle";const kk=new WeakMap,Nj=(t,e)=>{if(!t||!e)return;const n=kk.get(e)||new Map;kk.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function PLe(t,e=typeof window>"u"?void 0:window){const n=Nj(t,e),[r,i]=fe.useState(()=>n?n.matches:!1);return Dk(()=>{let s=Nj(t,e);if(!s)return i(!1);let a=kk.get(e);const o=()=>{i(s.matches)};return s.refCount++,s.addListener(o),o(),()=>{s.removeListener(o),s.refCount--,s.refCount<=0&&(a==null||a.delete(s.media)),s=void 0}},[t]),r}function RLe(t){const e=Object.keys(t);function n(o,l){return o===l?l:o?`${o} and ${l}`:l}function r(o){return e[Math.min(e.indexOf(o)+1,e.length-1)]}function i(o){const l=r(o);let u=t[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function s(o){let l=t[o];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function a(o,l,u){let h;typeof o=="object"?(h=o,u=l,l=!0):(l=l||!0,h={[o]:l});let d=fe.useMemo(()=>Object.entries(h).reduce((f,[m,v])=>((v==="up"||v===!0)&&(f=n(f,s(m))),(v==="down"||v===!0)&&(f=n(f,i(m))),f),""),[JSON.stringify(h)]);return PLe(d,u)}return a}const LLe=RLe({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),oae=fe.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Hs(e,"offcanvas-body"),Fe.jsx(n,{ref:i,className:Zr(t,e),...r})));oae.displayName="OffcanvasBody";const ILe={[Gl]:"show",[ch]:"show"},lae=fe.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:a=!1,...o},l)=>(t=Hs(t,"offcanvas"),Fe.jsx(gB,{ref:l,addEndListener:mB,in:r,mountOnEnter:i,unmountOnExit:s,appear:a,...o,childRef:n.ref,children:(u,h)=>fe.cloneElement(n,{...h,className:Zr(e,n.props.className,(u===Gl||u===LM)&&`${t}-toggling`,ILe[u])})})));lae.displayName="OffcanvasToggling";const uae=fe.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=Hs(t,"offcanvas-header"),Fe.jsx(ALe,{ref:s,...i,className:Zr(e,t),closeLabel:n,closeButton:r})));uae.displayName="OffcanvasHeader";const NLe=DRe("h5"),cae=fe.forwardRef(({className:t,bsPrefix:e,as:n=NLe,...r},i)=>(e=Hs(e,"offcanvas-title"),Fe.jsx(n,{ref:i,className:Zr(t,e),...r})));cae.displayName="OffcanvasTitle";function DLe(t){return Fe.jsx(lae,{...t})}function OLe(t){return Fe.jsx(Gse,{...t})}const hae=fe.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:a=!1,backdrop:o=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:h,onShow:d,onHide:f,container:m,autoFocus:v=!0,enforceFocus:S=!0,restoreFocus:y=!0,restoreFocusOptions:g,onEntered:b,onExit:M,onExiting:E,onEnter:P,onEntering:A,onExited:L,backdropClassName:I,manager:R,renderStaticNode:C=!1,...O},G)=>{const j=fe.useRef();t=Hs(t,"offcanvas");const[q,Q]=fe.useState(!1),X=lo(f),se=LLe(s||"xs","up");fe.useEffect(()=>{Q(s?a&&!se:a)},[a,s,se]);const D=fe.useMemo(()=>({onHide:X}),[X]);function V(){return R||(u?(j.current||(j.current=new Jse({handleContainerOverflow:!1})),j.current):TLe())}const B=(F,...ve)=>{F&&(F.style.visibility="visible"),P==null||P(F,...ve)},$=(F,...ve)=>{F&&(F.style.visibility=""),L==null||L(...ve)},te=fe.useCallback(F=>Fe.jsx("div",{...F,className:Zr(`${t}-backdrop`,I)}),[I,t]),Ae=F=>Fe.jsx("div",{...F,...O,className:Zr(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return Fe.jsxs(Fe.Fragment,{children:[!q&&(s||C)&&Ae({}),Fe.jsx(eae.Provider,{value:D,children:Fe.jsx(bLe,{show:q,ref:G,backdrop:o,container:m,keyboard:l,autoFocus:v,enforceFocus:S&&!u,restoreFocus:y,restoreFocusOptions:g,onEscapeKeyDown:h,onShow:d,onHide:X,onEnter:B,onEntering:A,onEntered:b,onExit:M,onExiting:E,onExited:$,manager:V(),transition:DLe,backdropTransition:OLe,renderBackdrop:te,renderDialog:Ae})})]})});hae.displayName="Offcanvas";const kLe=Object.assign(hae,{Body:oae,Header:uae,Title:cae}),dae=fe.forwardRef(({onHide:t,...e},n)=>{const r=fe.useContext(sx),i=lo(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return Fe.jsx(kLe,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});dae.displayName="NavbarOffcanvas";const fae=fe.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Hs(e,"navbar-text"),Fe.jsx(n,{ref:i,className:Zr(t,e),...r})));fae.displayName="NavbarText";const pae=fe.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:a,sticky:o,className:l,as:u="nav",expanded:h,onToggle:d,onSelect:f,collapseOnSelect:m=!1,...v}=Lse(t,{expanded:"onToggle"}),S=Hs(n,"navbar"),y=fe.useCallback((...M)=>{f==null||f(...M),m&&h&&(d==null||d(!1))},[f,m,h,d]);v.role===void 0&&u!=="nav"&&(v.role="navigation");let g=`${S}-expand`;typeof r=="string"&&(g=`${g}-${r}`);const b=fe.useMemo(()=>({onToggle:()=>d==null?void 0:d(!h),bsPrefix:S,expanded:!!h,expand:r}),[S,h,r,d]);return Fe.jsx(sx.Provider,{value:b,children:Fe.jsx(TC.Provider,{value:y,children:Fe.jsx(u,{ref:e,...v,className:Zr(l,S,r&&g,i&&`${S}-${i}`,s&&`bg-${s}`,o&&`sticky-${o}`,a&&`fixed-${a}`)})})})});pae.displayName="Navbar";const j2=Object.assign(pae,{Brand:iae,Collapse:sae,Offcanvas:dae,Text:fae,Toggle:aae}),mae=fe.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=Hs(t,"row"),a=Ise(),o=Nse(),l=`${s}-cols`,u=[];return a.forEach(h=>{const d=r[h];delete r[h];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const m=h!==o?`-${h}`:"";f!=null&&u.push(`${l}${m}-${f}`)}),Fe.jsx(n,{ref:i,...r,className:Zr(e,s,...u)})});mae.displayName="Row";function ULe(){const[t,e]=fe.useState(!1),n=fe.useRef(null),r=i=>{n.current&&!n.current.contains(i.target)&&e(!1)};return fe.useEffect(()=>(document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}),[]),Fe.jsx(j2,{expand:"lg",className:"bg-body-tertiary","data-bs-theme":"dark",fixed:"top",expanded:t,ref:n,children:Fe.jsxs(Xse,{fluid:!0,children:[Fe.jsx(j2.Brand,{href:"#home",children:"Portfolio"}),Fe.jsx(j2.Toggle,{"aria-controls":"navbarScroll",onClick:()=>e(!t)}),Fe.jsx(j2.Collapse,{id:"navbarScroll",children:Fe.jsxs(Y_,{className:"me-auto my-2 my-lg-0",children:[Fe.jsx(Y_.Link,{href:"#about",onClick:()=>e(!1),children:"About"}),Fe.jsx(Y_.Link,{href:"#skills",onClick:()=>e(!1),children:"Skills"}),Fe.jsx(Y_.Link,{href:"#projects",onClick:()=>e(!1),children:"Projects"}),Fe.jsx(Y_.Link,{href:"#footer",onClick:()=>e(!1),children:"Links"})]})})]})})}function FLe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function JR(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Uk=t=>Array.isArray(t);function gae(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function IM(t){return typeof t=="string"||Array.isArray(t)}function Dj(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function bB(t,e,n,r){if(typeof e=="function"){const[i,s]=Dj(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Dj(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function eL(t,e,n){const r=t.getProps();return bB(r,e,n!==void 0?n:r.custom,t)}const MB=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wB=["initial",...MB],Lw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],r0=new Set(Lw),tc=t=>t*1e3,nc=t=>t/1e3,zLe={type:"spring",stiffness:500,damping:25,restSpeed:10},BLe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VLe={type:"keyframes",duration:.8},HLe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GLe=(t,{keyframes:e})=>e.length>2?VLe:r0.has(t)?t.startsWith("scale")?BLe(e[1]):zLe:HLe;function EB(t,e){return t?t[e]||t.default||t:void 0}const WLe={skipAnimations:!1,useManualTiming:!1},jLe=t=>t!==null;function tL(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(jLe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Us=t=>t;function XLe(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){s.has(u)&&(l.schedule(u),t()),u(a)}const l={schedule:(u,h=!1,d=!1)=>{const f=d&&r?e:n;return h&&s.add(u),f.has(u)||f.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(a=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(o),r=!1,i&&(i=!1,l.process(u))}};return l}const X2=["read","resolveKeyframes","update","preRender","render","postRender"],$Le=40;function vae(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=X2.reduce((S,y)=>(S[y]=XLe(s),S),{}),{read:o,resolveKeyframes:l,update:u,preRender:h,render:d,postRender:f}=a,m=()=>{const S=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,$Le),1),i.timestamp=S,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),h.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},v=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:X2.reduce((S,y)=>{const g=a[y];return S[y]=(b,M=!1,E=!1)=>(n||v(),g.schedule(b,M,E)),S},{}),cancel:S=>{for(let y=0;y<X2.length;y++)a[X2[y]].cancel(S)},state:i,steps:a}}const{schedule:Hn,cancel:Zh,state:os,steps:TN}=vae(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0),yae=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,YLe=1e-7,qLe=12;function ZLe(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=yae(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>YLe&&++o<qLe);return a}function Iw(t,e,n,r){if(t===e&&n===r)return Us;const i=s=>ZLe(s,0,1,t,n);return s=>s===0||s===1?s:yae(i(s),e,r)}const xae=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_ae=t=>e=>1-t(1-e),Sae=Iw(.33,1.53,.69,.99),TB=_ae(Sae),bae=xae(TB),Mae=t=>(t*=2)<1?.5*TB(t):.5*(2-Math.pow(2,-10*(t-1))),AB=t=>1-Math.sin(Math.acos(t)),wae=_ae(AB),Eae=xae(AB),Tae=t=>/^0[^.\s]+$/u.test(t);function KLe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Tae(t):!0}let Fk=Us;const Aae=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Cae=t=>e=>typeof e=="string"&&e.startsWith(t),Pae=Cae("--"),QLe=Cae("var(--"),CB=t=>QLe(t)?JLe.test(t.split("/*")[0].trim()):!1,JLe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,eIe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tIe(t){const e=eIe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Rae(t,e,n=1){const[r,i]=tIe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return Aae(a)?parseFloat(a):a}return CB(i)?Rae(i,e,n+1):i}const Gf=(t,e,n)=>n>e?e:n<t?t:n,ax={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},NM={...ax,transform:t=>Gf(0,1,t)},$2={...ax,default:1},Nw=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yd=Nw("deg"),rc=Nw("%"),$t=Nw("px"),nIe=Nw("vh"),rIe=Nw("vw"),Oj={...rc,parse:t=>rc.parse(t)/100,transform:t=>rc.transform(t*100)},iIe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kj=t=>t===ax||t===$t,Uj=(t,e)=>parseFloat(t.split(", ")[e]),Fj=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Uj(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Uj(s[1],t):0}},sIe=new Set(["x","y","z"]),aIe=Lw.filter(t=>!sIe.has(t));function oIe(t){const e=[];return aIe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const N1={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Fj(4,13),y:Fj(5,14)};N1.translateX=N1.x;N1.translateY=N1.y;const Lae=t=>e=>e.test(t),lIe={test:t=>t==="auto",parse:t=>t},Iae=[ax,$t,rc,Yd,rIe,nIe,lIe],zj=t=>Iae.find(Lae(t)),hg=new Set;let zk=!1,Bk=!1;function Nae(){if(Bk){const t=Array.from(hg).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=oIe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bk=!1,zk=!1,hg.forEach(t=>t.complete()),hg.clear()}function Dae(){hg.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bk=!0)})}function uIe(){Dae(),Nae()}class PB{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(hg.add(this),zk||(zk=!0,Hn.read(Dae),Hn.resolveKeyframes(Nae))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),hg.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,hg.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fb=t=>Math.round(t*1e5)/1e5,RB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cIe(t){return t==null}const hIe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,LB=(t,e)=>n=>!!(typeof n=="string"&&hIe.test(n)&&n.startsWith(t)||e&&!cIe(n)&&Object.prototype.hasOwnProperty.call(n,e)),Oae=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(RB);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},dIe=t=>Gf(0,255,t),AN={...ax,transform:t=>Math.round(dIe(t))},Ym={test:LB("rgb","red"),parse:Oae("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+AN.transform(t)+", "+AN.transform(e)+", "+AN.transform(n)+", "+fb(NM.transform(r))+")"};function fIe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Vk={test:LB("#"),parse:fIe,transform:Ym.transform},Ny={test:LB("hsl","hue"),parse:Oae("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+rc.transform(fb(e))+", "+rc.transform(fb(n))+", "+fb(NM.transform(r))+")"},Rs={test:t=>Ym.test(t)||Vk.test(t)||Ny.test(t),parse:t=>Ym.test(t)?Ym.parse(t):Ny.test(t)?Ny.parse(t):Vk.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ym.transform(t):Ny.transform(t)},pIe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mIe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(RB))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(pIe))===null||n===void 0?void 0:n.length)||0)>0}const kae="number",Uae="color",gIe="var",vIe="var(",Bj="${}",yIe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function DM(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(yIe,o=>(Rs.test(o)?(r.color.push(s),i.push(Uae),n.push(Rs.parse(o))):o.startsWith(vIe)?(r.var.push(s),i.push(gIe),n.push(o)):(r.number.push(s),i.push(kae),n.push(parseFloat(o))),++s,Bj)).split(Bj);return{values:n,split:a,indexes:r,types:i}}function Fae(t){return DM(t).values}function zae(t){const{split:e,types:n}=DM(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===kae?s+=fb(i[a]):o===Uae?s+=Rs.transform(i[a]):s+=i[a]}return s}}const xIe=t=>typeof t=="number"?0:t;function _Ie(t){const e=Fae(t);return zae(t)(e.map(xIe))}const Wf={test:mIe,parse:Fae,createTransformer:zae,getAnimatableNone:_Ie},SIe=new Set(["brightness","contrast","saturate","opacity"]);function bIe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(RB)||[];if(!r)return t;const i=n.replace(r,"");let s=SIe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const MIe=/\b([a-z-]*)\(.*?\)/gu,Hk={...Wf,getAnimatableNone:t=>{const e=t.match(MIe);return e?e.map(bIe).join(" "):t}},wIe={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,radius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,top:$t,right:$t,bottom:$t,left:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,backgroundPositionX:$t,backgroundPositionY:$t},EIe={rotate:Yd,rotateX:Yd,rotateY:Yd,rotateZ:Yd,scale:$2,scaleX:$2,scaleY:$2,scaleZ:$2,skew:Yd,skewX:Yd,skewY:Yd,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:NM,originX:Oj,originY:Oj,originZ:$t},Vj={...ax,transform:Math.round},IB={...wIe,...EIe,zIndex:Vj,size:$t,fillOpacity:NM,strokeOpacity:NM,numOctaves:Vj},TIe={...IB,color:Rs,backgroundColor:Rs,outlineColor:Rs,fill:Rs,stroke:Rs,borderColor:Rs,borderTopColor:Rs,borderRightColor:Rs,borderBottomColor:Rs,borderLeftColor:Rs,filter:Hk,WebkitFilter:Hk},NB=t=>TIe[t];function Bae(t,e){let n=NB(t);return n!==Hk&&(n=Wf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const AIe=new Set(["auto","none","0"]);function CIe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!AIe.has(s)&&DM(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Bae(n,i)}class Vae extends PB{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),CB(u))){const h=Rae(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!iIe.has(r)||e.length!==2)return;const[i,s]=e,a=zj(i),o=zj(s);if(a!==o)if(kj(a)&&kj(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)KLe(e[i])&&r.push(i);r.length&&CIe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=N1[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=N1[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function nL(t){return typeof t=="function"}let SA;function PIe(){SA=void 0}const ic={now:()=>(SA===void 0&&ic.set(os.isProcessing||WLe.useManualTiming?os.timestamp:performance.now()),SA),set:t=>{SA=t,queueMicrotask(PIe)}},Hj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wf.test(t)||t==="0")&&!t.startsWith("url("));function RIe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LIe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=Hj(i,e),o=Hj(s,e);return!a||!o?!1:RIe(t)||(n==="spring"||nL(n))&&r}const IIe=40;class Hae{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ic.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>IIe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uIe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ic.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!LIe(e,r,i,s))if(a)this.options.duration=0;else{l==null||l(tL(e,this.options,n)),o==null||o(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function Gae(t,e){return e?t*(1e3/e):0}const NIe=5;function Wae(t,e,n){const r=Math.max(e-NIe,0);return Gae(n-t(r),e-r)}const CN=.001,DIe=.01,OIe=10,kIe=.05,UIe=1;function FIe({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,a=1-e;a=Gf(kIe,UIe,a),t=Gf(DIe,OIe,nc(t)),a<1?(i=u=>{const h=u*a,d=h*t,f=h-n,m=Gk(u,a),v=Math.exp(-d);return CN-f/m*v},s=u=>{const h=u*a*t,d=h*n+n,f=Math.pow(a,2)*Math.pow(u,2)*t,m=Math.exp(-h),v=Gk(Math.pow(u,2),a);return(-i(u)+CN>0?-1:1)*((d-f)*m)/v}):(i=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-CN+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const o=5/t,l=BIe(i,s,o);if(t=tc(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const zIe=12;function BIe(t,e,n){let r=n;for(let i=1;i<zIe;i++)r=r-t(r)/e(r);return r}function Gk(t,e){return t*Math.sqrt(1-e*e)}const VIe=["duration","bounce"],HIe=["stiffness","damping","mass"];function Gj(t,e){return e.some(n=>t[n]!==void 0)}function GIe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Gj(t,HIe)&&Gj(t,VIe)){const n=FIe(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function DB({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=GIe({...r,velocity:-nc(r.velocity||0)}),m=d||0,v=l/(2*Math.sqrt(o*u)),S=s-i,y=nc(Math.sqrt(o/u)),g=Math.abs(S)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let b;if(v<1){const M=Gk(y,v);b=E=>{const P=Math.exp(-v*y*E);return s-P*((m+v*y*S)/M*Math.sin(M*E)+S*Math.cos(M*E))}}else if(v===1)b=M=>s-Math.exp(-y*M)*(S+(m+y*S)*M);else{const M=y*Math.sqrt(v*v-1);b=E=>{const P=Math.exp(-v*y*E),A=Math.min(M*E,300);return s-P*((m+v*y*S)*Math.sinh(A)+M*S*Math.cosh(A))/M}}return{calculatedDuration:f&&h||null,next:M=>{const E=b(M);if(f)a.done=M>=h;else{let P=0;v<1&&(P=M===0?tc(m):Wae(b,M,E));const A=Math.abs(P)<=n,L=Math.abs(s-E)<=e;a.done=A&&L}return a.value=a.done?s:E,a}}}function Wj({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=I=>o!==void 0&&I<o||l!==void 0&&I>l,v=I=>o===void 0?l:l===void 0||Math.abs(o-I)<Math.abs(l-I)?o:l;let S=n*e;const y=d+S,g=a===void 0?y:a(y);g!==y&&(S=g-d);const b=I=>-S*Math.exp(-I/r),M=I=>g+b(I),E=I=>{const R=b(I),C=M(I);f.done=Math.abs(R)<=u,f.value=f.done?g:C};let P,A;const L=I=>{m(f.value)&&(P=I,A=DB({keyframes:[f.value,v(f.value)],velocity:Wae(M,I,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return L(0),{calculatedDuration:null,next:I=>{let R=!1;return!A&&P===void 0&&(R=!0,E(I),L(I)),P!==void 0&&I>=P?A.next(I-P):(!R&&E(I),f)}}}const WIe=Iw(.42,0,1,1),jIe=Iw(0,0,.58,1),jae=Iw(.42,0,.58,1),Xae=t=>Array.isArray(t)&&typeof t[0]!="number",OB=t=>Array.isArray(t)&&typeof t[0]=="number",jj={linear:Us,easeIn:WIe,easeInOut:jae,easeOut:jIe,circIn:AB,circInOut:Eae,circOut:wae,backIn:TB,backInOut:bae,backOut:Sae,anticipate:Mae},Xj=t=>{if(OB(t)){Fk(t.length===4);const[e,n,r,i]=t;return Iw(e,n,r,i)}else if(typeof t=="string")return Fk(jj[t]!==void 0),jj[t];return t},XIe=(t,e)=>n=>e(t(n)),Rh=(...t)=>t.reduce(XIe),Ug=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},gr=(t,e,n)=>t+(e-t)*n;function PN(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $Ie({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=PN(l,o,t+1/3),s=PN(l,o,t),a=PN(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function AC(t,e){return n=>n>0?e:t}const RN=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},YIe=[Vk,Ym,Ny],qIe=t=>YIe.find(e=>e.test(t));function $j(t){const e=qIe(t);if(!e)return!1;let n=e.parse(t);return e===Ny&&(n=$Ie(n)),n}const Yj=(t,e)=>{const n=$j(t),r=$j(e);if(!n||!r)return AC(t,e);const i={...n};return s=>(i.red=RN(n.red,r.red,s),i.green=RN(n.green,r.green,s),i.blue=RN(n.blue,r.blue,s),i.alpha=gr(n.alpha,r.alpha,s),Ym.transform(i))},Wk=new Set(["none","hidden"]);function ZIe(t,e){return Wk.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function KIe(t,e){return n=>gr(t,e,n)}function kB(t){return typeof t=="number"?KIe:typeof t=="string"?CB(t)?AC:Rs.test(t)?Yj:e4e:Array.isArray(t)?$ae:typeof t=="object"?Rs.test(t)?Yj:QIe:AC}function $ae(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>kB(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function QIe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=kB(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function JIe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const e4e=(t,e)=>{const n=Wf.createTransformer(e),r=DM(t),i=DM(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Wk.has(t)&&!i.values.length||Wk.has(e)&&!r.values.length?ZIe(t,e):Rh($ae(JIe(r,i),i.values),n):AC(t,e)};function Yae(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gr(t,e,n):kB(t)(t,e)}function t4e(t,e,n){const r=[],i=n||Yae,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Us:e;o=Rh(l,o)}r.push(o)}return r}function n4e(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Fk(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=t4e(e,r,i),o=a.length,l=u=>{let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const d=Ug(t[h],t[h+1],u);return a[h](d)};return n?u=>l(Gf(t[0],t[s-1],u)):l}function qae(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ug(0,e,r);t.push(gr(n,1,i))}}function Zae(t){const e=[0];return qae(e,t.length-1),e}function r4e(t,e){return t.map(n=>n*e)}function i4e(t,e){return t.map(()=>e||jae).splice(0,t.length-1)}function CC({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Xae(r)?r.map(Xj):Xj(r),s={done:!1,value:e[0]},a=r4e(n&&n.length===e.length?n:Zae(e),t),o=n4e(a,e,{ease:Array.isArray(i)?i:i4e(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const jk=2e4;function Kae(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jk;)e+=n,r=t.next(e);return e>=jk?1/0:e}const s4e=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Hn.update(e,!0),stop:()=>Zh(e),now:()=>os.isProcessing?os.timestamp:ic.now()}},a4e={decay:Wj,inertia:Wj,tween:CC,keyframes:CC,spring:DB},o4e=t=>t/100;class UB extends Hae{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||PB,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(s,o,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=nL(n)?n:a4e[n]||CC;let l,u;o!==CC&&typeof e[0]!="number"&&(l=Rh(o4e,Yae(e[0],e[1])),e=[0,100]);const h=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=Kae(h));const{calculatedDuration:d}=h,f=d+i,m=f*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:v,repeatDelay:S,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?g<0:g>h;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let M=this.currentTime,E=s;if(m){const I=Math.min(this.currentTime,h)/d;let R=Math.floor(I),C=I%1;!C&&I>=1&&(C=1),C===1&&R--,R=Math.min(R,m+1),R%2&&(v==="reverse"?(C=1-C,S&&(C-=S/d)):v==="mirror"&&(E=a)),M=Gf(0,1,C)*d}const P=b?{done:!1,value:l[0]}:E.next(M);o&&(P.value=o(P.value));let{done:A}=P;!b&&u!==null&&(A=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return L&&i!==void 0&&(P.value=tL(l,this.options,i)),y&&y(P.value),L&&this.finish(),P}get duration(){const{resolved:e}=this;return e?nc(e.calculatedDuration):0}get time(){return nc(this.currentTime)}set time(e){e=tc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=nc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=s4e,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const l4e=new Set(["opacity","clipPath","filter","transform"]),u4e=10,c4e=(t,e)=>{let n="";const r=Math.max(Math.round(e/u4e),2);for(let i=0;i<r;i++)n+=t(Ug(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function FB(t){let e;return()=>(e===void 0&&(e=t()),e)}const h4e={linearEasing:void 0};function d4e(t,e){const n=FB(t);return()=>{var r;return(r=h4e[e])!==null&&r!==void 0?r:n()}}const PC=d4e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Qae(t){return!!(typeof t=="function"&&PC()||!t||typeof t=="string"&&(t in Xk||PC())||OB(t)||Array.isArray(t)&&t.every(Qae))}const AS=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Xk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:AS([0,.65,.55,1]),circOut:AS([.55,0,1,.45]),backIn:AS([.31,.01,.66,-.59]),backOut:AS([.33,1.53,.69,.99])};function Jae(t,e){if(t)return typeof t=="function"&&PC()?c4e(t,e):OB(t)?AS(t):Array.isArray(t)?t.map(n=>Jae(n,e)||Xk.easeOut):Xk[t]}function f4e(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const u={[e]:n};l&&(u.offset=l);const h=Jae(o,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function qj(t,e){t.timeline=e,t.onfinish=null}const p4e=FB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),RC=10,m4e=2e4;function g4e(t){return nL(t.type)||t.type==="spring"||!Qae(t.ease)}function v4e(t,e){const n=new UB({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<m4e;)r=n.sample(s),i.push(r.value),s+=RC;return{times:void 0,keyframes:i,duration:s-RC,ease:"linear"}}const eoe={anticipate:Mae,backInOut:bae,circInOut:Eae};function y4e(t){return t in eoe}class Zj extends Hae{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Vae(s,(a,o)=>this.onKeyframesResolved(a,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:a,type:o,motionValue:l,name:u,startTime:h}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof a=="string"&&PC()&&y4e(a)&&(a=eoe[a]),g4e(this.options)){const{onComplete:f,onUpdate:m,motionValue:v,element:S,...y}=this.options,g=v4e(e,y);e=g.keyframes,e.length===1&&(e[1]=e[0]),i=g.duration,s=g.times,a=g.ease,o="keyframes"}const d=f4e(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:a});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(qj(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(tL(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return nc(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return nc(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=tc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Us;const{animation:r}=n;qj(r,e)}return Us}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,element:f,...m}=this.options,v=new UB({...m,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),S=tc(this.time);u.setWithVelocity(v.sample(S-RC).value,v.sample(S).value,RC)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;return p4e()&&r&&l4e.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const x4e=FB(()=>window.ScrollTimeline!==void 0);class toe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>x4e()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function _4e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const zB=(t,e,n,r={},i,s)=>a=>{const o=EB(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-tc(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};_4e(o)||(h={...h,...GLe(t,h)}),h.duration&&(h.duration=tc(h.duration)),h.repeatDelay&&(h.repeatDelay=tc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const f=tL(h.keyframes,o);if(f!==void 0)return Hn.update(()=>{h.onUpdate(f),h.onComplete()}),new toe([])}return!s&&Zj.supports(h)?new Zj(h):new UB(h)},S4e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),b4e=t=>Uk(t)?t[t.length-1]||0:t;function BB(t,e){t.indexOf(e)===-1&&t.push(e)}function rL(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class VB{constructor(){this.subscriptions=[]}add(e){return BB(this.subscriptions,e),()=>rL(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kj=30,M4e=t=>!isNaN(parseFloat(t));class w4e{constructor(e,n={}){this.version="11.11.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ic.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ic.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=M4e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new VB);const r=this.events[e].add(n);return e==="change"?()=>{r(),Hn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ic.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Kj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Kj);return Gae(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function D1(t,e){return new w4e(t,e)}function E4e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,D1(n))}function T4e(t,e){const n=eL(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=b4e(s[a]);E4e(t,a,o)}}const HB=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A4e="framerAppearId",noe="data-"+HB(A4e);function roe(t){return t.props[noe]}const hi=t=>!!(t&&t.getVelocity);function C4e(t){return!!(hi(t)&&t.add)}function $k(t,e){const n=t.getValue("willChange");if(C4e(n))return n.add(e)}function P4e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function GB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||h&&P4e(h,d))continue;const v={delay:n,...EB(a||{},d)};let S=!1;if(window.MotionHandoffAnimation){const g=roe(t);if(g){const b=window.MotionHandoffAnimation(g,d,Hn);b!==null&&(v.startTime=b,S=!0)}}$k(t,d),f.start(zB(d,f,m,t.shouldReduceMotion&&r0.has(d)?{type:!1}:v,t,S));const y=f.animation;y&&u.push(y)}return o&&Promise.all(u).then(()=>{Hn.update(()=>{o&&T4e(t,o)})}),u}function Yk(t,e,n={}){var r;const i=eL(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(GB(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return R4e(t,e,h+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function R4e(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(L4e).forEach((u,h)=>{u.notify("AnimationStart",e),a.push(Yk(u,e,{...s,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function L4e(t,e){return t.sortNodePosition(e)}function I4e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Yk(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Yk(t,e,n);else{const i=typeof e=="function"?eL(t,e,n.custom):e;r=Promise.all(GB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const N4e=wB.length;function ioe(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ioe(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N4e;n++){const r=wB[n],i=t.props[r];(IM(i)||i===!1)&&(e[r]=i)}return e}const D4e=[...MB].reverse(),O4e=MB.length;function k4e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>I4e(t,n,r)))}function U4e(t){let e=k4e(t),n=Qj(),r=!0;const i=l=>(u,h)=>{var d;const f=eL(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:v,...S}=f;u={...u,...S,...v}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,h=ioe(t.parent)||{},d=[],f=new Set;let m={},v=1/0;for(let y=0;y<O4e;y++){const g=D4e[y],b=n[g],M=u[g]!==void 0?u[g]:h[g],E=IM(M),P=g===l?b.isActive:null;P===!1&&(v=y);let A=M===h[g]&&M!==u[g]&&E;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),b.protectedKeys={...m},!b.isActive&&P===null||!M&&!b.prevProp||JR(M)||typeof M=="boolean")continue;const L=F4e(b.prevProp,M);let I=L||g===l&&b.isActive&&!A&&E||y>v&&E,R=!1;const C=Array.isArray(M)?M:[M];let O=C.reduce(i(g),{});P===!1&&(O={});const{prevResolvedValues:G={}}=b,j={...G,...O},q=Q=>{I=!0,f.has(Q)&&(R=!0,f.delete(Q)),b.needsAnimating[Q]=!0;const X=t.getValue(Q);X&&(X.liveStyle=!1)};for(const Q in j){const X=O[Q],se=G[Q];if(m.hasOwnProperty(Q))continue;let D=!1;Uk(X)&&Uk(se)?D=!gae(X,se):D=X!==se,D?X!=null?q(Q):f.add(Q):X!==void 0&&f.has(Q)?q(Q):b.protectedKeys[Q]=!0}b.prevProp=M,b.prevResolvedValues=O,b.isActive&&(m={...m,...O}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(A&&L)||R)&&d.push(...C.map(Q=>({animation:Q,options:{type:g}})))}if(f.size){const y={};f.forEach(g=>{const b=t.getBaseTarget(g),M=t.getValue(g);M&&(M.liveStyle=!0),y[g]=b??null}),d.push({animation:y})}let S=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function o(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Qj(),r=!0}}}function F4e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gae(e,t):!1}function sm(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qj(){return{animate:sm(!0),whileInView:sm(),whileHover:sm(),whileTap:sm(),whileDrag:sm(),whileFocus:sm(),exit:sm()}}class op{constructor(e){this.isMounted=!1,this.node=e}update(){}}class z4e extends op{constructor(e){super(e),e.animationState||(e.animationState=U4e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();JR(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let B4e=0;class V4e extends op{constructor(){super(...arguments),this.id=B4e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const H4e={animation:{Feature:z4e},exit:{Feature:V4e}},soe=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function iL(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const G4e=t=>e=>soe(e)&&t(e,iL(e));function xh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lh(t,e,n,r){return xh(t,e,G4e(n),r)}const Jj=(t,e)=>Math.abs(t-e);function W4e(t,e){const n=Jj(t.x,e.x),r=Jj(t.y,e.y);return Math.sqrt(n**2+r**2)}class aoe{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=IN(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=W4e(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=d,{timestamp:S}=os;this.history.push({...v,timestamp:S});const{onStart:y,onMove:g}=this.handlers;f||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=LN(f,this.transformPagePoint),Hn.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=IN(d.type==="pointercancel"?this.lastMoveEventInfo:LN(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,y),v&&v(d,y)},!soe(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=iL(e),o=LN(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=os;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,IN(o,this.history)),this.removeListeners=Rh(Lh(this.contextWindow,"pointermove",this.handlePointerMove),Lh(this.contextWindow,"pointerup",this.handlePointerUp),Lh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zh(this.updatePoint)}}function LN(t,e){return e?{point:e(t.point)}:t}function eX(t,e){return{x:t.x-e.x,y:t.y-e.y}}function IN({point:t},e){return{point:t,delta:eX(t,ooe(e)),offset:eX(t,j4e(e)),velocity:X4e(e,.1)}}function j4e(t){return t[0]}function ooe(t){return t[t.length-1]}function X4e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ooe(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>tc(e)));)n--;if(!r)return{x:0,y:0};const s=nc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function loe(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const tX=loe("dragHorizontal"),nX=loe("dragVertical");function uoe(t){let e=!1;if(t==="y")e=nX();else if(t==="x")e=tX();else{const n=tX(),r=nX();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function coe(){const t=uoe(!0);return t?(t(),!1):!0}function Dy(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const hoe=1e-4,$4e=1-hoe,Y4e=1+hoe,doe=.01,q4e=0-doe,Z4e=0+doe;function wo(t){return t.max-t.min}function K4e(t,e,n){return Math.abs(t-e)<=n}function rX(t,e,n,r=.5){t.origin=r,t.originPoint=gr(e.min,e.max,t.origin),t.scale=wo(n)/wo(e),t.translate=gr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$4e&&t.scale<=Y4e||isNaN(t.scale))&&(t.scale=1),(t.translate>=q4e&&t.translate<=Z4e||isNaN(t.translate))&&(t.translate=0)}function pb(t,e,n,r){rX(t.x,e.x,n.x,r?r.originX:void 0),rX(t.y,e.y,n.y,r?r.originY:void 0)}function iX(t,e,n){t.min=n.min+e.min,t.max=t.min+wo(e)}function Q4e(t,e,n){iX(t.x,e.x,n.x),iX(t.y,e.y,n.y)}function sX(t,e,n){t.min=e.min-n.min,t.max=t.min+wo(e)}function mb(t,e,n){sX(t.x,e.x,n.x),sX(t.y,e.y,n.y)}function J4e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?gr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?gr(n,t,r.max):Math.min(t,n)),t}function aX(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eNe(t,{top:e,left:n,bottom:r,right:i}){return{x:aX(t.x,n,i),y:aX(t.y,e,r)}}function oX(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tNe(t,e){return{x:oX(t.x,e.x),y:oX(t.y,e.y)}}function nNe(t,e){let n=.5;const r=wo(t),i=wo(e);return i>r?n=Ug(e.min,e.max-r,t.min):r>i&&(n=Ug(t.min,t.max-i,e.min)),Gf(0,1,n)}function rNe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qk=.35;function iNe(t=qk){return t===!1?t=0:t===!0&&(t=qk),{x:lX(t,"left","right"),y:lX(t,"top","bottom")}}function lX(t,e,n){return{min:uX(t,e),max:uX(t,n)}}function uX(t,e){return typeof t=="number"?t:t[e]||0}const cX=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oy=()=>({x:cX(),y:cX()}),hX=()=>({min:0,max:0}),Fr=()=>({x:hX(),y:hX()});function Jo(t){return[t("x"),t("y")]}function foe({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sNe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aNe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function NN(t){return t===void 0||t===1}function Zk({scale:t,scaleX:e,scaleY:n}){return!NN(t)||!NN(e)||!NN(n)}function Pm(t){return Zk(t)||poe(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function poe(t){return dX(t.x)||dX(t.y)}function dX(t){return t&&t!=="0%"}function LC(t,e,n){const r=t-n,i=e*r;return n+i}function fX(t,e,n,r,i){return i!==void 0&&(t=LC(t,i,r)),LC(t,n,r)+e}function Kk(t,e=0,n=1,r,i){t.min=fX(t.min,e,n,r,i),t.max=fX(t.max,e,n,r,i)}function moe(t,{x:e,y:n}){Kk(t.x,e.translate,e.scale,e.originPoint),Kk(t.y,n.translate,n.scale,n.originPoint)}const pX=.999999999999,mX=1.0000000000001;function oNe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Uy(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,moe(t,a)),r&&Pm(s.latestValues)&&Uy(t,s.latestValues))}e.x<mX&&e.x>pX&&(e.x=1),e.y<mX&&e.y>pX&&(e.y=1)}function ky(t,e){t.min=t.min+e,t.max=t.max+e}function gX(t,e,n,r,i=.5){const s=gr(t.min,t.max,i);Kk(t,e,n,s,r)}function Uy(t,e){gX(t.x,e.x,e.scaleX,e.scale,e.originX),gX(t.y,e.y,e.scaleY,e.scale,e.originY)}function goe(t,e){return foe(aNe(t.getBoundingClientRect(),e))}function lNe(t,e,n){const r=goe(t,n),{scroll:i}=e;return i&&(ky(r.x,i.offset.x),ky(r.y,i.offset.y)),r}const voe=({current:t})=>t?t.ownerDocument.defaultView:null,uNe=new WeakMap;class cNe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(iL(h,"page").point)},s=(h,d)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uoe(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jo(y=>{let g=this.getAxisMotionValue(y).get()||0;if(rc.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const M=b.layout.layoutBox[y];M&&(g=wo(M)*(parseFloat(g)/100))}}this.originPoint[y]=g}),v&&Hn.postRender(()=>v(h,d)),$k(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:S}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=d;if(m&&this.currentDirection===null){this.currentDirection=hNe(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),S&&S(h,d)},o=(h,d)=>this.stop(h,d),l=()=>Jo(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new aoe(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:voe(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Hn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Y2(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=J4e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Dy(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=eNe(i.layoutBox,n):this.constraints=!1,this.elastic=iNe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=rNe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dy(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=lNe(r,i.root,this.visualElement.getTransformPagePoint());let a=tNe(i.layout.layoutBox,s);if(n){const o=n(sNe(a));this.hasMutatedConstraints=!!o,o&&(a=foe(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Jo(h=>{if(!Y2(h,n,this.currentDirection))return;let d=l&&l[h]||{};a&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $k(this.visualElement,e),r.start(zB(e,r,0,n,this.visualElement,!1))}stopAnimation(){Jo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jo(n=>{const{drag:r}=this.getProps();if(!Y2(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-gr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dy(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jo(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=nNe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jo(a=>{if(!Y2(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(gr(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;uNe.set(this.visualElement,this);const e=this.visualElement.current,n=Lh(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Dy(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Hn.read(r);const a=xh(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Jo(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=qk,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Y2(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hNe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dNe extends op{constructor(e){super(e),this.removeGroupControls=Us,this.removeListeners=Us,this.controls=new cNe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Us}unmount(){this.removeGroupControls(),this.removeListeners()}}const vX=t=>(e,n)=>{t&&Hn.postRender(()=>t(e,n))};class fNe extends op{constructor(){super(...arguments),this.removePointerDownListener=Us}onPointerDown(e){this.session=new aoe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:voe(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vX(e),onStart:vX(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Hn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Lh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const WB=fe.createContext(null);function pNe(){const t=fe.useContext(WB);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=fe.useId();fe.useEffect(()=>r(i),[]);const s=fe.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const yoe=fe.createContext({}),xoe=fe.createContext({}),bA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yX(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const q_={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($t.test(t))t=parseFloat(t);else return t;const n=yX(t,e.target.x),r=yX(t,e.target.y);return`${n}% ${r}%`}},mNe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Wf.parse(t);if(i.length>5)return r;const s=Wf.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=gr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}},IC={};function gNe(t){Object.assign(IC,t)}const{schedule:jB,cancel:eHe}=vae(queueMicrotask,!1);class vNe extends fe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;gNe(yNe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),bA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Hn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jB.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _oe(t){const[e,n]=pNe(),r=fe.useContext(yoe);return Fe.jsx(vNe,{...t,layoutGroup:r,switchLayoutGroup:fe.useContext(xoe),isPresent:e,safeToRemove:n})}const yNe={borderRadius:{...q_,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:q_,borderTopRightRadius:q_,borderBottomLeftRadius:q_,borderBottomRightRadius:q_,boxShadow:mNe},Soe=["TopLeft","TopRight","BottomLeft","BottomRight"],xNe=Soe.length,xX=t=>typeof t=="string"?parseFloat(t):t,_X=t=>typeof t=="number"||$t.test(t);function _Ne(t,e,n,r,i,s){i?(t.opacity=gr(0,n.opacity!==void 0?n.opacity:1,SNe(r)),t.opacityExit=gr(e.opacity!==void 0?e.opacity:1,0,bNe(r))):s&&(t.opacity=gr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<xNe;a++){const o=`border${Soe[a]}Radius`;let l=SX(e,o),u=SX(n,o);l===void 0&&u===void 0||(l||(l=0),u||(u=0),l===0||u===0||_X(l)===_X(u)?(t[o]=Math.max(gr(xX(l),xX(u),r),0),(rc.test(u)||rc.test(l))&&(t[o]+="%")):t[o]=u)}(e.rotate||n.rotate)&&(t.rotate=gr(e.rotate||0,n.rotate||0,r))}function SX(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const SNe=boe(0,.5,wae),bNe=boe(.5,.95,Us);function boe(t,e,n){return r=>r<t?0:r>e?1:n(Ug(t,e,r))}function bX(t,e){t.min=e.min,t.max=e.max}function Zo(t,e){bX(t.x,e.x),bX(t.y,e.y)}function MX(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wX(t,e,n,r,i){return t-=e,t=LC(t,1/n,r),i!==void 0&&(t=LC(t,1/i,r)),t}function MNe(t,e=0,n=1,r=.5,i,s=t,a=t){if(rc.test(e)&&(e=parseFloat(e),e=gr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=gr(s.min,s.max,r);t===s&&(o-=e),t.min=wX(t.min,e,n,o,i),t.max=wX(t.max,e,n,o,i)}function EX(t,e,[n,r,i],s,a){MNe(t,e[n],e[r],e[i],e.scale,s,a)}const wNe=["x","scaleX","originX"],ENe=["y","scaleY","originY"];function TX(t,e,n,r){EX(t.x,e,wNe,n?n.x:void 0,r?r.x:void 0),EX(t.y,e,ENe,n?n.y:void 0,r?r.y:void 0)}function AX(t){return t.translate===0&&t.scale===1}function Moe(t){return AX(t.x)&&AX(t.y)}function CX(t,e){return t.min===e.min&&t.max===e.max}function TNe(t,e){return CX(t.x,e.x)&&CX(t.y,e.y)}function PX(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function woe(t,e){return PX(t.x,e.x)&&PX(t.y,e.y)}function RX(t){return wo(t.x)/wo(t.y)}function LX(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ANe{constructor(){this.members=[]}add(e){BB(this.members,e),e.scheduleRender()}remove(e){if(rL(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CNe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:m,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const PNe=(t,e)=>t.depth-e.depth;class RNe{constructor(){this.children=[],this.isDirty=!1}add(e){BB(this.children,e),this.isDirty=!0}remove(e){rL(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(PNe),this.isDirty=!1,this.children.forEach(e)}}function MA(t){const e=hi(t)?t.get():t;return S4e(e)?e.toValue():e}function LNe(t,e){const n=ic.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Zh(r),t(s-e))};return Hn.read(r,!0),()=>Zh(r)}function Eoe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Toe(t,e,n){const r=hi(t)?t:D1(t);return r.start(zB("",r,e,n)),r.animation}const Rm={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},CS=typeof window<"u"&&window.MotionDebug!==void 0,DN=["","X","Y","Z"],INe={visibility:"hidden"},IX=1e3;let NNe=0;function ON(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Aoe(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=roe(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Hn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Aoe(r)}function Coe({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=NNe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,CS&&(Rm.totalNodes=Rm.resolvedTargetDeltas=Rm.recalculatedProjection=0),this.nodes.forEach(kNe),this.nodes.forEach(VNe),this.nodes.forEach(HNe),this.nodes.forEach(UNe),CS&&window.MotionDebug.record(Rm)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new RNe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new VB),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const o=this.eventHandlers.get(s);o&&o.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Eoe(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||o)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=LNe(d,250),bA.hasAnimatedSinceResize&&(bA.hasAnimatedSinceResize=!1,this.nodes.forEach(DX))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||$Ne,{onLayoutAnimationStart:S,onLayoutAnimationComplete:y}=u.getProps(),g=!this.targetLayout||!woe(this.targetLayout,m)||f,b=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const M={...EB(v,"layout"),onPlay:S,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else d||DX(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GNe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Aoe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:o}=this.options;if(a===void 0&&!o)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NX);return}this.isUpdating||this.nodes.forEach(zNe),this.isUpdating=!1,this.nodes.forEach(BNe),this.nodes.forEach(DNe),this.nodes.forEach(ONe),this.clearAllSnapshots();const s=ic.now();os.delta=Gf(0,1e3/60,s-os.timestamp),os.timestamp=s,os.isProcessing=!0,TN.update.process(os),TN.preRender.process(os),TN.render.process(os),os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FNe),this.sharedNodes.forEach(WNe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Moe(this.projectionDelta),o=this.getTransformTemplate(),l=o?o(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;s&&(a||Pm(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let o=this.removeElementScroll(a);return s&&(o=this.removeTransform(o)),YNe(o),{animationId:this.root.animationId,measuredBox:a,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return Fr();const o=a.measureViewportBox();if(!(!((s=this.scroll)===null||s===void 0)&&s.wasRoot||this.path.some(qNe))){const{scroll:l}=this.root;l&&(ky(o.x,l.offset.x),ky(o.y,l.offset.y))}return o}removeElementScroll(s){var a;const o=Fr();if(Zo(o,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return o;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:d}=u;u!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&Zo(o,s),ky(o.x,h.offset.x),ky(o.y,h.offset.y))}return o}applyTransform(s,a=!1){const o=Fr();Zo(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Uy(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Pm(u.latestValues)&&Uy(o,u.latestValues)}return Pm(this.latestValues)&&Uy(o,this.latestValues),o}removeTransform(s){const a=Fr();Zo(a,s);for(let o=0;o<this.path.length;o++){const l=this.path[o];if(!l.instance||!Pm(l.latestValues))continue;Zk(l.latestValues)&&l.updateSnapshot();const u=Fr(),h=l.measurePageBox();Zo(u,h),TX(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Pm(this.latestValues)&&TX(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=os.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),mb(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Zo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fr(),this.targetWithTransforms=Fr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zo(this.target,this.layout.layoutBox),moe(this.target,this.targetDelta)):Zo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),mb(this.relativeTargetOrigin,this.target,d.target),Zo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}CS&&Rm.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zk(this.parent.latestValues)||poe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===os.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Zo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;oNe(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Fr());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MX(this.prevProjectionDelta.x,this.projectionDelta.x),MX(this.prevProjectionDelta.y,this.projectionDelta.y)),pb(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!LX(this.projectionDelta.x,this.prevProjectionDelta.x)||!LX(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),CS&&Rm.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oy(),this.projectionDelta=Oy(),this.projectionDeltaWithTransform=Oy()}setAnimationOrigin(s,a=!1){const o=this.snapshot,l=o?o.latestValues:{},u={...this.latestValues},h=Oy();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Fr(),f=o?o.source:void 0,m=this.layout?this.layout.source:void 0,v=f!==m,S=this.getStack(),y=!S||S.members.length<=1,g=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(XNe));this.animationProgress=0;let b;this.mixTargetDelta=M=>{const E=M/1e3;OX(h.x,s.x,E),OX(h.y,s.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mb(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jNe(this.relativeTarget,this.relativeTargetOrigin,d,E),b&&TNe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Fr()),Zo(b,this.relativeTarget)),v&&(this.animationValues=u,_Ne(u,l,this.latestValues,E,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hn.update(()=>{bA.hasAnimatedSinceResize=!0,this.currentAnimation=Toe(0,IX,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:o,layout:l,latestValues:u}=s;if(!(!a||!o||!l)){if(this!==s&&this.layout&&l&&Poe(this.options.animationType,this.layout.layoutBox,l.layoutBox)){o=this.target||Fr();const h=wo(this.layout.layoutBox.x);o.x.min=s.target.x.min,o.x.max=o.x.min+h;const d=wo(this.layout.layoutBox.y);o.y.min=s.target.y.min,o.y.max=o.y.min+d}Zo(a,o),Uy(a,u),pb(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ANe),this.sharedNodes.get(s).add(a);const o=a.options.initialPromotionConfig;a.promote({transition:o?o.transition:void 0,preserveFollowOpacity:o&&o.shouldPreserveFollowOpacity?o.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:o}={}){const l=this.getStack();l&&l.promote(this,o),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:o}=s;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(a=!0),!a)return;const l={};o.z&&ON("z",s,l,this.animationValues);for(let u=0;u<DN.length;u++)ON(`rotate${DN[u]}`,s,l,this.animationValues),ON(`skew${DN[u]}`,s,l,this.animationValues);s.render();for(const u in l)s.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);s.scheduleRender()}getProjectionStyles(s){var a,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return INe;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=MA(s==null?void 0:s.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=MA(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Pm(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=CNe(this.projectionDeltaWithTransform,this.treeScale,d),u&&(l.transform=u(d,l.transform));const{x:f,y:m}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,h.animationValues?l.opacity=h===this?(o=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in IC){if(d[v]===void 0)continue;const{correct:S,applyTo:y}=IC[v],g=l.transform==="none"?d[v]:S(d[v],h);if(y){const b=y.length;for(let M=0;M<b;M++)l[y[M]]=g}else l[v]=g}return this.options.layoutId&&(l.pointerEvents=h===this?MA(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(NX),this.root.sharedNodes.clear()}}}function DNe(t){t.updateLayout()}function ONe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Jo(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=wo(f);f.min=r[d].min,f.max=f.min+m}):Poe(s,n.layoutBox,r)&&Jo(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=wo(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const o=Oy();pb(o,r,n.layoutBox);const l=Oy();a?pb(l,t.applyTransform(i,!0),n.measuredBox):pb(l,r,n.layoutBox);const u=!Moe(o);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const v=Fr();mb(v,n.layoutBox,f.layoutBox);const S=Fr();mb(S,r,m.layoutBox),woe(v,S)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kNe(t){CS&&Rm.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UNe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FNe(t){t.clearSnapshot()}function NX(t){t.clearMeasurements()}function zNe(t){t.isLayoutDirty=!1}function BNe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DX(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function VNe(t){t.resolveTargetDelta()}function HNe(t){t.calcProjection()}function GNe(t){t.resetSkewAndRotation()}function WNe(t){t.removeLeadSnapshot()}function OX(t,e,n){t.translate=gr(e.translate,0,n),t.scale=gr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kX(t,e,n,r){t.min=gr(e.min,n.min,r),t.max=gr(e.max,n.max,r)}function jNe(t,e,n,r){kX(t.x,e.x,n.x,r),kX(t.y,e.y,n.y,r)}function XNe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $Ne={duration:.45,ease:[.4,0,.1,1]},UX=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),FX=UX("applewebkit/")&&!UX("chrome/")?Math.round:Us;function zX(t){t.min=FX(t.min),t.max=FX(t.max)}function YNe(t){zX(t.x),zX(t.y)}function Poe(t,e,n){return t==="position"||t==="preserve-aspect"&&!K4e(RX(e),RX(n),.2)}function qNe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const ZNe=Coe({attachResizeListener:(t,e)=>xh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kN={current:void 0},Roe=Coe({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kN.current){const t=new ZNe({});t.mount(window),t.setOptions({layoutScroll:!0}),kN.current=t}return kN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),KNe={pan:{Feature:fNe},drag:{Feature:dNe,ProjectionNode:Roe,MeasureLayout:_oe}};function BX(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,a)=>{if(s.pointerType==="touch"||coe())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e);const l=o[r];l&&Hn.postRender(()=>l(s,a))};return Lh(t.current,n,i,{passive:!t.getProps()[r]})}class QNe extends op{mount(){this.unmount=Rh(BX(this.node,!0),BX(this.node,!1))}unmount(){}}class JNe extends op{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rh(xh(this.node.current,"focus",()=>this.onFocus()),xh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Loe=(t,e)=>e?t===e?!0:Loe(t,e.parentElement):!1;function UN(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,iL(n))}class eDe extends op{constructor(){super(...arguments),this.removeStartListeners=Us,this.removeEndListeners=Us,this.removeAccessibleListeners=Us,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Lh(window,"pointerup",(a,o)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),d=!h&&!Loe(this.node.current,a.target)?u:l;d&&Hn.update(()=>d(a,o))},{passive:!(r.onTap||r.onPointerUp)}),s=Lh(window,"pointercancel",(a,o)=>this.cancelPress(a,o),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Rh(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||UN("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&Hn.postRender(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=xh(this.node.current,"keyup",a),UN("down",(o,l)=>{this.startPress(o,l)})},n=xh(this.node.current,"keydown",e),r=()=>{this.isPressing&&UN("cancel",(s,a)=>this.cancelPress(s,a))},i=xh(this.node.current,"blur",r);this.removeAccessibleListeners=Rh(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Hn.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!coe()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Hn.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Lh(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=xh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Rh(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qk=new WeakMap,FN=new WeakMap,tDe=t=>{const e=Qk.get(t.target);e&&e(t)},nDe=t=>{t.forEach(tDe)};function rDe({root:t,...e}){const n=t||document;FN.has(n)||FN.set(n,{});const r=FN.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nDe,{root:t,...e})),r[i]}function iDe(t,e,n){const r=rDe(e);return Qk.set(t,n),r.observe(t),()=>{Qk.delete(t),r.unobserve(t)}}const sDe={some:0,all:1};class aDe extends op{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sDe[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(l)};return iDe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oDe(e,n))&&this.startObserver()}unmount(){}}function oDe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lDe={inView:{Feature:aDe},tap:{Feature:eDe},focus:{Feature:JNe},hover:{Feature:QNe}},uDe={layout:{ProjectionNode:Roe,MeasureLayout:_oe}},XB=fe.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),sL=fe.createContext({}),$B=typeof window<"u",Ioe=$B?fe.useLayoutEffect:fe.useEffect,Noe=fe.createContext({strict:!1});function cDe(t,e,n,r,i){var s,a;const{visualElement:o}=fe.useContext(sL),l=fe.useContext(Noe),u=fe.useContext(WB),h=fe.useContext(XB).reducedMotion,d=fe.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,m=fe.useContext(xoe);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&hDe(d.current,n,i,m);const v=fe.useRef(!1);fe.useInsertionEffect(()=>{f&&v.current&&f.update(n,u)});const S=n[noe],y=fe.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,S)));return Ioe(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),jB.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),fe.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,S)}),y.current=!1))}),f}function hDe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Doe(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Dy(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Doe(t){if(t)return t.options.allowProjection!==!1?t.projection:Doe(t.parent)}function dDe(t,e,n){return fe.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dy(n)&&(n.current=r))},[e])}function aL(t){return JR(t.animate)||wB.some(e=>IM(t[e]))}function Ooe(t){return!!(aL(t)||t.variants)}function fDe(t,e){if(aL(t)){const{initial:n,animate:r}=t;return{initial:n===!1||IM(n)?n:void 0,animate:IM(r)?r:void 0}}return t.inherit!==!1?e:{}}function pDe(t){const{initial:e,animate:n}=fDe(t,fe.useContext(sL));return fe.useMemo(()=>({initial:e,animate:n}),[VX(e),VX(n)])}function VX(t){return Array.isArray(t)?t.join(" "):t}const HX={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},O1={};for(const t in HX)O1[t]={isEnabled:e=>HX[t].some(n=>!!e[n])};function mDe(t){for(const e in t)O1[e]={...O1[e],...t[e]}}const gDe=Symbol.for("motionComponentSymbol");function vDe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&mDe(t);function s(o,l){let u;const h={...fe.useContext(XB),...o,layoutId:yDe(o)},{isStatic:d}=h,f=pDe(o),m=r(o,d);if(!d&&$B){xDe();const v=_De(h);u=v.MeasureLayout,f.visualElement=cDe(i,m,h,e,v.ProjectionNode)}return Fe.jsxs(sL.Provider,{value:f,children:[u&&f.visualElement?Fe.jsx(u,{visualElement:f.visualElement,...h}):null,n(i,o,dDe(m,f.visualElement,l),m,d,f.visualElement)]})}const a=fe.forwardRef(s);return a[gDe]=i,a}function yDe({layoutId:t}){const e=fe.useContext(yoe).id;return e&&t!==void 0?e+"-"+t:t}function xDe(t,e){fe.useContext(Noe).strict}function _De(t){const{drag:e,layout:n}=O1;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const SDe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function YB(t){return typeof t!="string"||t.includes("-")?!1:!!(SDe.indexOf(t)>-1||/[A-Z]/u.test(t))}function koe(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Uoe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Foe(t,e,n,r){koe(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Uoe.has(i)?i:HB(i),e.attrs[i])}function zoe(t,{layout:e,layoutId:n}){return r0.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!IC[t]||t==="opacity")}function qB(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(hi(i[a])||e.style&&hi(e.style[a])||zoe(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function Boe(t,e,n){const r=qB(t,e,n);for(const i in t)if(hi(t[i])||hi(e[i])){const s=Lw.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Voe(t){const e=fe.useRef(null);return e.current===null&&(e.current=t()),e.current}function bDe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:MDe(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const Hoe=t=>(e,n)=>{const r=fe.useContext(sL),i=fe.useContext(WB),s=()=>bDe(t,e,r,i);return n?s():Voe(s)};function MDe(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=MA(s[f]);let{initial:a,animate:o}=t;const l=aL(t),u=Ooe(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;if(d&&typeof d!="boolean"&&!JR(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const v=bB(t,f[m]);if(v){const{transitionEnd:S,transition:y,...g}=v;for(const b in g){let M=g[b];if(Array.isArray(M)){const E=h?M.length-1:0;M=M[E]}M!==null&&(i[b]=M)}for(const b in S)i[b]=S[b]}}}return i}const ZB=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Goe=()=>({...ZB(),attrs:{}}),Woe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wDe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EDe=Lw.length;function TDe(t,e,n){let r="",i=!0;for(let s=0;s<EDe;s++){const a=Lw[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=Woe(o,IB[a]);if(!l){i=!1;const h=wDe[a]||a;r+=`${h}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function KB(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(r0.has(l)){a=!0;continue}else if(Pae(l)){i[l]=u;continue}else{const h=Woe(u,IB[l]);l.startsWith("origin")?(o=!0,s[l]=h):r[l]=h}}if(e.transform||(a||n?r.transform=TDe(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}function GX(t,e,n){return typeof t=="string"?t:$t.transform(e+n*t)}function ADe(t,e,n){const r=GX(e,t.x,t.width),i=GX(n,t.y,t.height);return`${r} ${i}`}const CDe={offset:"stroke-dashoffset",array:"stroke-dasharray"},PDe={offset:"strokeDashoffset",array:"strokeDasharray"};function RDe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?CDe:PDe;t[s.offset]=$t.transform(-r);const a=$t.transform(e),o=$t.transform(n);t[s.array]=`${a} ${o}`}function QB(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},h,d){if(KB(t,u,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:v}=t;f.transform&&(v&&(m.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=ADe(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&RDe(f,a,o,l,!1)}const JB=t=>typeof t=="string"&&t.toLowerCase()==="svg",LDe={useVisualState:Hoe({scrapeMotionValuesFromProps:Boe,createRenderState:Goe,onMount:(t,e,{renderState:n,latestValues:r})=>{Hn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Hn.render(()=>{QB(n,r,JB(e.tagName),t.transformTemplate),Foe(e,n)})}})},IDe={useVisualState:Hoe({scrapeMotionValuesFromProps:qB,createRenderState:ZB})};function joe(t,e,n){for(const r in e)!hi(e[r])&&!zoe(r,n)&&(t[r]=e[r])}function NDe({transformTemplate:t},e){return fe.useMemo(()=>{const n=ZB();return KB(n,e,t),Object.assign({},n.vars,n.style)},[e])}function DDe(t,e){const n=t.style||{},r={};return joe(r,n,t),Object.assign(r,NDe(t,e)),r}function ODe(t,e){const n={},r=DDe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const kDe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function NC(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kDe.has(t)}let Xoe=t=>!NC(t);function UDe(t){t&&(Xoe=e=>e.startsWith("on")?!NC(e):t(e))}try{UDe(require("@emotion/is-prop-valid").default)}catch{}function FDe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Xoe(i)||n===!0&&NC(i)||!e&&!NC(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function zDe(t,e,n,r){const i=fe.useMemo(()=>{const s=Goe();return QB(s,e,JB(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};joe(s,t.style,t),i.style={...s,...i.style}}return i}function BDe(t=!1){return(e,n,r,{latestValues:i},s)=>{const a=(YB(e)?zDe:ODe)(n,i,s,e),o=FDe(n,typeof e=="string",t),l=e!==fe.Fragment?{...o,...a,ref:r}:{},{children:u}=n,h=fe.useMemo(()=>hi(u)?u.get():u,[u]);return fe.createElement(e,{...l,children:h})}}function VDe(t,e){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){const i={...YB(n)?LDe:IDe,preloadedFeatures:t,useRender:BDe(r),createVisualElement:e,Component:n};return vDe(i)}}const Jk={current:null},$oe={current:!1};function HDe(){if($oe.current=!0,!!$B)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jk.current=t.matches;t.addListener(e),e()}else Jk.current=!1}function GDe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(hi(i))t.addValue(r,i);else if(hi(s))t.addValue(r,D1(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,D1(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const k1=new WeakMap,WDe=[...Iae,Rs,Wf],jDe=t=>WDe.find(Lae(t)),WX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Yoe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PB,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ic.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Hn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=aL(n),this.isVariantNode=Ooe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&hi(m)&&m.set(l[f],!1)}}mount(e){this.current=e,k1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$oe.current||HDe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jk.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){k1.delete(this.current),this.projection&&this.projection.unmount(),Zh(this.notifyUpdate),Zh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=r0.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Hn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in O1){const n=O1[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WX.length;r++){const i=WX[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=GDe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=D1(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Aae(i)||Tae(i))?i=parseFloat(i):!jDe(i)&&Wf.test(n)&&(i=Bae(e,n)),this.setBaseTarget(e,hi(i)?i.get():i)),hi(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=bB(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!hi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new VB),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class qoe extends Yoe{constructor(){super(...arguments),this.KeyframeResolver=Vae}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function XDe(t){return window.getComputedStyle(t)}class Zoe extends qoe{constructor(){super(...arguments),this.type="html",this.renderInstance=koe}readValueFromInstance(e,n){if(r0.has(n)){const r=NB(n);return r&&r.default||0}else{const r=XDe(e),i=(Pae(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return goe(e,n)}build(e,n,r){KB(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qB(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Koe extends qoe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(r0.has(n)){const r=NB(n);return r&&r.default||0}return n=Uoe.has(n)?n:HB(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Boe(e,n,r)}build(e,n,r){QB(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Foe(e,n,r,i)}mount(e){this.isSVGTag=JB(e.tagName),super.mount(e)}}const $De=(t,e)=>YB(t)?new Koe(e):new Zoe(e,{allowProjection:t!==fe.Fragment}),YDe=VDe({...H4e,...lDe,...KNe,...uDe},$De),Ih=FLe(YDe);function Qoe(t){const e=Voe(()=>D1(t)),{isStatic:n}=fe.useContext(XB);if(n){const[,r]=fe.useState(t);fe.useEffect(()=>e.on("change",r),[])}return e}function qDe(t,e){const n=Qoe(e()),r=()=>n.set(e());return r(),Ioe(()=>{const i=()=>Hn.preRender(r,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),Zh(r)}}),n}function eU(t,...e){const n=t.length;function r(){let i="";for(let s=0;s<n;s++){i+=t[s];const a=e[s];a&&(i+=hi(a)?a.get():a)}return i}return qDe(e.filter(hi),r)}function ZDe(t,e,n){var r;if(typeof t=="string"){let i=document;n?((r=n[t])!==null&&r!==void 0||(n[t]=i.querySelectorAll(t)),t=n[t]):t=i.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}function KDe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Kae(r),jk);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:nc(i)}}function e8(t){return typeof t=="object"&&!Array.isArray(t)}function Joe(t,e,n,r){return typeof t=="string"&&e8(e)?ZDe(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function jX(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}const QDe=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function JDe(t,e){return Xae(t)?t[QDe(0,t.length,e)]:t}function e5e(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(rL(t,i),r--)}}function t5e(t,e,n,r,i,s){e5e(t,i,s);for(let a=0;a<e.length;a++)t.push({value:e[a],at:gr(i,s,r[a]),easing:JDe(n,a)})}function n5e(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const r5e="easeInOut";function i5e(t,{defaultTransition:e={},...n}={},r,i){const s=e.duration||.3,a=new Map,o=new Map,l={},u=new Map;let h=0,d=0,f=0;for(let m=0;m<t.length;m++){const v=t[m];if(typeof v=="string"){u.set(v,d);continue}else if(!Array.isArray(v)){u.set(v.name,jX(d,v.at,h,u));continue}let[S,y,g={}]=v;g.at!==void 0&&(d=jX(d,g.at,h,u));let b=0;const M=(E,P,A,L=0,I=0)=>{const R=s5e(E),{delay:C=0,times:O=Zae(R),type:G="keyframes",...j}=P;let{ease:q=e.ease||"easeOut",duration:Q}=P;const X=typeof C=="function"?C(L,I):C,se=R.length,D=nL(G)?G:i==null?void 0:i[G];if(se<=2&&D){let te=100;if(se===2&&l5e(R)){const ve=R[1]-R[0];te=Math.abs(ve)}const Ae={...j};Q!==void 0&&(Ae.duration=tc(Q));const F=KDe(Ae,te,D);q=F.ease,Q=F.duration}Q??(Q=s);const V=d+X,B=V+Q;O.length===1&&O[0]===0&&(O[1]=1);const $=O.length-R.length;$>0&&qae(O,$),R.length===1&&R.unshift(null),t5e(A,R,q,O,V,B),b=Math.max(X+Q,b),f=Math.max(B,f)};if(hi(S)){const E=XX(S,o);M(y,g,$X("default",E))}else{const E=Joe(S,y,r,l),P=E.length;for(let A=0;A<P;A++){y=y,g=g;const L=E[A],I=XX(L,o);for(const R in y)M(y[R],a5e(g,R),$X(R,I),A,P)}}h=d,d+=b}return o.forEach((m,v)=>{for(const S in m){const y=m[S];y.sort(n5e);const g=[],b=[],M=[];for(let P=0;P<y.length;P++){const{at:A,value:L,easing:I}=y[P];g.push(L),b.push(Ug(0,f,A)),M.push(I||"easeOut")}b[0]!==0&&(b.unshift(0),g.unshift(g[0]),M.unshift(r5e)),b[b.length-1]!==1&&(b.push(1),g.push(null)),a.has(v)||a.set(v,{keyframes:{},transition:{}});const E=a.get(v);E.keyframes[S]=g,E.transition[S]={...e,duration:f,ease:M,times:b,...n}}}),a}function XX(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function $X(t,e){return e[t]||(e[t]=[]),e[t]}function s5e(t){return Array.isArray(t)?t:[t]}function a5e(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const o5e=t=>typeof t=="number",l5e=t=>t.every(o5e);function u5e(t,e){return t in e}class c5e extends Yoe{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(u5e(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Fr()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function h5e(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Eoe(t)?new Koe(e):new Zoe(e);n.mount(t),k1.set(t,n)}function d5e(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new c5e(e);n.mount(t),k1.set(t,n)}function f5e(t,e){return hi(t)||typeof t=="number"||typeof t=="string"&&!e8(e)}function ele(t,e,n,r){const i=[];if(f5e(t,e))i.push(Toe(t,e8(e)&&e.default||e,n&&(n.default||n)));else{const s=Joe(t,e,r),a=s.length;for(let o=0;o<a;o++){const l=s[o],u=l instanceof Element?h5e:d5e;k1.has(l)||u(l);const h=k1.get(l),d={...n};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(o,a)),i.push(...GB(h,{...e,transition:d},{}))}}return i}function p5e(t,e,n){const r=[];return i5e(t,e,n,{spring:DB}).forEach(({keyframes:i,transition:s},a)=>{r.push(...ele(a,i,s))}),r}function m5e(t){return Array.isArray(t)&&Array.isArray(t[0])}function g5e(t){function e(n,r,i){let s=[];return m5e(n)?s=p5e(n,r,t):s=ele(n,r,i,t),new toe(s)}return e}const v5e=g5e();var tle={exports:{}};(function(t,e){(function(n,r){t.exports=r(fe)})(typeof self<"u"?self:P3e,n=>(()=>{var r={7403:(o,l,u)=>{u.d(l,{default:()=>D});var h=u(4087),d=u.n(h);const f=function(V){return new RegExp(/<[a-z][\s\S]*>/i).test(V)},m=function(V,B){return Math.floor(Math.random()*(B-V+1))+V};var v="TYPE_CHARACTER",S="REMOVE_CHARACTER",y="REMOVE_ALL",g="REMOVE_LAST_VISIBLE_NODE",b="PAUSE_FOR",M="CALL_FUNCTION",E="ADD_HTML_TAG_ELEMENT",P="CHANGE_DELETE_SPEED",A="CHANGE_DELAY",L="CHANGE_CURSOR",I="PASTE_STRING",R="HTML_TAG";function C(V){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},C(V)}function O(V,B){var $=Object.keys(V);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(V);B&&(te=te.filter(function(Ae){return Object.getOwnPropertyDescriptor(V,Ae).enumerable})),$.push.apply($,te)}return $}function G(V){for(var B=1;B<arguments.length;B++){var $=arguments[B]!=null?arguments[B]:{};B%2?O(Object($),!0).forEach(function(te){X(V,te,$[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors($)):O(Object($)).forEach(function(te){Object.defineProperty(V,te,Object.getOwnPropertyDescriptor($,te))})}return V}function j(V){return function(B){if(Array.isArray(B))return q(B)}(V)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(V)||function(B,$){if(B){if(typeof B=="string")return q(B,$);var te=Object.prototype.toString.call(B).slice(8,-1);return te==="Object"&&B.constructor&&(te=B.constructor.name),te==="Map"||te==="Set"?Array.from(B):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?q(B,$):void 0}}(V)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q(V,B){(B==null||B>V.length)&&(B=V.length);for(var $=0,te=new Array(B);$<B;$++)te[$]=V[$];return te}function Q(V,B){for(var $=0;$<B.length;$++){var te=B[$];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(V,se(te.key),te)}}function X(V,B,$){return(B=se(B))in V?Object.defineProperty(V,B,{value:$,enumerable:!0,configurable:!0,writable:!0}):V[B]=$,V}function se(V){var B=function($,te){if(C($)!=="object"||$===null)return $;var Ae=$[Symbol.toPrimitive];if(Ae!==void 0){var F=Ae.call($,"string");if(C(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}(V);return C(B)==="symbol"?B:String(B)}const D=function(){function V(te,Ae){var F=this;if(function(ie,he){if(!(ie instanceof he))throw new TypeError("Cannot call a class as a function")}(this,V),X(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),X(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),X(this,"setupWrapperElement",function(){F.state.elements.container&&(F.state.elements.wrapper.className=F.options.wrapperClassName,F.state.elements.cursor.className=F.options.cursorClassName,F.state.elements.cursor.innerHTML=F.options.cursor,F.state.elements.container.innerHTML="",F.state.elements.container.appendChild(F.state.elements.wrapper),F.state.elements.container.appendChild(F.state.elements.cursor))}),X(this,"start",function(){return F.state.eventLoopPaused=!1,F.runEventLoop(),F}),X(this,"pause",function(){return F.state.eventLoopPaused=!0,F}),X(this,"stop",function(){return F.state.eventLoop&&((0,h.cancel)(F.state.eventLoop),F.state.eventLoop=null),F}),X(this,"pauseFor",function(ie){return F.addEventToQueue(b,{ms:ie}),F}),X(this,"typeOutAllStrings",function(){return typeof F.options.strings=="string"?(F.typeString(F.options.strings).pauseFor(F.options.pauseFor),F):(F.options.strings.forEach(function(ie){F.typeString(ie).pauseFor(F.options.pauseFor).deleteAll(F.options.deleteSpeed)}),F)}),X(this,"typeString",function(ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(f(ie))return F.typeOutHTMLString(ie,he);if(ie){var Ve=(F.options||{}).stringSplitter,ke=typeof Ve=="function"?Ve(ie):ie.split("");F.typeCharacters(ke,he)}return F}),X(this,"pasteString",function(ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return f(ie)?F.typeOutHTMLString(ie,he,!0):(ie&&F.addEventToQueue(I,{character:ie,node:he}),F)}),X(this,"typeOutHTMLString",function(ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ve=arguments.length>2?arguments[2]:void 0,ke=function(be){var H=document.createElement("div");return H.innerHTML=be,H.childNodes}(ie);if(ke.length>0)for(var Pe=0;Pe<ke.length;Pe++){var Ce=ke[Pe],pe=Ce.innerHTML;Ce&&Ce.nodeType!==3?(Ce.innerHTML="",F.addEventToQueue(E,{node:Ce,parentNode:he}),Ve?F.pasteString(pe,Ce):F.typeString(pe,Ce)):Ce.textContent&&(Ve?F.pasteString(Ce.textContent,he):F.typeString(Ce.textContent,he))}return F}),X(this,"deleteAll",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return F.addEventToQueue(y,{speed:ie}),F}),X(this,"changeDeleteSpeed",function(ie){if(!ie)throw new Error("Must provide new delete speed");return F.addEventToQueue(P,{speed:ie}),F}),X(this,"changeDelay",function(ie){if(!ie)throw new Error("Must provide new delay");return F.addEventToQueue(A,{delay:ie}),F}),X(this,"changeCursor",function(ie){if(!ie)throw new Error("Must provide new cursor");return F.addEventToQueue(L,{cursor:ie}),F}),X(this,"deleteChars",function(ie){if(!ie)throw new Error("Must provide amount of characters to delete");for(var he=0;he<ie;he++)F.addEventToQueue(S);return F}),X(this,"callFunction",function(ie,he){if(!ie||typeof ie!="function")throw new Error("Callback must be a function");return F.addEventToQueue(M,{cb:ie,thisArg:he}),F}),X(this,"typeCharacters",function(ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ie||!Array.isArray(ie))throw new Error("Characters must be an array");return ie.forEach(function(Ve){F.addEventToQueue(v,{character:Ve,node:he})}),F}),X(this,"removeCharacters",function(ie){if(!ie||!Array.isArray(ie))throw new Error("Characters must be an array");return ie.forEach(function(){F.addEventToQueue(S)}),F}),X(this,"addEventToQueue",function(ie,he){var Ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.addEventToStateProperty(ie,he,Ve,"eventQueue")}),X(this,"addReverseCalledEvent",function(ie,he){var Ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.options.loop?F.addEventToStateProperty(ie,he,Ve,"reverseCalledEvents"):F}),X(this,"addEventToStateProperty",function(ie,he){var Ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ke=arguments.length>3?arguments[3]:void 0,Pe={eventName:ie,eventArgs:he||{}};return F.state[ke]=Ve?[Pe].concat(j(F.state[ke])):[].concat(j(F.state[ke]),[Pe]),F}),X(this,"runEventLoop",function(){F.state.lastFrameTime||(F.state.lastFrameTime=Date.now());var ie=Date.now(),he=ie-F.state.lastFrameTime;if(!F.state.eventQueue.length){if(!F.options.loop)return;F.state.eventQueue=j(F.state.calledEvents),F.state.calledEvents=[],F.options=G({},F.state.initialOptions)}if(F.state.eventLoop=d()(F.runEventLoop),!F.state.eventLoopPaused){if(F.state.pauseUntil){if(ie<F.state.pauseUntil)return;F.state.pauseUntil=null}var Ve,ke=j(F.state.eventQueue),Pe=ke.shift();if(!(he<=(Ve=Pe.eventName===g||Pe.eventName===S?F.options.deleteSpeed==="natural"?m(40,80):F.options.deleteSpeed:F.options.delay==="natural"?m(120,160):F.options.delay))){var Ce=Pe.eventName,pe=Pe.eventArgs;switch(F.logInDevMode({currentEvent:Pe,state:F.state,delay:Ve}),Ce){case I:case v:var be=pe.character,H=pe.node,Ee=document.createTextNode(be),Te=Ee;F.options.onCreateTextNode&&typeof F.options.onCreateTextNode=="function"&&(Te=F.options.onCreateTextNode(be,Ee)),Te&&(H?H.appendChild(Te):F.state.elements.wrapper.appendChild(Te)),F.state.visibleNodes=[].concat(j(F.state.visibleNodes),[{type:"TEXT_NODE",character:be,node:Te}]);break;case S:ke.unshift({eventName:g,eventArgs:{removingCharacterNode:!0}});break;case b:var He=Pe.eventArgs.ms;F.state.pauseUntil=Date.now()+parseInt(He);break;case M:var Le=Pe.eventArgs,it=Le.cb,ze=Le.thisArg;it.call(ze,{elements:F.state.elements});break;case E:var z=Pe.eventArgs,k=z.node,J=z.parentNode;J?J.appendChild(k):F.state.elements.wrapper.appendChild(k),F.state.visibleNodes=[].concat(j(F.state.visibleNodes),[{type:R,node:k,parentNode:J||F.state.elements.wrapper}]);break;case y:var ge=F.state.visibleNodes,xe=pe.speed,me=[];xe&&me.push({eventName:P,eventArgs:{speed:xe,temp:!0}});for(var qe=0,Ie=ge.length;qe<Ie;qe++)me.push({eventName:g,eventArgs:{removingCharacterNode:!1}});xe&&me.push({eventName:P,eventArgs:{speed:F.options.deleteSpeed,temp:!0}}),ke.unshift.apply(ke,me);break;case g:var Xe=Pe.eventArgs.removingCharacterNode;if(F.state.visibleNodes.length){var pt=F.state.visibleNodes.pop(),Me=pt.type,je=pt.node,nt=pt.character;F.options.onRemoveNode&&typeof F.options.onRemoveNode=="function"&&F.options.onRemoveNode({node:je,character:nt}),je&&je.parentNode.removeChild(je),Me===R&&Xe&&ke.unshift({eventName:g,eventArgs:{}})}break;case P:F.options.deleteSpeed=Pe.eventArgs.speed;break;case A:F.options.delay=Pe.eventArgs.delay;break;case L:F.options.cursor=Pe.eventArgs.cursor,F.state.elements.cursor.innerHTML=Pe.eventArgs.cursor}F.options.loop&&(Pe.eventName===g||Pe.eventArgs&&Pe.eventArgs.temp||(F.state.calledEvents=[].concat(j(F.state.calledEvents),[Pe]))),F.state.eventQueue=ke,F.state.lastFrameTime=ie}}}),te)if(typeof te=="string"){var ve=document.querySelector(te);if(!ve)throw new Error("Could not find container element");this.state.elements.container=ve}else this.state.elements.container=te;Ae&&(this.options=G(G({},this.options),Ae)),this.state.initialOptions=G({},this.options),this.init()}var B,$;return B=V,($=[{key:"init",value:function(){var te,Ae;this.setupWrapperElement(),this.addEventToQueue(L,{cursor:this.options.cursor},!0),this.addEventToQueue(y,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(te=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(Ae=document.createElement("style")).appendChild(document.createTextNode(te)),document.head.appendChild(Ae),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(te){this.options.devMode&&console.log(te)}}])&&Q(B.prototype,$),Object.defineProperty(B,"prototype",{writable:!1}),V}()},8552:(o,l,u)=>{var h=u(852)(u(5639),"DataView");o.exports=h},1989:(o,l,u)=>{var h=u(1789),d=u(401),f=u(7667),m=u(1327),v=u(1866);function S(y){var g=-1,b=y==null?0:y.length;for(this.clear();++g<b;){var M=y[g];this.set(M[0],M[1])}}S.prototype.clear=h,S.prototype.delete=d,S.prototype.get=f,S.prototype.has=m,S.prototype.set=v,o.exports=S},8407:(o,l,u)=>{var h=u(7040),d=u(4125),f=u(2117),m=u(7518),v=u(4705);function S(y){var g=-1,b=y==null?0:y.length;for(this.clear();++g<b;){var M=y[g];this.set(M[0],M[1])}}S.prototype.clear=h,S.prototype.delete=d,S.prototype.get=f,S.prototype.has=m,S.prototype.set=v,o.exports=S},7071:(o,l,u)=>{var h=u(852)(u(5639),"Map");o.exports=h},3369:(o,l,u)=>{var h=u(4785),d=u(1285),f=u(6e3),m=u(9916),v=u(5265);function S(y){var g=-1,b=y==null?0:y.length;for(this.clear();++g<b;){var M=y[g];this.set(M[0],M[1])}}S.prototype.clear=h,S.prototype.delete=d,S.prototype.get=f,S.prototype.has=m,S.prototype.set=v,o.exports=S},3818:(o,l,u)=>{var h=u(852)(u(5639),"Promise");o.exports=h},8525:(o,l,u)=>{var h=u(852)(u(5639),"Set");o.exports=h},8668:(o,l,u)=>{var h=u(3369),d=u(619),f=u(2385);function m(v){var S=-1,y=v==null?0:v.length;for(this.__data__=new h;++S<y;)this.add(v[S])}m.prototype.add=m.prototype.push=d,m.prototype.has=f,o.exports=m},6384:(o,l,u)=>{var h=u(8407),d=u(7465),f=u(3779),m=u(7599),v=u(4758),S=u(4309);function y(g){var b=this.__data__=new h(g);this.size=b.size}y.prototype.clear=d,y.prototype.delete=f,y.prototype.get=m,y.prototype.has=v,y.prototype.set=S,o.exports=y},2705:(o,l,u)=>{var h=u(5639).Symbol;o.exports=h},1149:(o,l,u)=>{var h=u(5639).Uint8Array;o.exports=h},577:(o,l,u)=>{var h=u(852)(u(5639),"WeakMap");o.exports=h},4963:o=>{o.exports=function(l,u){for(var h=-1,d=l==null?0:l.length,f=0,m=[];++h<d;){var v=l[h];u(v,h,l)&&(m[f++]=v)}return m}},4636:(o,l,u)=>{var h=u(2545),d=u(5694),f=u(1469),m=u(4144),v=u(5776),S=u(6719),y=Object.prototype.hasOwnProperty;o.exports=function(g,b){var M=f(g),E=!M&&d(g),P=!M&&!E&&m(g),A=!M&&!E&&!P&&S(g),L=M||E||P||A,I=L?h(g.length,String):[],R=I.length;for(var C in g)!b&&!y.call(g,C)||L&&(C=="length"||P&&(C=="offset"||C=="parent")||A&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||v(C,R))||I.push(C);return I}},2488:o=>{o.exports=function(l,u){for(var h=-1,d=u.length,f=l.length;++h<d;)l[f+h]=u[h];return l}},2908:o=>{o.exports=function(l,u){for(var h=-1,d=l==null?0:l.length;++h<d;)if(u(l[h],h,l))return!0;return!1}},8470:(o,l,u)=>{var h=u(7813);o.exports=function(d,f){for(var m=d.length;m--;)if(h(d[m][0],f))return m;return-1}},8866:(o,l,u)=>{var h=u(2488),d=u(1469);o.exports=function(f,m,v){var S=m(f);return d(f)?S:h(S,v(f))}},4239:(o,l,u)=>{var h=u(2705),d=u(9607),f=u(2333),m=h?h.toStringTag:void 0;o.exports=function(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":m&&m in Object(v)?d(v):f(v)}},9454:(o,l,u)=>{var h=u(4239),d=u(7005);o.exports=function(f){return d(f)&&h(f)=="[object Arguments]"}},939:(o,l,u)=>{var h=u(2492),d=u(7005);o.exports=function f(m,v,S,y,g){return m===v||(m==null||v==null||!d(m)&&!d(v)?m!=m&&v!=v:h(m,v,S,y,f,g))}},2492:(o,l,u)=>{var h=u(6384),d=u(7114),f=u(8351),m=u(6096),v=u(4160),S=u(1469),y=u(4144),g=u(6719),b="[object Arguments]",M="[object Array]",E="[object Object]",P=Object.prototype.hasOwnProperty;o.exports=function(A,L,I,R,C,O){var G=S(A),j=S(L),q=G?M:v(A),Q=j?M:v(L),X=(q=q==b?E:q)==E,se=(Q=Q==b?E:Q)==E,D=q==Q;if(D&&y(A)){if(!y(L))return!1;G=!0,X=!1}if(D&&!X)return O||(O=new h),G||g(A)?d(A,L,I,R,C,O):f(A,L,q,I,R,C,O);if(!(1&I)){var V=X&&P.call(A,"__wrapped__"),B=se&&P.call(L,"__wrapped__");if(V||B){var $=V?A.value():A,te=B?L.value():L;return O||(O=new h),C($,te,I,R,O)}}return!!D&&(O||(O=new h),m(A,L,I,R,C,O))}},8458:(o,l,u)=>{var h=u(3560),d=u(5346),f=u(3218),m=u(346),v=/^\[object .+?Constructor\]$/,S=Function.prototype,y=Object.prototype,g=S.toString,b=y.hasOwnProperty,M=RegExp("^"+g.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");o.exports=function(E){return!(!f(E)||d(E))&&(h(E)?M:v).test(m(E))}},8749:(o,l,u)=>{var h=u(4239),d=u(1780),f=u(7005),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1,o.exports=function(v){return f(v)&&d(v.length)&&!!m[h(v)]}},280:(o,l,u)=>{var h=u(5726),d=u(6916),f=Object.prototype.hasOwnProperty;o.exports=function(m){if(!h(m))return d(m);var v=[];for(var S in Object(m))f.call(m,S)&&S!="constructor"&&v.push(S);return v}},2545:o=>{o.exports=function(l,u){for(var h=-1,d=Array(l);++h<l;)d[h]=u(h);return d}},1717:o=>{o.exports=function(l){return function(u){return l(u)}}},4757:o=>{o.exports=function(l,u){return l.has(u)}},4429:(o,l,u)=>{var h=u(5639)["__core-js_shared__"];o.exports=h},7114:(o,l,u)=>{var h=u(8668),d=u(2908),f=u(4757);o.exports=function(m,v,S,y,g,b){var M=1&S,E=m.length,P=v.length;if(E!=P&&!(M&&P>E))return!1;var A=b.get(m),L=b.get(v);if(A&&L)return A==v&&L==m;var I=-1,R=!0,C=2&S?new h:void 0;for(b.set(m,v),b.set(v,m);++I<E;){var O=m[I],G=v[I];if(y)var j=M?y(G,O,I,v,m,b):y(O,G,I,m,v,b);if(j!==void 0){if(j)continue;R=!1;break}if(C){if(!d(v,function(q,Q){if(!f(C,Q)&&(O===q||g(O,q,S,y,b)))return C.push(Q)})){R=!1;break}}else if(O!==G&&!g(O,G,S,y,b)){R=!1;break}}return b.delete(m),b.delete(v),R}},8351:(o,l,u)=>{var h=u(2705),d=u(1149),f=u(7813),m=u(7114),v=u(8776),S=u(1814),y=h?h.prototype:void 0,g=y?y.valueOf:void 0;o.exports=function(b,M,E,P,A,L,I){switch(E){case"[object DataView]":if(b.byteLength!=M.byteLength||b.byteOffset!=M.byteOffset)return!1;b=b.buffer,M=M.buffer;case"[object ArrayBuffer]":return!(b.byteLength!=M.byteLength||!L(new d(b),new d(M)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+b,+M);case"[object Error]":return b.name==M.name&&b.message==M.message;case"[object RegExp]":case"[object String]":return b==M+"";case"[object Map]":var R=v;case"[object Set]":var C=1&P;if(R||(R=S),b.size!=M.size&&!C)return!1;var O=I.get(b);if(O)return O==M;P|=2,I.set(b,M);var G=m(R(b),R(M),P,A,L,I);return I.delete(b),G;case"[object Symbol]":if(g)return g.call(b)==g.call(M)}return!1}},6096:(o,l,u)=>{var h=u(8234),d=Object.prototype.hasOwnProperty;o.exports=function(f,m,v,S,y,g){var b=1&v,M=h(f),E=M.length;if(E!=h(m).length&&!b)return!1;for(var P=E;P--;){var A=M[P];if(!(b?A in m:d.call(m,A)))return!1}var L=g.get(f),I=g.get(m);if(L&&I)return L==m&&I==f;var R=!0;g.set(f,m),g.set(m,f);for(var C=b;++P<E;){var O=f[A=M[P]],G=m[A];if(S)var j=b?S(G,O,A,m,f,g):S(O,G,A,f,m,g);if(!(j===void 0?O===G||y(O,G,v,S,g):j)){R=!1;break}C||(C=A=="constructor")}if(R&&!C){var q=f.constructor,Q=m.constructor;q==Q||!("constructor"in f)||!("constructor"in m)||typeof q=="function"&&q instanceof q&&typeof Q=="function"&&Q instanceof Q||(R=!1)}return g.delete(f),g.delete(m),R}},1957:(o,l,u)=>{var h=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;o.exports=h},8234:(o,l,u)=>{var h=u(8866),d=u(9551),f=u(3674);o.exports=function(m){return h(m,f,d)}},5050:(o,l,u)=>{var h=u(7019);o.exports=function(d,f){var m=d.__data__;return h(f)?m[typeof f=="string"?"string":"hash"]:m.map}},852:(o,l,u)=>{var h=u(8458),d=u(7801);o.exports=function(f,m){var v=d(f,m);return h(v)?v:void 0}},9607:(o,l,u)=>{var h=u(2705),d=Object.prototype,f=d.hasOwnProperty,m=d.toString,v=h?h.toStringTag:void 0;o.exports=function(S){var y=f.call(S,v),g=S[v];try{S[v]=void 0;var b=!0}catch{}var M=m.call(S);return b&&(y?S[v]=g:delete S[v]),M}},9551:(o,l,u)=>{var h=u(4963),d=u(479),f=Object.prototype.propertyIsEnumerable,m=Object.getOwnPropertySymbols,v=m?function(S){return S==null?[]:(S=Object(S),h(m(S),function(y){return f.call(S,y)}))}:d;o.exports=v},4160:(o,l,u)=>{var h=u(8552),d=u(7071),f=u(3818),m=u(8525),v=u(577),S=u(4239),y=u(346),g="[object Map]",b="[object Promise]",M="[object Set]",E="[object WeakMap]",P="[object DataView]",A=y(h),L=y(d),I=y(f),R=y(m),C=y(v),O=S;(h&&O(new h(new ArrayBuffer(1)))!=P||d&&O(new d)!=g||f&&O(f.resolve())!=b||m&&O(new m)!=M||v&&O(new v)!=E)&&(O=function(G){var j=S(G),q=j=="[object Object]"?G.constructor:void 0,Q=q?y(q):"";if(Q)switch(Q){case A:return P;case L:return g;case I:return b;case R:return M;case C:return E}return j}),o.exports=O},7801:o=>{o.exports=function(l,u){return l==null?void 0:l[u]}},1789:(o,l,u)=>{var h=u(4536);o.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:o=>{o.exports=function(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}},7667:(o,l,u)=>{var h=u(4536),d=Object.prototype.hasOwnProperty;o.exports=function(f){var m=this.__data__;if(h){var v=m[f];return v==="__lodash_hash_undefined__"?void 0:v}return d.call(m,f)?m[f]:void 0}},1327:(o,l,u)=>{var h=u(4536),d=Object.prototype.hasOwnProperty;o.exports=function(f){var m=this.__data__;return h?m[f]!==void 0:d.call(m,f)}},1866:(o,l,u)=>{var h=u(4536);o.exports=function(d,f){var m=this.__data__;return this.size+=this.has(d)?0:1,m[d]=h&&f===void 0?"__lodash_hash_undefined__":f,this}},5776:o=>{var l=/^(?:0|[1-9]\d*)$/;o.exports=function(u,h){var d=typeof u;return!!(h=h??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(u))&&u>-1&&u%1==0&&u<h}},7019:o=>{o.exports=function(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}},5346:(o,l,u)=>{var h,d=u(4429),f=(h=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";o.exports=function(m){return!!f&&f in m}},5726:o=>{var l=Object.prototype;o.exports=function(u){var h=u&&u.constructor;return u===(typeof h=="function"&&h.prototype||l)}},7040:o=>{o.exports=function(){this.__data__=[],this.size=0}},4125:(o,l,u)=>{var h=u(8470),d=Array.prototype.splice;o.exports=function(f){var m=this.__data__,v=h(m,f);return!(v<0||(v==m.length-1?m.pop():d.call(m,v,1),--this.size,0))}},2117:(o,l,u)=>{var h=u(8470);o.exports=function(d){var f=this.__data__,m=h(f,d);return m<0?void 0:f[m][1]}},7518:(o,l,u)=>{var h=u(8470);o.exports=function(d){return h(this.__data__,d)>-1}},4705:(o,l,u)=>{var h=u(8470);o.exports=function(d,f){var m=this.__data__,v=h(m,d);return v<0?(++this.size,m.push([d,f])):m[v][1]=f,this}},4785:(o,l,u)=>{var h=u(1989),d=u(8407),f=u(7071);o.exports=function(){this.size=0,this.__data__={hash:new h,map:new(f||d),string:new h}}},1285:(o,l,u)=>{var h=u(5050);o.exports=function(d){var f=h(this,d).delete(d);return this.size-=f?1:0,f}},6e3:(o,l,u)=>{var h=u(5050);o.exports=function(d){return h(this,d).get(d)}},9916:(o,l,u)=>{var h=u(5050);o.exports=function(d){return h(this,d).has(d)}},5265:(o,l,u)=>{var h=u(5050);o.exports=function(d,f){var m=h(this,d),v=m.size;return m.set(d,f),this.size+=m.size==v?0:1,this}},8776:o=>{o.exports=function(l){var u=-1,h=Array(l.size);return l.forEach(function(d,f){h[++u]=[f,d]}),h}},4536:(o,l,u)=>{var h=u(852)(Object,"create");o.exports=h},6916:(o,l,u)=>{var h=u(5569)(Object.keys,Object);o.exports=h},1167:(o,l,u)=>{o=u.nmd(o);var h=u(1957),d=l&&!l.nodeType&&l,f=d&&o&&!o.nodeType&&o,m=f&&f.exports===d&&h.process,v=function(){try{return f&&f.require&&f.require("util").types||m&&m.binding&&m.binding("util")}catch{}}();o.exports=v},2333:o=>{var l=Object.prototype.toString;o.exports=function(u){return l.call(u)}},5569:o=>{o.exports=function(l,u){return function(h){return l(u(h))}}},5639:(o,l,u)=>{var h=u(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,f=h||d||Function("return this")();o.exports=f},619:o=>{o.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:o=>{o.exports=function(l){return this.__data__.has(l)}},1814:o=>{o.exports=function(l){var u=-1,h=Array(l.size);return l.forEach(function(d){h[++u]=d}),h}},7465:(o,l,u)=>{var h=u(8407);o.exports=function(){this.__data__=new h,this.size=0}},3779:o=>{o.exports=function(l){var u=this.__data__,h=u.delete(l);return this.size=u.size,h}},7599:o=>{o.exports=function(l){return this.__data__.get(l)}},4758:o=>{o.exports=function(l){return this.__data__.has(l)}},4309:(o,l,u)=>{var h=u(8407),d=u(7071),f=u(3369);o.exports=function(m,v){var S=this.__data__;if(S instanceof h){var y=S.__data__;if(!d||y.length<199)return y.push([m,v]),this.size=++S.size,this;S=this.__data__=new f(y)}return S.set(m,v),this.size=S.size,this}},346:o=>{var l=Function.prototype.toString;o.exports=function(u){if(u!=null){try{return l.call(u)}catch{}try{return u+""}catch{}}return""}},7813:o=>{o.exports=function(l,u){return l===u||l!=l&&u!=u}},5694:(o,l,u)=>{var h=u(9454),d=u(7005),f=Object.prototype,m=f.hasOwnProperty,v=f.propertyIsEnumerable,S=h(function(){return arguments}())?h:function(y){return d(y)&&m.call(y,"callee")&&!v.call(y,"callee")};o.exports=S},1469:o=>{var l=Array.isArray;o.exports=l},8612:(o,l,u)=>{var h=u(3560),d=u(1780);o.exports=function(f){return f!=null&&d(f.length)&&!h(f)}},4144:(o,l,u)=>{o=u.nmd(o);var h=u(5639),d=u(5062),f=l&&!l.nodeType&&l,m=f&&o&&!o.nodeType&&o,v=m&&m.exports===f?h.Buffer:void 0,S=(v?v.isBuffer:void 0)||d;o.exports=S},8446:(o,l,u)=>{var h=u(939);o.exports=function(d,f){return h(d,f)}},3560:(o,l,u)=>{var h=u(4239),d=u(3218);o.exports=function(f){if(!d(f))return!1;var m=h(f);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}},1780:o=>{o.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:o=>{o.exports=function(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}},7005:o=>{o.exports=function(l){return l!=null&&typeof l=="object"}},6719:(o,l,u)=>{var h=u(8749),d=u(1717),f=u(1167),m=f&&f.isTypedArray,v=m?d(m):h;o.exports=v},3674:(o,l,u)=>{var h=u(4636),d=u(280),f=u(8612);o.exports=function(m){return f(m)?h(m):d(m)}},479:o=>{o.exports=function(){return[]}},5062:o=>{o.exports=function(){return!1}},75:function(o){(function(){var l,u,h,d,f,m;typeof performance<"u"&&performance!==null&&performance.now?o.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(o.exports=function(){return(l()-f)/1e6},u=process.hrtime,d=(l=function(){var v;return 1e9*(v=u())[0]+v[1]})(),m=1e9*process.uptime(),f=d-m):Date.now?(o.exports=function(){return Date.now()-h},h=Date.now()):(o.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)},4087:(o,l,u)=>{for(var h=u(75),d=typeof window>"u"?u.g:window,f=["moz","webkit"],m="AnimationFrame",v=d["request"+m],S=d["cancel"+m]||d["cancelRequest"+m],y=0;!v&&y<f.length;y++)v=d[f[y]+"Request"+m],S=d[f[y]+"Cancel"+m]||d[f[y]+"CancelRequest"+m];if(!v||!S){var g=0,b=0,M=[];v=function(E){if(M.length===0){var P=h(),A=Math.max(0,16.666666666666668-(P-g));g=A+P,setTimeout(function(){var L=M.slice(0);M.length=0;for(var I=0;I<L.length;I++)if(!L[I].cancelled)try{L[I].callback(g)}catch(R){setTimeout(function(){throw R},0)}},Math.round(A))}return M.push({handle:++b,callback:E,cancelled:!1}),b},S=function(E){for(var P=0;P<M.length;P++)M[P].handle===E&&(M[P].cancelled=!0)}}o.exports=function(E){return v.call(d,E)},o.exports.cancel=function(){S.apply(d,arguments)},o.exports.polyfill=function(E){E||(E=d),E.requestAnimationFrame=v,E.cancelAnimationFrame=S}},8156:o=>{o.exports=n}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={id:o,loaded:!1,exports:{}};return r[o].call(u.exports,u,u.exports,s),u.loaded=!0,u.exports}s.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return s.d(l,{a:l}),l},s.d=(o,l)=>{for(var u in l)s.o(l,u)&&!s.o(o,u)&&Object.defineProperty(o,u,{enumerable:!0,get:l[u]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),s.nmd=o=>(o.paths=[],o.children||(o.children=[]),o);var a={};return(()=>{s.d(a,{default:()=>M});var o=s(8156),l=s.n(o),u=s(7403),h=s(8446),d=s.n(h);function f(E){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},f(E)}function m(E,P){for(var A=0;A<P.length;A++){var L=P[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,g(L.key),L)}}function v(E,P){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,L){return A.__proto__=L,A},v(E,P)}function S(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function y(E){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},y(E)}function g(E){var P=function(A,L){if(f(A)!=="object"||A===null)return A;var I=A[Symbol.toPrimitive];if(I!==void 0){var R=I.call(A,"string");if(f(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(E);return f(P)==="symbol"?P:String(P)}var b=function(E){(function(O,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(G&&G.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),G&&v(O,G)})(C,E);var P,A,L,I,R=(L=C,I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,G=y(L);if(I){var j=y(this).constructor;O=Reflect.construct(G,arguments,j)}else O=G.apply(this,arguments);return function(q,Q){if(Q&&(f(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(q)}(this,O)});function C(){var O,G,j,q;(function(D,V){if(!(D instanceof V))throw new TypeError("Cannot call a class as a function")})(this,C);for(var Q=arguments.length,X=new Array(Q),se=0;se<Q;se++)X[se]=arguments[se];return G=S(O=R.call.apply(R,[this].concat(X))),q={instance:null},(j=g(j="state"))in G?Object.defineProperty(G,j,{value:q,enumerable:!0,configurable:!0,writable:!0}):G[j]=q,O}return P=C,(A=[{key:"componentDidMount",value:function(){var O=this,G=new u.default(this.typewriter,this.props.options);this.setState({instance:G},function(){var j=O.props.onInit;j&&j(G)})}},{key:"componentDidUpdate",value:function(O){d()(this.props.options,O.options)||this.setState({instance:new u.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var O=this,G=this.props.component;return l().createElement(G,{ref:function(j){return O.typewriter=j},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&m(P.prototype,A),Object.defineProperty(P,"prototype",{writable:!1}),C}(o.Component);b.defaultProps={component:"div"};const M=b})(),a.default})())})(tle);var y5e=tle.exports;const x5e=e0(y5e);function _5e({color:t}){const e=eU`1px solid ${t}`,n=eU`0px 4px 24px ${t}`;return Fe.jsx("section",{id:"home",className:"d-flex justify-content-center align-items-center vh-100 text-center",children:Fe.jsx(Ih.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.7},children:Fe.jsx(mae,{children:Fe.jsxs(jse,{children:[Fe.jsxs(Ih.h1,{initial:{x:-100},animate:{x:0},transition:{duration:.5},className:"display-4 home-header",children:["I'm a ",Fe.jsx(x5e,{options:{strings:["Developer","Problem Solver"],autoStart:!0,loop:!0,delay:75}})]}),Fe.jsx("p",{className:"lead",children:"I specialize in building intelligent systems like Symbolic, automation solutions, and AI assistants. With expertise in Python, C++, Rust, JavaScript, and web technologies, I create solutions that bridge math, science, and technology."}),Fe.jsx(Ih.a,{href:"#projects",className:"btn btn-light mt-3",whileHover:{scale:1.1},style:{border:e,boxShadow:n},children:"Explore My Work"})]})})})})}function S5e(){return Fe.jsx("section",{id:"about",className:"d-flex justify-content-center align-items-center text-center",children:Fe.jsxs("div",{className:"container mb-4",children:[Fe.jsx("h2",{className:"mb-4 display-4",children:"About Me"}),Fe.jsxs(Ih.p,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"lead",children:["Hi, Im Elijah Mandaa dedicated developer with expertise in ",Fe.jsx("strong",{children:"Python"}),", ",Fe.jsx("strong",{children:"Rust"}),", ",Fe.jsx("strong",{children:"C++"}),", ",Fe.jsx("strong",{children:"HTML"}),", ",Fe.jsx("strong",{children:"CSS"}),", ",Fe.jsx("strong",{children:"machine learning"}),", ",Fe.jsx("strong",{children:"NLP"}),", and ",Fe.jsx("strong",{children:"system automation"}),". Im passionate about building symbolic engines and tackling complex challenges with practical and innovative solutions."]}),Fe.jsxs(Ih.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"row",children:[Fe.jsxs("p",{className:"lead",children:["Driven by a love for science and technology, I specialize in ",Fe.jsx("strong",{children:"mathematics"}),", ",Fe.jsx("strong",{children:"physics"}),", and ",Fe.jsx("strong",{children:"computational engines"}),". My current focus is an interpreted language tailored for mathematical and scientific applications."]}),Fe.jsx("p",{className:"lead",children:"Beyond coding, Im committed to refining my skills and delivering high-quality work. My portfolio reflects a commitment to meaningful projects that make a positive impact."})]})]})})}const YX=()=>{};let t8={},nle={},rle=null,ile={mark:YX,measure:YX};try{typeof window<"u"&&(t8=window),typeof document<"u"&&(nle=document),typeof MutationObserver<"u"&&(rle=MutationObserver),typeof performance<"u"&&(ile=performance)}catch{}const{userAgent:qX=""}=t8.navigator||{},jf=t8,hr=nle,ZX=rle,q2=ile;jf.document;const ld=!!hr.documentElement&&!!hr.head&&typeof hr.addEventListener=="function"&&typeof hr.createElement=="function",sle=~qX.indexOf("MSIE")||~qX.indexOf("Trident/");var yr="classic",ale="duotone",vo="sharp",yo="sharp-duotone",b5e=[yr,ale,vo,yo],M5e={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},KX={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},w5e=["kit"],E5e=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,T5e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,A5e={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},C5e={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},P5e={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},R5e={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},L5e={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},I5e={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},ole={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},N5e=["solid","regular","light","thin","duotone","brands"],lle=[1,2,3,4,5,6,7,8,9,10],D5e=lle.concat([11,12,13,14,15,16,17,18,19,20]),PS={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},O5e=[...Object.keys(R5e),...N5e,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",PS.GROUP,PS.SWAP_OPACITY,PS.PRIMARY,PS.SECONDARY].concat(lle.map(t=>"".concat(t,"x"))).concat(D5e.map(t=>"w-".concat(t))),k5e={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},U5e={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},F5e={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},QX={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const Kh="___FONT_AWESOME___",tU=16,ule="fa",cle="svg-inline--fa",Fg="data-fa-i2svg",nU="data-fa-pseudo-element",z5e="data-fa-pseudo-element-pending",n8="data-prefix",r8="data-icon",JX="fontawesome-i2svg",B5e="async",V5e=["HTML","HEAD","STYLE","SCRIPT"],hle=(()=>{try{return!0}catch{return!1}})(),dle=[yr,vo,yo];function Dw(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[yr]}})}const fle={...ole};fle[yr]={...ole[yr],...KX.kit,...KX["kit-duotone"]};const dg=Dw(fle),rU={...I5e};rU[yr]={...rU[yr],...QX.kit,...QX["kit-duotone"]};const OM=Dw(rU),iU={...L5e};iU[yr]={...iU[yr],...F5e.kit};const fg=Dw(iU),sU={...P5e};sU[yr]={...sU[yr],...U5e.kit};const H5e=Dw(sU),G5e=E5e,ple="fa-layers-text",W5e=T5e,j5e={...M5e};Dw(j5e);const X5e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],zN=PS,U1=new Set;Object.keys(OM[yr]).map(U1.add.bind(U1));Object.keys(OM[vo]).map(U1.add.bind(U1));Object.keys(OM[yo]).map(U1.add.bind(U1));const $5e=[...w5e,...O5e],gb=jf.FontAwesomeConfig||{};function Y5e(t){var e=hr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function q5e(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}hr&&typeof hr.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,n]=t;const r=q5e(Y5e(e));r!=null&&(gb[n]=r)});const mle={styleDefault:"solid",familyDefault:"classic",cssPrefix:ule,replacementClass:cle,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};gb.familyPrefix&&(gb.cssPrefix=gb.familyPrefix);const F1={...mle,...gb};F1.autoReplaceSvg||(F1.observeMutations=!1);const Ot={};Object.keys(mle).forEach(t=>{Object.defineProperty(Ot,t,{enumerable:!0,set:function(e){F1[t]=e,vb.forEach(n=>n(Ot))},get:function(){return F1[t]}})});Object.defineProperty(Ot,"familyPrefix",{enumerable:!0,set:function(t){F1.cssPrefix=t,vb.forEach(e=>e(Ot))},get:function(){return F1.cssPrefix}});jf.FontAwesomeConfig=Ot;const vb=[];function Z5e(t){return vb.push(t),()=>{vb.splice(vb.indexOf(t),1)}}const zd=tU,Bu={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function K5e(t){if(!t||!ld)return;const e=hr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=hr.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}return hr.head.insertBefore(e,r),t}const Q5e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function kM(){let t=12,e="";for(;t-- >0;)e+=Q5e[Math.random()*62|0];return e}function ox(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function i8(t){return t.classList?ox(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function gle(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function J5e(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(gle(t[n]),'" '),"").trim()}function oL(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function s8(t){return t.size!==Bu.size||t.x!==Bu.x||t.y!==Bu.y||t.rotate!==Bu.rotate||t.flipX||t.flipY}function eOe(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(a," ").concat(o)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function tOe(t){let{transform:e,width:n=tU,height:r=tU,startCentered:i=!1}=t,s="";return i&&sle?s+="translate(".concat(e.x/zd-n/2,"em, ").concat(e.y/zd-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/zd,"em), calc(-50% + ").concat(e.y/zd,"em)) "):s+="translate(".concat(e.x/zd,"em, ").concat(e.y/zd,"em) "),s+="scale(".concat(e.size/zd*(e.flipX?-1:1),", ").concat(e.size/zd*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var nOe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function vle(){const t=ule,e=cle,n=Ot.cssPrefix,r=Ot.replacementClass;let i=nOe;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}let e$=!1;function BN(){Ot.autoAddCss&&!e$&&(K5e(vle()),e$=!0)}var rOe={mixout(){return{dom:{css:vle,insertCss:BN}}},hooks(){return{beforeDOMElementCreation(){BN()},beforeI2svg(){BN()}}}};const Qh=jf||{};Qh[Kh]||(Qh[Kh]={});Qh[Kh].styles||(Qh[Kh].styles={});Qh[Kh].hooks||(Qh[Kh].hooks={});Qh[Kh].shims||(Qh[Kh].shims=[]);var Vu=Qh[Kh];const yle=[],xle=function(){hr.removeEventListener("DOMContentLoaded",xle),DC=1,yle.map(t=>t())};let DC=!1;ld&&(DC=(hr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(hr.readyState),DC||hr.addEventListener("DOMContentLoaded",xle));function iOe(t){ld&&(DC?setTimeout(t,0):yle.push(t))}function Ow(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?gle(t):"<".concat(e," ").concat(J5e(n),">").concat(r.map(Ow).join(""),"</").concat(e,">")}function t$(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var VN=function(t,e,n,r){var i=Object.keys(t),s=i.length,a=e,o,l,u;for(n===void 0?(o=1,u=t[i[0]]):(o=0,u=n);o<s;o++)l=i[o],u=a(u,t[l],l,t);return u};function sOe(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function _le(t){const e=sOe(t);return e.length===1?e[0].toString(16):null}function aOe(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function n$(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function aU(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=n$(e);typeof Vu.hooks.addPack=="function"&&!r?Vu.hooks.addPack(t,n$(e)):Vu.styles[t]={...Vu.styles[t]||{},...i},t==="fas"&&aU("fa",e)}const{styles:Om,shims:oOe}=Vu,lOe={[yr]:Object.values(fg[yr]),[vo]:Object.values(fg[vo]),[yo]:Object.values(fg[yo])};let a8=null,Sle={},ble={},Mle={},wle={},Ele={};const uOe={[yr]:Object.keys(dg[yr]),[vo]:Object.keys(dg[vo]),[yo]:Object.keys(dg[yo])};function cOe(t){return~$5e.indexOf(t)}function hOe(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!cOe(i)?i:null}const Tle=()=>{const t=r=>VN(Om,(i,s,a)=>(i[a]=VN(s,r,{}),i),{});Sle=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),ble=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),Ele=t((r,i,s)=>{const a=i[2];return r[s]=s,a.forEach(o=>{r[o]=s}),r});const e="far"in Om||Ot.autoFetchSvg,n=VN(oOe,(r,i)=>{const s=i[0];let a=i[1];const o=i[2];return a==="far"&&!e&&(a="fas"),typeof s=="string"&&(r.names[s]={prefix:a,iconName:o}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:a,iconName:o}),r},{names:{},unicodes:{}});Mle=n.names,wle=n.unicodes,a8=lL(Ot.styleDefault,{family:Ot.familyDefault})};Z5e(t=>{a8=lL(t.styleDefault,{family:Ot.familyDefault})});Tle();function o8(t,e){return(Sle[t]||{})[e]}function dOe(t,e){return(ble[t]||{})[e]}function mf(t,e){return(Ele[t]||{})[e]}function Ale(t){return Mle[t]||{prefix:null,iconName:null}}function fOe(t){const e=wle[t],n=o8("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Xf(){return a8}const l8=()=>({prefix:null,iconName:null,rest:[]});function lL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=yr}=e,r=dg[n][t],i=OM[n][t]||OM[n][r],s=t in Vu.styles?t:null;return i||s||null}const pOe={[yr]:Object.keys(fg[yr]),[vo]:Object.keys(fg[vo]),[yo]:Object.keys(fg[yo])};function uL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[yr]:"".concat(Ot.cssPrefix,"-").concat(yr),[vo]:"".concat(Ot.cssPrefix,"-").concat(vo),[yo]:"".concat(Ot.cssPrefix,"-").concat(yo)};let i=null,s=yr;const a=b5e.filter(l=>l!==ale);a.forEach(l=>{(t.includes(r[l])||t.some(u=>pOe[l].includes(u)))&&(s=l)});const o=t.reduce((l,u)=>{const h=hOe(Ot.cssPrefix,u);if(Om[u]?(u=lOe[s].includes(u)?H5e[s][u]:u,i=u,l.prefix=u):uOe[s].indexOf(u)>-1?(i=u,l.prefix=lL(u,{family:s})):h?l.iconName=h:u!==Ot.replacementClass&&!a.some(d=>u===r[d])&&l.rest.push(u),!n&&l.prefix&&l.iconName){const d=i==="fa"?Ale(l.iconName):{},f=mf(l.prefix,l.iconName);d.prefix&&(i=null),l.iconName=d.iconName||f||l.iconName,l.prefix=d.prefix||l.prefix,l.prefix==="far"&&!Om.far&&Om.fas&&!Ot.autoFetchSvg&&(l.prefix="fas")}return l},l8());return(t.includes("fa-brands")||t.includes("fab"))&&(o.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(o.prefix="fad"),!o.prefix&&s===vo&&(Om.fass||Ot.autoFetchSvg)&&(o.prefix="fass",o.iconName=mf(o.prefix,o.iconName)||o.iconName),!o.prefix&&s===yo&&(Om.fasds||Ot.autoFetchSvg)&&(o.prefix="fasds",o.iconName=mf(o.prefix,o.iconName)||o.iconName),(o.prefix==="fa"||i==="fa")&&(o.prefix=Xf()||"fas"),o}class mOe{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},aU(s,i[s]);const a=fg[yr][s];a&&aU(a,i[s]),Tle()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:a,icon:o}=r[i],l=o[2];e[s]||(e[s]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(e[s][u]=o)}),e[s][a]=o}),e}}let r$=[],Fy={};const a1={},gOe=Object.keys(a1);function vOe(t,e){let{mixoutsTo:n}=e;return r$=t,Fy={},Object.keys(a1).forEach(r=>{gOe.indexOf(r)===-1&&delete a1[r]}),r$.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(a=>{n[s]||(n[s]={}),n[s][a]=i[s][a]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(a=>{Fy[a]||(Fy[a]=[]),Fy[a].push(s[a])})}r.provides&&r.provides(a1)}),n}function oU(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Fy[t]||[]).forEach(s=>{e=s.apply(null,[e,...r])}),e}function zg(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Fy[t]||[]).forEach(i=>{i.apply(null,n)})}function $f(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return a1[t]?a1[t].apply(null,e):void 0}function lU(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||Xf();if(e)return e=mf(n,e)||e,t$(Cle.definitions,n,e)||t$(Vu.styles,n,e)}const Cle=new mOe,yOe=()=>{Ot.autoReplaceSvg=!1,Ot.observeMutations=!1,zg("noAuto")},xOe={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ld?(zg("beforeI2svg",t),$f("pseudoElements2svg",t),$f("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Ot.autoReplaceSvg===!1&&(Ot.autoReplaceSvg=!0),Ot.observeMutations=!0,iOe(()=>{SOe({autoReplaceSvgRoot:e}),zg("watch",t)})}},_Oe={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:mf(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=lL(t[0]);return{prefix:n,iconName:mf(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Ot.cssPrefix,"-"))>-1||t.match(G5e))){const e=uL(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Xf(),iconName:mf(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=Xf();return{prefix:e,iconName:mf(e,t)||t}}}},Lo={noAuto:yOe,config:Ot,dom:xOe,parse:_Oe,library:Cle,findIconDefinition:lU,toHtml:Ow},SOe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=hr}=t;(Object.keys(Vu.styles).length>0||Ot.autoFetchSvg)&&ld&&Ot.autoReplaceSvg&&Lo.dom.i2svg({node:e})};function cL(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Ow(n))}}),Object.defineProperty(t,"node",{get:function(){if(!ld)return;const n=hr.createElement("div");return n.innerHTML=t.html,n.children}}),t}function bOe(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:a}=t;if(s8(a)&&n.found&&!r.found){const{width:o,height:l}=n,u={x:o/l/2,y:.5};i.style=oL({...s,"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function MOe(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const a=s===!0?"".concat(e,"-").concat(Ot.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:a},children:r}]}]}function u8(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:a,title:o,maskId:l,titleId:u,extra:h,watchable:d=!1}=t,{width:f,height:m}=n.found?n:e,v=r==="fak",S=[Ot.replacementClass,i?"".concat(Ot.cssPrefix,"-").concat(i):""].filter(P=>h.classes.indexOf(P)===-1).filter(P=>P!==""||!!P).concat(h.classes).join(" ");let y={children:[],attributes:{...h.attributes,"data-prefix":r,"data-icon":i,class:S,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(m)}};const g=v&&!~h.classes.indexOf("fa-fw")?{width:"".concat(f/m*16*.0625,"em")}:{};d&&(y.attributes[Fg]=""),o&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(u||kM())},children:[o]}),delete y.attributes.title);const b={...y,prefix:r,iconName:i,main:e,mask:n,maskId:l,transform:s,symbol:a,styles:{...g,...h.styles}},{children:M,attributes:E}=n.found&&e.found?$f("generateAbstractMask",b)||{children:[],attributes:{}}:$f("generateAbstractIcon",b)||{children:[],attributes:{}};return b.children=M,b.attributes=E,a?MOe(b):bOe(b)}function i$(t){const{content:e,width:n,height:r,transform:i,title:s,extra:a,watchable:o=!1}=t,l={...a.attributes,...s?{title:s}:{},class:a.classes.join(" ")};o&&(l[Fg]="");const u={...a.styles};s8(i)&&(u.transform=tOe({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const h=oL(u);h.length>0&&(l.style=h);const d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function wOe(t){const{content:e,title:n,extra:r}=t,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=oL(r.styles);s.length>0&&(i.style=s);const a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}const{styles:HN}=Vu;function uU(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(Ot.cssPrefix,"-").concat(zN.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ot.cssPrefix,"-").concat(zN.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ot.cssPrefix,"-").concat(zN.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const EOe={found:!1,width:512,height:512};function TOe(t,e){!hle&&!Ot.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function cU(t,e){let n=e;return e==="fa"&&Ot.styleDefault!==null&&(e=Xf()),new Promise((r,i)=>{if(n==="fa"){const s=Ale(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&HN[e]&&HN[e][t]){const s=HN[e][t];return r(uU(s))}TOe(t,e),r({...EOe,icon:Ot.showMissingIcons&&t?$f("missingIconAbstract")||{}:{}})})}const s$=()=>{},hU=Ot.measurePerformance&&q2&&q2.mark&&q2.measure?q2:{mark:s$,measure:s$},RS='FA "6.6.0"',AOe=t=>(hU.mark("".concat(RS," ").concat(t," begins")),()=>Ple(t)),Ple=t=>{hU.mark("".concat(RS," ").concat(t," ends")),hU.measure("".concat(RS," ").concat(t),"".concat(RS," ").concat(t," begins"),"".concat(RS," ").concat(t," ends"))};var c8={begin:AOe,end:Ple};const wA=()=>{};function a$(t){return typeof(t.getAttribute?t.getAttribute(Fg):null)=="string"}function COe(t){const e=t.getAttribute?t.getAttribute(n8):null,n=t.getAttribute?t.getAttribute(r8):null;return e&&n}function POe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ot.replacementClass)}function ROe(){return Ot.autoReplaceSvg===!0?EA.replace:EA[Ot.autoReplaceSvg]||EA.replace}function LOe(t){return hr.createElementNS("http://www.w3.org/2000/svg",t)}function IOe(t){return hr.createElement(t)}function Rle(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?LOe:IOe}=e;if(typeof t=="string")return hr.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){r.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){r.appendChild(Rle(i,{ceFn:n}))}),r}function NOe(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const EA={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Rle(n),e)}),e.getAttribute(Fg)===null&&Ot.keepOriginalSource){let n=hr.createComment(NOe(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~i8(e).indexOf(Ot.replacementClass))return EA.replace(t);const r=new RegExp("".concat(Ot.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((a,o)=>(o===Ot.replacementClass||o.match(r)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>Ow(s)).join(`
`);e.setAttribute(Fg,""),e.innerHTML=i}};function o$(t){t()}function Lle(t,e){const n=typeof e=="function"?e:wA;if(t.length===0)n();else{let r=o$;Ot.mutateApproach===B5e&&(r=jf.requestAnimationFrame||o$),r(()=>{const i=ROe(),s=c8.begin("mutate");t.map(i),s(),n()})}}let h8=!1;function Ile(){h8=!0}function dU(){h8=!1}let OC=null;function l$(t){if(!ZX||!Ot.observeMutations)return;const{treeCallback:e=wA,nodeCallback:n=wA,pseudoElementsCallback:r=wA,observeMutationsRoot:i=hr}=t;OC=new ZX(s=>{if(h8)return;const a=Xf();ox(s).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!a$(o.addedNodes[0])&&(Ot.searchPseudoElements&&r(o.target),e(o.target)),o.type==="attributes"&&o.target.parentNode&&Ot.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&a$(o.target)&&~X5e.indexOf(o.attributeName))if(o.attributeName==="class"&&COe(o.target)){const{prefix:l,iconName:u}=uL(i8(o.target));o.target.setAttribute(n8,l||a),u&&o.target.setAttribute(r8,u)}else POe(o.target)&&n(o.target)})}),ld&&OC.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function DOe(){OC&&OC.disconnect()}function OOe(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}function kOe(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=uL(i8(t));return i.prefix||(i.prefix=Xf()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=dOe(i.prefix,t.innerText)||o8(i.prefix,_le(t.innerText))),!i.iconName&&Ot.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function UOe(t){const e=ox(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Ot.autoA11y&&(n?e["aria-labelledby"]="".concat(Ot.replacementClass,"-title-").concat(r||kM()):(e["aria-hidden"]="true",e.focusable="false")),e}function FOe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Bu,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function u$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=kOe(t),s=UOe(t),a=oU("parseNodeAttributes",{},t);let o=e.styleParser?OOe(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Bu,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:s},...a}}const{styles:zOe}=Vu;function Nle(t){const e=Ot.autoReplaceSvg==="nest"?u$(t,{styleParser:!1}):u$(t);return~e.extra.classes.indexOf(ple)?$f("generateLayersText",t,e):$f("generateSvgReplacementMutation",t,e)}let uc=new Set;dle.map(t=>{uc.add("fa-".concat(t))});Object.keys(dg[yr]).map(uc.add.bind(uc));Object.keys(dg[vo]).map(uc.add.bind(uc));Object.keys(dg[yo]).map(uc.add.bind(uc));uc=[...uc];function c$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ld)return Promise.resolve();const n=hr.documentElement.classList,r=h=>n.add("".concat(JX,"-").concat(h)),i=h=>n.remove("".concat(JX,"-").concat(h)),s=Ot.autoFetchSvg?uc:dle.map(h=>"fa-".concat(h)).concat(Object.keys(zOe));s.includes("fa")||s.push("fa");const a=[".".concat(ple,":not([").concat(Fg,"])")].concat(s.map(h=>".".concat(h,":not([").concat(Fg,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=ox(t.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),i("complete");else return Promise.resolve();const l=c8.begin("onTree"),u=o.reduce((h,d)=>{try{const f=Nle(d);f&&h.push(f)}catch(f){hle||f.name==="MissingIcon"&&console.error(f)}return h},[]);return new Promise((h,d)=>{Promise.all(u).then(f=>{Lle(f,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),h()})}).catch(f=>{l(),d(f)})})}function BOe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Nle(t).then(n=>{n&&Lle([n],e)})}function VOe(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:lU(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:lU(i||{})),t(r,{...n,mask:i})}}const HOe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Bu,symbol:r=!1,mask:i=null,maskId:s=null,title:a=null,titleId:o=null,classes:l=[],attributes:u={},styles:h={}}=e;if(!t)return;const{prefix:d,iconName:f,icon:m}=t;return cL({type:"icon",...t},()=>(zg("beforeDOMElementCreation",{iconDefinition:t,params:e}),Ot.autoA11y&&(a?u["aria-labelledby"]="".concat(Ot.replacementClass,"-title-").concat(o||kM()):(u["aria-hidden"]="true",u.focusable="false")),u8({icons:{main:uU(m),mask:i?uU(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:f,transform:{...Bu,...n},symbol:r,title:a,maskId:s,titleId:o,extra:{attributes:u,styles:h,classes:l}})))};var GOe={mixout(){return{icon:VOe(HOe)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=c$,t.nodeCallback=BOe,t}}},provides(t){t.i2svg=function(e){const{node:n=hr,callback:r=()=>{}}=e;return c$(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:a,transform:o,symbol:l,mask:u,maskId:h,extra:d}=n;return new Promise((f,m)=>{Promise.all([cU(r,a),u.iconName?cU(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(v=>{let[S,y]=v;f([e,u8({icons:{main:S,mask:y},prefix:a,iconName:r,transform:o,symbol:l,maskId:h,title:i,titleId:s,extra:d,watchable:!0})])}).catch(m)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:a}=e;const o=oL(a);o.length>0&&(r.style=o);let l;return s8(s)&&(l=$f("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:r}}}},WOe={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return cL({type:"layer"},()=>{zg("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Ot.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},jOe={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return cL({type:"counter",content:t},()=>(zg("beforeDOMElementCreation",{content:t,params:e}),wOe({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(Ot.cssPrefix,"-layers-counter"),...r]}})))}}}},XOe={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Bu,title:r=null,classes:i=[],attributes:s={},styles:a={}}=e;return cL({type:"text",content:t},()=>(zg("beforeDOMElementCreation",{content:t,params:e}),i$({content:t,transform:{...Bu,...n},title:r,extra:{attributes:s,styles:a,classes:["".concat(Ot.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let a=null,o=null;if(sle){const l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/l,o=u.height/l}return Ot.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,i$({content:e.innerHTML,width:a,height:o,transform:i,title:r,extra:s,watchable:!0})])}}};const $Oe=new RegExp('"',"ug"),h$=[1105920,1112319],d$={FontAwesome:{normal:"fas",400:"fas"},...C5e,...A5e,...k5e},fU=Object.keys(d$).reduce((t,e)=>(t[e.toLowerCase()]=d$[e],t),{}),YOe=Object.keys(fU).reduce((t,e)=>{const n=fU[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function qOe(t){const e=t.replace($Oe,""),n=aOe(e,0),r=n>=h$[0]&&n<=h$[1],i=e.length===2?e[0]===e[1]:!1;return{value:_le(i?e[0]:e),isSecondary:r||i}}function ZOe(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(fU[n]||{})[i]||YOe[n]}function f$(t,e){const n="".concat(z5e).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const s=ox(t.children).filter(d=>d.getAttribute(nU)===e)[0],a=jf.getComputedStyle(t,e),o=a.getPropertyValue("font-family"),l=o.match(W5e),u=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(s&&!l)return t.removeChild(s),r();if(l&&h!=="none"&&h!==""){const d=a.getPropertyValue("content");let f=ZOe(o,u);const{value:m,isSecondary:v}=qOe(d),S=l[0].startsWith("FontAwesome");let y=o8(f,m),g=y;if(S){const b=fOe(m);b.iconName&&b.prefix&&(y=b.iconName,f=b.prefix)}if(y&&!v&&(!s||s.getAttribute(n8)!==f||s.getAttribute(r8)!==g)){t.setAttribute(n,g),s&&t.removeChild(s);const b=FOe(),{extra:M}=b;M.attributes[nU]=e,cU(y,f).then(E=>{const P=u8({...b,icons:{main:E,mask:l8()},prefix:f,iconName:g,extra:M,watchable:!0}),A=hr.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(A,t.firstChild):t.appendChild(A),A.outerHTML=P.map(L=>Ow(L)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function KOe(t){return Promise.all([f$(t,"::before"),f$(t,"::after")])}function QOe(t){return t.parentNode!==document.head&&!~V5e.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(nU)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function p$(t){if(ld)return new Promise((e,n)=>{const r=ox(t.querySelectorAll("*")).filter(QOe).map(KOe),i=c8.begin("searchPseudoElements");Ile(),Promise.all(r).then(()=>{i(),dU(),e()}).catch(()=>{i(),dU(),n()})})}var JOe={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=p$,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=hr}=e;Ot.searchPseudoElements&&p$(n)}}};let m$=!1;var eke={mixout(){return{dom:{unwatch(){Ile(),m$=!0}}}},hooks(){return{bootstrap(){l$(oU("mutationObserverCallbacks",{}))},noAuto(){DOe()},watch(t){const{observeMutationsRoot:e}=t;m$?dU():l$(oU("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const g$=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let a=i.slice(1).join("-");if(s&&a==="h")return n.flipX=!0,n;if(s&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(s){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},e)};var tke={mixout(){return{parse:{transform:t=>g$(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=g$(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const a={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(o," ").concat(l," ").concat(u)},d={transform:"translate(".concat(s/2*-1," -256)")},f={outer:a,inner:h,path:d};return{tag:"g",attributes:{...f.outer},children:[{tag:"g",attributes:{...f.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...f.path}}]}]}}}};const GN={x:0,y:0,width:"100%",height:"100%"};function v$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function nke(t){return t.tag==="g"?t.children:[t]}var rke={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?uL(n.split(" ").map(i=>i.trim())):l8();return r.prefix||(r.prefix=Xf()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:a,transform:o}=e;const{width:l,icon:u}=i,{width:h,icon:d}=s,f=eOe({transform:o,containerWidth:h,iconWidth:l}),m={tag:"rect",attributes:{...GN,fill:"white"}},v=u.children?{children:u.children.map(v$)}:{},S={tag:"g",attributes:{...f.inner},children:[v$({tag:u.tag,attributes:{...u.attributes,...f.path},...v})]},y={tag:"g",attributes:{...f.outer},children:[S]},g="mask-".concat(a||kM()),b="clip-".concat(a||kM()),M={tag:"mask",attributes:{...GN,id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[m,y]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:nke(d)},M]};return n.push(E,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(g,")"),...GN}}),{children:n,attributes:r}}}},ike={provides(t){let e=!1;jf.matchMedia&&(e=jf.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},a={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||a.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),n.push(a),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},ske={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},ake=[rOe,GOe,WOe,jOe,XOe,JOe,eke,tke,rke,ike,ske];vOe(ake,{mixoutsTo:Lo});Lo.noAuto;Lo.config;Lo.library;Lo.dom;const pU=Lo.parse;Lo.findIconDefinition;Lo.toHtml;const oke=Lo.icon;Lo.layer;Lo.text;Lo.counter;function y$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(n),!0).forEach(function(r){zy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kC(t){"@babel/helpers - typeof";return kC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kC(t)}function zy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lke(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uke(t,e){if(t==null)return{};var n=lke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mU(t){return cke(t)||hke(t)||dke(t)||fke()}function cke(t){if(Array.isArray(t))return gU(t)}function hke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dke(t,e){if(t){if(typeof t=="string")return gU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gU(t,e)}}function gU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pke(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,a=t.shake,o=t.flash,l=t.spin,u=t.spinPulse,h=t.spinReverse,d=t.pulse,f=t.fixedWidth,m=t.inverse,v=t.border,S=t.listItem,y=t.flip,g=t.size,b=t.rotation,M=t.pull,E=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":f,"fa-inverse":m,"fa-border":v,"fa-li":S,"fa-flip":y===!0,"fa-flip-horizontal":y==="horizontal"||y==="both","fa-flip-vertical":y==="vertical"||y==="both"},zy(e,"fa-".concat(g),typeof g<"u"&&g!==null),zy(e,"fa-rotate-".concat(b),typeof b<"u"&&b!==null&&b!==0),zy(e,"fa-pull-".concat(M),typeof M<"u"&&M!==null),zy(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(E).map(function(P){return E[P]?P:null}).filter(function(P){return P})}function mke(t){return t=t-0,t===t}function Dle(t){return mke(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var gke=["style"];function vke(t){return t.charAt(0).toUpperCase()+t.slice(1)}function yke(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=Dle(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[vke(i)]=s:e[i]=s,e},{})}function Ole(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return Ole(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var h=e.attributes[u];switch(u){case"class":l.attrs.className=h,delete e.attributes.class;break;case"style":l.attrs.style=yke(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=h:l.attrs[Dle(u)]=h}return l},{attrs:{}}),s=n.style,a=s===void 0?{}:s,o=uke(n,gke);return i.attrs.style=Lu(Lu({},i.attrs.style),a),t.apply(void 0,[e.tag,Lu(Lu({},i.attrs),o)].concat(mU(r)))}var kle=!1;try{kle=!0}catch{}function xke(){if(!kle&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function x$(t){if(t&&kC(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(pU.icon)return pU.icon(t);if(t===null)return null;if(t&&kC(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function WN(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?zy({},t,e):{}}var _$={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},d8=Wi.forwardRef(function(t,e){var n=Lu(Lu({},_$),t),r=n.icon,i=n.mask,s=n.symbol,a=n.className,o=n.title,l=n.titleId,u=n.maskId,h=x$(r),d=WN("classes",[].concat(mU(pke(n)),mU((a||"").split(" ")))),f=WN("transform",typeof n.transform=="string"?pU.transform(n.transform):n.transform),m=WN("mask",x$(i)),v=oke(h,Lu(Lu(Lu(Lu({},d),f),m),{},{symbol:s,title:o,titleId:l,maskId:u}));if(!v)return xke("Could not find icon",h),null;var S=v.abstract,y={ref:e};return Object.keys(n).forEach(function(g){_$.hasOwnProperty(g)||(y[g]=n[g])}),_ke(S[0],y)});d8.displayName="FontAwesomeIcon";d8.propTypes={beat:hn.bool,border:hn.bool,beatFade:hn.bool,bounce:hn.bool,className:hn.string,fade:hn.bool,flash:hn.bool,mask:hn.oneOfType([hn.object,hn.array,hn.string]),maskId:hn.string,fixedWidth:hn.bool,inverse:hn.bool,flip:hn.oneOf([!0,!1,"horizontal","vertical","both"]),icon:hn.oneOfType([hn.object,hn.array,hn.string]),listItem:hn.bool,pull:hn.oneOf(["right","left"]),pulse:hn.bool,rotation:hn.oneOf([0,90,180,270]),shake:hn.bool,size:hn.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:hn.bool,spinPulse:hn.bool,spinReverse:hn.bool,symbol:hn.oneOfType([hn.bool,hn.string]),title:hn.string,titleId:hn.string,transform:hn.oneOfType([hn.string,hn.object]),swapOpacity:hn.bool};var _ke=Ole.bind(null,Wi.createElement);const Ske={prefix:"fab",iconName:"react",icon:[512,512,[],"f41b","M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"]},S$={prefix:"fab",iconName:"cuttlefish",icon:[440,512,[],"f38c","M344 305.5c-17.5 31.6-57.4 54.5-96 54.5-56.6 0-104-47.4-104-104s47.4-104 104-104c38.6 0 78.5 22.9 96 54.5 13.7-50.9 41.7-93.3 87-117.8C385.7 39.1 320.5 8 248 8 111 8 0 119 0 256s111 248 248 248c72.5 0 137.7-31.1 183-80.7-45.3-24.5-73.3-66.9-87-117.8z"]},bke={prefix:"fab",iconName:"rust",icon:[512,512,[],"e07a","M508.52,249.75,486.7,236.24c-.17-2-.34-3.93-.55-5.88l18.72-17.5a7.35,7.35,0,0,0-2.44-12.25l-24-9c-.54-1.88-1.08-3.78-1.67-5.64l15-20.83a7.35,7.35,0,0,0-4.79-11.54l-25.42-4.15c-.9-1.73-1.79-3.45-2.73-5.15l10.68-23.42a7.35,7.35,0,0,0-6.95-10.39l-25.82.91q-1.79-2.22-3.61-4.4L439,81.84A7.36,7.36,0,0,0,430.16,73L405,78.93q-2.17-1.83-4.4-3.61l.91-25.82a7.35,7.35,0,0,0-10.39-7L367.7,53.23c-1.7-.94-3.43-1.84-5.15-2.73L358.4,25.08a7.35,7.35,0,0,0-11.54-4.79L326,35.26c-1.86-.59-3.75-1.13-5.64-1.67l-9-24a7.35,7.35,0,0,0-12.25-2.44l-17.5,18.72c-1.95-.21-3.91-.38-5.88-.55L262.25,3.48a7.35,7.35,0,0,0-12.5,0L236.24,25.3c-2,.17-3.93.34-5.88.55L212.86,7.13a7.35,7.35,0,0,0-12.25,2.44l-9,24c-1.89.55-3.79,1.08-5.66,1.68l-20.82-15a7.35,7.35,0,0,0-11.54,4.79l-4.15,25.41c-1.73.9-3.45,1.79-5.16,2.73L120.88,42.55a7.35,7.35,0,0,0-10.39,7l.92,25.81c-1.49,1.19-3,2.39-4.42,3.61L81.84,73A7.36,7.36,0,0,0,73,81.84L78.93,107c-1.23,1.45-2.43,2.93-3.62,4.41l-25.81-.91a7.42,7.42,0,0,0-6.37,3.26,7.35,7.35,0,0,0-.57,7.13l10.66,23.41c-.94,1.7-1.83,3.43-2.73,5.16L25.08,153.6a7.35,7.35,0,0,0-4.79,11.54l15,20.82c-.59,1.87-1.13,3.77-1.68,5.66l-24,9a7.35,7.35,0,0,0-2.44,12.25l18.72,17.5c-.21,1.95-.38,3.91-.55,5.88L3.48,249.75a7.35,7.35,0,0,0,0,12.5L25.3,275.76c.17,2,.34,3.92.55,5.87L7.13,299.13a7.35,7.35,0,0,0,2.44,12.25l24,9c.55,1.89,1.08,3.78,1.68,5.65l-15,20.83a7.35,7.35,0,0,0,4.79,11.54l25.42,4.15c.9,1.72,1.79,3.45,2.73,5.14L42.56,391.12a7.35,7.35,0,0,0,.57,7.13,7.13,7.13,0,0,0,6.37,3.26l25.83-.91q1.77,2.22,3.6,4.4L73,430.16A7.36,7.36,0,0,0,81.84,439L107,433.07q2.18,1.83,4.41,3.61l-.92,25.82a7.35,7.35,0,0,0,10.39,6.95l23.43-10.68c1.69.94,3.42,1.83,5.14,2.73l4.15,25.42a7.34,7.34,0,0,0,11.54,4.78l20.83-15c1.86.6,3.76,1.13,5.65,1.68l9,24a7.36,7.36,0,0,0,12.25,2.44l17.5-18.72c1.95.21,3.92.38,5.88.55l13.51,21.82a7.35,7.35,0,0,0,12.5,0l13.51-21.82c2-.17,3.93-.34,5.88-.56l17.5,18.73a7.36,7.36,0,0,0,12.25-2.44l9-24c1.89-.55,3.78-1.08,5.65-1.68l20.82,15a7.34,7.34,0,0,0,11.54-4.78l4.15-25.42c1.72-.9,3.45-1.79,5.15-2.73l23.42,10.68a7.35,7.35,0,0,0,10.39-6.95l-.91-25.82q2.22-1.79,4.4-3.61L430.16,439a7.36,7.36,0,0,0,8.84-8.84L433.07,405q1.83-2.17,3.61-4.4l25.82.91a7.23,7.23,0,0,0,6.37-3.26,7.35,7.35,0,0,0,.58-7.13L458.77,367.7c.94-1.7,1.83-3.43,2.73-5.15l25.42-4.15a7.35,7.35,0,0,0,4.79-11.54l-15-20.83c.59-1.87,1.13-3.76,1.67-5.65l24-9a7.35,7.35,0,0,0,2.44-12.25l-18.72-17.5c.21-1.95.38-3.91.55-5.87l21.82-13.51a7.35,7.35,0,0,0,0-12.5Zm-151,129.08A13.91,13.91,0,0,0,341,389.51l-7.64,35.67A187.51,187.51,0,0,1,177,424.44l-7.64-35.66a13.87,13.87,0,0,0-16.46-10.68l-31.51,6.76a187.38,187.38,0,0,1-16.26-19.21H258.3c1.72,0,2.89-.29,2.89-1.91V309.55c0-1.57-1.17-1.91-2.89-1.91H213.47l.05-34.35H262c4.41,0,23.66,1.28,29.79,25.87,1.91,7.55,6.17,32.14,9.06,40,2.89,8.82,14.6,26.46,27.1,26.46H407a187.3,187.3,0,0,1-17.34,20.09Zm25.77,34.49A15.24,15.24,0,1,1,368,398.08h.44A15.23,15.23,0,0,1,383.24,413.32Zm-225.62-.68a15.24,15.24,0,1,1-15.25-15.25h.45A15.25,15.25,0,0,1,157.62,412.64ZM69.57,234.15l32.83-14.6a13.88,13.88,0,0,0,7.06-18.33L102.69,186h26.56V305.73H75.65A187.65,187.65,0,0,1,69.57,234.15ZM58.31,198.09a15.24,15.24,0,0,1,15.23-15.25H74a15.24,15.24,0,1,1-15.67,15.24Zm155.16,24.49.05-35.32h63.26c3.28,0,23.07,3.77,23.07,18.62,0,12.29-15.19,16.7-27.68,16.7ZM399,306.71c-9.8,1.13-20.63-4.12-22-10.09-5.78-32.49-15.39-39.4-30.57-51.4,18.86-11.95,38.46-29.64,38.46-53.26,0-25.52-17.49-41.59-29.4-49.48-16.76-11-35.28-13.23-40.27-13.23H116.32A187.49,187.49,0,0,1,221.21,70.06l23.47,24.6a13.82,13.82,0,0,0,19.6.44l26.26-25a187.51,187.51,0,0,1,128.37,91.43l-18,40.57A14,14,0,0,0,408,220.43l34.59,15.33a187.12,187.12,0,0,1,.4,32.54H423.71c-1.91,0-2.69,1.27-2.69,3.13v8.82C421,301,409.31,305.58,399,306.71ZM240,60.21A15.24,15.24,0,0,1,255.21,45h.45A15.24,15.24,0,1,1,240,60.21ZM436.84,214a15.24,15.24,0,1,1,0-30.48h.44a15.24,15.24,0,0,1-.44,30.48Z"]},Mke={prefix:"fab",iconName:"python",icon:[448,512,[],"f3e2","M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"]},wke={prefix:"fab",iconName:"js",icon:[448,512,[],"f3b8","M0 32v448h448V32H0zm243.8 349.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"]},Eke={prefix:"fab",iconName:"node-js",icon:[448,512,[],"f3d3","M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z"]},Tke=[{name:"React",icon:Ske},{name:"Python",icon:Mke},{name:"JavaScript",icon:wke},{name:"C",icon:S$},{name:"C++",icon:S$},{name:"Rust",icon:bke},{name:"Node.js",icon:Eke}];function Ake(){return Fe.jsx("section",{id:"skills",className:"d-flex justify-content-center align-items-center text-center",children:Fe.jsxs("div",{className:"container mb-4",children:[Fe.jsx("h2",{className:"mb-4 display-4",children:"Skills"}),Fe.jsx("div",{className:"row",children:Tke.map(t=>Fe.jsx(Ih.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"col-md-4",children:Fe.jsx("div",{className:"card mb-4",children:Fe.jsxs("div",{className:"card-body",children:[Fe.jsx(d8,{icon:t.icon,size:"3x",style:{marginBottom:"10px",color:"#007acc"}}),Fe.jsx("h5",{className:"card-title",children:t.name})]})})}))})]})})}function Cke({project:t,id:e}){return Fe.jsx(Ih.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"card text-bg-dark border-light",children:Fe.jsxs("div",{className:"card-body",children:[Fe.jsx("h5",{className:"card-title",children:t.title}),Fe.jsx("p",{className:"card-text",children:t.description}),Fe.jsx("br",{}),Fe.jsx("a",{href:t.github,className:"btn btn-secondary",children:"Github"})]})},e)}const Pke=()=>[{title:"Symbolic Engine",description:"An advanced computational engine that supports math, science, and other domains, designed to work with a custom programming language, Symbolic.",github:"https://github.com/elijahmanda/symbolic"}];function Rke(){const t=Pke();return Fe.jsx("section",{id:"projects",className:"d-flex justify-content-center align-items-center text-center text-white",children:Fe.jsxs("div",{className:"container mb-4",children:[Fe.jsx("h2",{className:"mb-4 display-4",children:"Projects"}),Fe.jsx("div",{className:"row",children:t.map((e,n)=>Fe.jsx(Ih.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},transition:{duration:.7},className:"col-md-6 mb-4",children:Fe.jsx(Cke,{project:e,id:n})},n))})]})})}var Ule={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b$=Wi.createContext&&Wi.createContext(Ule),Lke=["attr","size","title"];function Ike(t,e){if(t==null)return{};var n=Nke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UC.apply(this,arguments)}function M$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(n),!0).forEach(function(r){Dke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dke(t,e,n){return e=Oke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oke(t){var e=kke(t,"string");return typeof e=="symbol"?e:e+""}function kke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fle(t){return t&&t.map((e,n)=>Wi.createElement(e.tag,FC({key:n},e.attr),Fle(e.child)))}function hL(t){return e=>Wi.createElement(Uke,UC({attr:FC({},t.attr)},e),Fle(t.child))}function Uke(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=Ike(t,Lke),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Wi.createElement("svg",UC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:FC(FC({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Wi.createElement("title",null,s),t.children)};return b$!==void 0?Wi.createElement(b$.Consumer,null,n=>e(n)):e(Ule)}function Fke(t){return hL({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function zke(t){return hL({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Bke(t){return hL({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Vke(t){return hL({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}const Hke=()=>Fe.jsxs("footer",{id:"footer",className:"w-full py-4 bg-gray-800 text-white flex flex-col items-center",children:[Fe.jsx("div",{className:"mb-4 text-center",children:Fe.jsx("p",{children:" 2024 My Portfolio"})}),Fe.jsxs("div",{className:"flex space-x-4",children:[Fe.jsx("a",{href:"https://github.com/elijahmanda",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",children:Fe.jsx(Fke,{size:24,className:"hover:text-gray-400"})}),Fe.jsx("a",{href:"https://linkedin.com/in/elijahmanda",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:Fe.jsx(Bke,{size:24,className:"hover:text-gray-400"})}),Fe.jsx("a",{href:"https://twitter.com/elijahmandajc",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:Fe.jsx(Vke,{size:24,className:"hover:text-gray-400"})}),Fe.jsx("a",{href:"https://instagram.com/elijahmanda",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:Fe.jsx(zke,{size:24,className:"hover:text-gray-400"})})]})]});/**
* @license
* Copyright 2010-2024 Three.js Authors
* SPDX-License-Identifier: MIT
*/const kw="170",Gke={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Wke={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},zle=0,vU=1,Ble=2,jke=3,Vle=0,dL=1,yb=2,kl=3,Jh=0,ra=1,Ou=2,Nh=0,pg=1,zC=2,yU=3,xU=4,Hle=5,uf=100,Gle=101,Wle=102,jle=103,Xle=104,$le=200,Yle=201,qle=202,Zle=203,BC=204,VC=205,Kle=206,Qle=207,Jle=208,eue=209,tue=210,nue=211,rue=212,iue=213,sue=214,HC=0,GC=1,WC=2,Bg=3,jC=4,XC=5,$C=6,YC=7,Uw=0,aue=1,oue=2,sc=0,lue=1,uue=2,cue=3,f8=4,hue=5,due=6,fue=7,_U="attached",pue="detached",fL=300,ed=301,Yf=302,UM=303,FM=304,lx=306,zM=1e3,ol=1001,BM=1002,hs=1003,p8=1004,Xke=1004,By=1005,$ke=1005,Mi=1006,xb=1007,Yke=1007,Hu=1008,qke=1008,Jl=1009,m8=1010,g8=1011,z1=1012,pL=1013,td=1014,Ca=1015,ux=1016,mL=1017,gL=1018,Vg=1020,v8=35902,y8=1021,x8=1022,Ds=1023,_8=1024,S8=1025,mg=1026,Hg=1027,vL=1028,Fw=1029,b8=1030,yL=1031,Zke=1032,xL=1033,_b=33776,Sb=33777,bb=33778,Mb=33779,qC=35840,ZC=35841,KC=35842,QC=35843,JC=36196,eP=37492,tP=37496,nP=37808,rP=37809,iP=37810,sP=37811,aP=37812,oP=37813,lP=37814,uP=37815,cP=37816,hP=37817,dP=37818,fP=37819,pP=37820,mP=37821,wb=36492,gP=36494,vP=36495,M8=36283,yP=36284,xP=36285,_P=36286,mue=2200,gue=2201,vue=2202,VM=2300,SP=2301,TA=2302,qm=2400,Zm=2401,HM=2402,_L=2500,w8=2501,Kke=0,Qke=1,Jke=2,yue=3200,xue=3201,eUe=3202,tUe=3203,lp=0,_ue=1,hh="",_a="srgb",i0="srgb-linear",zw="linear",Bn="srgb",nUe=0,Lm=7680,rUe=7681,iUe=7682,sUe=7683,aUe=34055,oUe=34056,lUe=5386,uUe=512,cUe=513,hUe=514,dUe=515,fUe=516,pUe=517,mUe=518,SU=519,Sue=512,bue=513,Mue=514,E8=515,wue=516,Eue=517,Tue=518,Aue=519,GM=35044,gUe=35048,vUe=35040,yUe=35045,xUe=35049,_Ue=35041,SUe=35046,bUe=35050,MUe=35042,wUe="100",bU="300 es",Gu=2e3,WM=2001;class dc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let i=0,s=r.length;i<s;i++)r[i].call(this,e);e.target=null}}}const Ts=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let w$=1234567;const gg=Math.PI/180,B1=180/Math.PI;function xo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ts[t&255]+Ts[t>>8&255]+Ts[t>>16&255]+Ts[t>>24&255]+"-"+Ts[e&255]+Ts[e>>8&255]+"-"+Ts[e>>16&15|64]+Ts[e>>24&255]+"-"+Ts[n&63|128]+Ts[n>>8&255]+"-"+Ts[n>>16&255]+Ts[n>>24&255]+Ts[r&255]+Ts[r>>8&255]+Ts[r>>16&255]+Ts[r>>24&255]).toLowerCase()}function Hr(t,e,n){return Math.max(e,Math.min(n,t))}function T8(t,e){return(t%e+e)%e}function EUe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function TUe(t,e,n){return t!==e?(n-t)/(e-t):0}function Eb(t,e,n){return(1-n)*t+n*e}function AUe(t,e,n,r){return Eb(t,e,1-Math.exp(-n*r))}function CUe(t,e=1){return e-Math.abs(T8(t,e*2)-e)}function PUe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function RUe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function LUe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function IUe(t,e){return t+Math.random()*(e-t)}function NUe(t){return t*(.5-Math.random())}function DUe(t){t!==void 0&&(w$=t);let e=w$+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function OUe(t){return t*gg}function kUe(t){return t*B1}function UUe(t){return(t&t-1)===0&&t!==0}function FUe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function zUe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function BUe(t,e,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),u=s((e+r)/2),h=a((e+r)/2),d=s((e-r)/2),f=a((e-r)/2),m=s((r-e)/2),v=a((r-e)/2);switch(i){case"XYX":t.set(o*h,l*d,l*f,o*u);break;case"YZY":t.set(l*f,o*h,l*d,o*u);break;case"ZXZ":t.set(l*d,l*f,o*h,o*u);break;case"XZX":t.set(o*h,l*v,l*m,o*u);break;case"YXY":t.set(l*m,o*h,l*v,o*u);break;case"ZYZ":t.set(l*v,l*m,o*h,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Qs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function en(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const VUe={DEG2RAD:gg,RAD2DEG:B1,generateUUID:xo,clamp:Hr,euclideanModulo:T8,mapLinear:EUe,inverseLerp:TUe,lerp:Eb,damp:AUe,pingpong:CUe,smoothstep:PUe,smootherstep:RUe,randInt:LUe,randFloat:IUe,randFloatSpread:NUe,seededRandom:DUe,degToRad:OUe,radToDeg:kUe,isPowerOfTwo:UUe,ceilPowerOfTwo:FUe,floorPowerOfTwo:zUe,setQuaternionFromProperEuler:BUe,normalize:en,denormalize:Qs};class tt{constructor(e=0,n=0){tt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Hr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Qt{constructor(e,n,r,i,s,a,o,l,u){Qt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,u)}set(e,n,r,i,s,a,o,l,u){const h=this.elements;return h[0]=e,h[1]=i,h[2]=o,h[3]=n,h[4]=s,h[5]=l,h[6]=r,h[7]=a,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],u=r[1],h=r[4],d=r[7],f=r[2],m=r[5],v=r[8],S=i[0],y=i[3],g=i[6],b=i[1],M=i[4],E=i[7],P=i[2],A=i[5],L=i[8];return s[0]=a*S+o*b+l*P,s[3]=a*y+o*M+l*A,s[6]=a*g+o*E+l*L,s[1]=u*S+h*b+d*P,s[4]=u*y+h*M+d*A,s[7]=u*g+h*E+d*L,s[2]=f*S+m*b+v*P,s[5]=f*y+m*M+v*A,s[8]=f*g+m*E+v*L,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8];return n*a*h-n*o*u-r*s*h+r*o*l+i*s*u-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],d=h*a-o*u,f=o*l-h*s,m=u*s-a*l,v=n*d+r*f+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/v;return e[0]=d*S,e[1]=(i*u-h*r)*S,e[2]=(o*r-i*a)*S,e[3]=f*S,e[4]=(h*n-i*l)*S,e[5]=(i*s-o*n)*S,e[6]=m*S,e[7]=(r*l-u*n)*S,e[8]=(a*n-r*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*a+u*o)+a+e,-i*u,i*l,-i*(-u*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(jN.makeScale(e,n)),this}rotate(e){return this.premultiply(jN.makeRotation(-e)),this}translate(e,n){return this.premultiply(jN.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const jN=new Qt;function Cue(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const HUe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Vy(t,e){return new HUe[t](e)}function jM(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Pue(){const t=jM("canvas");return t.style.display="block",t}const E$={};function LS(t){t in E$||(E$[t]=!0,console.warn(t))}function GUe(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}function WUe(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function jUe(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Mn={enabled:!0,workingColorSpace:i0,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===Bn&&(t.r=Dh(t.r),t.g=Dh(t.g),t.b=Dh(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===Bn&&(t.r=o1(t.r),t.g=o1(t.g),t.b=o1(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===hh?zw:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function Dh(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function o1(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const T$=[.64,.33,.3,.6,.15,.06],A$=[.2126,.7152,.0722],C$=[.3127,.329],P$=new Qt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),R$=new Qt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);Mn.define({[i0]:{primaries:T$,whitePoint:C$,transfer:zw,toXYZ:P$,fromXYZ:R$,luminanceCoefficients:A$,workingColorSpaceConfig:{unpackColorSpace:_a},outputColorSpaceConfig:{drawingBufferColorSpace:_a}},[_a]:{primaries:T$,whitePoint:C$,transfer:Bn,toXYZ:P$,fromXYZ:R$,luminanceCoefficients:A$,outputColorSpaceConfig:{drawingBufferColorSpace:_a}}});let wv;class Rue{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{wv===void 0&&(wv=jM("canvas")),wv.width=e.width,wv.height=e.height;const r=wv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=wv}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=jM("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Dh(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Dh(n[r]/255)*255):n[r]=Dh(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let XUe=0;class Km{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:XUe++}),this.uuid=xo(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(XN(i[a].image)):s.push(XN(i[a]))}else s=XN(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function XN(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Rue.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $Ue=0;class Pr extends dc{constructor(e=Pr.DEFAULT_IMAGE,n=Pr.DEFAULT_MAPPING,r=ol,i=ol,s=Mi,a=Hu,o=Ds,l=Jl,u=Pr.DEFAULT_ANISOTROPY,h=hh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$Ue++}),this.uuid=xo(),this.name="",this.source=new Km(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new tt(0,0),this.repeat=new tt(1,1),this.center=new tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==fL)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case zM:e.x=e.x-Math.floor(e.x);break;case ol:e.x=e.x<0?0:1;break;case BM:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case zM:e.y=e.y-Math.floor(e.y);break;case ol:e.y=e.y<0?0:1;break;case BM:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Pr.DEFAULT_IMAGE=null;Pr.DEFAULT_MAPPING=fL;Pr.DEFAULT_ANISOTROPY=1;class Cn{constructor(e=0,n=0,r=0,i=1){Cn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const a=e.elements,o=a[0],l=a[4],u=a[8],h=a[1],d=a[5],f=a[9],m=a[2],v=a[6],S=a[10];if(Math.abs(l-h)<.01&&Math.abs(u-m)<.01&&Math.abs(f-v)<.01){if(Math.abs(l+h)<.1&&Math.abs(u+m)<.1&&Math.abs(f+v)<.1&&Math.abs(o+d+S-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const g=(o+1)/2,b=(d+1)/2,M=(S+1)/2,E=(l+h)/4,P=(u+m)/4,A=(f+v)/4;return g>b&&g>M?g<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(g),i=E/r,s=P/r):b>M?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=E/i,s=A/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=P/s,i=A/s),this.set(r,i,s,n),this}let y=Math.sqrt((v-f)*(v-f)+(u-m)*(u-m)+(h-l)*(h-l));return Math.abs(y)<.001&&(y=1),this.x=(v-f)/y,this.y=(u-m)/y,this.z=(h-l)/y,this.w=Math.acos((o+d+S-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Lue extends dc{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Cn(0,0,e,n),this.scissorTest=!1,this.viewport=new Cn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Mi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Pr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Km(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class eu extends Lue{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class SL extends Pr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=hs,this.minFilter=hs,this.wrapR=ol,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class YUe extends eu{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new SL(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class A8 extends Pr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=hs,this.minFilter=hs,this.wrapR=ol,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qUe extends eu{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new A8(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class ka{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],u=r[i+1],h=r[i+2],d=r[i+3];const f=s[a+0],m=s[a+1],v=s[a+2],S=s[a+3];if(o===0){e[n+0]=l,e[n+1]=u,e[n+2]=h,e[n+3]=d;return}if(o===1){e[n+0]=f,e[n+1]=m,e[n+2]=v,e[n+3]=S;return}if(d!==S||l!==f||u!==m||h!==v){let y=1-o;const g=l*f+u*m+h*v+d*S,b=g>=0?1:-1,M=1-g*g;if(M>Number.EPSILON){const P=Math.sqrt(M),A=Math.atan2(P,g*b);y=Math.sin(y*A)/P,o=Math.sin(o*A)/P}const E=o*b;if(l=l*y+f*E,u=u*y+m*E,h=h*y+v*E,d=d*y+S*E,y===1-o){const P=1/Math.sqrt(l*l+u*u+h*h+d*d);l*=P,u*=P,h*=P,d*=P}}e[n]=l,e[n+1]=u,e[n+2]=h,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],u=r[i+2],h=r[i+3],d=s[a],f=s[a+1],m=s[a+2],v=s[a+3];return e[n]=o*v+h*d+l*m-u*f,e[n+1]=l*v+h*f+u*d-o*m,e[n+2]=u*v+h*m+o*f-l*d,e[n+3]=h*v-o*d-l*f-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(r/2),h=o(i/2),d=o(s/2),f=l(r/2),m=l(i/2),v=l(s/2);switch(a){case"XYZ":this._x=f*h*d+u*m*v,this._y=u*m*d-f*h*v,this._z=u*h*v+f*m*d,this._w=u*h*d-f*m*v;break;case"YXZ":this._x=f*h*d+u*m*v,this._y=u*m*d-f*h*v,this._z=u*h*v-f*m*d,this._w=u*h*d+f*m*v;break;case"ZXY":this._x=f*h*d-u*m*v,this._y=u*m*d+f*h*v,this._z=u*h*v+f*m*d,this._w=u*h*d-f*m*v;break;case"ZYX":this._x=f*h*d-u*m*v,this._y=u*m*d+f*h*v,this._z=u*h*v-f*m*d,this._w=u*h*d+f*m*v;break;case"YZX":this._x=f*h*d+u*m*v,this._y=u*m*d+f*h*v,this._z=u*h*v-f*m*d,this._w=u*h*d-f*m*v;break;case"XZY":this._x=f*h*d-u*m*v,this._y=u*m*d-f*h*v,this._z=u*h*v+f*m*d,this._w=u*h*d+f*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],u=n[2],h=n[6],d=n[10],f=r+o+d;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-u)*m,this._z=(a-i)*m}else if(r>o&&r>d){const m=2*Math.sqrt(1+r-o-d);this._w=(h-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(s+u)/m}else if(o>d){const m=2*Math.sqrt(1+o-r-d);this._w=(s-u)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-r-o);this._w=(a-i)/m,this._x=(s+u)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Hr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,u=n._z,h=n._w;return this._x=r*h+a*o+i*u-s*l,this._y=i*h+a*l+s*o-r*u,this._z=s*h+a*u+r*l-i*o,this._w=a*h-r*o-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const m=1-n;return this._w=m*a+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),h=Math.atan2(u,o),d=Math.sin((1-n)*h)/u,f=Math.sin(n*h)/u;return this._w=a*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ue{constructor(e=0,n=0,r=0){ue.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(L$.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(L$.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=2*(a*i-o*r),h=2*(o*n-s*i),d=2*(s*r-a*n);return this.x=n+l*u+a*d-o*h,this.y=r+l*h+o*u-s*d,this.z=i+l*d+s*h-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return $N.copy(this).projectOnVector(e),this.sub($N)}reflect(e){return this.sub($N.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Hr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $N=new ue,L$=new ka;class ia{constructor(e=new ue(1/0,1/0,1/0),n=new ue(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Rl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Rl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Rl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Rl):Rl.fromBufferAttribute(s,a),Rl.applyMatrix4(e.matrixWorld),this.expandByPoint(Rl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Z2.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Z2.copy(r.boundingBox)),Z2.applyMatrix4(e.matrixWorld),this.union(Z2)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Rl),Rl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Z_),K2.subVectors(this.max,Z_),Ev.subVectors(e.a,Z_),Tv.subVectors(e.b,Z_),Av.subVectors(e.c,Z_),Bd.subVectors(Tv,Ev),Vd.subVectors(Av,Tv),am.subVectors(Ev,Av);let n=[0,-Bd.z,Bd.y,0,-Vd.z,Vd.y,0,-am.z,am.y,Bd.z,0,-Bd.x,Vd.z,0,-Vd.x,am.z,0,-am.x,-Bd.y,Bd.x,0,-Vd.y,Vd.x,0,-am.y,am.x,0];return!YN(n,Ev,Tv,Av,K2)||(n=[1,0,0,0,1,0,0,0,1],!YN(n,Ev,Tv,Av,K2))?!1:(Q2.crossVectors(Bd,Vd),n=[Q2.x,Q2.y,Q2.z],YN(n,Ev,Tv,Av,K2))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Rl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Rl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Kc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Kc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Kc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Kc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Kc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Kc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Kc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Kc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Kc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Kc=[new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue],Rl=new ue,Z2=new ia,Ev=new ue,Tv=new ue,Av=new ue,Bd=new ue,Vd=new ue,am=new ue,Z_=new ue,K2=new ue,Q2=new ue,om=new ue;function YN(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){om.fromArray(t,s);const o=i.x*Math.abs(om.x)+i.y*Math.abs(om.y)+i.z*Math.abs(om.z),l=e.dot(om),u=n.dot(om),h=r.dot(om);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>o)return!1}return!0}const ZUe=new ia,K_=new ue,qN=new ue;class Fs{constructor(e=new ue,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):ZUe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;K_.subVectors(e,this.center);const n=K_.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(K_,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(qN.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(K_.copy(e.center).add(qN)),this.expandByPoint(K_.copy(e.center).sub(qN))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Qc=new ue,ZN=new ue,J2=new ue,Hd=new ue,KN=new ue,eT=new ue,QN=new ue;class cx{constructor(e=new ue,n=new ue(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Qc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Qc.copy(this.origin).addScaledVector(this.direction,n),Qc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){ZN.copy(e).add(n).multiplyScalar(.5),J2.copy(n).sub(e).normalize(),Hd.copy(this.origin).sub(ZN);const s=e.distanceTo(n)*.5,a=-this.direction.dot(J2),o=Hd.dot(this.direction),l=-Hd.dot(J2),u=Hd.lengthSq(),h=Math.abs(1-a*a);let d,f,m,v;if(h>0)if(d=a*l-o,f=a*o-l,v=s*h,d>=0)if(f>=-v)if(f<=v){const S=1/h;d*=S,f*=S,m=d*(d+a*f+2*o)+f*(a*d+f+2*l)+u}else f=s,d=Math.max(0,-(a*f+o)),m=-d*d+f*(f+2*l)+u;else f=-s,d=Math.max(0,-(a*f+o)),m=-d*d+f*(f+2*l)+u;else f<=-v?(d=Math.max(0,-(-a*s+o)),f=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+u):f<=v?(d=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+u):(d=Math.max(0,-(a*s+o)),f=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+u);else f=a>0?-s:s,d=Math.max(0,-(a*f+o)),m=-d*d+f*(f+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(ZN).addScaledVector(J2,f),m}intersectSphere(e,n){Qc.subVectors(e.center,this.origin);const r=Qc.dot(this.direction),i=Qc.dot(Qc)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,l;const u=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),h>=0?(s=(e.min.y-f.y)*h,a=(e.max.y-f.y)*h):(s=(e.max.y-f.y)*h,a=(e.min.y-f.y)*h),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Qc)!==null}intersectTriangle(e,n,r,i,s){KN.subVectors(n,e),eT.subVectors(r,e),QN.crossVectors(KN,eT);let a=this.direction.dot(QN),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Hd.subVectors(this.origin,e);const l=o*this.direction.dot(eT.crossVectors(Hd,eT));if(l<0)return null;const u=o*this.direction.dot(KN.cross(Hd));if(u<0||l+u>a)return null;const h=-o*Hd.dot(QN);return h<0?null:this.at(h/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class qt{constructor(e,n,r,i,s,a,o,l,u,h,d,f,m,v,S,y){qt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,u,h,d,f,m,v,S,y)}set(e,n,r,i,s,a,o,l,u,h,d,f,m,v,S,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=a,g[9]=o,g[13]=l,g[2]=u,g[6]=h,g[10]=d,g[14]=f,g[3]=m,g[7]=v,g[11]=S,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new qt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Cv.setFromMatrixColumn(e,0).length(),s=1/Cv.setFromMatrixColumn(e,1).length(),a=1/Cv.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=a*h,m=a*d,v=o*h,S=o*d;n[0]=l*h,n[4]=-l*d,n[8]=u,n[1]=m+v*u,n[5]=f-S*u,n[9]=-o*l,n[2]=S-f*u,n[6]=v+m*u,n[10]=a*l}else if(e.order==="YXZ"){const f=l*h,m=l*d,v=u*h,S=u*d;n[0]=f+S*o,n[4]=v*o-m,n[8]=a*u,n[1]=a*d,n[5]=a*h,n[9]=-o,n[2]=m*o-v,n[6]=S+f*o,n[10]=a*l}else if(e.order==="ZXY"){const f=l*h,m=l*d,v=u*h,S=u*d;n[0]=f-S*o,n[4]=-a*d,n[8]=v+m*o,n[1]=m+v*o,n[5]=a*h,n[9]=S-f*o,n[2]=-a*u,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const f=a*h,m=a*d,v=o*h,S=o*d;n[0]=l*h,n[4]=v*u-m,n[8]=f*u+S,n[1]=l*d,n[5]=S*u+f,n[9]=m*u-v,n[2]=-u,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,m=a*u,v=o*l,S=o*u;n[0]=l*h,n[4]=S-f*d,n[8]=v*d+m,n[1]=d,n[5]=a*h,n[9]=-o*h,n[2]=-u*h,n[6]=m*d+v,n[10]=f-S*d}else if(e.order==="XZY"){const f=a*l,m=a*u,v=o*l,S=o*u;n[0]=l*h,n[4]=-d,n[8]=u*h,n[1]=f*d+S,n[5]=a*h,n[9]=m*d-v,n[2]=v*d-m,n[6]=o*h,n[10]=S*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(KUe,e,QUe)}lookAt(e,n,r){const i=this.elements;return ro.subVectors(e,n),ro.lengthSq()===0&&(ro.z=1),ro.normalize(),Gd.crossVectors(r,ro),Gd.lengthSq()===0&&(Math.abs(r.z)===1?ro.x+=1e-4:ro.z+=1e-4,ro.normalize(),Gd.crossVectors(r,ro)),Gd.normalize(),tT.crossVectors(ro,Gd),i[0]=Gd.x,i[4]=tT.x,i[8]=ro.x,i[1]=Gd.y,i[5]=tT.y,i[9]=ro.y,i[2]=Gd.z,i[6]=tT.z,i[10]=ro.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],u=r[12],h=r[1],d=r[5],f=r[9],m=r[13],v=r[2],S=r[6],y=r[10],g=r[14],b=r[3],M=r[7],E=r[11],P=r[15],A=i[0],L=i[4],I=i[8],R=i[12],C=i[1],O=i[5],G=i[9],j=i[13],q=i[2],Q=i[6],X=i[10],se=i[14],D=i[3],V=i[7],B=i[11],$=i[15];return s[0]=a*A+o*C+l*q+u*D,s[4]=a*L+o*O+l*Q+u*V,s[8]=a*I+o*G+l*X+u*B,s[12]=a*R+o*j+l*se+u*$,s[1]=h*A+d*C+f*q+m*D,s[5]=h*L+d*O+f*Q+m*V,s[9]=h*I+d*G+f*X+m*B,s[13]=h*R+d*j+f*se+m*$,s[2]=v*A+S*C+y*q+g*D,s[6]=v*L+S*O+y*Q+g*V,s[10]=v*I+S*G+y*X+g*B,s[14]=v*R+S*j+y*se+g*$,s[3]=b*A+M*C+E*q+P*D,s[7]=b*L+M*O+E*Q+P*V,s[11]=b*I+M*G+E*X+P*B,s[15]=b*R+M*j+E*se+P*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],h=e[2],d=e[6],f=e[10],m=e[14],v=e[3],S=e[7],y=e[11],g=e[15];return v*(+s*l*d-i*u*d-s*o*f+r*u*f+i*o*m-r*l*m)+S*(+n*l*m-n*u*f+s*a*f-i*a*m+i*u*h-s*l*h)+y*(+n*u*d-n*o*m-s*a*d+r*a*m+s*o*h-r*u*h)+g*(-i*o*h-n*l*d+n*o*f+i*a*d-r*a*f+r*l*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],d=e[9],f=e[10],m=e[11],v=e[12],S=e[13],y=e[14],g=e[15],b=d*y*u-S*f*u+S*l*m-o*y*m-d*l*g+o*f*g,M=v*f*u-h*y*u-v*l*m+a*y*m+h*l*g-a*f*g,E=h*S*u-v*d*u+v*o*m-a*S*m-h*o*g+a*d*g,P=v*d*l-h*S*l-v*o*f+a*S*f+h*o*y-a*d*y,A=n*b+r*M+i*E+s*P;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/A;return e[0]=b*L,e[1]=(S*f*s-d*y*s-S*i*m+r*y*m+d*i*g-r*f*g)*L,e[2]=(o*y*s-S*l*s+S*i*u-r*y*u-o*i*g+r*l*g)*L,e[3]=(d*l*s-o*f*s-d*i*u+r*f*u+o*i*m-r*l*m)*L,e[4]=M*L,e[5]=(h*y*s-v*f*s+v*i*m-n*y*m-h*i*g+n*f*g)*L,e[6]=(v*l*s-a*y*s-v*i*u+n*y*u+a*i*g-n*l*g)*L,e[7]=(a*f*s-h*l*s+h*i*u-n*f*u-a*i*m+n*l*m)*L,e[8]=E*L,e[9]=(v*d*s-h*S*s-v*r*m+n*S*m+h*r*g-n*d*g)*L,e[10]=(a*S*s-v*o*s+v*r*u-n*S*u-a*r*g+n*o*g)*L,e[11]=(h*o*s-a*d*s-h*r*u+n*d*u+a*r*m-n*o*m)*L,e[12]=P*L,e[13]=(h*S*i-v*d*i+v*r*f-n*S*f-h*r*y+n*d*y)*L,e[14]=(v*o*i-a*S*i-v*r*l+n*S*l+a*r*y-n*o*y)*L,e[15]=(a*d*i-h*o*i+h*r*l-n*d*l-a*r*f+n*o*f)*L,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,u=s*a,h=s*o;return this.set(u*a+r,u*o-i*l,u*l+i*o,0,u*o+i*l,h*o+r,h*l-i*a,0,u*l-i*o,h*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,u=s+s,h=a+a,d=o+o,f=s*u,m=s*h,v=s*d,S=a*h,y=a*d,g=o*d,b=l*u,M=l*h,E=l*d,P=r.x,A=r.y,L=r.z;return i[0]=(1-(S+g))*P,i[1]=(m+E)*P,i[2]=(v-M)*P,i[3]=0,i[4]=(m-E)*A,i[5]=(1-(f+g))*A,i[6]=(y+b)*A,i[7]=0,i[8]=(v+M)*L,i[9]=(y-b)*L,i[10]=(1-(f+S))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Cv.set(i[0],i[1],i[2]).length();const a=Cv.set(i[4],i[5],i[6]).length(),o=Cv.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ll.copy(this);const l=1/s,u=1/a,h=1/o;return Ll.elements[0]*=l,Ll.elements[1]*=l,Ll.elements[2]*=l,Ll.elements[4]*=u,Ll.elements[5]*=u,Ll.elements[6]*=u,Ll.elements[8]*=h,Ll.elements[9]*=h,Ll.elements[10]*=h,n.setFromRotationMatrix(Ll),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=Gu){const l=this.elements,u=2*s/(n-e),h=2*s/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let m,v;if(o===Gu)m=-(a+s)/(a-s),v=-2*a*s/(a-s);else if(o===WM)m=-a/(a-s),v=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=Gu){const l=this.elements,u=1/(n-e),h=1/(r-i),d=1/(a-s),f=(n+e)*u,m=(r+i)*h;let v,S;if(o===Gu)v=(a+s)*d,S=-2*d;else if(o===WM)v=s*d,S=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=S,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Cv=new ue,Ll=new qt,KUe=new ue(0,0,0),QUe=new ue(1,1,1),Gd=new ue,tT=new ue,ro=new ue,I$=new qt,N$=new ka;class Eo{constructor(e=0,n=0,r=0,i=Eo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],u=i[5],h=i[9],d=i[2],f=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Hr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Hr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Hr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Hr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Hr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-Hr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return I$.makeRotationFromQuaternion(e),this.setFromRotationMatrix(I$,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return N$.setFromEuler(this),this.setFromQuaternion(N$,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Eo.DEFAULT_ORDER="XYZ";class vg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let JUe=0;const D$=new ue,Pv=new ka,Jc=new qt,nT=new ue,Q_=new ue,eFe=new ue,tFe=new ka,O$=new ue(1,0,0),k$=new ue(0,1,0),U$=new ue(0,0,1),F$={type:"added"},nFe={type:"removed"},Rv={type:"childadded",child:null},JN={type:"childremoved",child:null};class In extends dc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:JUe++}),this.uuid=xo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=In.DEFAULT_UP.clone();const e=new ue,n=new Eo,r=new ka,i=new ue(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new qt},normalMatrix:{value:new Qt}}),this.matrix=new qt,this.matrixWorld=new qt,this.matrixAutoUpdate=In.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=In.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new vg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Pv.setFromAxisAngle(e,n),this.quaternion.multiply(Pv),this}rotateOnWorldAxis(e,n){return Pv.setFromAxisAngle(e,n),this.quaternion.premultiply(Pv),this}rotateX(e){return this.rotateOnAxis(O$,e)}rotateY(e){return this.rotateOnAxis(k$,e)}rotateZ(e){return this.rotateOnAxis(U$,e)}translateOnAxis(e,n){return D$.copy(e).applyQuaternion(this.quaternion),this.position.add(D$.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(O$,e)}translateY(e){return this.translateOnAxis(k$,e)}translateZ(e){return this.translateOnAxis(U$,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Jc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?nT.copy(e):nT.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Q_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Jc.lookAt(Q_,nT,this.up):Jc.lookAt(nT,Q_,this.up),this.quaternion.setFromRotationMatrix(Jc),i&&(Jc.extractRotation(i.matrixWorld),Pv.setFromRotationMatrix(Jc),this.quaternion.premultiply(Pv.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(F$),Rv.child=e,this.dispatchEvent(Rv),Rv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(nFe),JN.child=e,this.dispatchEvent(JN),JN.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Jc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Jc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Jc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(F$),Rv.child=e,this.dispatchEvent(Rv),Rv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Q_,e,eFe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Q_,tFe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),h=a(e.images),d=a(e.shapes),f=a(e.skeletons),m=a(e.animations),v=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function a(o){const l=[];for(const u in o){const h=o[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}In.DEFAULT_UP=new ue(0,1,0);In.DEFAULT_MATRIX_AUTO_UPDATE=!0;In.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Il=new ue,eh=new ue,eD=new ue,th=new ue,Lv=new ue,Iv=new ue,z$=new ue,tD=new ue,nD=new ue,rD=new ue,iD=new Cn,sD=new Cn,aD=new Cn;class wa{constructor(e=new ue,n=new ue,r=new ue){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Il.subVectors(e,n),i.cross(Il);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Il.subVectors(i,n),eh.subVectors(r,n),eD.subVectors(e,n);const a=Il.dot(Il),o=Il.dot(eh),l=Il.dot(eD),u=eh.dot(eh),h=eh.dot(eD),d=a*u-o*o;if(d===0)return s.set(0,0,0),null;const f=1/d,m=(u*l-o*h)*f,v=(a*h-o*l)*f;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,th)===null?!1:th.x>=0&&th.y>=0&&th.x+th.y<=1}static getInterpolation(e,n,r,i,s,a,o,l){return this.getBarycoord(e,n,r,i,th)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,th.x),l.addScaledVector(a,th.y),l.addScaledVector(o,th.z),l)}static getInterpolatedAttribute(e,n,r,i,s,a){return iD.setScalar(0),sD.setScalar(0),aD.setScalar(0),iD.fromBufferAttribute(e,n),sD.fromBufferAttribute(e,r),aD.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(iD,s.x),a.addScaledVector(sD,s.y),a.addScaledVector(aD,s.z),a}static isFrontFacing(e,n,r,i){return Il.subVectors(r,n),eh.subVectors(e,n),Il.cross(eh).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Il.subVectors(this.c,this.b),eh.subVectors(this.a,this.b),Il.cross(eh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return wa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return wa.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return wa.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return wa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return wa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;Lv.subVectors(i,r),Iv.subVectors(s,r),tD.subVectors(e,r);const l=Lv.dot(tD),u=Iv.dot(tD);if(l<=0&&u<=0)return n.copy(r);nD.subVectors(e,i);const h=Lv.dot(nD),d=Iv.dot(nD);if(h>=0&&d<=h)return n.copy(i);const f=l*d-h*u;if(f<=0&&l>=0&&h<=0)return a=l/(l-h),n.copy(r).addScaledVector(Lv,a);rD.subVectors(e,s);const m=Lv.dot(rD),v=Iv.dot(rD);if(v>=0&&m<=v)return n.copy(s);const S=m*u-l*v;if(S<=0&&u>=0&&v<=0)return o=u/(u-v),n.copy(r).addScaledVector(Iv,o);const y=h*v-m*d;if(y<=0&&d-h>=0&&m-v>=0)return z$.subVectors(s,i),o=(d-h)/(d-h+(m-v)),n.copy(i).addScaledVector(z$,o);const g=1/(y+S+f);return a=S*g,o=f*g,n.copy(r).addScaledVector(Lv,a).addScaledVector(Iv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Iue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wd={h:0,s:0,l:0},rT={h:0,s:0,l:0};function oD(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Rt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=_a){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Mn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Mn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Mn.workingColorSpace){if(e=T8(e,1),n=Hr(n,0,1),r=Hr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=oD(a,s,e+1/3),this.g=oD(a,s,e),this.b=oD(a,s,e-1/3)}return Mn.toWorkingColorSpace(this,i),this}setStyle(e,n=_a){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=_a){const r=Iue[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Dh(e.r),this.g=Dh(e.g),this.b=Dh(e.b),this}copyLinearToSRGB(e){return this.r=o1(e.r),this.g=o1(e.g),this.b=o1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=_a){return Mn.fromWorkingColorSpace(As.copy(this),e),Math.round(Hr(As.r*255,0,255))*65536+Math.round(Hr(As.g*255,0,255))*256+Math.round(Hr(As.b*255,0,255))}getHexString(e=_a){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Mn.workingColorSpace){Mn.fromWorkingColorSpace(As.copy(this),n);const r=As.r,i=As.g,s=As.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,u;const h=(o+a)/2;if(o===a)l=0,u=0;else{const d=a-o;switch(u=h<=.5?d/(a+o):d/(2-a-o),a){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,n=Mn.workingColorSpace){return Mn.fromWorkingColorSpace(As.copy(this),n),e.r=As.r,e.g=As.g,e.b=As.b,e}getStyle(e=_a){Mn.fromWorkingColorSpace(As.copy(this),e);const n=As.r,r=As.g,i=As.b;return e!==_a?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Wd),this.setHSL(Wd.h+e,Wd.s+n,Wd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Wd),e.getHSL(rT);const r=Eb(Wd.h,rT.h,n),i=Eb(Wd.s,rT.s,n),s=Eb(Wd.l,rT.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const As=new Rt;Rt.NAMES=Iue;let rFe=0;class ms extends dc{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rFe++}),this.uuid=xo(),this.name="",this.blending=pg,this.side=Jh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=BC,this.blendDst=VC,this.blendEquation=uf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rt(0,0,0),this.blendAlpha=0,this.depthFunc=Bg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=SU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Lm,this.stencilZFail=Lm,this.stencilZPass=Lm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==pg&&(r.blending=this.blending),this.side!==Jh&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==BC&&(r.blendSrc=this.blendSrc),this.blendDst!==VC&&(r.blendDst=this.blendDst),this.blendEquation!==uf&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Bg&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==SU&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Lm&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Lm&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Lm&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class up extends ms{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Eo,this.combine=Uw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const dh=iFe();function iFe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function ya(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Hr(t,-65504,65504),dh.floatView[0]=t;const e=dh.uint32View[0],n=e>>23&511;return dh.baseTable[n]+((e&8388607)>>dh.shiftTable[n])}function IS(t){const e=t>>10;return dh.uint32View[0]=dh.mantissaTable[dh.offsetTable[e]+(t&1023)]+dh.exponentTable[e],dh.floatView[0]}const sFe={toHalfFloat:ya,fromHalfFloat:IS},ai=new ue,iT=new tt;class Yn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=GM,this.updateRanges=[],this.gpuType=Ca,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)iT.fromBufferAttribute(this,n),iT.applyMatrix3(e),this.setXY(n,iT.x,iT.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyMatrix3(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyMatrix4(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyNormalMatrix(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.transformDirection(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Qs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=en(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Qs(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Qs(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Qs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Qs(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==GM&&(e.usage=this.usage),e}}class aFe extends Yn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class oFe extends Yn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class lFe extends Yn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class uFe extends Yn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class C8 extends Yn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class cFe extends Yn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class P8 extends Yn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class hFe extends Yn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=IS(this.array[e*this.itemSize]);return this.normalized&&(n=Qs(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=ya(n),this}getY(e){let n=IS(this.array[e*this.itemSize+1]);return this.normalized&&(n=Qs(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=ya(n),this}getZ(e){let n=IS(this.array[e*this.itemSize+2]);return this.normalized&&(n=Qs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=ya(n),this}getW(e){let n=IS(this.array[e*this.itemSize+3]);return this.normalized&&(n=Qs(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=ya(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=ya(n),this.array[e+1]=ya(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=ya(n),this.array[e+1]=ya(r),this.array[e+2]=ya(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.array[e+0]=ya(n),this.array[e+1]=ya(r),this.array[e+2]=ya(i),this.array[e+3]=ya(s),this}}class Ft extends Yn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let dFe=0;const Ko=new qt,lD=new In,Nv=new ue,io=new ia,J_=new ia,Fi=new ue;class nn extends dc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:dFe++}),this.uuid=xo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Cue(e)?P8:C8)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Qt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ko.makeRotationFromQuaternion(e),this.applyMatrix4(Ko),this}rotateX(e){return Ko.makeRotationX(e),this.applyMatrix4(Ko),this}rotateY(e){return Ko.makeRotationY(e),this.applyMatrix4(Ko),this}rotateZ(e){return Ko.makeRotationZ(e),this.applyMatrix4(Ko),this}translate(e,n,r){return Ko.makeTranslation(e,n,r),this.applyMatrix4(Ko),this}scale(e,n,r){return Ko.makeScale(e,n,r),this.applyMatrix4(Ko),this}lookAt(e){return lD.lookAt(e),lD.updateMatrix(),this.applyMatrix4(lD.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nv).negate(),this.translate(Nv.x,Nv.y,Nv.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ft(r,3))}else{for(let r=0,i=n.count;r<i;r++){const s=e[r];n.setXYZ(r,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ia);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ue(-1/0,-1/0,-1/0),new ue(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];io.setFromBufferAttribute(s),this.morphTargetsRelative?(Fi.addVectors(this.boundingBox.min,io.min),this.boundingBox.expandByPoint(Fi),Fi.addVectors(this.boundingBox.max,io.max),this.boundingBox.expandByPoint(Fi)):(this.boundingBox.expandByPoint(io.min),this.boundingBox.expandByPoint(io.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ue,1/0);return}if(e){const r=this.boundingSphere.center;if(io.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];J_.setFromBufferAttribute(o),this.morphTargetsRelative?(Fi.addVectors(io.min,J_.min),io.expandByPoint(Fi),Fi.addVectors(io.max,J_.max),io.expandByPoint(Fi)):(io.expandByPoint(J_.min),io.expandByPoint(J_.max))}io.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Fi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Fi));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let u=0,h=o.count;u<h;u++)Fi.fromBufferAttribute(o,u),l&&(Nv.fromBufferAttribute(e,u),Fi.add(Nv)),i=Math.max(i,r.distanceToSquared(Fi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yn(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let I=0;I<r.count;I++)o[I]=new ue,l[I]=new ue;const u=new ue,h=new ue,d=new ue,f=new tt,m=new tt,v=new tt,S=new ue,y=new ue;function g(I,R,C){u.fromBufferAttribute(r,I),h.fromBufferAttribute(r,R),d.fromBufferAttribute(r,C),f.fromBufferAttribute(s,I),m.fromBufferAttribute(s,R),v.fromBufferAttribute(s,C),h.sub(u),d.sub(u),m.sub(f),v.sub(f);const O=1/(m.x*v.y-v.x*m.y);isFinite(O)&&(S.copy(h).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(O),y.copy(d).multiplyScalar(m.x).addScaledVector(h,-v.x).multiplyScalar(O),o[I].add(S),o[R].add(S),o[C].add(S),l[I].add(y),l[R].add(y),l[C].add(y))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let I=0,R=b.length;I<R;++I){const C=b[I],O=C.start,G=C.count;for(let j=O,q=O+G;j<q;j+=3)g(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const M=new ue,E=new ue,P=new ue,A=new ue;function L(I){P.fromBufferAttribute(i,I),A.copy(P);const R=o[I];M.copy(R),M.sub(P.multiplyScalar(P.dot(R))).normalize(),E.crossVectors(A,R);const C=E.dot(l[I])<0?-1:1;a.setXYZW(I,M.x,M.y,M.z,C)}for(let I=0,R=b.length;I<R;++I){const C=b[I],O=C.start,G=C.count;for(let j=O,q=O+G;j<q;j+=3)L(e.getX(j+0)),L(e.getX(j+1)),L(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Yn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,m=r.count;f<m;f++)r.setXYZ(f,0,0,0);const i=new ue,s=new ue,a=new ue,o=new ue,l=new ue,u=new ue,h=new ue,d=new ue;if(e)for(let f=0,m=e.count;f<m;f+=3){const v=e.getX(f+0),S=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,S),a.fromBufferAttribute(n,y),h.subVectors(a,s),d.subVectors(i,s),h.cross(d),o.fromBufferAttribute(r,v),l.fromBufferAttribute(r,S),u.fromBufferAttribute(r,y),o.add(h),l.add(h),u.add(h),r.setXYZ(v,o.x,o.y,o.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let f=0,m=n.count;f<m;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),h.subVectors(a,s),d.subVectors(i,s),h.cross(d),r.setXYZ(f+0,h.x,h.y,h.z),r.setXYZ(f+1,h.x,h.y,h.z),r.setXYZ(f+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Fi.fromBufferAttribute(e,n),Fi.normalize(),e.setXYZ(n,Fi.x,Fi.y,Fi.z)}toNonIndexed(){function e(o,l){const u=o.array,h=o.itemSize,d=o.normalized,f=new u.constructor(l.length*h);let m=0,v=0;for(let S=0,y=l.length;S<y;S++){o.isInterleavedBufferAttribute?m=l[S]*o.data.stride+o.offset:m=l[S]*h;for(let g=0;g<h;g++)f[v++]=u[m++]}return new Yn(f,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new nn,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],u=e(l,r);n.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let h=0,d=u.length;h<d;h++){const f=u[h],m=e(f,r);l.push(m)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let d=0,f=u.length;d<f;d++){const m=u[d];h.push(m.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(n))}const s=e.morphAttributes;for(const u in s){const h=[],d=s[u];for(let f=0,m=d.length;f<m;f++)h.push(d[f].clone(n));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,h=a.length;u<h;u++){const d=a[u];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const B$=new qt,lm=new cx,sT=new Fs,V$=new ue,aT=new ue,oT=new ue,lT=new ue,uD=new ue,uT=new ue,H$=new ue,cT=new ue;class di extends In{constructor(e=new nn,n=new up){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){const a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){uT.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=o[l],d=s[l];h!==0&&(uD.fromBufferAttribute(d,e),a?uT.addScaledVector(uD,h):uT.addScaledVector(uD.sub(n),h))}n.add(uT)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),sT.copy(r.boundingSphere),sT.applyMatrix4(s),lm.copy(e.ray).recast(e.near),!(sT.containsPoint(lm.origin)===!1&&(lm.intersectSphere(sT,V$)===null||lm.origin.distanceToSquared(V$)>(e.far-e.near)**2))&&(B$.copy(s).invert(),lm.copy(e.ray).applyMatrix4(B$),!(r.boundingBox!==null&&lm.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,lm)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,d=s.attributes.normal,f=s.groups,m=s.drawRange;if(o!==null)if(Array.isArray(a))for(let v=0,S=f.length;v<S;v++){const y=f[v],g=a[y.materialIndex],b=Math.max(y.start,m.start),M=Math.min(o.count,Math.min(y.start+y.count,m.start+m.count));for(let E=b,P=M;E<P;E+=3){const A=o.getX(E),L=o.getX(E+1),I=o.getX(E+2);i=hT(this,g,e,r,u,h,d,A,L,I),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),S=Math.min(o.count,m.start+m.count);for(let y=v,g=S;y<g;y+=3){const b=o.getX(y),M=o.getX(y+1),E=o.getX(y+2);i=hT(this,a,e,r,u,h,d,b,M,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,S=f.length;v<S;v++){const y=f[v],g=a[y.materialIndex],b=Math.max(y.start,m.start),M=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let E=b,P=M;E<P;E+=3){const A=E,L=E+1,I=E+2;i=hT(this,g,e,r,u,h,d,A,L,I),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let y=v,g=S;y<g;y+=3){const b=y,M=y+1,E=y+2;i=hT(this,a,e,r,u,h,d,b,M,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function fFe(t,e,n,r,i,s,a,o){let l;if(e.side===ra?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===Jh,o),l===null)return null;cT.copy(o),cT.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(cT);return u<n.near||u>n.far?null:{distance:u,point:cT.clone(),object:t}}function hT(t,e,n,r,i,s,a,o,l,u){t.getVertexPosition(o,aT),t.getVertexPosition(l,oT),t.getVertexPosition(u,lT);const h=fFe(t,e,n,r,aT,oT,lT,H$);if(h){const d=new ue;wa.getBarycoord(H$,aT,oT,lT,d),i&&(h.uv=wa.getInterpolatedAttribute(i,o,l,u,d,new tt)),s&&(h.uv1=wa.getInterpolatedAttribute(s,o,l,u,d,new tt)),a&&(h.normal=wa.getInterpolatedAttribute(a,o,l,u,d,new ue),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const f={a:o,b:l,c:u,normal:new ue,materialIndex:0};wa.getNormal(aT,oT,lT,f.normal),h.face=f,h.barycoord=d}return h}class s0 extends nn{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],h=[],d=[];let f=0,m=0;v("z","y","x",-1,-1,r,n,e,a,s,0),v("z","y","x",1,-1,r,n,-e,a,s,1),v("x","z","y",1,1,e,r,n,i,a,2),v("x","z","y",1,-1,e,r,-n,i,a,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ft(u,3)),this.setAttribute("normal",new Ft(h,3)),this.setAttribute("uv",new Ft(d,2));function v(S,y,g,b,M,E,P,A,L,I,R){const C=E/L,O=P/I,G=E/2,j=P/2,q=A/2,Q=L+1,X=I+1;let se=0,D=0;const V=new ue;for(let B=0;B<X;B++){const $=B*O-j;for(let te=0;te<Q;te++){const Ae=te*C-G;V[S]=Ae*b,V[y]=$*M,V[g]=q,u.push(V.x,V.y,V.z),V[S]=0,V[y]=0,V[g]=A>0?1:-1,h.push(V.x,V.y,V.z),d.push(te/L),d.push(1-B/I),se+=1}}for(let B=0;B<I;B++)for(let $=0;$<L;$++){const te=f+$+Q*B,Ae=f+$+Q*(B+1),F=f+($+1)+Q*(B+1),ve=f+($+1)+Q*B;l.push(te,Ae,ve),l.push(Ae,F,ve),D+=6}o.addGroup(m,D,R),m+=D,f+=se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new s0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function V1(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Ys(t){const e={};for(let n=0;n<t.length;n++){const r=V1(t[n]);for(const i in r)e[i]=r[i]}return e}function pFe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Nue(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Mn.workingColorSpace}const Due={clone:V1,merge:Ys};var mFe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gFe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ml extends ms{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=mFe,this.fragmentShader=gFe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=V1(e.uniforms),this.uniformsGroups=pFe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Bw extends In{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new qt,this.projectionMatrix=new qt,this.projectionMatrixInverse=new qt,this.coordinateSystem=Gu}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const jd=new ue,G$=new tt,W$=new tt;class Hi extends Bw{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=B1*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(gg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return B1*2*Math.atan(Math.tan(gg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){jd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(jd.x,jd.y).multiplyScalar(-e/jd.z),jd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(jd.x,jd.y).multiplyScalar(-e/jd.z)}getViewSize(e,n){return this.getViewBounds(e,G$,W$),n.subVectors(W$,G$)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(gg*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/l,n-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Dv=-90,Ov=1;class Oue extends In{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Hi(Dv,Ov,e,n);i.layers=this.layers,this.add(i);const s=new Hi(Dv,Ov,e,n);s.layers=this.layers,this.add(s);const a=new Hi(Dv,Ov,e,n);a.layers=this.layers,this.add(a);const o=new Hi(Dv,Ov,e,n);o.layers=this.layers,this.add(o);const l=new Hi(Dv,Ov,e,n);l.layers=this.layers,this.add(l);const u=new Hi(Dv,Ov,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,l]=n;for(const u of n)this.remove(u);if(e===Gu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===WM)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,u,h]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(n,h),e.setRenderTarget(d,f,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Vw extends Pr{constructor(e,n,r,i,s,a,o,l,u,h){e=e!==void 0?e:[],n=n!==void 0?n:ed,super(e,n,r,i,s,a,o,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class kue extends eu{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Vw(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Mi}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new s0(5,5,5),s=new ml({name:"CubemapFromEquirect",uniforms:V1(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ra,blending:Nh});s.uniforms.tEquirect.value=n;const a=new di(i,s),o=n.minFilter;return n.minFilter===Hu&&(n.minFilter=Mi),new Oue(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}const cD=new ue,vFe=new ue,yFe=new Qt;class nf{constructor(e=new ue(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=cD.subVectors(r,n).cross(vFe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(cD),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||yFe.getNormalMatrix(e),i=this.coplanarPoint(cD).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const um=new Fs,dT=new ue;class Hw{constructor(e=new nf,n=new nf,r=new nf,i=new nf,s=new nf,a=new nf){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Gu){const r=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],h=i[5],d=i[6],f=i[7],m=i[8],v=i[9],S=i[10],y=i[11],g=i[12],b=i[13],M=i[14],E=i[15];if(r[0].setComponents(l-s,f-u,y-m,E-g).normalize(),r[1].setComponents(l+s,f+u,y+m,E+g).normalize(),r[2].setComponents(l+a,f+h,y+v,E+b).normalize(),r[3].setComponents(l-a,f-h,y-v,E-b).normalize(),r[4].setComponents(l-o,f-d,y-S,E-M).normalize(),n===Gu)r[5].setComponents(l+o,f+d,y+S,E+M).normalize();else if(n===WM)r[5].setComponents(o,d,S,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),um.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),um.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(um)}intersectsSprite(e){return um.center.set(0,0,0),um.radius=.7071067811865476,um.applyMatrix4(e.matrixWorld),this.intersectsSphere(um)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(dT.x=i.normal.x>0?e.max.x:e.min.x,dT.y=i.normal.y>0?e.max.y:e.min.y,dT.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(dT)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Uue(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function xFe(t){const e=new WeakMap;function n(o,l){const u=o.array,h=o.usage,d=u.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,u,h),o.onUploadCallback();let m;if(u instanceof Float32Array)m=t.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=t.SHORT;else if(u instanceof Uint32Array)m=t.UNSIGNED_INT;else if(u instanceof Int32Array)m=t.INT;else if(u instanceof Int8Array)m=t.BYTE;else if(u instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:d}}function r(o,l,u){const h=l.array,d=l.updateRanges;if(t.bindBuffer(u,o),d.length===0)t.bufferSubData(u,0,h);else{d.sort((m,v)=>m.start-v.start);let f=0;for(let m=1;m<d.length;m++){const v=d[f],S=d[m];S.start<=v.start+v.count+1?v.count=Math.max(v.count,S.start+S.count-v.start):(++f,d[f]=S)}d.length=f+1;for(let m=0,v=d.length;m<v;m++){const S=d[m];t.bufferSubData(u,S.start*h.BYTES_PER_ELEMENT,h,S.start,S.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const h=e.get(o);(!h||h.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,n(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,o,l),u.version=o.version}}return{get:i,remove:s,update:a}}class hx extends nn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),l=Math.floor(i),u=o+1,h=l+1,d=e/o,f=n/l,m=[],v=[],S=[],y=[];for(let g=0;g<h;g++){const b=g*f-a;for(let M=0;M<u;M++){const E=M*d-s;v.push(E,-b,0),S.push(0,0,1),y.push(M/o),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let b=0;b<o;b++){const M=b+u*g,E=b+u*(g+1),P=b+1+u*(g+1),A=b+1+u*g;m.push(M,E,A),m.push(E,P,A)}this.setIndex(m),this.setAttribute("position",new Ft(v,3)),this.setAttribute("normal",new Ft(S,3)),this.setAttribute("uv",new Ft(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hx(e.width,e.height,e.widthSegments,e.heightSegments)}}var _Fe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,SFe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,bFe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,MFe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wFe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,EFe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,TFe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,AFe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,CFe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,PFe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,RFe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,LFe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,IFe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,NFe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,DFe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,OFe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,kFe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,UFe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,FFe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,zFe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,BFe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,VFe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,HFe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,GFe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,WFe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,jFe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,XFe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,$Fe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,YFe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,qFe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ZFe="gl_FragColor = linearToOutputTexel( gl_FragColor );",KFe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,QFe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,JFe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,e6e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,t6e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,n6e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,r6e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,i6e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,s6e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,a6e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,o6e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,l6e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,u6e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,c6e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,h6e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,d6e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,f6e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,p6e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,m6e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,g6e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,v6e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,y6e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,x6e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_6e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,S6e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,b6e=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,M6e=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,w6e=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,E6e=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,T6e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,A6e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,C6e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,P6e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,R6e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,L6e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,I6e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,N6e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,D6e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,O6e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,k6e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,U6e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,F6e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,z6e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,B6e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,V6e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,H6e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,G6e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,W6e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,j6e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,X6e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,$6e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Y6e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,q6e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Z6e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,K6e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Q6e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,J6e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,eze=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,tze=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,nze=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,rze=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,ize=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,sze=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,aze=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,oze=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,lze=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,uze=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,cze=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,hze=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,dze=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,fze=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,pze=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,mze=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gze=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vze=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,yze=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const xze=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_ze=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Sze=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bze=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Mze=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wze=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Eze=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Tze=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Aze=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Cze=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Pze=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Rze=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lze=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ize=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Nze=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Dze=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Oze=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kze=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uze=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Fze=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zze=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Bze=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Vze=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hze=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gze=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Wze=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jze=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xze=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$ze=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Yze=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qze=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zze=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Kze=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Qze=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ln={alphahash_fragment:_Fe,alphahash_pars_fragment:SFe,alphamap_fragment:bFe,alphamap_pars_fragment:MFe,alphatest_fragment:wFe,alphatest_pars_fragment:EFe,aomap_fragment:TFe,aomap_pars_fragment:AFe,batching_pars_vertex:CFe,batching_vertex:PFe,begin_vertex:RFe,beginnormal_vertex:LFe,bsdfs:IFe,iridescence_fragment:NFe,bumpmap_pars_fragment:DFe,clipping_planes_fragment:OFe,clipping_planes_pars_fragment:kFe,clipping_planes_pars_vertex:UFe,clipping_planes_vertex:FFe,color_fragment:zFe,color_pars_fragment:BFe,color_pars_vertex:VFe,color_vertex:HFe,common:GFe,cube_uv_reflection_fragment:WFe,defaultnormal_vertex:jFe,displacementmap_pars_vertex:XFe,displacementmap_vertex:$Fe,emissivemap_fragment:YFe,emissivemap_pars_fragment:qFe,colorspace_fragment:ZFe,colorspace_pars_fragment:KFe,envmap_fragment:QFe,envmap_common_pars_fragment:JFe,envmap_pars_fragment:e6e,envmap_pars_vertex:t6e,envmap_physical_pars_fragment:d6e,envmap_vertex:n6e,fog_vertex:r6e,fog_pars_vertex:i6e,fog_fragment:s6e,fog_pars_fragment:a6e,gradientmap_pars_fragment:o6e,lightmap_pars_fragment:l6e,lights_lambert_fragment:u6e,lights_lambert_pars_fragment:c6e,lights_pars_begin:h6e,lights_toon_fragment:f6e,lights_toon_pars_fragment:p6e,lights_phong_fragment:m6e,lights_phong_pars_fragment:g6e,lights_physical_fragment:v6e,lights_physical_pars_fragment:y6e,lights_fragment_begin:x6e,lights_fragment_maps:_6e,lights_fragment_end:S6e,logdepthbuf_fragment:b6e,logdepthbuf_pars_fragment:M6e,logdepthbuf_pars_vertex:w6e,logdepthbuf_vertex:E6e,map_fragment:T6e,map_pars_fragment:A6e,map_particle_fragment:C6e,map_particle_pars_fragment:P6e,metalnessmap_fragment:R6e,metalnessmap_pars_fragment:L6e,morphinstance_vertex:I6e,morphcolor_vertex:N6e,morphnormal_vertex:D6e,morphtarget_pars_vertex:O6e,morphtarget_vertex:k6e,normal_fragment_begin:U6e,normal_fragment_maps:F6e,normal_pars_fragment:z6e,normal_pars_vertex:B6e,normal_vertex:V6e,normalmap_pars_fragment:H6e,clearcoat_normal_fragment_begin:G6e,clearcoat_normal_fragment_maps:W6e,clearcoat_pars_fragment:j6e,iridescence_pars_fragment:X6e,opaque_fragment:$6e,packing:Y6e,premultiplied_alpha_fragment:q6e,project_vertex:Z6e,dithering_fragment:K6e,dithering_pars_fragment:Q6e,roughnessmap_fragment:J6e,roughnessmap_pars_fragment:eze,shadowmap_pars_fragment:tze,shadowmap_pars_vertex:nze,shadowmap_vertex:rze,shadowmask_pars_fragment:ize,skinbase_vertex:sze,skinning_pars_vertex:aze,skinning_vertex:oze,skinnormal_vertex:lze,specularmap_fragment:uze,specularmap_pars_fragment:cze,tonemapping_fragment:hze,tonemapping_pars_fragment:dze,transmission_fragment:fze,transmission_pars_fragment:pze,uv_pars_fragment:mze,uv_pars_vertex:gze,uv_vertex:vze,worldpos_vertex:yze,background_vert:xze,background_frag:_ze,backgroundCube_vert:Sze,backgroundCube_frag:bze,cube_vert:Mze,cube_frag:wze,depth_vert:Eze,depth_frag:Tze,distanceRGBA_vert:Aze,distanceRGBA_frag:Cze,equirect_vert:Pze,equirect_frag:Rze,linedashed_vert:Lze,linedashed_frag:Ize,meshbasic_vert:Nze,meshbasic_frag:Dze,meshlambert_vert:Oze,meshlambert_frag:kze,meshmatcap_vert:Uze,meshmatcap_frag:Fze,meshnormal_vert:zze,meshnormal_frag:Bze,meshphong_vert:Vze,meshphong_frag:Hze,meshphysical_vert:Gze,meshphysical_frag:Wze,meshtoon_vert:jze,meshtoon_frag:Xze,points_vert:$ze,points_frag:Yze,shadow_vert:qze,shadow_frag:Zze,sprite_vert:Kze,sprite_frag:Qze},Et={common:{diffuse:{value:new Rt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Qt}},envmap:{envMap:{value:null},envMapRotation:{value:new Qt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Qt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Qt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Qt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Qt},normalScale:{value:new tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Qt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Qt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Qt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Qt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0},uvTransform:{value:new Qt}},sprite:{diffuse:{value:new Rt(16777215)},opacity:{value:1},center:{value:new tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}}},Wl={basic:{uniforms:Ys([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.fog]),vertexShader:ln.meshbasic_vert,fragmentShader:ln.meshbasic_frag},lambert:{uniforms:Ys([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new Rt(0)}}]),vertexShader:ln.meshlambert_vert,fragmentShader:ln.meshlambert_frag},phong:{uniforms:Ys([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:ln.meshphong_vert,fragmentShader:ln.meshphong_frag},standard:{uniforms:Ys([Et.common,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.roughnessmap,Et.metalnessmap,Et.fog,Et.lights,{emissive:{value:new Rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag},toon:{uniforms:Ys([Et.common,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.gradientmap,Et.fog,Et.lights,{emissive:{value:new Rt(0)}}]),vertexShader:ln.meshtoon_vert,fragmentShader:ln.meshtoon_frag},matcap:{uniforms:Ys([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,{matcap:{value:null}}]),vertexShader:ln.meshmatcap_vert,fragmentShader:ln.meshmatcap_frag},points:{uniforms:Ys([Et.points,Et.fog]),vertexShader:ln.points_vert,fragmentShader:ln.points_frag},dashed:{uniforms:Ys([Et.common,Et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ln.linedashed_vert,fragmentShader:ln.linedashed_frag},depth:{uniforms:Ys([Et.common,Et.displacementmap]),vertexShader:ln.depth_vert,fragmentShader:ln.depth_frag},normal:{uniforms:Ys([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,{opacity:{value:1}}]),vertexShader:ln.meshnormal_vert,fragmentShader:ln.meshnormal_frag},sprite:{uniforms:Ys([Et.sprite,Et.fog]),vertexShader:ln.sprite_vert,fragmentShader:ln.sprite_frag},background:{uniforms:{uvTransform:{value:new Qt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ln.background_vert,fragmentShader:ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Qt}},vertexShader:ln.backgroundCube_vert,fragmentShader:ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ln.cube_vert,fragmentShader:ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ln.equirect_vert,fragmentShader:ln.equirect_frag},distanceRGBA:{uniforms:Ys([Et.common,Et.displacementmap,{referencePosition:{value:new ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ln.distanceRGBA_vert,fragmentShader:ln.distanceRGBA_frag},shadow:{uniforms:Ys([Et.lights,Et.fog,{color:{value:new Rt(0)},opacity:{value:1}}]),vertexShader:ln.shadow_vert,fragmentShader:ln.shadow_frag}};Wl.physical={uniforms:Ys([Wl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Qt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Qt},clearcoatNormalScale:{value:new tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Qt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Qt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Qt},sheen:{value:0},sheenColor:{value:new Rt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Qt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Qt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Qt},transmissionSamplerSize:{value:new tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Qt},attenuationDistance:{value:0},attenuationColor:{value:new Rt(0)},specularColor:{value:new Rt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Qt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Qt},anisotropyVector:{value:new tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Qt}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag};const fT={r:0,b:0,g:0},cm=new Eo,Jze=new qt;function eBe(t,e,n,r,i,s,a){const o=new Rt(0);let l=s===!0?0:1,u,h,d=null,f=0,m=null;function v(b){let M=b.isScene===!0?b.background:null;return M&&M.isTexture&&(M=(b.backgroundBlurriness>0?n:e).get(M)),M}function S(b){let M=!1;const E=v(b);E===null?g(o,l):E&&E.isColor&&(g(E,1),M=!0);const P=t.xr.getEnvironmentBlendMode();P==="additive"?r.buffers.color.setClear(0,0,0,1,a):P==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(b,M){const E=v(M);E&&(E.isCubeTexture||E.mapping===lx)?(h===void 0&&(h=new di(new s0(1,1,1),new ml({name:"BackgroundCubeMaterial",uniforms:V1(Wl.backgroundCube.uniforms),vertexShader:Wl.backgroundCube.vertexShader,fragmentShader:Wl.backgroundCube.fragmentShader,side:ra,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,A,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),cm.copy(M.backgroundRotation),cm.x*=-1,cm.y*=-1,cm.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(cm.y*=-1,cm.z*=-1),h.material.uniforms.envMap.value=E,h.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(Jze.makeRotationFromEuler(cm)),h.material.toneMapped=Mn.getTransfer(E.colorSpace)!==Bn,(d!==E||f!==E.version||m!==t.toneMapping)&&(h.material.needsUpdate=!0,d=E,f=E.version,m=t.toneMapping),h.layers.enableAll(),b.unshift(h,h.geometry,h.material,0,0,null)):E&&E.isTexture&&(u===void 0&&(u=new di(new hx(2,2),new ml({name:"BackgroundMaterial",uniforms:V1(Wl.background.uniforms),vertexShader:Wl.background.vertexShader,fragmentShader:Wl.background.fragmentShader,side:Jh,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=E,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.toneMapped=Mn.getTransfer(E.colorSpace)!==Bn,E.matrixAutoUpdate===!0&&E.updateMatrix(),u.material.uniforms.uvTransform.value.copy(E.matrix),(d!==E||f!==E.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=E,f=E.version,m=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null))}function g(b,M){b.getRGB(fT,Nue(t)),r.buffers.color.setClear(fT.r,fT.g,fT.b,M,a)}return{getClearColor:function(){return o},setClearColor:function(b,M=1){o.set(b),l=M,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,g(o,l)},render:S,addToRenderList:y}}function tBe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,a=!1;function o(C,O,G,j,q){let Q=!1;const X=d(j,G,O);s!==X&&(s=X,u(s.object)),Q=m(C,j,G,q),Q&&v(C,j,G,q),q!==null&&e.update(q,t.ELEMENT_ARRAY_BUFFER),(Q||a)&&(a=!1,E(C,O,G,j),q!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(q).buffer))}function l(){return t.createVertexArray()}function u(C){return t.bindVertexArray(C)}function h(C){return t.deleteVertexArray(C)}function d(C,O,G){const j=G.wireframe===!0;let q=r[C.id];q===void 0&&(q={},r[C.id]=q);let Q=q[O.id];Q===void 0&&(Q={},q[O.id]=Q);let X=Q[j];return X===void 0&&(X=f(l()),Q[j]=X),X}function f(C){const O=[],G=[],j=[];for(let q=0;q<n;q++)O[q]=0,G[q]=0,j[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:G,attributeDivisors:j,object:C,attributes:{},index:null}}function m(C,O,G,j){const q=s.attributes,Q=O.attributes;let X=0;const se=G.getAttributes();for(const D in se)if(se[D].location>=0){const V=q[D];let B=Q[D];if(B===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(B=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(B=C.instanceColor)),V===void 0||V.attribute!==B||B&&V.data!==B.data)return!0;X++}return s.attributesNum!==X||s.index!==j}function v(C,O,G,j){const q={},Q=O.attributes;let X=0;const se=G.getAttributes();for(const D in se)if(se[D].location>=0){let V=Q[D];V===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(V=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(V=C.instanceColor));const B={};B.attribute=V,V&&V.data&&(B.data=V.data),q[D]=B,X++}s.attributes=q,s.attributesNum=X,s.index=j}function S(){const C=s.newAttributes;for(let O=0,G=C.length;O<G;O++)C[O]=0}function y(C){g(C,0)}function g(C,O){const G=s.newAttributes,j=s.enabledAttributes,q=s.attributeDivisors;G[C]=1,j[C]===0&&(t.enableVertexAttribArray(C),j[C]=1),q[C]!==O&&(t.vertexAttribDivisor(C,O),q[C]=O)}function b(){const C=s.newAttributes,O=s.enabledAttributes;for(let G=0,j=O.length;G<j;G++)O[G]!==C[G]&&(t.disableVertexAttribArray(G),O[G]=0)}function M(C,O,G,j,q,Q,X){X===!0?t.vertexAttribIPointer(C,O,G,q,Q):t.vertexAttribPointer(C,O,G,j,q,Q)}function E(C,O,G,j){S();const q=j.attributes,Q=G.getAttributes(),X=O.defaultAttributeValues;for(const se in Q){const D=Q[se];if(D.location>=0){let V=q[se];if(V===void 0&&(se==="instanceMatrix"&&C.instanceMatrix&&(V=C.instanceMatrix),se==="instanceColor"&&C.instanceColor&&(V=C.instanceColor)),V!==void 0){const B=V.normalized,$=V.itemSize,te=e.get(V);if(te===void 0)continue;const Ae=te.buffer,F=te.type,ve=te.bytesPerElement,ie=F===t.INT||F===t.UNSIGNED_INT||V.gpuType===pL;if(V.isInterleavedBufferAttribute){const he=V.data,Ve=he.stride,ke=V.offset;if(he.isInstancedInterleavedBuffer){for(let Pe=0;Pe<D.locationSize;Pe++)g(D.location+Pe,he.meshPerAttribute);C.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let Pe=0;Pe<D.locationSize;Pe++)y(D.location+Pe);t.bindBuffer(t.ARRAY_BUFFER,Ae);for(let Pe=0;Pe<D.locationSize;Pe++)M(D.location+Pe,$/D.locationSize,F,B,Ve*ve,(ke+$/D.locationSize*Pe)*ve,ie)}else{if(V.isInstancedBufferAttribute){for(let he=0;he<D.locationSize;he++)g(D.location+he,V.meshPerAttribute);C.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let he=0;he<D.locationSize;he++)y(D.location+he);t.bindBuffer(t.ARRAY_BUFFER,Ae);for(let he=0;he<D.locationSize;he++)M(D.location+he,$/D.locationSize,F,B,$*ve,$/D.locationSize*he*ve,ie)}}else if(X!==void 0){const B=X[se];if(B!==void 0)switch(B.length){case 2:t.vertexAttrib2fv(D.location,B);break;case 3:t.vertexAttrib3fv(D.location,B);break;case 4:t.vertexAttrib4fv(D.location,B);break;default:t.vertexAttrib1fv(D.location,B)}}}}b()}function P(){I();for(const C in r){const O=r[C];for(const G in O){const j=O[G];for(const q in j)h(j[q].object),delete j[q];delete O[G]}delete r[C]}}function A(C){if(r[C.id]===void 0)return;const O=r[C.id];for(const G in O){const j=O[G];for(const q in j)h(j[q].object),delete j[q];delete O[G]}delete r[C.id]}function L(C){for(const O in r){const G=r[O];if(G[C.id]===void 0)continue;const j=G[C.id];for(const q in j)h(j[q].object),delete j[q];delete G[C.id]}}function I(){R(),a=!0,s!==i&&(s=i,u(s.object))}function R(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:I,resetDefaultState:R,dispose:P,releaseStatesOfGeometry:A,releaseStatesOfProgram:L,initAttributes:S,enableAttribute:y,disableUnusedAttributes:b}}function nBe(t,e,n){let r;function i(u){r=u}function s(u,h){t.drawArrays(r,u,h),n.update(h,r,1)}function a(u,h,d){d!==0&&(t.drawArraysInstanced(r,u,h,d),n.update(h,r,d))}function o(u,h,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,h,0,d);let f=0;for(let m=0;m<d;m++)f+=h[m];n.update(f,r,1)}function l(u,h,d,f){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<u.length;v++)a(u[v],h[v],f[v]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,h,0,f,0,d);let v=0;for(let S=0;S<d;S++)v+=h[S]*f[S];n.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function rBe(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(L){return!(L!==Ds&&r.convert(L)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(L){const I=L===ux&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(L!==Jl&&r.convert(L)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==Ca&&!I)}function l(L){if(L==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const h=l(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const d=n.logarithmicDepthBuffer===!0,f=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),M=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),P=v>0,A=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:m,maxVertexTextures:v,maxTextureSize:S,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:b,maxVaryings:M,maxFragmentUniforms:E,vertexTextures:P,maxSamples:A}}function iBe(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new nf,o=new Qt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const m=d.length!==0||f||r!==0||i;return i=f,r=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){n=h(d,f,0)},this.setState=function(d,f,m){const v=d.clippingPlanes,S=d.clipIntersection,y=d.clipShadows,g=t.get(d);if(!i||v===null||v.length===0||s&&!y)s?h(null):u();else{const b=s?0:r,M=b*4;let E=g.clippingState||null;l.value=E,E=h(v,f,M,m);for(let P=0;P!==M;++P)E[P]=n[P];g.clippingState=E,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=b}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(d,f,m,v){const S=d!==null?d.length:0;let y=null;if(S!==0){if(y=l.value,v!==!0||y===null){const g=m+S*4,b=f.matrixWorldInverse;o.getNormalMatrix(b),(y===null||y.length<g)&&(y=new Float32Array(g));for(let M=0,E=m;M!==S;++M,E+=4)a.copy(d[M]).applyMatrix4(b,o),a.normal.toArray(y,E),y[E+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,y}}function sBe(t){let e=new WeakMap;function n(a,o){return o===UM?a.mapping=ed:o===FM&&(a.mapping=Yf),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===UM||o===FM)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new kue(l.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Gw extends Bw{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=h*this.view.offsetY,l=o-h*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Hy=4,j$=[.125,.215,.35,.446,.526,.582],km=20,hD=new Gw,X$=new Rt;let dD=null,fD=0,pD=0,mD=!1;const Im=(1+Math.sqrt(5))/2,kv=1/Im,$$=[new ue(-Im,kv,0),new ue(Im,kv,0),new ue(-kv,0,Im),new ue(kv,0,Im),new ue(0,Im,-kv),new ue(0,Im,kv),new ue(-1,1,-1),new ue(1,1,-1),new ue(-1,1,1),new ue(1,1,1)];class MU{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){dD=this._renderer.getRenderTarget(),fD=this._renderer.getActiveCubeFace(),pD=this._renderer.getActiveMipmapLevel(),mD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Z$(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=q$(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(dD,fD,pD),this._renderer.xr.enabled=mD,e.scissorTest=!1,pT(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ed||e.mapping===Yf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),dD=this._renderer.getRenderTarget(),fD=this._renderer.getActiveCubeFace(),pD=this._renderer.getActiveMipmapLevel(),mD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Mi,minFilter:Mi,generateMipmaps:!1,type:ux,format:Ds,colorSpace:i0,depthBuffer:!1},i=Y$(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Y$(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=aBe(s)),this._blurMaterial=oBe(s,e,n)}return i}_compileMaterial(e){const n=new di(this._lodPlanes[0],e);this._renderer.compile(n,hD)}_sceneToCubeUV(e,n,r,i){const s=new Hi(90,1,n,r),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],l=this._renderer,u=l.autoClear,h=l.toneMapping;l.getClearColor(X$),l.toneMapping=sc,l.autoClear=!1;const d=new up({name:"PMREM.Background",side:ra,depthWrite:!1,depthTest:!1}),f=new di(new s0,d);let m=!1;const v=e.background;v?v.isColor&&(d.color.copy(v),e.background=null,m=!0):(d.color.copy(X$),m=!0);for(let S=0;S<6;S++){const y=S%3;y===0?(s.up.set(0,a[S],0),s.lookAt(o[S],0,0)):y===1?(s.up.set(0,0,a[S]),s.lookAt(0,o[S],0)):(s.up.set(0,a[S],0),s.lookAt(0,0,o[S]));const g=this._cubeSize;pT(i,y*g,S>2?g:0,g,g),l.setRenderTarget(i),m&&l.render(f,s),l.render(e,s)}f.geometry.dispose(),f.material.dispose(),l.toneMapping=h,l.autoClear=u,e.background=v}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ed||e.mapping===Yf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Z$()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=q$());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new di(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;pT(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,hD)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=$$[(i-s-1)%$$.length];this._blur(e,s-1,s,a,o)}n.autoClear=r}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new di(this._lodPlanes[i],u),f=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*km-1),S=s/v,y=isFinite(s)?1+Math.floor(h*S):km;y>km&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${km}`);const g=[];let b=0;for(let L=0;L<km;++L){const I=L/S,R=Math.exp(-I*I/2);g.push(R),L===0?b+=R:L<y&&(b+=2*R)}for(let L=0;L<g.length;L++)g[L]=g[L]/b;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=g,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:M}=this;f.dTheta.value=v,f.mipInt.value=M-r;const E=this._sizeLods[i],P=3*E*(i>M-Hy?i-M+Hy:0),A=4*(this._cubeSize-E);pT(n,P,A,3*E,2*E),l.setRenderTarget(n),l.render(d,hD)}}function aBe(t){const e=[],n=[],r=[];let i=t;const s=t-Hy+1+j$.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);n.push(o);let l=1/o;a>t-Hy?l=j$[a-t+Hy-1]:a===0&&(l=0),r.push(l);const u=1/(o-2),h=-u,d=1+u,f=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,v=6,S=3,y=2,g=1,b=new Float32Array(S*v*m),M=new Float32Array(y*v*m),E=new Float32Array(g*v*m);for(let A=0;A<m;A++){const L=A%3*2/3-1,I=A>2?0:-1,R=[L,I,0,L+2/3,I,0,L+2/3,I+1,0,L,I,0,L+2/3,I+1,0,L,I+1,0];b.set(R,S*v*A),M.set(f,y*v*A);const C=[A,A,A,A,A,A];E.set(C,g*v*A)}const P=new nn;P.setAttribute("position",new Yn(b,S)),P.setAttribute("uv",new Yn(M,y)),P.setAttribute("faceIndex",new Yn(E,g)),e.push(P),i>Hy&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function Y$(t,e,n){const r=new eu(t,e,n);return r.texture.mapping=lx,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function pT(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function oBe(t,e,n){const r=new Float32Array(km),i=new ue(0,1,0);return new ml({name:"SphericalGaussianBlur",defines:{n:km,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:R8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Nh,depthTest:!1,depthWrite:!1})}function q$(){return new ml({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:R8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Nh,depthTest:!1,depthWrite:!1})}function Z$(){return new ml({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:R8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Nh,depthTest:!1,depthWrite:!1})}function R8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function lBe(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,u=l===UM||l===FM,h=l===ed||l===Yf;if(u||h){let d=e.get(o);const f=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return n===null&&(n=new MU(t)),d=u?n.fromEquirectangular(o,d):n.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const m=o.image;return u&&m&&m.height>0||h&&m&&i(m)?(n===null&&(n=new MU(t)),d=u?n.fromEquirectangular(o):n.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",s),d.texture):null}}}return o}function i(o){let l=0;const u=6;for(let h=0;h<u;h++)o[h]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function uBe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&LS("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function cBe(t,e,n,r){const i={},s=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);for(const v in f.morphAttributes){const S=f.morphAttributes[v];for(let y=0,g=S.length;y<g;y++)e.remove(S[y])}f.removeEventListener("dispose",a),delete i[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const v in f)e.update(f[v],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const S=m[v];for(let y=0,g=S.length;y<g;y++)e.update(S[y],t.ARRAY_BUFFER)}}function u(d){const f=[],m=d.index,v=d.attributes.position;let S=0;if(m!==null){const b=m.array;S=m.version;for(let M=0,E=b.length;M<E;M+=3){const P=b[M+0],A=b[M+1],L=b[M+2];f.push(P,A,A,L,L,P)}}else if(v!==void 0){const b=v.array;S=v.version;for(let M=0,E=b.length/3-1;M<E;M+=3){const P=M+0,A=M+1,L=M+2;f.push(P,A,A,L,L,P)}}else return;const y=new(Cue(f)?P8:C8)(f,1);y.version=S;const g=s.get(d);g&&e.remove(g),s.set(d,y)}function h(d){const f=s.get(d);if(f){const m=d.index;m!==null&&f.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:o,update:l,getWireframeAttribute:h}}function hBe(t,e,n){let r;function i(f){r=f}let s,a;function o(f){s=f.type,a=f.bytesPerElement}function l(f,m){t.drawElements(r,m,s,f*a),n.update(m,r,1)}function u(f,m,v){v!==0&&(t.drawElementsInstanced(r,m,s,f*a,v),n.update(m,r,v))}function h(f,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,f,0,v);let S=0;for(let y=0;y<v;y++)S+=m[y];n.update(S,r,1)}function d(f,m,v,S){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<f.length;g++)u(f[g]/a,m[g],S[g]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,s,f,0,S,0,v);let g=0;for(let b=0;b<v;b++)g+=m[b]*S[b];n.update(g,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=h,this.renderMultiDrawInstances=d}function dBe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function fBe(t,e,n){const r=new WeakMap,i=new Cn;function s(a,o,l){const u=a.morphTargetInfluences,h=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=h!==void 0?h.length:0;let f=r.get(o);if(f===void 0||f.count!==d){let m=function(){I.dispose(),r.delete(o),o.removeEventListener("dispose",m)};f!==void 0&&f.texture.dispose();const v=o.morphAttributes.position!==void 0,S=o.morphAttributes.normal!==void 0,y=o.morphAttributes.color!==void 0,g=o.morphAttributes.position||[],b=o.morphAttributes.normal||[],M=o.morphAttributes.color||[];let E=0;v===!0&&(E=1),S===!0&&(E=2),y===!0&&(E=3);let P=o.attributes.position.count*E,A=1;P>e.maxTextureSize&&(A=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const L=new Float32Array(P*A*4*d),I=new SL(L,P,A,d);I.type=Ca,I.needsUpdate=!0;const R=E*4;for(let C=0;C<d;C++){const O=g[C],G=b[C],j=M[C],q=P*A*4*C;for(let Q=0;Q<O.count;Q++){const X=Q*R;v===!0&&(i.fromBufferAttribute(O,Q),L[q+X+0]=i.x,L[q+X+1]=i.y,L[q+X+2]=i.z,L[q+X+3]=0),S===!0&&(i.fromBufferAttribute(G,Q),L[q+X+4]=i.x,L[q+X+5]=i.y,L[q+X+6]=i.z,L[q+X+7]=0),y===!0&&(i.fromBufferAttribute(j,Q),L[q+X+8]=i.x,L[q+X+9]=i.y,L[q+X+10]=i.z,L[q+X+11]=j.itemSize===4?i.w:1)}}f={count:d,texture:I,size:new tt(P,A)},r.set(o,f),o.addEventListener("dispose",m)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let m=0;for(let S=0;S<u.length;S++)m+=u[S];const v=o.morphTargetsRelative?1:1-m;l.getUniforms().setValue(t,"morphTargetBaseInfluence",v),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:s}}function pBe(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,h=l.geometry,d=e.get(l,h);if(i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==u&&(f.update(),i.set(f,u))}return d}function a(){i=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}class L8 extends Pr{constructor(e,n,r,i,s,a,o,l,u,h=mg){if(h!==mg&&h!==Hg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===mg&&(r=td),r===void 0&&h===Hg&&(r=Vg),super(null,i,s,a,o,l,h,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:hs,this.minFilter=l!==void 0?l:hs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const Fue=new Pr,K$=new L8(1,1),zue=new SL,Bue=new A8,Vue=new Vw,Q$=[],J$=[],eY=new Float32Array(16),tY=new Float32Array(9),nY=new Float32Array(4);function dx(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=Q$[i];if(s===void 0&&(s=new Float32Array(i),Q$[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function Ti(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ai(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function bL(t,e){let n=J$[e];n===void 0&&(n=new Int32Array(e),J$[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function mBe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function gBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ti(n,e))return;t.uniform2fv(this.addr,e),Ai(n,e)}}function vBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ti(n,e))return;t.uniform3fv(this.addr,e),Ai(n,e)}}function yBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ti(n,e))return;t.uniform4fv(this.addr,e),Ai(n,e)}}function xBe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ti(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ai(n,e)}else{if(Ti(n,r))return;nY.set(r),t.uniformMatrix2fv(this.addr,!1,nY),Ai(n,r)}}function _Be(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ti(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ai(n,e)}else{if(Ti(n,r))return;tY.set(r),t.uniformMatrix3fv(this.addr,!1,tY),Ai(n,r)}}function SBe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ti(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ai(n,e)}else{if(Ti(n,r))return;eY.set(r),t.uniformMatrix4fv(this.addr,!1,eY),Ai(n,r)}}function bBe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function MBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ti(n,e))return;t.uniform2iv(this.addr,e),Ai(n,e)}}function wBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ti(n,e))return;t.uniform3iv(this.addr,e),Ai(n,e)}}function EBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ti(n,e))return;t.uniform4iv(this.addr,e),Ai(n,e)}}function TBe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function ABe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ti(n,e))return;t.uniform2uiv(this.addr,e),Ai(n,e)}}function CBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ti(n,e))return;t.uniform3uiv(this.addr,e),Ai(n,e)}}function PBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ti(n,e))return;t.uniform4uiv(this.addr,e),Ai(n,e)}}function RBe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(K$.compareFunction=E8,s=K$):s=Fue,n.setTexture2D(e||s,i)}function LBe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Bue,i)}function IBe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Vue,i)}function NBe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||zue,i)}function DBe(t){switch(t){case 5126:return mBe;case 35664:return gBe;case 35665:return vBe;case 35666:return yBe;case 35674:return xBe;case 35675:return _Be;case 35676:return SBe;case 5124:case 35670:return bBe;case 35667:case 35671:return MBe;case 35668:case 35672:return wBe;case 35669:case 35673:return EBe;case 5125:return TBe;case 36294:return ABe;case 36295:return CBe;case 36296:return PBe;case 35678:case 36198:case 36298:case 36306:case 35682:return RBe;case 35679:case 36299:case 36307:return LBe;case 35680:case 36300:case 36308:case 36293:return IBe;case 36289:case 36303:case 36311:case 36292:return NBe}}function OBe(t,e){t.uniform1fv(this.addr,e)}function kBe(t,e){const n=dx(e,this.size,2);t.uniform2fv(this.addr,n)}function UBe(t,e){const n=dx(e,this.size,3);t.uniform3fv(this.addr,n)}function FBe(t,e){const n=dx(e,this.size,4);t.uniform4fv(this.addr,n)}function zBe(t,e){const n=dx(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function BBe(t,e){const n=dx(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function VBe(t,e){const n=dx(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function HBe(t,e){t.uniform1iv(this.addr,e)}function GBe(t,e){t.uniform2iv(this.addr,e)}function WBe(t,e){t.uniform3iv(this.addr,e)}function jBe(t,e){t.uniform4iv(this.addr,e)}function XBe(t,e){t.uniform1uiv(this.addr,e)}function $Be(t,e){t.uniform2uiv(this.addr,e)}function YBe(t,e){t.uniform3uiv(this.addr,e)}function qBe(t,e){t.uniform4uiv(this.addr,e)}function ZBe(t,e,n){const r=this.cache,i=e.length,s=bL(n,i);Ti(r,s)||(t.uniform1iv(this.addr,s),Ai(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||Fue,s[a])}function KBe(t,e,n){const r=this.cache,i=e.length,s=bL(n,i);Ti(r,s)||(t.uniform1iv(this.addr,s),Ai(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||Bue,s[a])}function QBe(t,e,n){const r=this.cache,i=e.length,s=bL(n,i);Ti(r,s)||(t.uniform1iv(this.addr,s),Ai(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||Vue,s[a])}function JBe(t,e,n){const r=this.cache,i=e.length,s=bL(n,i);Ti(r,s)||(t.uniform1iv(this.addr,s),Ai(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||zue,s[a])}function e8e(t){switch(t){case 5126:return OBe;case 35664:return kBe;case 35665:return UBe;case 35666:return FBe;case 35674:return zBe;case 35675:return BBe;case 35676:return VBe;case 5124:case 35670:return HBe;case 35667:case 35671:return GBe;case 35668:case 35672:return WBe;case 35669:case 35673:return jBe;case 5125:return XBe;case 36294:return $Be;case 36295:return YBe;case 36296:return qBe;case 35678:case 36198:case 36298:case 36306:case 35682:return ZBe;case 35679:case 36299:case 36307:return KBe;case 35680:case 36300:case 36308:case 36293:return QBe;case 36289:case 36303:case 36311:case 36292:return JBe}}class t8e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=DBe(n.type)}}class n8e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=e8e(n.type)}}class r8e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const gD=/(\w+)(\])?(\[|\.)?/g;function rY(t,e){t.seq.push(e),t.map[e.id]=e}function i8e(t,e,n){const r=t.name,i=r.length;for(gD.lastIndex=0;;){const s=gD.exec(r),a=gD.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===i){rY(n,u===void 0?new t8e(o,t,e):new n8e(o,t,e));break}else{let h=n.map[o];h===void 0&&(h=new r8e(o),rY(n,h)),n=h}}}class AA{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);i8e(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function iY(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const s8e=37297;let a8e=0;function o8e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}const sY=new Qt;function l8e(t){Mn._getMatrix(sY,Mn.workingColorSpace,t);const e=`mat3( ${sY.elements.map(n=>n.toFixed(4))} )`;switch(Mn.getTransfer(t)){case zw:return[e,"LinearTransferOETF"];case Bn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function aY(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+o8e(t.getShaderSource(e),a)}else return i}function u8e(t,e){const n=l8e(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function c8e(t,e){let n;switch(e){case lue:n="Linear";break;case uue:n="Reinhard";break;case cue:n="Cineon";break;case f8:n="ACESFilmic";break;case due:n="AgX";break;case fue:n="Neutral";break;case hue:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const mT=new ue;function h8e(){Mn.getLuminanceCoefficients(mT);const t=mT.x.toFixed(4),e=mT.y.toFixed(4),n=mT.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function d8e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(NS).join(`
`)}function f8e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function p8e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function NS(t){return t!==""}function oY(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function lY(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const m8e=/^[ \t]*#include +<([\w\d./]+)>/gm;function wU(t){return t.replace(m8e,v8e)}const g8e=new Map;function v8e(t,e){let n=ln[e];if(n===void 0){const r=g8e.get(e);if(r!==void 0)n=ln[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return wU(n)}const y8e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function uY(t){return t.replace(y8e,x8e)}function x8e(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function cY(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function _8e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===dL?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===yb?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===kl&&(e="SHADOWMAP_TYPE_VSM"),e}function S8e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ed:case Yf:e="ENVMAP_TYPE_CUBE";break;case lx:e="ENVMAP_TYPE_CUBE_UV";break}return e}function b8e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Yf:e="ENVMAP_MODE_REFRACTION";break}return e}function M8e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Uw:e="ENVMAP_BLENDING_MULTIPLY";break;case aue:e="ENVMAP_BLENDING_MIX";break;case oue:e="ENVMAP_BLENDING_ADD";break}return e}function w8e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function E8e(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=_8e(n),u=S8e(n),h=b8e(n),d=M8e(n),f=w8e(n),m=d8e(n),v=f8e(s),S=i.createProgram();let y,g,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(NS).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(NS).join(`
`),g.length>0&&(g+=`
`)):(y=[cY(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(NS).join(`
`),g=[cY(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==sc?"#define TONE_MAPPING":"",n.toneMapping!==sc?ln.tonemapping_pars_fragment:"",n.toneMapping!==sc?c8e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ln.colorspace_pars_fragment,u8e("linearToOutputTexel",n.outputColorSpace),h8e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(NS).join(`
`)),a=wU(a),a=oY(a,n),a=lY(a,n),o=wU(o),o=oY(o,n),o=lY(o,n),a=uY(a),o=uY(o),n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===bU?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===bU?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const M=b+y+a,E=b+g+o,P=iY(i,i.VERTEX_SHADER,M),A=iY(i,i.FRAGMENT_SHADER,E);i.attachShader(S,P),i.attachShader(S,A),n.index0AttributeName!==void 0?i.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function L(O){if(t.debug.checkShaderErrors){const G=i.getProgramInfoLog(S).trim(),j=i.getShaderInfoLog(P).trim(),q=i.getShaderInfoLog(A).trim();let Q=!0,X=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(Q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,S,P,A);else{const se=aY(i,P,"vertex"),D=aY(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+G+`
`+se+`
`+D)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(j===""||q==="")&&(X=!1);X&&(O.diagnostics={runnable:Q,programLog:G,vertexShader:{log:j,prefix:y},fragmentShader:{log:q,prefix:g}})}i.deleteShader(P),i.deleteShader(A),I=new AA(i,S),R=p8e(i,S)}let I;this.getUniforms=function(){return I===void 0&&L(this),I};let R;this.getAttributes=function(){return R===void 0&&L(this),R};let C=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=i.getProgramParameter(S,s8e)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=a8e++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=P,this.fragmentShader=A,this}let T8e=0;class A8e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new C8e(e),n.set(e,r)),r}}class C8e{constructor(e){this.id=T8e++,this.code=e,this.usedTimes=0}}function P8e(t,e,n,r,i,s,a){const o=new vg,l=new A8e,u=new Set,h=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(R){return u.add(R),R===0?"uv":`uv${R}`}function y(R,C,O,G,j){const q=G.fog,Q=j.geometry,X=R.isMeshStandardMaterial?G.environment:null,se=(R.isMeshStandardMaterial?n:e).get(R.envMap||X),D=se&&se.mapping===lx?se.image.height:null,V=v[R.type];R.precision!==null&&(m=i.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const B=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,$=B!==void 0?B.length:0;let te=0;Q.morphAttributes.position!==void 0&&(te=1),Q.morphAttributes.normal!==void 0&&(te=2),Q.morphAttributes.color!==void 0&&(te=3);let Ae,F,ve,ie;if(V){const Nt=Wl[V];Ae=Nt.vertexShader,F=Nt.fragmentShader}else Ae=R.vertexShader,F=R.fragmentShader,l.update(R),ve=l.getVertexShaderID(R),ie=l.getFragmentShaderID(R);const he=t.getRenderTarget(),Ve=t.state.buffers.depth.getReversed(),ke=j.isInstancedMesh===!0,Pe=j.isBatchedMesh===!0,Ce=!!R.map,pe=!!R.matcap,be=!!se,H=!!R.aoMap,Ee=!!R.lightMap,Te=!!R.bumpMap,He=!!R.normalMap,Le=!!R.displacementMap,it=!!R.emissiveMap,ze=!!R.metalnessMap,z=!!R.roughnessMap,k=R.anisotropy>0,J=R.clearcoat>0,ge=R.dispersion>0,xe=R.iridescence>0,me=R.sheen>0,qe=R.transmission>0,Ie=k&&!!R.anisotropyMap,Xe=J&&!!R.clearcoatMap,pt=J&&!!R.clearcoatNormalMap,Me=J&&!!R.clearcoatRoughnessMap,je=xe&&!!R.iridescenceMap,nt=xe&&!!R.iridescenceThicknessMap,at=me&&!!R.sheenColorMap,$e=me&&!!R.sheenRoughnessMap,Tt=!!R.specularMap,dt=!!R.specularColorMap,Vt=!!R.specularIntensityMap,Y=qe&&!!R.transmissionMap,Oe=qe&&!!R.thicknessMap,ce=!!R.gradientMap,_e=!!R.alphaMap,We=R.alphaTest>0,De=!!R.alphaHash,vt=!!R.extensions;let jt=sc;R.toneMapped&&(he===null||he.isXRRenderTarget===!0)&&(jt=t.toneMapping);const dn={shaderID:V,shaderType:R.type,shaderName:R.name,vertexShader:Ae,fragmentShader:F,defines:R.defines,customVertexShaderID:ve,customFragmentShaderID:ie,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,batching:Pe,batchingColor:Pe&&j._colorsTexture!==null,instancing:ke,instancingColor:ke&&j.instanceColor!==null,instancingMorph:ke&&j.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:he===null?t.outputColorSpace:he.isXRRenderTarget===!0?he.texture.colorSpace:i0,alphaToCoverage:!!R.alphaToCoverage,map:Ce,matcap:pe,envMap:be,envMapMode:be&&se.mapping,envMapCubeUVHeight:D,aoMap:H,lightMap:Ee,bumpMap:Te,normalMap:He,displacementMap:f&&Le,emissiveMap:it,normalMapObjectSpace:He&&R.normalMapType===_ue,normalMapTangentSpace:He&&R.normalMapType===lp,metalnessMap:ze,roughnessMap:z,anisotropy:k,anisotropyMap:Ie,clearcoat:J,clearcoatMap:Xe,clearcoatNormalMap:pt,clearcoatRoughnessMap:Me,dispersion:ge,iridescence:xe,iridescenceMap:je,iridescenceThicknessMap:nt,sheen:me,sheenColorMap:at,sheenRoughnessMap:$e,specularMap:Tt,specularColorMap:dt,specularIntensityMap:Vt,transmission:qe,transmissionMap:Y,thicknessMap:Oe,gradientMap:ce,opaque:R.transparent===!1&&R.blending===pg&&R.alphaToCoverage===!1,alphaMap:_e,alphaTest:We,alphaHash:De,combine:R.combine,mapUv:Ce&&S(R.map.channel),aoMapUv:H&&S(R.aoMap.channel),lightMapUv:Ee&&S(R.lightMap.channel),bumpMapUv:Te&&S(R.bumpMap.channel),normalMapUv:He&&S(R.normalMap.channel),displacementMapUv:Le&&S(R.displacementMap.channel),emissiveMapUv:it&&S(R.emissiveMap.channel),metalnessMapUv:ze&&S(R.metalnessMap.channel),roughnessMapUv:z&&S(R.roughnessMap.channel),anisotropyMapUv:Ie&&S(R.anisotropyMap.channel),clearcoatMapUv:Xe&&S(R.clearcoatMap.channel),clearcoatNormalMapUv:pt&&S(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Me&&S(R.clearcoatRoughnessMap.channel),iridescenceMapUv:je&&S(R.iridescenceMap.channel),iridescenceThicknessMapUv:nt&&S(R.iridescenceThicknessMap.channel),sheenColorMapUv:at&&S(R.sheenColorMap.channel),sheenRoughnessMapUv:$e&&S(R.sheenRoughnessMap.channel),specularMapUv:Tt&&S(R.specularMap.channel),specularColorMapUv:dt&&S(R.specularColorMap.channel),specularIntensityMapUv:Vt&&S(R.specularIntensityMap.channel),transmissionMapUv:Y&&S(R.transmissionMap.channel),thicknessMapUv:Oe&&S(R.thicknessMap.channel),alphaMapUv:_e&&S(R.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(He||k),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!Q.attributes.uv&&(Ce||_e),fog:!!q,useFog:R.fog===!0,fogExp2:!!q&&q.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:Ve,skinning:j.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:te,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:jt,decodeVideoTexture:Ce&&R.map.isVideoTexture===!0&&Mn.getTransfer(R.map.colorSpace)===Bn,decodeVideoTextureEmissive:it&&R.emissiveMap.isVideoTexture===!0&&Mn.getTransfer(R.emissiveMap.colorSpace)===Bn,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===Ou,flipSided:R.side===ra,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:vt&&R.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(vt&&R.extensions.multiDraw===!0||Pe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return dn.vertexUv1s=u.has(1),dn.vertexUv2s=u.has(2),dn.vertexUv3s=u.has(3),u.clear(),dn}function g(R){const C=[];if(R.shaderID?C.push(R.shaderID):(C.push(R.customVertexShaderID),C.push(R.customFragmentShaderID)),R.defines!==void 0)for(const O in R.defines)C.push(O),C.push(R.defines[O]);return R.isRawShaderMaterial===!1&&(b(C,R),M(C,R),C.push(t.outputColorSpace)),C.push(R.customProgramCacheKey),C.join()}function b(R,C){R.push(C.precision),R.push(C.outputColorSpace),R.push(C.envMapMode),R.push(C.envMapCubeUVHeight),R.push(C.mapUv),R.push(C.alphaMapUv),R.push(C.lightMapUv),R.push(C.aoMapUv),R.push(C.bumpMapUv),R.push(C.normalMapUv),R.push(C.displacementMapUv),R.push(C.emissiveMapUv),R.push(C.metalnessMapUv),R.push(C.roughnessMapUv),R.push(C.anisotropyMapUv),R.push(C.clearcoatMapUv),R.push(C.clearcoatNormalMapUv),R.push(C.clearcoatRoughnessMapUv),R.push(C.iridescenceMapUv),R.push(C.iridescenceThicknessMapUv),R.push(C.sheenColorMapUv),R.push(C.sheenRoughnessMapUv),R.push(C.specularMapUv),R.push(C.specularColorMapUv),R.push(C.specularIntensityMapUv),R.push(C.transmissionMapUv),R.push(C.thicknessMapUv),R.push(C.combine),R.push(C.fogExp2),R.push(C.sizeAttenuation),R.push(C.morphTargetsCount),R.push(C.morphAttributeCount),R.push(C.numDirLights),R.push(C.numPointLights),R.push(C.numSpotLights),R.push(C.numSpotLightMaps),R.push(C.numHemiLights),R.push(C.numRectAreaLights),R.push(C.numDirLightShadows),R.push(C.numPointLightShadows),R.push(C.numSpotLightShadows),R.push(C.numSpotLightShadowsWithMaps),R.push(C.numLightProbes),R.push(C.shadowMapType),R.push(C.toneMapping),R.push(C.numClippingPlanes),R.push(C.numClipIntersection),R.push(C.depthPacking)}function M(R,C){o.disableAll(),C.supportsVertexTextures&&o.enable(0),C.instancing&&o.enable(1),C.instancingColor&&o.enable(2),C.instancingMorph&&o.enable(3),C.matcap&&o.enable(4),C.envMap&&o.enable(5),C.normalMapObjectSpace&&o.enable(6),C.normalMapTangentSpace&&o.enable(7),C.clearcoat&&o.enable(8),C.iridescence&&o.enable(9),C.alphaTest&&o.enable(10),C.vertexColors&&o.enable(11),C.vertexAlphas&&o.enable(12),C.vertexUv1s&&o.enable(13),C.vertexUv2s&&o.enable(14),C.vertexUv3s&&o.enable(15),C.vertexTangents&&o.enable(16),C.anisotropy&&o.enable(17),C.alphaHash&&o.enable(18),C.batching&&o.enable(19),C.dispersion&&o.enable(20),C.batchingColor&&o.enable(21),R.push(o.mask),o.disableAll(),C.fog&&o.enable(0),C.useFog&&o.enable(1),C.flatShading&&o.enable(2),C.logarithmicDepthBuffer&&o.enable(3),C.reverseDepthBuffer&&o.enable(4),C.skinning&&o.enable(5),C.morphTargets&&o.enable(6),C.morphNormals&&o.enable(7),C.morphColors&&o.enable(8),C.premultipliedAlpha&&o.enable(9),C.shadowMapEnabled&&o.enable(10),C.doubleSided&&o.enable(11),C.flipSided&&o.enable(12),C.useDepthPacking&&o.enable(13),C.dithering&&o.enable(14),C.transmission&&o.enable(15),C.sheen&&o.enable(16),C.opaque&&o.enable(17),C.pointsUvs&&o.enable(18),C.decodeVideoTexture&&o.enable(19),C.decodeVideoTextureEmissive&&o.enable(20),C.alphaToCoverage&&o.enable(21),R.push(o.mask)}function E(R){const C=v[R.type];let O;if(C){const G=Wl[C];O=Due.clone(G.uniforms)}else O=R.uniforms;return O}function P(R,C){let O;for(let G=0,j=h.length;G<j;G++){const q=h[G];if(q.cacheKey===C){O=q,++O.usedTimes;break}}return O===void 0&&(O=new E8e(t,C,R,s),h.push(O)),O}function A(R){if(--R.usedTimes===0){const C=h.indexOf(R);h[C]=h[h.length-1],h.pop(),R.destroy()}}function L(R){l.remove(R)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:E,acquireProgram:P,releaseProgram:A,releaseShaderCache:L,programs:h,dispose:I}}function R8e(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function r(a){t.delete(a)}function i(a,o,l){t.get(a)[o]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function L8e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function hY(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function dY(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(d,f,m,v,S,y){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:m,groupOrder:v,renderOrder:d.renderOrder,z:S,group:y},t[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=S,g.group=y),e++,g}function o(d,f,m,v,S,y){const g=a(d,f,m,v,S,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(d,f,m,v,S,y){const g=a(d,f,m,v,S,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(d,f){n.length>1&&n.sort(d||L8e),r.length>1&&r.sort(f||hY),i.length>1&&i.sort(f||hY)}function h(){for(let d=e,f=t.length;d<f;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:h,sort:u}}function I8e(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new dY,t.set(r,[a])):i>=s.length?(a=new dY,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function N8e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ue,color:new Rt};break;case"SpotLight":n={position:new ue,direction:new ue,color:new Rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ue,color:new Rt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ue,skyColor:new Rt,groundColor:new Rt};break;case"RectAreaLight":n={color:new Rt,position:new ue,halfWidth:new ue,halfHeight:new ue};break}return t[e.id]=n,n}}}function D8e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let O8e=0;function k8e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function U8e(t){const e=new N8e,n=D8e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new ue);const i=new ue,s=new qt,a=new qt;function o(u){let h=0,d=0,f=0;for(let R=0;R<9;R++)r.probe[R].set(0,0,0);let m=0,v=0,S=0,y=0,g=0,b=0,M=0,E=0,P=0,A=0,L=0;u.sort(k8e);for(let R=0,C=u.length;R<C;R++){const O=u[R],G=O.color,j=O.intensity,q=O.distance,Q=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)h+=G.r*j,d+=G.g*j,f+=G.b*j;else if(O.isLightProbe){for(let X=0;X<9;X++)r.probe[X].addScaledVector(O.sh.coefficients[X],j);L++}else if(O.isDirectionalLight){const X=e.get(O);if(X.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const se=O.shadow,D=n.get(O);D.shadowIntensity=se.intensity,D.shadowBias=se.bias,D.shadowNormalBias=se.normalBias,D.shadowRadius=se.radius,D.shadowMapSize=se.mapSize,r.directionalShadow[m]=D,r.directionalShadowMap[m]=Q,r.directionalShadowMatrix[m]=O.shadow.matrix,b++}r.directional[m]=X,m++}else if(O.isSpotLight){const X=e.get(O);X.position.setFromMatrixPosition(O.matrixWorld),X.color.copy(G).multiplyScalar(j),X.distance=q,X.coneCos=Math.cos(O.angle),X.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),X.decay=O.decay,r.spot[S]=X;const se=O.shadow;if(O.map&&(r.spotLightMap[P]=O.map,P++,se.updateMatrices(O),O.castShadow&&A++),r.spotLightMatrix[S]=se.matrix,O.castShadow){const D=n.get(O);D.shadowIntensity=se.intensity,D.shadowBias=se.bias,D.shadowNormalBias=se.normalBias,D.shadowRadius=se.radius,D.shadowMapSize=se.mapSize,r.spotShadow[S]=D,r.spotShadowMap[S]=Q,E++}S++}else if(O.isRectAreaLight){const X=e.get(O);X.color.copy(G).multiplyScalar(j),X.halfWidth.set(O.width*.5,0,0),X.halfHeight.set(0,O.height*.5,0),r.rectArea[y]=X,y++}else if(O.isPointLight){const X=e.get(O);if(X.color.copy(O.color).multiplyScalar(O.intensity),X.distance=O.distance,X.decay=O.decay,O.castShadow){const se=O.shadow,D=n.get(O);D.shadowIntensity=se.intensity,D.shadowBias=se.bias,D.shadowNormalBias=se.normalBias,D.shadowRadius=se.radius,D.shadowMapSize=se.mapSize,D.shadowCameraNear=se.camera.near,D.shadowCameraFar=se.camera.far,r.pointShadow[v]=D,r.pointShadowMap[v]=Q,r.pointShadowMatrix[v]=O.shadow.matrix,M++}r.point[v]=X,v++}else if(O.isHemisphereLight){const X=e.get(O);X.skyColor.copy(O.color).multiplyScalar(j),X.groundColor.copy(O.groundColor).multiplyScalar(j),r.hemi[g]=X,g++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Et.LTC_FLOAT_1,r.rectAreaLTC2=Et.LTC_FLOAT_2):(r.rectAreaLTC1=Et.LTC_HALF_1,r.rectAreaLTC2=Et.LTC_HALF_2)),r.ambient[0]=h,r.ambient[1]=d,r.ambient[2]=f;const I=r.hash;(I.directionalLength!==m||I.pointLength!==v||I.spotLength!==S||I.rectAreaLength!==y||I.hemiLength!==g||I.numDirectionalShadows!==b||I.numPointShadows!==M||I.numSpotShadows!==E||I.numSpotMaps!==P||I.numLightProbes!==L)&&(r.directional.length=m,r.spot.length=S,r.rectArea.length=y,r.point.length=v,r.hemi.length=g,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=M,r.pointShadowMap.length=M,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=M,r.spotLightMatrix.length=E+P-A,r.spotLightMap.length=P,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=L,I.directionalLength=m,I.pointLength=v,I.spotLength=S,I.rectAreaLength=y,I.hemiLength=g,I.numDirectionalShadows=b,I.numPointShadows=M,I.numSpotShadows=E,I.numSpotMaps=P,I.numLightProbes=L,r.version=O8e++)}function l(u,h){let d=0,f=0,m=0,v=0,S=0;const y=h.matrixWorldInverse;for(let g=0,b=u.length;g<b;g++){const M=u[g];if(M.isDirectionalLight){const E=r.directional[d];E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(y),d++}else if(M.isSpotLight){const E=r.spot[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(y),E.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(y),m++}else if(M.isRectAreaLight){const E=r.rectArea[v];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(y),a.identity(),s.copy(M.matrixWorld),s.premultiply(y),a.extractRotation(s),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const E=r.point[f];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(y),f++}else if(M.isHemisphereLight){const E=r.hemi[S];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(y),S++}}}return{setup:o,setupView:l,state:r}}function fY(t){const e=new U8e(t),n=[],r=[];function i(h){u.camera=h,n.length=0,r.length=0}function s(h){n.push(h)}function a(h){r.push(h)}function o(){e.setup(n)}function l(h){e.setupView(n,h)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function F8e(t){let e=new WeakMap;function n(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new fY(t),e.set(i,[o])):s>=a.length?(o=new fY(t),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:n,dispose:r}}class I8 extends ms{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=yue,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class N8 extends ms{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const z8e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,B8e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function V8e(t,e,n){let r=new Hw;const i=new tt,s=new tt,a=new Cn,o=new I8({depthPacking:xue}),l=new N8,u={},h=n.maxTextureSize,d={[Jh]:ra,[ra]:Jh,[Ou]:Ou},f=new ml({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tt},radius:{value:4}},vertexShader:z8e,fragmentShader:B8e}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const v=new nn;v.setAttribute("position",new Yn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new di(v,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=dL;let g=this.type;this.render=function(A,L,I){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const R=t.getRenderTarget(),C=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),G=t.state;G.setBlending(Nh),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const j=g!==kl&&this.type===kl,q=g===kl&&this.type!==kl;for(let Q=0,X=A.length;Q<X;Q++){const se=A[Q],D=se.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;i.copy(D.mapSize);const V=D.getFrameExtents();if(i.multiply(V),s.copy(D.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/V.x),i.x=s.x*V.x,D.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/V.y),i.y=s.y*V.y,D.mapSize.y=s.y)),D.map===null||j===!0||q===!0){const $=this.type!==kl?{minFilter:hs,magFilter:hs}:{};D.map!==null&&D.map.dispose(),D.map=new eu(i.x,i.y,$),D.map.texture.name=se.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const B=D.getViewportCount();for(let $=0;$<B;$++){const te=D.getViewport($);a.set(s.x*te.x,s.y*te.y,s.x*te.z,s.y*te.w),G.viewport(a),D.updateMatrices(se,$),r=D.getFrustum(),E(L,I,D.camera,se,this.type)}D.isPointLightShadow!==!0&&this.type===kl&&b(D,I),D.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(R,C,O)};function b(A,L){const I=e.update(S);f.defines.VSM_SAMPLES!==A.blurSamples&&(f.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new eu(i.x,i.y)),f.uniforms.shadow_pass.value=A.map.texture,f.uniforms.resolution.value=A.mapSize,f.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(L,null,I,f,S,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(L,null,I,m,S,null)}function M(A,L,I,R){let C=null;const O=I.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(O!==void 0)C=O;else if(C=I.isPointLight===!0?l:o,t.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const G=C.uuid,j=L.uuid;let q=u[G];q===void 0&&(q={},u[G]=q);let Q=q[j];Q===void 0&&(Q=C.clone(),q[j]=Q,L.addEventListener("dispose",P)),C=Q}if(C.visible=L.visible,C.wireframe=L.wireframe,R===kl?C.side=L.shadowSide!==null?L.shadowSide:L.side:C.side=L.shadowSide!==null?L.shadowSide:d[L.side],C.alphaMap=L.alphaMap,C.alphaTest=L.alphaTest,C.map=L.map,C.clipShadows=L.clipShadows,C.clippingPlanes=L.clippingPlanes,C.clipIntersection=L.clipIntersection,C.displacementMap=L.displacementMap,C.displacementScale=L.displacementScale,C.displacementBias=L.displacementBias,C.wireframeLinewidth=L.wireframeLinewidth,C.linewidth=L.linewidth,I.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const G=t.properties.get(C);G.light=I}return C}function E(A,L,I,R,C){if(A.visible===!1)return;if(A.layers.test(L.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&C===kl)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,A.matrixWorld);const G=e.update(A),j=A.material;if(Array.isArray(j)){const q=G.groups;for(let Q=0,X=q.length;Q<X;Q++){const se=q[Q],D=j[se.materialIndex];if(D&&D.visible){const V=M(A,D,R,C);A.onBeforeShadow(t,A,L,I,G,V,se),t.renderBufferDirect(I,null,G,V,A,se),A.onAfterShadow(t,A,L,I,G,V,se)}}}else if(j.visible){const q=M(A,j,R,C);A.onBeforeShadow(t,A,L,I,G,q,null),t.renderBufferDirect(I,null,G,q,A,null),A.onAfterShadow(t,A,L,I,G,q,null)}}const O=A.children;for(let G=0,j=O.length;G<j;G++)E(O[G],L,I,R,C)}function P(A){A.target.removeEventListener("dispose",P);for(const L in u){const I=u[L],R=A.target.uuid;R in I&&(I[R].dispose(),delete I[R])}}}const H8e={[HC]:GC,[WC]:$C,[jC]:YC,[Bg]:XC,[GC]:HC,[$C]:WC,[YC]:jC,[XC]:Bg};function G8e(t,e){function n(){let Y=!1;const Oe=new Cn;let ce=null;const _e=new Cn(0,0,0,0);return{setMask:function(We){ce!==We&&!Y&&(t.colorMask(We,We,We,We),ce=We)},setLocked:function(We){Y=We},setClear:function(We,De,vt,jt,dn){dn===!0&&(We*=jt,De*=jt,vt*=jt),Oe.set(We,De,vt,jt),_e.equals(Oe)===!1&&(t.clearColor(We,De,vt,jt),_e.copy(Oe))},reset:function(){Y=!1,ce=null,_e.set(-1,0,0,0)}}}function r(){let Y=!1,Oe=!1,ce=null,_e=null,We=null;return{setReversed:function(De){if(Oe!==De){const vt=e.get("EXT_clip_control");Oe?vt.clipControlEXT(vt.LOWER_LEFT_EXT,vt.ZERO_TO_ONE_EXT):vt.clipControlEXT(vt.LOWER_LEFT_EXT,vt.NEGATIVE_ONE_TO_ONE_EXT);const jt=We;We=null,this.setClear(jt)}Oe=De},getReversed:function(){return Oe},setTest:function(De){De?he(t.DEPTH_TEST):Ve(t.DEPTH_TEST)},setMask:function(De){ce!==De&&!Y&&(t.depthMask(De),ce=De)},setFunc:function(De){if(Oe&&(De=H8e[De]),_e!==De){switch(De){case HC:t.depthFunc(t.NEVER);break;case GC:t.depthFunc(t.ALWAYS);break;case WC:t.depthFunc(t.LESS);break;case Bg:t.depthFunc(t.LEQUAL);break;case jC:t.depthFunc(t.EQUAL);break;case XC:t.depthFunc(t.GEQUAL);break;case $C:t.depthFunc(t.GREATER);break;case YC:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}_e=De}},setLocked:function(De){Y=De},setClear:function(De){We!==De&&(Oe&&(De=1-De),t.clearDepth(De),We=De)},reset:function(){Y=!1,ce=null,_e=null,We=null,Oe=!1}}}function i(){let Y=!1,Oe=null,ce=null,_e=null,We=null,De=null,vt=null,jt=null,dn=null;return{setTest:function(Nt){Y||(Nt?he(t.STENCIL_TEST):Ve(t.STENCIL_TEST))},setMask:function(Nt){Oe!==Nt&&!Y&&(t.stencilMask(Nt),Oe=Nt)},setFunc:function(Nt,jn,xr){(ce!==Nt||_e!==jn||We!==xr)&&(t.stencilFunc(Nt,jn,xr),ce=Nt,_e=jn,We=xr)},setOp:function(Nt,jn,xr){(De!==Nt||vt!==jn||jt!==xr)&&(t.stencilOp(Nt,jn,xr),De=Nt,vt=jn,jt=xr)},setLocked:function(Nt){Y=Nt},setClear:function(Nt){dn!==Nt&&(t.clearStencil(Nt),dn=Nt)},reset:function(){Y=!1,Oe=null,ce=null,_e=null,We=null,De=null,vt=null,jt=null,dn=null}}}const s=new n,a=new r,o=new i,l=new WeakMap,u=new WeakMap;let h={},d={},f=new WeakMap,m=[],v=null,S=!1,y=null,g=null,b=null,M=null,E=null,P=null,A=null,L=new Rt(0,0,0),I=0,R=!1,C=null,O=null,G=null,j=null,q=null;const Q=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,se=0;const D=t.getParameter(t.VERSION);D.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(D)[1]),X=se>=1):D.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),X=se>=2);let V=null,B={};const $=t.getParameter(t.SCISSOR_BOX),te=t.getParameter(t.VIEWPORT),Ae=new Cn().fromArray($),F=new Cn().fromArray(te);function ve(Y,Oe,ce,_e){const We=new Uint8Array(4),De=t.createTexture();t.bindTexture(Y,De),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let vt=0;vt<ce;vt++)Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY?t.texImage3D(Oe,0,t.RGBA,1,1,_e,0,t.RGBA,t.UNSIGNED_BYTE,We):t.texImage2D(Oe+vt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,We);return De}const ie={};ie[t.TEXTURE_2D]=ve(t.TEXTURE_2D,t.TEXTURE_2D,1),ie[t.TEXTURE_CUBE_MAP]=ve(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ie[t.TEXTURE_2D_ARRAY]=ve(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ie[t.TEXTURE_3D]=ve(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),he(t.DEPTH_TEST),a.setFunc(Bg),Te(!1),He(vU),he(t.CULL_FACE),H(Nh);function he(Y){h[Y]!==!0&&(t.enable(Y),h[Y]=!0)}function Ve(Y){h[Y]!==!1&&(t.disable(Y),h[Y]=!1)}function ke(Y,Oe){return d[Y]!==Oe?(t.bindFramebuffer(Y,Oe),d[Y]=Oe,Y===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Oe),Y===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Oe),!0):!1}function Pe(Y,Oe){let ce=m,_e=!1;if(Y){ce=f.get(Oe),ce===void 0&&(ce=[],f.set(Oe,ce));const We=Y.textures;if(ce.length!==We.length||ce[0]!==t.COLOR_ATTACHMENT0){for(let De=0,vt=We.length;De<vt;De++)ce[De]=t.COLOR_ATTACHMENT0+De;ce.length=We.length,_e=!0}}else ce[0]!==t.BACK&&(ce[0]=t.BACK,_e=!0);_e&&t.drawBuffers(ce)}function Ce(Y){return v!==Y?(t.useProgram(Y),v=Y,!0):!1}const pe={[uf]:t.FUNC_ADD,[Gle]:t.FUNC_SUBTRACT,[Wle]:t.FUNC_REVERSE_SUBTRACT};pe[jle]=t.MIN,pe[Xle]=t.MAX;const be={[$le]:t.ZERO,[Yle]:t.ONE,[qle]:t.SRC_COLOR,[BC]:t.SRC_ALPHA,[tue]:t.SRC_ALPHA_SATURATE,[Jle]:t.DST_COLOR,[Kle]:t.DST_ALPHA,[Zle]:t.ONE_MINUS_SRC_COLOR,[VC]:t.ONE_MINUS_SRC_ALPHA,[eue]:t.ONE_MINUS_DST_COLOR,[Qle]:t.ONE_MINUS_DST_ALPHA,[nue]:t.CONSTANT_COLOR,[rue]:t.ONE_MINUS_CONSTANT_COLOR,[iue]:t.CONSTANT_ALPHA,[sue]:t.ONE_MINUS_CONSTANT_ALPHA};function H(Y,Oe,ce,_e,We,De,vt,jt,dn,Nt){if(Y===Nh){S===!0&&(Ve(t.BLEND),S=!1);return}if(S===!1&&(he(t.BLEND),S=!0),Y!==Hle){if(Y!==y||Nt!==R){if((g!==uf||E!==uf)&&(t.blendEquation(t.FUNC_ADD),g=uf,E=uf),Nt)switch(Y){case pg:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case zC:t.blendFunc(t.ONE,t.ONE);break;case yU:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case xU:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}else switch(Y){case pg:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case zC:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case yU:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case xU:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}b=null,M=null,P=null,A=null,L.set(0,0,0),I=0,y=Y,R=Nt}return}We=We||Oe,De=De||ce,vt=vt||_e,(Oe!==g||We!==E)&&(t.blendEquationSeparate(pe[Oe],pe[We]),g=Oe,E=We),(ce!==b||_e!==M||De!==P||vt!==A)&&(t.blendFuncSeparate(be[ce],be[_e],be[De],be[vt]),b=ce,M=_e,P=De,A=vt),(jt.equals(L)===!1||dn!==I)&&(t.blendColor(jt.r,jt.g,jt.b,dn),L.copy(jt),I=dn),y=Y,R=!1}function Ee(Y,Oe){Y.side===Ou?Ve(t.CULL_FACE):he(t.CULL_FACE);let ce=Y.side===ra;Oe&&(ce=!ce),Te(ce),Y.blending===pg&&Y.transparent===!1?H(Nh):H(Y.blending,Y.blendEquation,Y.blendSrc,Y.blendDst,Y.blendEquationAlpha,Y.blendSrcAlpha,Y.blendDstAlpha,Y.blendColor,Y.blendAlpha,Y.premultipliedAlpha),a.setFunc(Y.depthFunc),a.setTest(Y.depthTest),a.setMask(Y.depthWrite),s.setMask(Y.colorWrite);const _e=Y.stencilWrite;o.setTest(_e),_e&&(o.setMask(Y.stencilWriteMask),o.setFunc(Y.stencilFunc,Y.stencilRef,Y.stencilFuncMask),o.setOp(Y.stencilFail,Y.stencilZFail,Y.stencilZPass)),it(Y.polygonOffset,Y.polygonOffsetFactor,Y.polygonOffsetUnits),Y.alphaToCoverage===!0?he(t.SAMPLE_ALPHA_TO_COVERAGE):Ve(t.SAMPLE_ALPHA_TO_COVERAGE)}function Te(Y){C!==Y&&(Y?t.frontFace(t.CW):t.frontFace(t.CCW),C=Y)}function He(Y){Y!==zle?(he(t.CULL_FACE),Y!==O&&(Y===vU?t.cullFace(t.BACK):Y===Ble?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ve(t.CULL_FACE),O=Y}function Le(Y){Y!==G&&(X&&t.lineWidth(Y),G=Y)}function it(Y,Oe,ce){Y?(he(t.POLYGON_OFFSET_FILL),(j!==Oe||q!==ce)&&(t.polygonOffset(Oe,ce),j=Oe,q=ce)):Ve(t.POLYGON_OFFSET_FILL)}function ze(Y){Y?he(t.SCISSOR_TEST):Ve(t.SCISSOR_TEST)}function z(Y){Y===void 0&&(Y=t.TEXTURE0+Q-1),V!==Y&&(t.activeTexture(Y),V=Y)}function k(Y,Oe,ce){ce===void 0&&(V===null?ce=t.TEXTURE0+Q-1:ce=V);let _e=B[ce];_e===void 0&&(_e={type:void 0,texture:void 0},B[ce]=_e),(_e.type!==Y||_e.texture!==Oe)&&(V!==ce&&(t.activeTexture(ce),V=ce),t.bindTexture(Y,Oe||ie[Y]),_e.type=Y,_e.texture=Oe)}function J(){const Y=B[V];Y!==void 0&&Y.type!==void 0&&(t.bindTexture(Y.type,null),Y.type=void 0,Y.texture=void 0)}function ge(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function xe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function me(){try{t.texSubImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function qe(){try{t.texSubImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Ie(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Xe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function pt(){try{t.texStorage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Me(){try{t.texStorage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function je(){try{t.texImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function nt(){try{t.texImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function at(Y){Ae.equals(Y)===!1&&(t.scissor(Y.x,Y.y,Y.z,Y.w),Ae.copy(Y))}function $e(Y){F.equals(Y)===!1&&(t.viewport(Y.x,Y.y,Y.z,Y.w),F.copy(Y))}function Tt(Y,Oe){let ce=u.get(Oe);ce===void 0&&(ce=new WeakMap,u.set(Oe,ce));let _e=ce.get(Y);_e===void 0&&(_e=t.getUniformBlockIndex(Oe,Y.name),ce.set(Y,_e))}function dt(Y,Oe){const ce=u.get(Oe).get(Y);l.get(Oe)!==ce&&(t.uniformBlockBinding(Oe,ce,Y.__bindingPointIndex),l.set(Oe,ce))}function Vt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},V=null,B={},d={},f=new WeakMap,m=[],v=null,S=!1,y=null,g=null,b=null,M=null,E=null,P=null,A=null,L=new Rt(0,0,0),I=0,R=!1,C=null,O=null,G=null,j=null,q=null,Ae.set(0,0,t.canvas.width,t.canvas.height),F.set(0,0,t.canvas.width,t.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:he,disable:Ve,bindFramebuffer:ke,drawBuffers:Pe,useProgram:Ce,setBlending:H,setMaterial:Ee,setFlipSided:Te,setCullFace:He,setLineWidth:Le,setPolygonOffset:it,setScissorTest:ze,activeTexture:z,bindTexture:k,unbindTexture:J,compressedTexImage2D:ge,compressedTexImage3D:xe,texImage2D:je,texImage3D:nt,updateUBOMapping:Tt,uniformBlockBinding:dt,texStorage2D:pt,texStorage3D:Me,texSubImage2D:me,texSubImage3D:qe,compressedTexSubImage2D:Ie,compressedTexSubImage3D:Xe,scissor:at,viewport:$e,reset:Vt}}function W8e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function j8e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function X8e(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function EU(t,e,n,r){const i=$8e(r);switch(n){case y8:return t*e;case _8:return t*e;case S8:return t*e*2;case vL:return t*e/i.components*i.byteLength;case Fw:return t*e/i.components*i.byteLength;case b8:return t*e*2/i.components*i.byteLength;case yL:return t*e*2/i.components*i.byteLength;case x8:return t*e*3/i.components*i.byteLength;case Ds:return t*e*4/i.components*i.byteLength;case xL:return t*e*4/i.components*i.byteLength;case _b:case Sb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case bb:case Mb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ZC:case QC:return Math.max(t,16)*Math.max(e,8)/4;case qC:case KC:return Math.max(t,8)*Math.max(e,8)/2;case JC:case eP:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case tP:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case nP:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case rP:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case iP:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case sP:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case aP:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case oP:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case lP:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case uP:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case cP:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case hP:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case dP:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case fP:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case pP:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case mP:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case wb:case gP:case vP:return Math.ceil(t/4)*Math.ceil(e/4)*16;case M8:case yP:return Math.ceil(t/4)*Math.ceil(e/4)*8;case xP:case _P:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function $8e(t){switch(t){case Jl:case m8:return{byteLength:1,components:1};case z1:case g8:case ux:return{byteLength:2,components:1};case mL:case gL:return{byteLength:2,components:4};case td:case pL:case Ca:return{byteLength:4,components:1};case v8:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const Y8e={contain:W8e,cover:j8e,fill:X8e,getByteLength:EU};function q8e(t,e,n,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new tt,h=new WeakMap;let d;const f=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(z,k){return m?new OffscreenCanvas(z,k):jM("canvas")}function S(z,k,J){let ge=1;const xe=ze(z);if((xe.width>J||xe.height>J)&&(ge=J/Math.max(xe.width,xe.height)),ge<1)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap||typeof VideoFrame<"u"&&z instanceof VideoFrame){const me=Math.floor(ge*xe.width),qe=Math.floor(ge*xe.height);d===void 0&&(d=v(me,qe));const Ie=k?v(me,qe):d;return Ie.width=me,Ie.height=qe,Ie.getContext("2d").drawImage(z,0,0,me,qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+xe.width+"x"+xe.height+") to ("+me+"x"+qe+")."),Ie}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+xe.width+"x"+xe.height+")."),z;return z}function y(z){return z.generateMipmaps}function g(z){t.generateMipmap(z)}function b(z){return z.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:z.isWebGL3DRenderTarget?t.TEXTURE_3D:z.isWebGLArrayRenderTarget||z.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function M(z,k,J,ge,xe=!1){if(z!==null){if(t[z]!==void 0)return t[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let me=k;if(k===t.RED&&(J===t.FLOAT&&(me=t.R32F),J===t.HALF_FLOAT&&(me=t.R16F),J===t.UNSIGNED_BYTE&&(me=t.R8)),k===t.RED_INTEGER&&(J===t.UNSIGNED_BYTE&&(me=t.R8UI),J===t.UNSIGNED_SHORT&&(me=t.R16UI),J===t.UNSIGNED_INT&&(me=t.R32UI),J===t.BYTE&&(me=t.R8I),J===t.SHORT&&(me=t.R16I),J===t.INT&&(me=t.R32I)),k===t.RG&&(J===t.FLOAT&&(me=t.RG32F),J===t.HALF_FLOAT&&(me=t.RG16F),J===t.UNSIGNED_BYTE&&(me=t.RG8)),k===t.RG_INTEGER&&(J===t.UNSIGNED_BYTE&&(me=t.RG8UI),J===t.UNSIGNED_SHORT&&(me=t.RG16UI),J===t.UNSIGNED_INT&&(me=t.RG32UI),J===t.BYTE&&(me=t.RG8I),J===t.SHORT&&(me=t.RG16I),J===t.INT&&(me=t.RG32I)),k===t.RGB_INTEGER&&(J===t.UNSIGNED_BYTE&&(me=t.RGB8UI),J===t.UNSIGNED_SHORT&&(me=t.RGB16UI),J===t.UNSIGNED_INT&&(me=t.RGB32UI),J===t.BYTE&&(me=t.RGB8I),J===t.SHORT&&(me=t.RGB16I),J===t.INT&&(me=t.RGB32I)),k===t.RGBA_INTEGER&&(J===t.UNSIGNED_BYTE&&(me=t.RGBA8UI),J===t.UNSIGNED_SHORT&&(me=t.RGBA16UI),J===t.UNSIGNED_INT&&(me=t.RGBA32UI),J===t.BYTE&&(me=t.RGBA8I),J===t.SHORT&&(me=t.RGBA16I),J===t.INT&&(me=t.RGBA32I)),k===t.RGB&&J===t.UNSIGNED_INT_5_9_9_9_REV&&(me=t.RGB9_E5),k===t.RGBA){const qe=xe?zw:Mn.getTransfer(ge);J===t.FLOAT&&(me=t.RGBA32F),J===t.HALF_FLOAT&&(me=t.RGBA16F),J===t.UNSIGNED_BYTE&&(me=qe===Bn?t.SRGB8_ALPHA8:t.RGBA8),J===t.UNSIGNED_SHORT_4_4_4_4&&(me=t.RGBA4),J===t.UNSIGNED_SHORT_5_5_5_1&&(me=t.RGB5_A1)}return(me===t.R16F||me===t.R32F||me===t.RG16F||me===t.RG32F||me===t.RGBA16F||me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),me}function E(z,k){let J;return z?k===null||k===td||k===Vg?J=t.DEPTH24_STENCIL8:k===Ca?J=t.DEPTH32F_STENCIL8:k===z1&&(J=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):k===null||k===td||k===Vg?J=t.DEPTH_COMPONENT24:k===Ca?J=t.DEPTH_COMPONENT32F:k===z1&&(J=t.DEPTH_COMPONENT16),J}function P(z,k){return y(z)===!0||z.isFramebufferTexture&&z.minFilter!==hs&&z.minFilter!==Mi?Math.log2(Math.max(k.width,k.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?k.mipmaps.length:1}function A(z){const k=z.target;k.removeEventListener("dispose",A),I(k),k.isVideoTexture&&h.delete(k)}function L(z){const k=z.target;k.removeEventListener("dispose",L),C(k)}function I(z){const k=r.get(z);if(k.__webglInit===void 0)return;const J=z.source,ge=f.get(J);if(ge){const xe=ge[k.__cacheKey];xe.usedTimes--,xe.usedTimes===0&&R(z),Object.keys(ge).length===0&&f.delete(J)}r.remove(z)}function R(z){const k=r.get(z);t.deleteTexture(k.__webglTexture);const J=z.source,ge=f.get(J);delete ge[k.__cacheKey],a.memory.textures--}function C(z){const k=r.get(z);if(z.depthTexture&&(z.depthTexture.dispose(),r.remove(z.depthTexture)),z.isWebGLCubeRenderTarget)for(let ge=0;ge<6;ge++){if(Array.isArray(k.__webglFramebuffer[ge]))for(let xe=0;xe<k.__webglFramebuffer[ge].length;xe++)t.deleteFramebuffer(k.__webglFramebuffer[ge][xe]);else t.deleteFramebuffer(k.__webglFramebuffer[ge]);k.__webglDepthbuffer&&t.deleteRenderbuffer(k.__webglDepthbuffer[ge])}else{if(Array.isArray(k.__webglFramebuffer))for(let ge=0;ge<k.__webglFramebuffer.length;ge++)t.deleteFramebuffer(k.__webglFramebuffer[ge]);else t.deleteFramebuffer(k.__webglFramebuffer);if(k.__webglDepthbuffer&&t.deleteRenderbuffer(k.__webglDepthbuffer),k.__webglMultisampledFramebuffer&&t.deleteFramebuffer(k.__webglMultisampledFramebuffer),k.__webglColorRenderbuffer)for(let ge=0;ge<k.__webglColorRenderbuffer.length;ge++)k.__webglColorRenderbuffer[ge]&&t.deleteRenderbuffer(k.__webglColorRenderbuffer[ge]);k.__webglDepthRenderbuffer&&t.deleteRenderbuffer(k.__webglDepthRenderbuffer)}const J=z.textures;for(let ge=0,xe=J.length;ge<xe;ge++){const me=r.get(J[ge]);me.__webglTexture&&(t.deleteTexture(me.__webglTexture),a.memory.textures--),r.remove(J[ge])}r.remove(z)}let O=0;function G(){O=0}function j(){const z=O;return z>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+i.maxTextures),O+=1,z}function q(z){const k=[];return k.push(z.wrapS),k.push(z.wrapT),k.push(z.wrapR||0),k.push(z.magFilter),k.push(z.minFilter),k.push(z.anisotropy),k.push(z.internalFormat),k.push(z.format),k.push(z.type),k.push(z.generateMipmaps),k.push(z.premultiplyAlpha),k.push(z.flipY),k.push(z.unpackAlignment),k.push(z.colorSpace),k.join()}function Q(z,k){const J=r.get(z);if(z.isVideoTexture&&Le(z),z.isRenderTargetTexture===!1&&z.version>0&&J.__version!==z.version){const ge=z.image;if(ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{F(J,z,k);return}}n.bindTexture(t.TEXTURE_2D,J.__webglTexture,t.TEXTURE0+k)}function X(z,k){const J=r.get(z);if(z.version>0&&J.__version!==z.version){F(J,z,k);return}n.bindTexture(t.TEXTURE_2D_ARRAY,J.__webglTexture,t.TEXTURE0+k)}function se(z,k){const J=r.get(z);if(z.version>0&&J.__version!==z.version){F(J,z,k);return}n.bindTexture(t.TEXTURE_3D,J.__webglTexture,t.TEXTURE0+k)}function D(z,k){const J=r.get(z);if(z.version>0&&J.__version!==z.version){ve(J,z,k);return}n.bindTexture(t.TEXTURE_CUBE_MAP,J.__webglTexture,t.TEXTURE0+k)}const V={[zM]:t.REPEAT,[ol]:t.CLAMP_TO_EDGE,[BM]:t.MIRRORED_REPEAT},B={[hs]:t.NEAREST,[p8]:t.NEAREST_MIPMAP_NEAREST,[By]:t.NEAREST_MIPMAP_LINEAR,[Mi]:t.LINEAR,[xb]:t.LINEAR_MIPMAP_NEAREST,[Hu]:t.LINEAR_MIPMAP_LINEAR},$={[Sue]:t.NEVER,[Aue]:t.ALWAYS,[bue]:t.LESS,[E8]:t.LEQUAL,[Mue]:t.EQUAL,[Tue]:t.GEQUAL,[wue]:t.GREATER,[Eue]:t.NOTEQUAL};function te(z,k){if(k.type===Ca&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===Mi||k.magFilter===xb||k.magFilter===By||k.magFilter===Hu||k.minFilter===Mi||k.minFilter===xb||k.minFilter===By||k.minFilter===Hu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(z,t.TEXTURE_WRAP_S,V[k.wrapS]),t.texParameteri(z,t.TEXTURE_WRAP_T,V[k.wrapT]),(z===t.TEXTURE_3D||z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(z,t.TEXTURE_WRAP_R,V[k.wrapR]),t.texParameteri(z,t.TEXTURE_MAG_FILTER,B[k.magFilter]),t.texParameteri(z,t.TEXTURE_MIN_FILTER,B[k.minFilter]),k.compareFunction&&(t.texParameteri(z,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(z,t.TEXTURE_COMPARE_FUNC,$[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(k.magFilter===hs||k.minFilter!==By&&k.minFilter!==Hu||k.type===Ca&&e.has("OES_texture_float_linear")===!1)return;if(k.anisotropy>1||r.get(k).__currentAnisotropy){const J=e.get("EXT_texture_filter_anisotropic");t.texParameterf(z,J.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy}}}function Ae(z,k){let J=!1;z.__webglInit===void 0&&(z.__webglInit=!0,k.addEventListener("dispose",A));const ge=k.source;let xe=f.get(ge);xe===void 0&&(xe={},f.set(ge,xe));const me=q(k);if(me!==z.__cacheKey){xe[me]===void 0&&(xe[me]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,J=!0),xe[me].usedTimes++;const qe=xe[z.__cacheKey];qe!==void 0&&(xe[z.__cacheKey].usedTimes--,qe.usedTimes===0&&R(k)),z.__cacheKey=me,z.__webglTexture=xe[me].texture}return J}function F(z,k,J){let ge=t.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(ge=t.TEXTURE_2D_ARRAY),k.isData3DTexture&&(ge=t.TEXTURE_3D);const xe=Ae(z,k),me=k.source;n.bindTexture(ge,z.__webglTexture,t.TEXTURE0+J);const qe=r.get(me);if(me.version!==qe.__version||xe===!0){n.activeTexture(t.TEXTURE0+J);const Ie=Mn.getPrimaries(Mn.workingColorSpace),Xe=k.colorSpace===hh?null:Mn.getPrimaries(k.colorSpace),pt=k.colorSpace===hh||Ie===Xe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);let Me=S(k.image,!1,i.maxTextureSize);Me=it(k,Me);const je=s.convert(k.format,k.colorSpace),nt=s.convert(k.type);let at=M(k.internalFormat,je,nt,k.colorSpace,k.isVideoTexture);te(ge,k);let $e;const Tt=k.mipmaps,dt=k.isVideoTexture!==!0,Vt=qe.__version===void 0||xe===!0,Y=me.dataReady,Oe=P(k,Me);if(k.isDepthTexture)at=E(k.format===Hg,k.type),Vt&&(dt?n.texStorage2D(t.TEXTURE_2D,1,at,Me.width,Me.height):n.texImage2D(t.TEXTURE_2D,0,at,Me.width,Me.height,0,je,nt,null));else if(k.isDataTexture)if(Tt.length>0){dt&&Vt&&n.texStorage2D(t.TEXTURE_2D,Oe,at,Tt[0].width,Tt[0].height);for(let ce=0,_e=Tt.length;ce<_e;ce++)$e=Tt[ce],dt?Y&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,$e.width,$e.height,je,nt,$e.data):n.texImage2D(t.TEXTURE_2D,ce,at,$e.width,$e.height,0,je,nt,$e.data);k.generateMipmaps=!1}else dt?(Vt&&n.texStorage2D(t.TEXTURE_2D,Oe,at,Me.width,Me.height),Y&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Me.width,Me.height,je,nt,Me.data)):n.texImage2D(t.TEXTURE_2D,0,at,Me.width,Me.height,0,je,nt,Me.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){dt&&Vt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Oe,at,Tt[0].width,Tt[0].height,Me.depth);for(let ce=0,_e=Tt.length;ce<_e;ce++)if($e=Tt[ce],k.format!==Ds)if(je!==null)if(dt){if(Y)if(k.layerUpdates.size>0){const We=EU($e.width,$e.height,k.format,k.type);for(const De of k.layerUpdates){const vt=$e.data.subarray(De*We/$e.data.BYTES_PER_ELEMENT,(De+1)*We/$e.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,De,$e.width,$e.height,1,je,vt)}k.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,$e.width,$e.height,Me.depth,je,$e.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ce,at,$e.width,$e.height,Me.depth,0,$e.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else dt?Y&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ce,0,0,0,$e.width,$e.height,Me.depth,je,nt,$e.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ce,at,$e.width,$e.height,Me.depth,0,je,nt,$e.data)}else{dt&&Vt&&n.texStorage2D(t.TEXTURE_2D,Oe,at,Tt[0].width,Tt[0].height);for(let ce=0,_e=Tt.length;ce<_e;ce++)$e=Tt[ce],k.format!==Ds?je!==null?dt?Y&&n.compressedTexSubImage2D(t.TEXTURE_2D,ce,0,0,$e.width,$e.height,je,$e.data):n.compressedTexImage2D(t.TEXTURE_2D,ce,at,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):dt?Y&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,$e.width,$e.height,je,nt,$e.data):n.texImage2D(t.TEXTURE_2D,ce,at,$e.width,$e.height,0,je,nt,$e.data)}else if(k.isDataArrayTexture)if(dt){if(Vt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Oe,at,Me.width,Me.height,Me.depth),Y)if(k.layerUpdates.size>0){const ce=EU(Me.width,Me.height,k.format,k.type);for(const _e of k.layerUpdates){const We=Me.data.subarray(_e*ce/Me.data.BYTES_PER_ELEMENT,(_e+1)*ce/Me.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,_e,Me.width,Me.height,1,je,nt,We)}k.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,je,nt,Me.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,at,Me.width,Me.height,Me.depth,0,je,nt,Me.data);else if(k.isData3DTexture)dt?(Vt&&n.texStorage3D(t.TEXTURE_3D,Oe,at,Me.width,Me.height,Me.depth),Y&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,je,nt,Me.data)):n.texImage3D(t.TEXTURE_3D,0,at,Me.width,Me.height,Me.depth,0,je,nt,Me.data);else if(k.isFramebufferTexture){if(Vt)if(dt)n.texStorage2D(t.TEXTURE_2D,Oe,at,Me.width,Me.height);else{let ce=Me.width,_e=Me.height;for(let We=0;We<Oe;We++)n.texImage2D(t.TEXTURE_2D,We,at,ce,_e,0,je,nt,null),ce>>=1,_e>>=1}}else if(Tt.length>0){if(dt&&Vt){const ce=ze(Tt[0]);n.texStorage2D(t.TEXTURE_2D,Oe,at,ce.width,ce.height)}for(let ce=0,_e=Tt.length;ce<_e;ce++)$e=Tt[ce],dt?Y&&n.texSubImage2D(t.TEXTURE_2D,ce,0,0,je,nt,$e):n.texImage2D(t.TEXTURE_2D,ce,at,je,nt,$e);k.generateMipmaps=!1}else if(dt){if(Vt){const ce=ze(Me);n.texStorage2D(t.TEXTURE_2D,Oe,at,ce.width,ce.height)}Y&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,je,nt,Me)}else n.texImage2D(t.TEXTURE_2D,0,at,je,nt,Me);y(k)&&g(ge),qe.__version=me.version,k.onUpdate&&k.onUpdate(k)}z.__version=k.version}function ve(z,k,J){if(k.image.length!==6)return;const ge=Ae(z,k),xe=k.source;n.bindTexture(t.TEXTURE_CUBE_MAP,z.__webglTexture,t.TEXTURE0+J);const me=r.get(xe);if(xe.version!==me.__version||ge===!0){n.activeTexture(t.TEXTURE0+J);const qe=Mn.getPrimaries(Mn.workingColorSpace),Ie=k.colorSpace===hh?null:Mn.getPrimaries(k.colorSpace),Xe=k.colorSpace===hh||qe===Ie?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);const pt=k.isCompressedTexture||k.image[0].isCompressedTexture,Me=k.image[0]&&k.image[0].isDataTexture,je=[];for(let _e=0;_e<6;_e++)!pt&&!Me?je[_e]=S(k.image[_e],!0,i.maxCubemapSize):je[_e]=Me?k.image[_e].image:k.image[_e],je[_e]=it(k,je[_e]);const nt=je[0],at=s.convert(k.format,k.colorSpace),$e=s.convert(k.type),Tt=M(k.internalFormat,at,$e,k.colorSpace),dt=k.isVideoTexture!==!0,Vt=me.__version===void 0||ge===!0,Y=xe.dataReady;let Oe=P(k,nt);te(t.TEXTURE_CUBE_MAP,k);let ce;if(pt){dt&&Vt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Oe,Tt,nt.width,nt.height);for(let _e=0;_e<6;_e++){ce=je[_e].mipmaps;for(let We=0;We<ce.length;We++){const De=ce[We];k.format!==Ds?at!==null?dt?Y&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We,0,0,De.width,De.height,at,De.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We,Tt,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We,0,0,De.width,De.height,at,$e,De.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We,Tt,De.width,De.height,0,at,$e,De.data)}}}else{if(ce=k.mipmaps,dt&&Vt){ce.length>0&&Oe++;const _e=ze(je[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Oe,Tt,_e.width,_e.height)}for(let _e=0;_e<6;_e++)if(Me){dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,je[_e].width,je[_e].height,at,$e,je[_e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,Tt,je[_e].width,je[_e].height,0,at,$e,je[_e].data);for(let We=0;We<ce.length;We++){const De=ce[We].image[_e].image;dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We+1,0,0,De.width,De.height,at,$e,De.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We+1,Tt,De.width,De.height,0,at,$e,De.data)}}else{dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,at,$e,je[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,Tt,at,$e,je[_e]);for(let We=0;We<ce.length;We++){const De=ce[We];dt?Y&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We+1,0,0,at,$e,De.image[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,We+1,Tt,at,$e,De.image[_e])}}}y(k)&&g(t.TEXTURE_CUBE_MAP),me.__version=xe.version,k.onUpdate&&k.onUpdate(k)}z.__version=k.version}function ie(z,k,J,ge,xe,me){const qe=s.convert(J.format,J.colorSpace),Ie=s.convert(J.type),Xe=M(J.internalFormat,qe,Ie,J.colorSpace),pt=r.get(k),Me=r.get(J);if(Me.__renderTarget=k,!pt.__hasExternalTextures){const je=Math.max(1,k.width>>me),nt=Math.max(1,k.height>>me);xe===t.TEXTURE_3D||xe===t.TEXTURE_2D_ARRAY?n.texImage3D(xe,me,Xe,je,nt,k.depth,0,qe,Ie,null):n.texImage2D(xe,me,Xe,je,nt,0,qe,Ie,null)}n.bindFramebuffer(t.FRAMEBUFFER,z),He(k)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ge,xe,Me.__webglTexture,0,Te(k)):(xe===t.TEXTURE_2D||xe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&xe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ge,xe,Me.__webglTexture,me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function he(z,k,J){if(t.bindRenderbuffer(t.RENDERBUFFER,z),k.depthBuffer){const ge=k.depthTexture,xe=ge&&ge.isDepthTexture?ge.type:null,me=E(k.stencilBuffer,xe),qe=k.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=Te(k);He(k)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ie,me,k.width,k.height):J?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ie,me,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,me,k.width,k.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,qe,t.RENDERBUFFER,z)}else{const ge=k.textures;for(let xe=0;xe<ge.length;xe++){const me=ge[xe],qe=s.convert(me.format,me.colorSpace),Ie=s.convert(me.type),Xe=M(me.internalFormat,qe,Ie,me.colorSpace),pt=Te(k);J&&He(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,pt,Xe,k.width,k.height):He(k)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,pt,Xe,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,Xe,k.width,k.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ve(z,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,z),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const J=r.get(k.depthTexture);J.__renderTarget=k,(!J.__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),Q(k.depthTexture,0);const ge=J.__webglTexture,xe=Te(k);if(k.depthTexture.format===mg)He(k)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ge,0,xe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ge,0);else if(k.depthTexture.format===Hg)He(k)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ge,0,xe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ge,0);else throw new Error("Unknown depthTexture format")}function ke(z){const k=r.get(z),J=z.isWebGLCubeRenderTarget===!0;if(k.__boundDepthTexture!==z.depthTexture){const ge=z.depthTexture;if(k.__depthDisposeCallback&&k.__depthDisposeCallback(),ge){const xe=()=>{delete k.__boundDepthTexture,delete k.__depthDisposeCallback,ge.removeEventListener("dispose",xe)};ge.addEventListener("dispose",xe),k.__depthDisposeCallback=xe}k.__boundDepthTexture=ge}if(z.depthTexture&&!k.__autoAllocateDepthBuffer){if(J)throw new Error("target.depthTexture not supported in Cube render targets");Ve(k.__webglFramebuffer,z)}else if(J){k.__webglDepthbuffer=[];for(let ge=0;ge<6;ge++)if(n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer[ge]),k.__webglDepthbuffer[ge]===void 0)k.__webglDepthbuffer[ge]=t.createRenderbuffer(),he(k.__webglDepthbuffer[ge],z,!1);else{const xe=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,me=k.__webglDepthbuffer[ge];t.bindRenderbuffer(t.RENDERBUFFER,me),t.framebufferRenderbuffer(t.FRAMEBUFFER,xe,t.RENDERBUFFER,me)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer===void 0)k.__webglDepthbuffer=t.createRenderbuffer(),he(k.__webglDepthbuffer,z,!1);else{const ge=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,xe=k.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,xe),t.framebufferRenderbuffer(t.FRAMEBUFFER,ge,t.RENDERBUFFER,xe)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Pe(z,k,J){const ge=r.get(z);k!==void 0&&ie(ge.__webglFramebuffer,z,z.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),J!==void 0&&ke(z)}function Ce(z){const k=z.texture,J=r.get(z),ge=r.get(k);z.addEventListener("dispose",L);const xe=z.textures,me=z.isWebGLCubeRenderTarget===!0,qe=xe.length>1;if(qe||(ge.__webglTexture===void 0&&(ge.__webglTexture=t.createTexture()),ge.__version=k.version,a.memory.textures++),me){J.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(k.mipmaps&&k.mipmaps.length>0){J.__webglFramebuffer[Ie]=[];for(let Xe=0;Xe<k.mipmaps.length;Xe++)J.__webglFramebuffer[Ie][Xe]=t.createFramebuffer()}else J.__webglFramebuffer[Ie]=t.createFramebuffer()}else{if(k.mipmaps&&k.mipmaps.length>0){J.__webglFramebuffer=[];for(let Ie=0;Ie<k.mipmaps.length;Ie++)J.__webglFramebuffer[Ie]=t.createFramebuffer()}else J.__webglFramebuffer=t.createFramebuffer();if(qe)for(let Ie=0,Xe=xe.length;Ie<Xe;Ie++){const pt=r.get(xe[Ie]);pt.__webglTexture===void 0&&(pt.__webglTexture=t.createTexture(),a.memory.textures++)}if(z.samples>0&&He(z)===!1){J.__webglMultisampledFramebuffer=t.createFramebuffer(),J.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,J.__webglMultisampledFramebuffer);for(let Ie=0;Ie<xe.length;Ie++){const Xe=xe[Ie];J.__webglColorRenderbuffer[Ie]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,J.__webglColorRenderbuffer[Ie]);const pt=s.convert(Xe.format,Xe.colorSpace),Me=s.convert(Xe.type),je=M(Xe.internalFormat,pt,Me,Xe.colorSpace,z.isXRRenderTarget===!0),nt=Te(z);t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,je,z.width,z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ie,t.RENDERBUFFER,J.__webglColorRenderbuffer[Ie])}t.bindRenderbuffer(t.RENDERBUFFER,null),z.depthBuffer&&(J.__webglDepthRenderbuffer=t.createRenderbuffer(),he(J.__webglDepthRenderbuffer,z,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(me){n.bindTexture(t.TEXTURE_CUBE_MAP,ge.__webglTexture),te(t.TEXTURE_CUBE_MAP,k);for(let Ie=0;Ie<6;Ie++)if(k.mipmaps&&k.mipmaps.length>0)for(let Xe=0;Xe<k.mipmaps.length;Xe++)ie(J.__webglFramebuffer[Ie][Xe],z,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Xe);else ie(J.__webglFramebuffer[Ie],z,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);y(k)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(qe){for(let Ie=0,Xe=xe.length;Ie<Xe;Ie++){const pt=xe[Ie],Me=r.get(pt);n.bindTexture(t.TEXTURE_2D,Me.__webglTexture),te(t.TEXTURE_2D,pt),ie(J.__webglFramebuffer,z,pt,t.COLOR_ATTACHMENT0+Ie,t.TEXTURE_2D,0),y(pt)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let Ie=t.TEXTURE_2D;if((z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(Ie=z.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ie,ge.__webglTexture),te(Ie,k),k.mipmaps&&k.mipmaps.length>0)for(let Xe=0;Xe<k.mipmaps.length;Xe++)ie(J.__webglFramebuffer[Xe],z,k,t.COLOR_ATTACHMENT0,Ie,Xe);else ie(J.__webglFramebuffer,z,k,t.COLOR_ATTACHMENT0,Ie,0);y(k)&&g(Ie),n.unbindTexture()}z.depthBuffer&&ke(z)}function pe(z){const k=z.textures;for(let J=0,ge=k.length;J<ge;J++){const xe=k[J];if(y(xe)){const me=b(z),qe=r.get(xe).__webglTexture;n.bindTexture(me,qe),g(me),n.unbindTexture()}}}const be=[],H=[];function Ee(z){if(z.samples>0){if(He(z)===!1){const k=z.textures,J=z.width,ge=z.height;let xe=t.COLOR_BUFFER_BIT;const me=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,qe=r.get(z),Ie=k.length>1;if(Ie)for(let Xe=0;Xe<k.length;Xe++)n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,qe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglFramebuffer);for(let Xe=0;Xe<k.length;Xe++){if(z.resolveDepthBuffer&&(z.depthBuffer&&(xe|=t.DEPTH_BUFFER_BIT),z.stencilBuffer&&z.resolveStencilBuffer&&(xe|=t.STENCIL_BUFFER_BIT)),Ie){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,qe.__webglColorRenderbuffer[Xe]);const pt=r.get(k[Xe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,pt,0)}t.blitFramebuffer(0,0,J,ge,0,0,J,ge,xe,t.NEAREST),l===!0&&(be.length=0,H.length=0,be.push(t.COLOR_ATTACHMENT0+Xe),z.depthBuffer&&z.resolveDepthBuffer===!1&&(be.push(me),H.push(me),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,H)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,be))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ie)for(let Xe=0;Xe<k.length;Xe++){n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,qe.__webglColorRenderbuffer[Xe]);const pt=r.get(k[Xe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,pt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglMultisampledFramebuffer)}else if(z.depthBuffer&&z.resolveDepthBuffer===!1&&l){const k=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[k])}}}function Te(z){return Math.min(i.maxSamples,z.samples)}function He(z){const k=r.get(z);return z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Le(z){const k=a.render.frame;h.get(z)!==k&&(h.set(z,k),z.update())}function it(z,k){const J=z.colorSpace,ge=z.format,xe=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||J!==i0&&J!==hh&&(Mn.getTransfer(J)===Bn?(ge!==Ds||xe!==Jl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",J)),k}function ze(z){return typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement?(u.width=z.naturalWidth||z.width,u.height=z.naturalHeight||z.height):typeof VideoFrame<"u"&&z instanceof VideoFrame?(u.width=z.displayWidth,u.height=z.displayHeight):(u.width=z.width,u.height=z.height),u}this.allocateTextureUnit=j,this.resetTextureUnits=G,this.setTexture2D=Q,this.setTexture2DArray=X,this.setTexture3D=se,this.setTextureCube=D,this.rebindTextures=Pe,this.setupRenderTarget=Ce,this.updateRenderTargetMipmap=pe,this.updateMultisampleRenderTarget=Ee,this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=ie,this.useMultisampledRTT=He}function Hue(t,e){function n(r,i=hh){let s;const a=Mn.getTransfer(i);if(r===Jl)return t.UNSIGNED_BYTE;if(r===mL)return t.UNSIGNED_SHORT_4_4_4_4;if(r===gL)return t.UNSIGNED_SHORT_5_5_5_1;if(r===v8)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===m8)return t.BYTE;if(r===g8)return t.SHORT;if(r===z1)return t.UNSIGNED_SHORT;if(r===pL)return t.INT;if(r===td)return t.UNSIGNED_INT;if(r===Ca)return t.FLOAT;if(r===ux)return t.HALF_FLOAT;if(r===y8)return t.ALPHA;if(r===x8)return t.RGB;if(r===Ds)return t.RGBA;if(r===_8)return t.LUMINANCE;if(r===S8)return t.LUMINANCE_ALPHA;if(r===mg)return t.DEPTH_COMPONENT;if(r===Hg)return t.DEPTH_STENCIL;if(r===vL)return t.RED;if(r===Fw)return t.RED_INTEGER;if(r===b8)return t.RG;if(r===yL)return t.RG_INTEGER;if(r===xL)return t.RGBA_INTEGER;if(r===_b||r===Sb||r===bb||r===Mb)if(a===Bn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===_b)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Sb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===bb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Mb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===_b)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Sb)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===bb)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Mb)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===qC||r===ZC||r===KC||r===QC)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===qC)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ZC)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===KC)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===QC)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===JC||r===eP||r===tP)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===JC||r===eP)return a===Bn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===tP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===nP||r===rP||r===iP||r===sP||r===aP||r===oP||r===lP||r===uP||r===cP||r===hP||r===dP||r===fP||r===pP||r===mP)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===nP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===rP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===iP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===sP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===aP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===oP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===lP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===uP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===cP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===hP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===dP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===fP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===pP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===mP)return a===Bn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===wb||r===gP||r===vP)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===wb)return a===Bn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===gP)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===vP)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===M8||r===yP||r===xP||r===_P)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===wb)return s.COMPRESSED_RED_RGTC1_EXT;if(r===yP)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===xP)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===_P)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Vg?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class Gue extends Hi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Gy extends In{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Z8e={type:"move"};class vD{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Gy,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Gy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ue,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ue),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Gy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ue,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ue),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const S of e.hand.values()){const y=n.getJointPose(S,r),g=this._getHandJoint(u,S);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const h=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],f=h.position.distanceTo(d.position),m=.02,v=.005;u.inputState.pinching&&f>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Z8e)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Gy;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const K8e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Q8e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class J8e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Pr,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new ml({vertexShader:K8e,fragmentShader:Q8e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new di(new hx(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class e7e extends dc{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,u=null,h=null,d=null,f=null,m=null,v=null;const S=new J8e,y=n.getContextAttributes();let g=null,b=null;const M=[],E=[],P=new tt;let A=null;const L=new Hi;L.viewport=new Cn;const I=new Hi;I.viewport=new Cn;const R=[L,I],C=new Gue;let O=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let ve=M[F];return ve===void 0&&(ve=new vD,M[F]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(F){let ve=M[F];return ve===void 0&&(ve=new vD,M[F]=ve),ve.getGripSpace()},this.getHand=function(F){let ve=M[F];return ve===void 0&&(ve=new vD,M[F]=ve),ve.getHandSpace()};function j(F){const ve=E.indexOf(F.inputSource);if(ve===-1)return;const ie=M[ve];ie!==void 0&&(ie.update(F.inputSource,F.frame,u||a),ie.dispatchEvent({type:F.type,data:F.inputSource}))}function q(){i.removeEventListener("select",j),i.removeEventListener("selectstart",j),i.removeEventListener("selectend",j),i.removeEventListener("squeeze",j),i.removeEventListener("squeezestart",j),i.removeEventListener("squeezeend",j),i.removeEventListener("end",q),i.removeEventListener("inputsourceschange",Q);for(let F=0;F<M.length;F++){const ve=E[F];ve!==null&&(E[F]=null,M[F].disconnect(ve))}O=null,G=null,S.reset(),e.setRenderTarget(g),m=null,f=null,d=null,i=null,b=null,Ae.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){s=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){o=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(F){u=F},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(F){if(i=F,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",j),i.addEventListener("selectstart",j),i.addEventListener("selectend",j),i.addEventListener("squeeze",j),i.addEventListener("squeezestart",j),i.addEventListener("squeezeend",j),i.addEventListener("end",q),i.addEventListener("inputsourceschange",Q),y.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(P),i.renderState.layers===void 0){const ve={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,ve),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),b=new eu(m.framebufferWidth,m.framebufferHeight,{format:Ds,type:Jl,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ve=null,ie=null,he=null;y.depth&&(he=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ve=y.stencil?Hg:mg,ie=y.stencil?Vg:td);const Ve={colorFormat:n.RGBA8,depthFormat:he,scaleFactor:s};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(Ve),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),b=new eu(f.textureWidth,f.textureHeight,{format:Ds,type:Jl,depthTexture:new L8(f.textureWidth,f.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(o),Ae.setContext(i),Ae.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function Q(F){for(let ve=0;ve<F.removed.length;ve++){const ie=F.removed[ve],he=E.indexOf(ie);he>=0&&(E[he]=null,M[he].disconnect(ie))}for(let ve=0;ve<F.added.length;ve++){const ie=F.added[ve];let he=E.indexOf(ie);if(he===-1){for(let ke=0;ke<M.length;ke++)if(ke>=E.length){E.push(ie),he=ke;break}else if(E[ke]===null){E[ke]=ie,he=ke;break}if(he===-1)break}const Ve=M[he];Ve&&Ve.connect(ie)}}const X=new ue,se=new ue;function D(F,ve,ie){X.setFromMatrixPosition(ve.matrixWorld),se.setFromMatrixPosition(ie.matrixWorld);const he=X.distanceTo(se),Ve=ve.projectionMatrix.elements,ke=ie.projectionMatrix.elements,Pe=Ve[14]/(Ve[10]-1),Ce=Ve[14]/(Ve[10]+1),pe=(Ve[9]+1)/Ve[5],be=(Ve[9]-1)/Ve[5],H=(Ve[8]-1)/Ve[0],Ee=(ke[8]+1)/ke[0],Te=Pe*H,He=Pe*Ee,Le=he/(-H+Ee),it=Le*-H;if(ve.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(it),F.translateZ(Le),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert(),Ve[10]===-1)F.projectionMatrix.copy(ve.projectionMatrix),F.projectionMatrixInverse.copy(ve.projectionMatrixInverse);else{const ze=Pe+Le,z=Ce+Le,k=Te-it,J=He+(he-it),ge=pe*Ce/z*ze,xe=be*Ce/z*ze;F.projectionMatrix.makePerspective(k,J,ge,xe,ze,z),F.projectionMatrixInverse.copy(F.projectionMatrix).invert()}}function V(F,ve){ve===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(ve.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(i===null)return;let ve=F.near,ie=F.far;S.texture!==null&&(S.depthNear>0&&(ve=S.depthNear),S.depthFar>0&&(ie=S.depthFar)),C.near=I.near=L.near=ve,C.far=I.far=L.far=ie,(O!==C.near||G!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),O=C.near,G=C.far),L.layers.mask=F.layers.mask|2,I.layers.mask=F.layers.mask|4,C.layers.mask=L.layers.mask|I.layers.mask;const he=F.parent,Ve=C.cameras;V(C,he);for(let ke=0;ke<Ve.length;ke++)V(Ve[ke],he);Ve.length===2?D(C,L,I):C.projectionMatrix.copy(L.projectionMatrix),B(F,C,he)};function B(F,ve,ie){ie===null?F.matrix.copy(ve.matrixWorld):(F.matrix.copy(ie.matrixWorld),F.matrix.invert(),F.matrix.multiply(ve.matrixWorld)),F.matrix.decompose(F.position,F.quaternion,F.scale),F.updateMatrixWorld(!0),F.projectionMatrix.copy(ve.projectionMatrix),F.projectionMatrixInverse.copy(ve.projectionMatrixInverse),F.isPerspectiveCamera&&(F.fov=B1*2*Math.atan(1/F.projectionMatrix.elements[5]),F.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(F){l=F,f!==null&&(f.fixedFoveation=F),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=F)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(C)};let $=null;function te(F,ve){if(h=ve.getViewerPose(u||a),v=ve,h!==null){const ie=h.views;m!==null&&(e.setRenderTargetFramebuffer(b,m.framebuffer),e.setRenderTarget(b));let he=!1;ie.length!==C.cameras.length&&(C.cameras.length=0,he=!0);for(let ke=0;ke<ie.length;ke++){const Pe=ie[ke];let Ce=null;if(m!==null)Ce=m.getViewport(Pe);else{const be=d.getViewSubImage(f,Pe);Ce=be.viewport,ke===0&&(e.setRenderTargetTextures(b,be.colorTexture,f.ignoreDepthValues?void 0:be.depthStencilTexture),e.setRenderTarget(b))}let pe=R[ke];pe===void 0&&(pe=new Hi,pe.layers.enable(ke),pe.viewport=new Cn,R[ke]=pe),pe.matrix.fromArray(Pe.transform.matrix),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.projectionMatrix.fromArray(Pe.projectionMatrix),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert(),pe.viewport.set(Ce.x,Ce.y,Ce.width,Ce.height),ke===0&&(C.matrix.copy(pe.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),he===!0&&C.cameras.push(pe)}const Ve=i.enabledFeatures;if(Ve&&Ve.includes("depth-sensing")){const ke=d.getDepthInformation(ie[0]);ke&&ke.isValid&&ke.texture&&S.init(e,ke,i.renderState)}}for(let ie=0;ie<M.length;ie++){const he=E[ie],Ve=M[ie];he!==null&&Ve!==void 0&&Ve.update(he,ve,u||a)}$&&$(F,ve),ve.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ve}),v=null}const Ae=new Uue;Ae.setAnimationLoop(te),this.setAnimationLoop=function(F){$=F},this.dispose=function(){}}}const hm=new Eo,t7e=new qt;function n7e(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,Nue(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,b,M,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),d(y,g)):g.isMeshPhongMaterial?(s(y,g),h(y,g)):g.isMeshStandardMaterial?(s(y,g),f(y,g),g.isMeshPhysicalMaterial&&m(y,g,E)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),S(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(a(y,g),g.isLineDashedMaterial&&o(y,g)):g.isPointsMaterial?l(y,g,b,M):g.isSpriteMaterial?u(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===ra&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===ra&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const b=e.get(g),M=b.envMap,E=b.envMapRotation;M&&(y.envMap.value=M,hm.copy(E),hm.x*=-1,hm.y*=-1,hm.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(hm.y*=-1,hm.z*=-1),y.envMapRotation.value.setFromMatrix4(t7e.makeRotationFromEuler(hm)),y.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function a(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function o(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,b,M){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*b,y.scale.value=M*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function h(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function f(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,b){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ra&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function S(y,g){const b=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(b.matrixWorld),y.nearDistance.value=b.shadow.camera.near,y.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function r7e(t,e,n,r){let i={},s={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,M){const E=M.program;r.uniformBlockBinding(b,E)}function u(b,M){let E=i[b.id];E===void 0&&(v(b),E=h(b),i[b.id]=E,b.addEventListener("dispose",y));const P=M.program;r.updateUBOMapping(b,P);const A=e.render.frame;s[b.id]!==A&&(f(b),s[b.id]=A)}function h(b){const M=d();b.__bindingPointIndex=M;const E=t.createBuffer(),P=b.__size,A=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,P,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,M,E),E}function d(){for(let b=0;b<o;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(b){const M=i[b.id],E=b.uniforms,P=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,M);for(let A=0,L=E.length;A<L;A++){const I=Array.isArray(E[A])?E[A]:[E[A]];for(let R=0,C=I.length;R<C;R++){const O=I[R];if(m(O,A,R,P)===!0){const G=O.__offset,j=Array.isArray(O.value)?O.value:[O.value];let q=0;for(let Q=0;Q<j.length;Q++){const X=j[Q],se=S(X);typeof X=="number"||typeof X=="boolean"?(O.__data[0]=X,t.bufferSubData(t.UNIFORM_BUFFER,G+q,O.__data)):X.isMatrix3?(O.__data[0]=X.elements[0],O.__data[1]=X.elements[1],O.__data[2]=X.elements[2],O.__data[3]=0,O.__data[4]=X.elements[3],O.__data[5]=X.elements[4],O.__data[6]=X.elements[5],O.__data[7]=0,O.__data[8]=X.elements[6],O.__data[9]=X.elements[7],O.__data[10]=X.elements[8],O.__data[11]=0):(X.toArray(O.__data,q),q+=se.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,G,O.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(b,M,E,P){const A=b.value,L=M+"_"+E;if(P[L]===void 0)return typeof A=="number"||typeof A=="boolean"?P[L]=A:P[L]=A.clone(),!0;{const I=P[L];if(typeof A=="number"||typeof A=="boolean"){if(I!==A)return P[L]=A,!0}else if(I.equals(A)===!1)return I.copy(A),!0}return!1}function v(b){const M=b.uniforms;let E=0;const P=16;for(let L=0,I=M.length;L<I;L++){const R=Array.isArray(M[L])?M[L]:[M[L]];for(let C=0,O=R.length;C<O;C++){const G=R[C],j=Array.isArray(G.value)?G.value:[G.value];for(let q=0,Q=j.length;q<Q;q++){const X=j[q],se=S(X),D=E%P,V=D%se.boundary,B=D+V;E+=V,B!==0&&P-B<se.storage&&(E+=P-B),G.__data=new Float32Array(se.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=E,E+=se.storage}}}const A=E%P;return A>0&&(E+=P-A),b.__size=E,b.__cache={},this}function S(b){const M={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(M.boundary=4,M.storage=4):b.isVector2?(M.boundary=8,M.storage=8):b.isVector3||b.isColor?(M.boundary=16,M.storage=12):b.isVector4?(M.boundary=16,M.storage=16):b.isMatrix3?(M.boundary=48,M.storage=48):b.isMatrix4?(M.boundary=64,M.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),M}function y(b){const M=b.target;M.removeEventListener("dispose",y);const E=a.indexOf(M.__bindingPointIndex);a.splice(E,1),t.deleteBuffer(i[M.id]),delete i[M.id],delete s[M.id]}function g(){for(const b in i)t.deleteBuffer(i[b]);a=[],i={},s={}}return{bind:l,update:u,dispose:g}}class Wue{constructor(e={}){const{canvas:n=Pue(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=a;const v=new Uint32Array(4),S=new Int32Array(4);let y=null,g=null;const b=[],M=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=_a,this.toneMapping=sc,this.toneMappingExposure=1;const E=this;let P=!1,A=0,L=0,I=null,R=-1,C=null;const O=new Cn,G=new Cn;let j=null;const q=new Rt(0);let Q=0,X=n.width,se=n.height,D=1,V=null,B=null;const $=new Cn(0,0,X,se),te=new Cn(0,0,X,se);let Ae=!1;const F=new Hw;let ve=!1,ie=!1;const he=new qt,Ve=new qt,ke=new ue,Pe=new Cn,Ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let pe=!1;function be(){return I===null?D:1}let H=r;function Ee(U,K){return n.getContext(U,K)}try{const U={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${kw}`),n.addEventListener("webglcontextlost",_e,!1),n.addEventListener("webglcontextrestored",We,!1),n.addEventListener("webglcontextcreationerror",De,!1),H===null){const K="webgl2";if(H=Ee(K,U),H===null)throw Ee(K)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let Te,He,Le,it,ze,z,k,J,ge,xe,me,qe,Ie,Xe,pt,Me,je,nt,at,$e,Tt,dt,Vt,Y;function Oe(){Te=new uBe(H),Te.init(),dt=new Hue(H,Te),He=new rBe(H,Te,e,dt),Le=new G8e(H,Te),He.reverseDepthBuffer&&f&&Le.buffers.depth.setReversed(!0),it=new dBe(H),ze=new R8e,z=new q8e(H,Te,Le,ze,He,dt,it),k=new sBe(E),J=new lBe(E),ge=new xFe(H),Vt=new tBe(H,ge),xe=new cBe(H,ge,it,Vt),me=new pBe(H,xe,ge,it),at=new fBe(H,He,z),Me=new iBe(ze),qe=new P8e(E,k,J,Te,He,Vt,Me),Ie=new n7e(E,ze),Xe=new I8e,pt=new F8e(Te),nt=new eBe(E,k,J,Le,me,m,l),je=new V8e(E,me,He),Y=new r7e(H,it,He,Le),$e=new nBe(H,Te,it),Tt=new hBe(H,Te,it),it.programs=qe.programs,E.capabilities=He,E.extensions=Te,E.properties=ze,E.renderLists=Xe,E.shadowMap=je,E.state=Le,E.info=it}Oe();const ce=new e7e(E,H);this.xr=ce,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const U=Te.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=Te.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(U){U!==void 0&&(D=U,this.setSize(X,se,!1))},this.getSize=function(U){return U.set(X,se)},this.setSize=function(U,K,ae=!0){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=U,se=K,n.width=Math.floor(U*D),n.height=Math.floor(K*D),ae===!0&&(n.style.width=U+"px",n.style.height=K+"px"),this.setViewport(0,0,U,K)},this.getDrawingBufferSize=function(U){return U.set(X*D,se*D).floor()},this.setDrawingBufferSize=function(U,K,ae){X=U,se=K,D=ae,n.width=Math.floor(U*ae),n.height=Math.floor(K*ae),this.setViewport(0,0,U,K)},this.getCurrentViewport=function(U){return U.copy(O)},this.getViewport=function(U){return U.copy($)},this.setViewport=function(U,K,ae,oe){U.isVector4?$.set(U.x,U.y,U.z,U.w):$.set(U,K,ae,oe),Le.viewport(O.copy($).multiplyScalar(D).round())},this.getScissor=function(U){return U.copy(te)},this.setScissor=function(U,K,ae,oe){U.isVector4?te.set(U.x,U.y,U.z,U.w):te.set(U,K,ae,oe),Le.scissor(G.copy(te).multiplyScalar(D).round())},this.getScissorTest=function(){return Ae},this.setScissorTest=function(U){Le.setScissorTest(Ae=U)},this.setOpaqueSort=function(U){V=U},this.setTransparentSort=function(U){B=U},this.getClearColor=function(U){return U.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(U=!0,K=!0,ae=!0){let oe=0;if(U){let Z=!1;if(I!==null){const we=I.texture.format;Z=we===xL||we===yL||we===Fw}if(Z){const we=I.texture.type,Be=we===Jl||we===td||we===z1||we===Vg||we===mL||we===gL,Ze=nt.getClearColor(),Ke=nt.getClearAlpha(),lt=Ze.r,ht=Ze.g,Qe=Ze.b;Be?(v[0]=lt,v[1]=ht,v[2]=Qe,v[3]=Ke,H.clearBufferuiv(H.COLOR,0,v)):(S[0]=lt,S[1]=ht,S[2]=Qe,S[3]=Ke,H.clearBufferiv(H.COLOR,0,S))}else oe|=H.COLOR_BUFFER_BIT}K&&(oe|=H.DEPTH_BUFFER_BIT),ae&&(oe|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",_e,!1),n.removeEventListener("webglcontextrestored",We,!1),n.removeEventListener("webglcontextcreationerror",De,!1),Xe.dispose(),pt.dispose(),ze.dispose(),k.dispose(),J.dispose(),me.dispose(),Vt.dispose(),Y.dispose(),qe.dispose(),ce.dispose(),ce.removeEventListener("sessionstart",pc),ce.removeEventListener("sessionend",su),Ir.stop()};function _e(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function We(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const U=it.autoReset,K=je.enabled,ae=je.autoUpdate,oe=je.needsUpdate,Z=je.type;Oe(),it.autoReset=U,je.enabled=K,je.autoUpdate=ae,je.needsUpdate=oe,je.type=Z}function De(U){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function vt(U){const K=U.target;K.removeEventListener("dispose",vt),jt(K)}function jt(U){dn(U),ze.remove(U)}function dn(U){const K=ze.get(U).programs;K!==void 0&&(K.forEach(function(ae){qe.releaseProgram(ae)}),U.isShaderMaterial&&qe.releaseShaderCache(U))}this.renderBufferDirect=function(U,K,ae,oe,Z,we){K===null&&(K=Ce);const Be=Z.isMesh&&Z.matrixWorld.determinant()<0,Ze=dp(U,K,ae,oe,Z);Le.setMaterial(oe,Be);let Ke=ae.index,lt=1;if(oe.wireframe===!0){if(Ke=xe.getWireframeAttribute(ae),Ke===void 0)return;lt=2}const ht=ae.drawRange,Qe=ae.attributes.position;let xt=ht.start*lt,ft=(ht.start+ht.count)*lt;we!==null&&(xt=Math.max(xt,we.start*lt),ft=Math.min(ft,(we.start+we.count)*lt)),Ke!==null?(xt=Math.max(xt,0),ft=Math.min(ft,Ke.count)):Qe!=null&&(xt=Math.max(xt,0),ft=Math.min(ft,Qe.count));const rt=ft-xt;if(rt<0||rt===1/0)return;Vt.setup(Z,oe,Ze,ae,Ke);let Ct,yt=$e;if(Ke!==null&&(Ct=ge.get(Ke),yt=Tt,yt.setIndex(Ct)),Z.isMesh)oe.wireframe===!0?(Le.setLineWidth(oe.wireframeLinewidth*be()),yt.setMode(H.LINES)):yt.setMode(H.TRIANGLES);else if(Z.isLine){let Ge=oe.linewidth;Ge===void 0&&(Ge=1),Le.setLineWidth(Ge*be()),Z.isLineSegments?yt.setMode(H.LINES):Z.isLineLoop?yt.setMode(H.LINE_LOOP):yt.setMode(H.LINE_STRIP)}else Z.isPoints?yt.setMode(H.POINTS):Z.isSprite&&yt.setMode(H.TRIANGLES);if(Z.isBatchedMesh)if(Z._multiDrawInstances!==null)yt.renderMultiDrawInstances(Z._multiDrawStarts,Z._multiDrawCounts,Z._multiDrawCount,Z._multiDrawInstances);else if(Te.get("WEBGL_multi_draw"))yt.renderMultiDraw(Z._multiDrawStarts,Z._multiDrawCounts,Z._multiDrawCount);else{const Ge=Z._multiDrawStarts,un=Z._multiDrawCounts,Ht=Z._multiDrawCount,Zt=Ke?ge.get(Ke).bytesPerElement:1,wn=ze.get(oe).currentProgram.getUniforms();for(let xn=0;xn<Ht;xn++)wn.setValue(H,"_gl_DrawID",xn),yt.render(Ge[xn]/Zt,un[xn])}else if(Z.isInstancedMesh)yt.renderInstances(xt,rt,Z.count);else if(ae.isInstancedBufferGeometry){const Ge=ae._maxInstanceCount!==void 0?ae._maxInstanceCount:1/0,un=Math.min(ae.instanceCount,Ge);yt.renderInstances(xt,rt,un)}else yt.render(xt,rt)};function Nt(U,K,ae){U.transparent===!0&&U.side===Ou&&U.forceSinglePass===!1?(U.side=ra,U.needsUpdate=!0,Ga(U,K,ae),U.side=Jh,U.needsUpdate=!0,Ga(U,K,ae),U.side=Ou):Ga(U,K,ae)}this.compile=function(U,K,ae=null){ae===null&&(ae=U),g=pt.get(ae),g.init(K),M.push(g),ae.traverseVisible(function(Z){Z.isLight&&Z.layers.test(K.layers)&&(g.pushLight(Z),Z.castShadow&&g.pushShadow(Z))}),U!==ae&&U.traverseVisible(function(Z){Z.isLight&&Z.layers.test(K.layers)&&(g.pushLight(Z),Z.castShadow&&g.pushShadow(Z))}),g.setupLights();const oe=new Set;return U.traverse(function(Z){if(!(Z.isMesh||Z.isPoints||Z.isLine||Z.isSprite))return;const we=Z.material;if(we)if(Array.isArray(we))for(let Be=0;Be<we.length;Be++){const Ze=we[Be];Nt(Ze,ae,Z),oe.add(Ze)}else Nt(we,ae,Z),oe.add(we)}),M.pop(),g=null,oe},this.compileAsync=function(U,K,ae=null){const oe=this.compile(U,K,ae);return new Promise(Z=>{function we(){if(oe.forEach(function(Be){ze.get(Be).currentProgram.isReady()&&oe.delete(Be)}),oe.size===0){Z(U);return}setTimeout(we,10)}Te.get("KHR_parallel_shader_compile")!==null?we():setTimeout(we,10)})};let jn=null;function xr(U){jn&&jn(U)}function pc(){Ir.stop()}function su(){Ir.start()}const Ir=new Uue;Ir.setAnimationLoop(xr),typeof self<"u"&&Ir.setContext(self),this.setAnimationLoop=function(U){jn=U,ce.setAnimationLoop(U),U===null?Ir.stop():Ir.start()},ce.addEventListener("sessionstart",pc),ce.addEventListener("sessionend",su),this.render=function(U,K){if(K!==void 0&&K.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),K.parent===null&&K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(ce.cameraAutoUpdate===!0&&ce.updateCamera(K),K=ce.getCamera()),U.isScene===!0&&U.onBeforeRender(E,U,K,I),g=pt.get(U,M.length),g.init(K),M.push(g),Ve.multiplyMatrices(K.projectionMatrix,K.matrixWorldInverse),F.setFromProjectionMatrix(Ve),ie=this.localClippingEnabled,ve=Me.init(this.clippingPlanes,ie),y=Xe.get(U,b.length),y.init(),b.push(y),ce.enabled===!0&&ce.isPresenting===!0){const we=E.xr.getDepthSensingMesh();we!==null&&za(we,K,-1/0,E.sortObjects)}za(U,K,0,E.sortObjects),y.finish(),E.sortObjects===!0&&y.sort(V,B),pe=ce.enabled===!1||ce.isPresenting===!1||ce.hasDepthSensing()===!1,pe&&nt.addToRenderList(y,U),this.info.render.frame++,ve===!0&&Me.beginShadows();const ae=g.state.shadowsArray;je.render(ae,U,K),ve===!0&&Me.endShadows(),this.info.autoReset===!0&&this.info.reset();const oe=y.opaque,Z=y.transmissive;if(g.setupLights(),K.isArrayCamera){const we=K.cameras;if(Z.length>0)for(let Be=0,Ze=we.length;Be<Ze;Be++){const Ke=we[Be];Va(oe,Z,U,Ke)}pe&&nt.render(U);for(let Be=0,Ze=we.length;Be<Ze;Be++){const Ke=we[Be];Ba(y,U,Ke,Ke.viewport)}}else Z.length>0&&Va(oe,Z,U,K),pe&&nt.render(U),Ba(y,U,K);I!==null&&(z.updateMultisampleRenderTarget(I),z.updateRenderTargetMipmap(I)),U.isScene===!0&&U.onAfterRender(E,U,K),Vt.resetDefaultState(),R=-1,C=null,M.pop(),M.length>0?(g=M[M.length-1],ve===!0&&Me.setGlobalState(E.clippingPlanes,g.state.camera)):g=null,b.pop(),b.length>0?y=b[b.length-1]:y=null};function za(U,K,ae,oe){if(U.visible===!1)return;if(U.layers.test(K.layers)){if(U.isGroup)ae=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(K);else if(U.isLight)g.pushLight(U),U.castShadow&&g.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||F.intersectsSprite(U)){oe&&Pe.setFromMatrixPosition(U.matrixWorld).applyMatrix4(Ve);const we=me.update(U),Be=U.material;Be.visible&&y.push(U,we,Be,ae,Pe.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(!U.frustumCulled||F.intersectsObject(U))){const we=me.update(U),Be=U.material;if(oe&&(U.boundingSphere!==void 0?(U.boundingSphere===null&&U.computeBoundingSphere(),Pe.copy(U.boundingSphere.center)):(we.boundingSphere===null&&we.computeBoundingSphere(),Pe.copy(we.boundingSphere.center)),Pe.applyMatrix4(U.matrixWorld).applyMatrix4(Ve)),Array.isArray(Be)){const Ze=we.groups;for(let Ke=0,lt=Ze.length;Ke<lt;Ke++){const ht=Ze[Ke],Qe=Be[ht.materialIndex];Qe&&Qe.visible&&y.push(U,we,Qe,ae,Pe.z,ht)}}else Be.visible&&y.push(U,we,Be,ae,Pe.z,null)}}const Z=U.children;for(let we=0,Be=Z.length;we<Be;we++)za(Z[we],K,ae,oe)}function Ba(U,K,ae,oe){const Z=U.opaque,we=U.transmissive,Be=U.transparent;g.setupLightsView(ae),ve===!0&&Me.setGlobalState(E.clippingPlanes,ae),oe&&Le.viewport(O.copy(oe)),Z.length>0&&Ha(Z,K,ae),we.length>0&&Ha(we,K,ae),Be.length>0&&Ha(Be,K,ae),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1)}function Va(U,K,ae,oe){if((ae.isScene===!0?ae.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[oe.id]===void 0&&(g.state.transmissionRenderTarget[oe.id]=new eu(1,1,{generateMipmaps:!0,type:Te.has("EXT_color_buffer_half_float")||Te.has("EXT_color_buffer_float")?ux:Jl,minFilter:Hu,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Mn.workingColorSpace}));const Z=g.state.transmissionRenderTarget[oe.id],we=oe.viewport||O;Z.setSize(we.z,we.w);const Be=E.getRenderTarget();E.setRenderTarget(Z),E.getClearColor(q),Q=E.getClearAlpha(),Q<1&&E.setClearColor(16777215,.5),E.clear(),pe&&nt.render(ae);const Ze=E.toneMapping;E.toneMapping=sc;const Ke=oe.viewport;if(oe.viewport!==void 0&&(oe.viewport=void 0),g.setupLightsView(oe),ve===!0&&Me.setGlobalState(E.clippingPlanes,oe),Ha(U,ae,oe),z.updateMultisampleRenderTarget(Z),z.updateRenderTargetMipmap(Z),Te.has("WEBGL_multisampled_render_to_texture")===!1){let lt=!1;for(let ht=0,Qe=K.length;ht<Qe;ht++){const xt=K[ht],ft=xt.object,rt=xt.geometry,Ct=xt.material,yt=xt.group;if(Ct.side===Ou&&ft.layers.test(oe.layers)){const Ge=Ct.side;Ct.side=ra,Ct.needsUpdate=!0,mc(ft,ae,oe,rt,Ct,yt),Ct.side=Ge,Ct.needsUpdate=!0,lt=!0}}lt===!0&&(z.updateMultisampleRenderTarget(Z),z.updateRenderTargetMipmap(Z))}E.setRenderTarget(Be),E.setClearColor(q,Q),Ke!==void 0&&(oe.viewport=Ke),E.toneMapping=Ze}function Ha(U,K,ae){const oe=K.isScene===!0?K.overrideMaterial:null;for(let Z=0,we=U.length;Z<we;Z++){const Be=U[Z],Ze=Be.object,Ke=Be.geometry,lt=oe===null?Be.material:oe,ht=Be.group;Ze.layers.test(ae.layers)&&mc(Ze,K,ae,Ke,lt,ht)}}function mc(U,K,ae,oe,Z,we){U.onBeforeRender(E,K,ae,oe,Z,we),U.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),Z.onBeforeRender(E,K,ae,oe,U,we),Z.transparent===!0&&Z.side===Ou&&Z.forceSinglePass===!1?(Z.side=ra,Z.needsUpdate=!0,E.renderBufferDirect(ae,K,oe,Z,U,we),Z.side=Jh,Z.needsUpdate=!0,E.renderBufferDirect(ae,K,oe,Z,U,we),Z.side=Ou):E.renderBufferDirect(ae,K,oe,Z,U,we),U.onAfterRender(E,K,ae,oe,Z,we)}function Ga(U,K,ae){K.isScene!==!0&&(K=Ce);const oe=ze.get(U),Z=g.state.lights,we=g.state.shadowsArray,Be=Z.state.version,Ze=qe.getParameters(U,Z.state,we,K,ae),Ke=qe.getProgramCacheKey(Ze);let lt=oe.programs;oe.environment=U.isMeshStandardMaterial?K.environment:null,oe.fog=K.fog,oe.envMap=(U.isMeshStandardMaterial?J:k).get(U.envMap||oe.environment),oe.envMapRotation=oe.environment!==null&&U.envMap===null?K.environmentRotation:U.envMapRotation,lt===void 0&&(U.addEventListener("dispose",vt),lt=new Map,oe.programs=lt);let ht=lt.get(Ke);if(ht!==void 0){if(oe.currentProgram===ht&&oe.lightsStateVersion===Be)return vc(U,Ze),ht}else Ze.uniforms=qe.getUniforms(U),U.onBeforeCompile(Ze,E),ht=qe.acquireProgram(Ze,Ke),lt.set(Ke,ht),oe.uniforms=Ze.uniforms;const Qe=oe.uniforms;return(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(Qe.clippingPlanes=Me.uniform),vc(U,Ze),oe.needsLights=cd(U),oe.lightsStateVersion=Be,oe.needsLights&&(Qe.ambientLightColor.value=Z.state.ambient,Qe.lightProbe.value=Z.state.probe,Qe.directionalLights.value=Z.state.directional,Qe.directionalLightShadows.value=Z.state.directionalShadow,Qe.spotLights.value=Z.state.spot,Qe.spotLightShadows.value=Z.state.spotShadow,Qe.rectAreaLights.value=Z.state.rectArea,Qe.ltc_1.value=Z.state.rectAreaLTC1,Qe.ltc_2.value=Z.state.rectAreaLTC2,Qe.pointLights.value=Z.state.point,Qe.pointLightShadows.value=Z.state.pointShadow,Qe.hemisphereLights.value=Z.state.hemi,Qe.directionalShadowMap.value=Z.state.directionalShadowMap,Qe.directionalShadowMatrix.value=Z.state.directionalShadowMatrix,Qe.spotShadowMap.value=Z.state.spotShadowMap,Qe.spotLightMatrix.value=Z.state.spotLightMatrix,Qe.spotLightMap.value=Z.state.spotLightMap,Qe.pointShadowMap.value=Z.state.pointShadowMap,Qe.pointShadowMatrix.value=Z.state.pointShadowMatrix),oe.currentProgram=ht,oe.uniformsList=null,ht}function gc(U){if(U.uniformsList===null){const K=U.currentProgram.getUniforms();U.uniformsList=AA.seqWithValue(K.seq,U.uniforms)}return U.uniformsList}function vc(U,K){const ae=ze.get(U);ae.outputColorSpace=K.outputColorSpace,ae.batching=K.batching,ae.batchingColor=K.batchingColor,ae.instancing=K.instancing,ae.instancingColor=K.instancingColor,ae.instancingMorph=K.instancingMorph,ae.skinning=K.skinning,ae.morphTargets=K.morphTargets,ae.morphNormals=K.morphNormals,ae.morphColors=K.morphColors,ae.morphTargetsCount=K.morphTargetsCount,ae.numClippingPlanes=K.numClippingPlanes,ae.numIntersection=K.numClipIntersection,ae.vertexAlphas=K.vertexAlphas,ae.vertexTangents=K.vertexTangents,ae.toneMapping=K.toneMapping}function dp(U,K,ae,oe,Z){K.isScene!==!0&&(K=Ce),z.resetTextureUnits();const we=K.fog,Be=oe.isMeshStandardMaterial?K.environment:null,Ze=I===null?E.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:i0,Ke=(oe.isMeshStandardMaterial?J:k).get(oe.envMap||Be),lt=oe.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,ht=!!ae.attributes.tangent&&(!!oe.normalMap||oe.anisotropy>0),Qe=!!ae.morphAttributes.position,xt=!!ae.morphAttributes.normal,ft=!!ae.morphAttributes.color;let rt=sc;oe.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(rt=E.toneMapping);const Ct=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,yt=Ct!==void 0?Ct.length:0,Ge=ze.get(oe),un=g.state.lights;if(ve===!0&&(ie===!0||U!==C)){const rn=U===C&&oe.id===R;Me.setState(oe,U,rn)}let Ht=!1;oe.version===Ge.__version?(Ge.needsLights&&Ge.lightsStateVersion!==un.state.version||Ge.outputColorSpace!==Ze||Z.isBatchedMesh&&Ge.batching===!1||!Z.isBatchedMesh&&Ge.batching===!0||Z.isBatchedMesh&&Ge.batchingColor===!0&&Z.colorTexture===null||Z.isBatchedMesh&&Ge.batchingColor===!1&&Z.colorTexture!==null||Z.isInstancedMesh&&Ge.instancing===!1||!Z.isInstancedMesh&&Ge.instancing===!0||Z.isSkinnedMesh&&Ge.skinning===!1||!Z.isSkinnedMesh&&Ge.skinning===!0||Z.isInstancedMesh&&Ge.instancingColor===!0&&Z.instanceColor===null||Z.isInstancedMesh&&Ge.instancingColor===!1&&Z.instanceColor!==null||Z.isInstancedMesh&&Ge.instancingMorph===!0&&Z.morphTexture===null||Z.isInstancedMesh&&Ge.instancingMorph===!1&&Z.morphTexture!==null||Ge.envMap!==Ke||oe.fog===!0&&Ge.fog!==we||Ge.numClippingPlanes!==void 0&&(Ge.numClippingPlanes!==Me.numPlanes||Ge.numIntersection!==Me.numIntersection)||Ge.vertexAlphas!==lt||Ge.vertexTangents!==ht||Ge.morphTargets!==Qe||Ge.morphNormals!==xt||Ge.morphColors!==ft||Ge.toneMapping!==rt||Ge.morphTargetsCount!==yt)&&(Ht=!0):(Ht=!0,Ge.__version=oe.version);let Zt=Ge.currentProgram;Ht===!0&&(Zt=Ga(oe,K,Z));let wn=!1,xn=!1,$i=!1;const Bt=Zt.getUniforms(),On=Ge.uniforms;if(Le.useProgram(Zt.program)&&(wn=!0,xn=!0,$i=!0),oe.id!==R&&(R=oe.id,xn=!0),wn||C!==U){Le.buffers.depth.getReversed()?(he.copy(U.projectionMatrix),WUe(he),jUe(he),Bt.setValue(H,"projectionMatrix",he)):Bt.setValue(H,"projectionMatrix",U.projectionMatrix),Bt.setValue(H,"viewMatrix",U.matrixWorldInverse);const rn=Bt.map.cameraPosition;rn!==void 0&&rn.setValue(H,ke.setFromMatrixPosition(U.matrixWorld)),He.logarithmicDepthBuffer&&Bt.setValue(H,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial)&&Bt.setValue(H,"isOrthographic",U.isOrthographicCamera===!0),C!==U&&(C=U,xn=!0,$i=!0)}if(Z.isSkinnedMesh){Bt.setOptional(H,Z,"bindMatrix"),Bt.setOptional(H,Z,"bindMatrixInverse");const rn=Z.skeleton;rn&&(rn.boneTexture===null&&rn.computeBoneTexture(),Bt.setValue(H,"boneTexture",rn.boneTexture,z))}Z.isBatchedMesh&&(Bt.setOptional(H,Z,"batchingTexture"),Bt.setValue(H,"batchingTexture",Z._matricesTexture,z),Bt.setOptional(H,Z,"batchingIdTexture"),Bt.setValue(H,"batchingIdTexture",Z._indirectTexture,z),Bt.setOptional(H,Z,"batchingColorTexture"),Z._colorsTexture!==null&&Bt.setValue(H,"batchingColorTexture",Z._colorsTexture,z));const Kn=ae.morphAttributes;if((Kn.position!==void 0||Kn.normal!==void 0||Kn.color!==void 0)&&at.update(Z,ae,Zt),(xn||Ge.receiveShadow!==Z.receiveShadow)&&(Ge.receiveShadow=Z.receiveShadow,Bt.setValue(H,"receiveShadow",Z.receiveShadow)),oe.isMeshGouraudMaterial&&oe.envMap!==null&&(On.envMap.value=Ke,On.flipEnvMap.value=Ke.isCubeTexture&&Ke.isRenderTargetTexture===!1?-1:1),oe.isMeshStandardMaterial&&oe.envMap===null&&K.environment!==null&&(On.envMapIntensity.value=K.environmentIntensity),xn&&(Bt.setValue(H,"toneMappingExposure",E.toneMappingExposure),Ge.needsLights&&ud(On,$i),we&&oe.fog===!0&&Ie.refreshFogUniforms(On,we),Ie.refreshMaterialUniforms(On,oe,D,se,g.state.transmissionRenderTarget[U.id]),AA.upload(H,gc(Ge),On,z)),oe.isShaderMaterial&&oe.uniformsNeedUpdate===!0&&(AA.upload(H,gc(Ge),On,z),oe.uniformsNeedUpdate=!1),oe.isSpriteMaterial&&Bt.setValue(H,"center",Z.center),Bt.setValue(H,"modelViewMatrix",Z.modelViewMatrix),Bt.setValue(H,"normalMatrix",Z.normalMatrix),Bt.setValue(H,"modelMatrix",Z.matrixWorld),oe.isShaderMaterial||oe.isRawShaderMaterial){const rn=oe.uniformsGroups;for(let Ci=0,Gr=rn.length;Ci<Gr;Ci++){const Io=rn[Ci];Y.update(Io,Zt),Y.bind(Io,Zt)}}return Zt}function ud(U,K){U.ambientLightColor.needsUpdate=K,U.lightProbe.needsUpdate=K,U.directionalLights.needsUpdate=K,U.directionalLightShadows.needsUpdate=K,U.pointLights.needsUpdate=K,U.pointLightShadows.needsUpdate=K,U.spotLights.needsUpdate=K,U.spotLightShadows.needsUpdate=K,U.rectAreaLights.needsUpdate=K,U.hemisphereLights.needsUpdate=K}function cd(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(U,K,ae){ze.get(U.texture).__webglTexture=K,ze.get(U.depthTexture).__webglTexture=ae;const oe=ze.get(U);oe.__hasExternalTextures=!0,oe.__autoAllocateDepthBuffer=ae===void 0,oe.__autoAllocateDepthBuffer||Te.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),oe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(U,K){const ae=ze.get(U);ae.__webglFramebuffer=K,ae.__useDefaultFramebuffer=K===void 0},this.setRenderTarget=function(U,K=0,ae=0){I=U,A=K,L=ae;let oe=!0,Z=null,we=!1,Be=!1;if(U){const Ze=ze.get(U);if(Ze.__useDefaultFramebuffer!==void 0)Le.bindFramebuffer(H.FRAMEBUFFER,null),oe=!1;else if(Ze.__webglFramebuffer===void 0)z.setupRenderTarget(U);else if(Ze.__hasExternalTextures)z.rebindTextures(U,ze.get(U.texture).__webglTexture,ze.get(U.depthTexture).__webglTexture);else if(U.depthBuffer){const ht=U.depthTexture;if(Ze.__boundDepthTexture!==ht){if(ht!==null&&ze.has(ht)&&(U.width!==ht.image.width||U.height!==ht.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");z.setupDepthRenderbuffer(U)}}const Ke=U.texture;(Ke.isData3DTexture||Ke.isDataArrayTexture||Ke.isCompressedArrayTexture)&&(Be=!0);const lt=ze.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(Array.isArray(lt[K])?Z=lt[K][ae]:Z=lt[K],we=!0):U.samples>0&&z.useMultisampledRTT(U)===!1?Z=ze.get(U).__webglMultisampledFramebuffer:Array.isArray(lt)?Z=lt[ae]:Z=lt,O.copy(U.viewport),G.copy(U.scissor),j=U.scissorTest}else O.copy($).multiplyScalar(D).floor(),G.copy(te).multiplyScalar(D).floor(),j=Ae;if(Le.bindFramebuffer(H.FRAMEBUFFER,Z)&&oe&&Le.drawBuffers(U,Z),Le.viewport(O),Le.scissor(G),Le.setScissorTest(j),we){const Ze=ze.get(U.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+K,Ze.__webglTexture,ae)}else if(Be){const Ze=ze.get(U.texture),Ke=K||0;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,Ze.__webglTexture,ae||0,Ke)}R=-1},this.readRenderTargetPixels=function(U,K,ae,oe,Z,we,Be){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ze=ze.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&Be!==void 0&&(Ze=Ze[Be]),Ze){Le.bindFramebuffer(H.FRAMEBUFFER,Ze);try{const Ke=U.texture,lt=Ke.format,ht=Ke.type;if(!He.textureFormatReadable(lt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!He.textureTypeReadable(ht)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}K>=0&&K<=U.width-oe&&ae>=0&&ae<=U.height-Z&&H.readPixels(K,ae,oe,Z,dt.convert(lt),dt.convert(ht),we)}finally{const Ke=I!==null?ze.get(I).__webglFramebuffer:null;Le.bindFramebuffer(H.FRAMEBUFFER,Ke)}}},this.readRenderTargetPixelsAsync=async function(U,K,ae,oe,Z,we,Be){if(!(U&&U.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ze=ze.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&Be!==void 0&&(Ze=Ze[Be]),Ze){const Ke=U.texture,lt=Ke.format,ht=Ke.type;if(!He.textureFormatReadable(lt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!He.textureTypeReadable(ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(K>=0&&K<=U.width-oe&&ae>=0&&ae<=U.height-Z){Le.bindFramebuffer(H.FRAMEBUFFER,Ze);const Qe=H.createBuffer();H.bindBuffer(H.PIXEL_PACK_BUFFER,Qe),H.bufferData(H.PIXEL_PACK_BUFFER,we.byteLength,H.STREAM_READ),H.readPixels(K,ae,oe,Z,dt.convert(lt),dt.convert(ht),0);const xt=I!==null?ze.get(I).__webglFramebuffer:null;Le.bindFramebuffer(H.FRAMEBUFFER,xt);const ft=H.fenceSync(H.SYNC_GPU_COMMANDS_COMPLETE,0);return H.flush(),await GUe(H,ft,4),H.bindBuffer(H.PIXEL_PACK_BUFFER,Qe),H.getBufferSubData(H.PIXEL_PACK_BUFFER,0,we),H.deleteBuffer(Qe),H.deleteSync(ft),we}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(U,K=null,ae=0){U.isTexture!==!0&&(LS("WebGLRenderer: copyFramebufferToTexture function signature has changed."),K=arguments[0]||null,U=arguments[1]);const oe=Math.pow(2,-ae),Z=Math.floor(U.image.width*oe),we=Math.floor(U.image.height*oe),Be=K!==null?K.x:0,Ze=K!==null?K.y:0;z.setTexture2D(U,0),H.copyTexSubImage2D(H.TEXTURE_2D,ae,0,0,Be,Ze,Z,we),Le.unbindTexture()},this.copyTextureToTexture=function(U,K,ae=null,oe=null,Z=0){U.isTexture!==!0&&(LS("WebGLRenderer: copyTextureToTexture function signature has changed."),oe=arguments[0]||null,U=arguments[1],K=arguments[2],Z=arguments[3]||0,ae=null);let we,Be,Ze,Ke,lt,ht,Qe,xt,ft;const rt=U.isCompressedTexture?U.mipmaps[Z]:U.image;ae!==null?(we=ae.max.x-ae.min.x,Be=ae.max.y-ae.min.y,Ze=ae.isBox3?ae.max.z-ae.min.z:1,Ke=ae.min.x,lt=ae.min.y,ht=ae.isBox3?ae.min.z:0):(we=rt.width,Be=rt.height,Ze=rt.depth||1,Ke=0,lt=0,ht=0),oe!==null?(Qe=oe.x,xt=oe.y,ft=oe.z):(Qe=0,xt=0,ft=0);const Ct=dt.convert(K.format),yt=dt.convert(K.type);let Ge;K.isData3DTexture?(z.setTexture3D(K,0),Ge=H.TEXTURE_3D):K.isDataArrayTexture||K.isCompressedArrayTexture?(z.setTexture2DArray(K,0),Ge=H.TEXTURE_2D_ARRAY):(z.setTexture2D(K,0),Ge=H.TEXTURE_2D),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,K.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,K.unpackAlignment);const un=H.getParameter(H.UNPACK_ROW_LENGTH),Ht=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Zt=H.getParameter(H.UNPACK_SKIP_PIXELS),wn=H.getParameter(H.UNPACK_SKIP_ROWS),xn=H.getParameter(H.UNPACK_SKIP_IMAGES);H.pixelStorei(H.UNPACK_ROW_LENGTH,rt.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,rt.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Ke),H.pixelStorei(H.UNPACK_SKIP_ROWS,lt),H.pixelStorei(H.UNPACK_SKIP_IMAGES,ht);const $i=U.isDataArrayTexture||U.isData3DTexture,Bt=K.isDataArrayTexture||K.isData3DTexture;if(U.isRenderTargetTexture||U.isDepthTexture){const On=ze.get(U),Kn=ze.get(K),rn=ze.get(On.__renderTarget),Ci=ze.get(Kn.__renderTarget);Le.bindFramebuffer(H.READ_FRAMEBUFFER,rn.__webglFramebuffer),Le.bindFramebuffer(H.DRAW_FRAMEBUFFER,Ci.__webglFramebuffer);for(let Gr=0;Gr<Ze;Gr++)$i&&H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,ze.get(U).__webglTexture,Z,ht+Gr),U.isDepthTexture?(Bt&&H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,ze.get(K).__webglTexture,Z,ft+Gr),H.blitFramebuffer(Ke,lt,we,Be,Qe,xt,we,Be,H.DEPTH_BUFFER_BIT,H.NEAREST)):Bt?H.copyTexSubImage3D(Ge,Z,Qe,xt,ft+Gr,Ke,lt,we,Be):H.copyTexSubImage2D(Ge,Z,Qe,xt,ft+Gr,Ke,lt,we,Be);Le.bindFramebuffer(H.READ_FRAMEBUFFER,null),Le.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else Bt?U.isDataTexture||U.isData3DTexture?H.texSubImage3D(Ge,Z,Qe,xt,ft,we,Be,Ze,Ct,yt,rt.data):K.isCompressedArrayTexture?H.compressedTexSubImage3D(Ge,Z,Qe,xt,ft,we,Be,Ze,Ct,rt.data):H.texSubImage3D(Ge,Z,Qe,xt,ft,we,Be,Ze,Ct,yt,rt):U.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,Z,Qe,xt,we,Be,Ct,yt,rt.data):U.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,Z,Qe,xt,rt.width,rt.height,Ct,rt.data):H.texSubImage2D(H.TEXTURE_2D,Z,Qe,xt,we,Be,Ct,yt,rt);H.pixelStorei(H.UNPACK_ROW_LENGTH,un),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Ht),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Zt),H.pixelStorei(H.UNPACK_SKIP_ROWS,wn),H.pixelStorei(H.UNPACK_SKIP_IMAGES,xn),Z===0&&K.generateMipmaps&&H.generateMipmap(Ge),Le.unbindTexture()},this.copyTextureToTexture3D=function(U,K,ae=null,oe=null,Z=0){return U.isTexture!==!0&&(LS("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ae=arguments[0]||null,oe=arguments[1]||null,U=arguments[2],K=arguments[3],Z=arguments[4]||0),LS('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(U,K,ae,oe,Z)},this.initRenderTarget=function(U){ze.get(U).__webglFramebuffer===void 0&&z.setupRenderTarget(U)},this.initTexture=function(U){U.isCubeTexture?z.setTextureCube(U,0):U.isData3DTexture?z.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?z.setTexture2DArray(U,0):z.setTexture2D(U,0),Le.unbindTexture()},this.resetState=function(){A=0,L=0,I=null,Le.reset(),Vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Gu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Mn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Mn._getUnpackColorSpace()}}class ML{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Rt(e),this.density=n}clone(){return new ML(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class wL{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Rt(e),this.near=n,this.far=r}clone(){return new wL(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class bP extends In{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Eo,this.environmentIntensity=1,this.environmentRotation=new Eo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class EL{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=GM,this.updateRanges=[],this.version=0,this.uuid=xo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Xs=new ue;class Gg{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Xs.fromBufferAttribute(this,n),Xs.applyMatrix4(e),this.setXYZ(n,Xs.x,Xs.y,Xs.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Xs.fromBufferAttribute(this,n),Xs.applyNormalMatrix(e),this.setXYZ(n,Xs.x,Xs.y,Xs.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Xs.fromBufferAttribute(this,n),Xs.transformDirection(e),this.setXYZ(n,Xs.x,Xs.y,Xs.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Qs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=en(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Qs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Qs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Qs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Qs(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Yn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Gg(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class D8 extends ms{static get type(){return"SpriteMaterial"}constructor(e){super(),this.isSpriteMaterial=!0,this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Uv;const eS=new ue,Fv=new ue,zv=new ue,Bv=new tt,tS=new tt,jue=new qt,gT=new ue,nS=new ue,vT=new ue,pY=new tt,yD=new tt,mY=new tt;class Xue extends In{constructor(e=new D8){if(super(),this.isSprite=!0,this.type="Sprite",Uv===void 0){Uv=new nn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new EL(n,5);Uv.setIndex([0,1,2,0,2,3]),Uv.setAttribute("position",new Gg(r,3,0,!1)),Uv.setAttribute("uv",new Gg(r,2,3,!1))}this.geometry=Uv,this.material=e,this.center=new tt(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fv.setFromMatrixScale(this.matrixWorld),jue.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),zv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fv.multiplyScalar(-zv.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;yT(gT.set(-.5,-.5,0),zv,a,Fv,i,s),yT(nS.set(.5,-.5,0),zv,a,Fv,i,s),yT(vT.set(.5,.5,0),zv,a,Fv,i,s),pY.set(0,0),yD.set(1,0),mY.set(1,1);let o=e.ray.intersectTriangle(gT,nS,vT,!1,eS);if(o===null&&(yT(nS.set(-.5,.5,0),zv,a,Fv,i,s),yD.set(0,1),o=e.ray.intersectTriangle(gT,vT,nS,!1,eS),o===null))return;const l=e.ray.origin.distanceTo(eS);l<e.near||l>e.far||n.push({distance:l,point:eS.clone(),uv:wa.getInterpolation(eS,gT,nS,vT,pY,yD,mY,new tt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function yT(t,e,n,r,i,s){Bv.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(tS.x=s*Bv.x-i*Bv.y,tS.y=i*Bv.x+s*Bv.y):tS.copy(Bv),t.copy(e),t.x+=tS.x,t.y+=tS.y,t.applyMatrix4(jue)}const xT=new ue,gY=new ue;class $ue extends In{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){xT.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(xT);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){xT.setFromMatrixPosition(e.matrixWorld),gY.setFromMatrixPosition(this.matrixWorld);const r=xT.distanceTo(gY)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const vY=new ue,yY=new Cn,xY=new Cn,i7e=new ue,_Y=new qt,_T=new ue,xD=new Fs,SY=new qt,_D=new cx;class Yue extends di{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=_U,this.bindMatrix=new qt,this.bindMatrixInverse=new qt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ia),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,_T),this.boundingBox.expandByPoint(_T)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fs),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,_T),this.boundingSphere.expandByPoint(_T)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),xD.copy(this.boundingSphere),xD.applyMatrix4(i),e.ray.intersectsSphere(xD)!==!1&&(SY.copy(i).invert(),_D.copy(e.ray).applyMatrix4(SY),!(this.boundingBox!==null&&_D.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,_D)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Cn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===_U?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===pue?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;yY.fromBufferAttribute(i.attributes.skinIndex,e),xY.fromBufferAttribute(i.attributes.skinWeight,e),vY.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=xY.getComponent(s);if(a!==0){const o=yY.getComponent(s);_Y.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(i7e.copy(vY).applyMatrix4(_Y),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class O8 extends In{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ac extends Pr{constructor(e=null,n=1,r=1,i,s,a,o,l,u=hs,h=hs,d,f){super(null,a,o,l,u,h,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const bY=new qt,s7e=new qt;class TL{constructor(e=[],n=[]){this.uuid=xo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new qt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new qt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:s7e;bY.multiplyMatrices(o,n[s]),bY.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new TL(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new ac(n,e,e,Ds,Ca);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new O8),this.bones.push(a),this.boneInverses.push(new qt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class H1 extends Yn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Vv=new qt,MY=new qt,ST=[],wY=new ia,a7e=new qt,rS=new di,iS=new Fs;class que extends di{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new H1(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,a7e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ia),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Vv),wY.copy(e.boundingBox).applyMatrix4(Vv),this.boundingBox.union(wY)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Vv),iS.copy(e.boundingSphere).applyMatrix4(Vv),this.boundingSphere.union(iS)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let o=0;o<r.length;o++)r[o]=i[a+o]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(rS.geometry=this.geometry,rS.material=this.material,rS.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),iS.copy(this.boundingSphere),iS.applyMatrix4(r),e.ray.intersectsSphere(iS)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Vv),MY.multiplyMatrices(r,Vv),rS.matrixWorld=MY,rS.raycast(e,ST);for(let a=0,o=ST.length;a<o;a++){const l=ST[a];l.instanceId=s,l.object=this,n.push(l)}ST.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new H1(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new ac(new Float32Array(i*this.count),i,this.count,vL,Ca));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<r.length;u++)a+=r[u];const o=this.geometry.morphTargetsRelative?1:1-a,l=i*e;s[l]=o,s.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function SD(t,e){return t-e}function o7e(t,e){return t.z-e.z}function l7e(t,e){return e.z-t.z}class u7e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=n,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const ga=new qt,c7e=new Rt(1,1,1),bD=new Hw,bT=new ia,dm=new Fs,sS=new ue,EY=new ue,h7e=new ue,MD=new u7e,Cs=new di,MT=[];function d7e(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function fm(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class Zue extends di{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,n,r=n*2,i){super(new nn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new ac(n,e,e,Ds,Ca);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new ac(n,e,e,Fw,td);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new ac(n,e,e,Ds,Ca);r.colorSpace=Mn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:u}=a,h=new o.constructor(r*l),d=new Yn(h,l,u);n.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Yn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ia);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,ga),this.getBoundingBoxAt(s,bT).applyMatrix4(ga),e.union(bT)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fs);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,ga),this.getBoundingSphereAt(s,dm).applyMatrix4(ga),e.union(dm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(SD),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const i=this._matricesTexture;ga.identity().toArray(i.image.data,r*16),i.needsUpdate=!0;const s=this._colorsTexture;return s&&(c7e.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let o;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(SD),o=this._availableGeometryIds.shift(),s[o]=i):(o=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(o,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,o}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=n.getIndex(),o=this._geometryInfo[e];if(i&&a.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const h in r.attributes){const d=n.getAttribute(h),f=r.getAttribute(h);d7e(d,f,l);const m=d.itemSize;for(let v=d.count,S=u;v<S;v++){const y=l+v;for(let g=0;g<m;g++)f.setComponent(y,g,0)}f.needsUpdate=!0,f.addUpdateRange(l*m,u*m)}if(i){const h=o.indexStart,d=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let f=0;f<a.count;f++)s.setX(h+f,l+a.getX(f));for(let f=a.count,m=d;f<m;f++)s.setX(h+f,l);s.needsUpdate=!0,s.addUpdateRange(h,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,o)=>o).sort((a,o)=>r[a].vertexStart-r[o].vertexStart),s=this.geometry;for(let a=0,o=r.length;a<o;a++){const l=i[a],u=r[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==n){const{indexStart:h,vertexStart:d,reservedIndexCount:f}=u,m=s.index,v=m.array,S=e-d;for(let y=h;y<h+f;y++)v[y]=v[y]+S;m.array.copyWithin(n,h,h+f),m.addUpdateRange(n,f),u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:h,reservedVertexCount:d}=u,f=s.attributes;for(const m in f){const v=f[m],{array:S,itemSize:y}=v;S.copyWithin(e*y,h*y,(h+d)*y),v.addUpdateRange(e*y,d*y)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new ia,a=r.index,o=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let h=l;a&&(h=a.getX(h)),s.expandByPoint(sS.fromBufferAttribute(o,h))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Fs;this.getBoundingBoxAt(e,bT),bT.getCenter(s.center);const a=r.index,o=r.attributes.position;let l=0;for(let u=i.start,h=i.start+i.count;u<h;u++){let d=u;a&&(d=a.getX(d)),sS.fromBufferAttribute(o,d),l=Math.max(l,s.center.distanceToSquared(sS))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){const r=this._instanceInfo,i=this._matricesTexture,s=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._instanceInfo,i=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._colorsTexture,i=this._colorsTexture.image.data,s=this._instanceInfo;return e>=s.length||s[e].active===!1?this:(n.toArray(i,e*4),r.needsUpdate=!0,this)}getColorAt(e,n){const r=this._colorsTexture.image.data,i=this._instanceInfo;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*4)}setVisibleAt(e,n){const r=this._instanceInfo;return e>=r.length||r[e].active===!1||r[e].visible===n?this:(r[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}setGeometryIdAt(e,n){const r=this._instanceInfo,i=this._geometryInfo;return e>=r.length||r[e].active===!1||n>=i.length||i[n].active===!1?null:(r[e].geometryIndex=n,this)}getGeometryIdAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?-1:n[e].geometryIndex}getGeometryRangeAt(e,n={}){if(e<0||e>=this._geometryCount)return null;const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(SD);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);fm(this._multiDrawCounts,i),fm(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),fm(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),fm(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),fm(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(a=>a.indexStart+a.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const i=this.geometry;i.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new nn,this._initializeGeometry(i));const s=this.geometry;i.index&&fm(i.index.array,s.index.array);for(const a in i.attributes)fm(i.attributes[a].array,s.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;Cs.material=this.material,Cs.geometry.index=a.index,Cs.geometry.attributes=a.attributes,Cs.geometry.boundingBox===null&&(Cs.geometry.boundingBox=new ia),Cs.geometry.boundingSphere===null&&(Cs.geometry.boundingSphere=new Fs);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const u=r[o].geometryIndex,h=i[u];Cs.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(o,Cs.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Cs.geometry.boundingBox),this.getBoundingSphereAt(u,Cs.geometry.boundingSphere),Cs.raycast(e,MT);for(let d=0,f=MT.length;d<f;d++){const m=MT[d];m.object=this,m.batchId=o,n.push(m)}MT.length=0}Cs.material=null,Cs.geometry.index=null,Cs.geometry.attributes={},Cs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,h=this._multiDrawCounts,d=this._geometryInfo,f=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data;f&&(ga.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),bD.setFromProjectionMatrix(ga,e.coordinateSystem));let S=0;if(this.sortObjects){ga.copy(this.matrixWorld).invert(),sS.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ga),EY.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ga);for(let b=0,M=l.length;b<M;b++)if(l[b].visible&&l[b].active){const E=l[b].geometryIndex;this.getMatrixAt(b,ga),this.getBoundingSphereAt(E,dm).applyMatrix4(ga);let P=!1;if(f&&(P=!bD.intersectsSphere(dm)),!P){const A=d[E],L=h7e.subVectors(dm.center,sS).dot(EY);MD.push(A.start,A.count,L,b)}}const y=MD.list,g=this.customSort;g===null?y.sort(s.transparent?l7e:o7e):g.call(this,y,r);for(let b=0,M=y.length;b<M;b++){const E=y[b];u[S]=E.start*o,h[S]=E.count,v[S]=E.index,S++}MD.reset()}else for(let y=0,g=l.length;y<g;y++)if(l[y].visible&&l[y].active){const b=l[y].geometryIndex;let M=!1;if(f&&(this.getMatrixAt(y,ga),this.getBoundingSphereAt(b,dm).applyMatrix4(ga),M=!bD.intersectsSphere(dm)),!M){const E=d[b];u[S]=E.start*o,h[S]=E.count,v[S]=y,S++}}m.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class ca extends ms{static get type(){return"LineBasicMaterial"}constructor(e){super(),this.isLineBasicMaterial=!0,this.color=new Rt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const MP=new ue,wP=new ue,TY=new qt,aS=new cx,wT=new Fs,wD=new ue,AY=new ue;class qf extends In{constructor(e=new nn,n=new ca){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)MP.fromBufferAttribute(n,i-1),wP.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=MP.distanceTo(wP);e.setAttribute("lineDistance",new Ft(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),wT.copy(r.boundingSphere),wT.applyMatrix4(i),wT.radius+=s,e.ray.intersectsSphere(wT)===!1)return;TY.copy(i).invert(),aS.copy(e.ray).applyMatrix4(TY);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,h=r.index,d=r.attributes.position;if(h!==null){const f=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count);for(let v=f,S=m-1;v<S;v+=u){const y=h.getX(v),g=h.getX(v+1),b=ET(this,e,aS,l,y,g);b&&n.push(b)}if(this.isLineLoop){const v=h.getX(m-1),S=h.getX(f),y=ET(this,e,aS,l,v,S);y&&n.push(y)}}else{const f=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count);for(let v=f,S=m-1;v<S;v+=u){const y=ET(this,e,aS,l,v,v+1);y&&n.push(y)}if(this.isLineLoop){const v=ET(this,e,aS,l,m-1,f);v&&n.push(v)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){const a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}}function ET(t,e,n,r,i,s){const a=t.geometry.attributes.position;if(MP.fromBufferAttribute(a,i),wP.fromBufferAttribute(a,s),n.distanceSqToSegment(MP,wP,wD,AY)>r)return;wD.applyMatrix4(t.matrixWorld);const o=e.ray.origin.distanceTo(wD);if(!(o<e.near||o>e.far))return{distance:o,point:AY.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:t}}const CY=new ue,PY=new ue;class fc extends qf{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)CY.fromBufferAttribute(n,i),PY.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+CY.distanceTo(PY);e.setAttribute("lineDistance",new Ft(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Kue extends qf{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class k8 extends ms{static get type(){return"PointsMaterial"}constructor(e){super(),this.isPointsMaterial=!0,this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const RY=new qt,TU=new cx,TT=new Fs,AT=new ue;class Que extends In{constructor(e=new nn,n=new k8){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),TT.copy(r.boundingSphere),TT.applyMatrix4(i),TT.radius+=s,e.ray.intersectsSphere(TT)===!1)return;RY.copy(i).invert(),TU.copy(e.ray).applyMatrix4(RY);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=r.index,h=r.attributes.position;if(u!==null){const d=Math.max(0,a.start),f=Math.min(u.count,a.start+a.count);for(let m=d,v=f;m<v;m++){const S=u.getX(m);AT.fromBufferAttribute(h,S),LY(AT,S,l,i,e,n,this)}}else{const d=Math.max(0,a.start),f=Math.min(h.count,a.start+a.count);for(let m=d,v=f;m<v;m++)AT.fromBufferAttribute(h,m),LY(AT,m,l,i,e,n,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){const a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}}function LY(t,e,n,r,i,s,a){const o=TU.distanceSqToPoint(t);if(o<n){const l=new ue;TU.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class f7e extends Pr{constructor(e,n,r,i,s,a,o,l,u){super(e,n,r,i,s,a,o,l,u),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Mi,this.magFilter=s!==void 0?s:Mi,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class p7e extends Pr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=hs,this.minFilter=hs,this.generateMipmaps=!1,this.needsUpdate=!0}}class AL extends Pr{constructor(e,n,r,i,s,a,o,l,u,h,d,f){super(null,a,o,l,u,h,i,s,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class m7e extends AL{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ol,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class g7e extends AL{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,ed),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class v7e extends Pr{constructor(e,n,r,i,s,a,o,l,u){super(e,n,r,i,s,a,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ru{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,l=s-1,u;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),u=r[i]-a,u<0)o=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const h=r[i],d=r[i+1]-h,f=(a-h)/d;return(i+f)/(s-1)}getTangent(e,n){let r=e-1e-4,i=e+1e-4;r<0&&(r=0),i>1&&(i=1);const s=this.getPoint(r),a=this.getPoint(i),o=n||(s.isVector2?new tt:new ue);return o.copy(a).sub(s).normalize(),o}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ue,i=[],s=[],a=[],o=new ue,l=new qt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new ue)}s[0]=new ue,a[0]=new ue;let u=Number.MAX_VALUE;const h=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);h<=u&&(u=h,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),f<=u&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),a[m]=a[m-1].clone(),o.crossVectors(i[m-1],i[m]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(Hr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(o,v))}a[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Hr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),a[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class CL extends ru{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new tt){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,m=u-this.aY;l=f*h-m*d+this.aX,u=f*d+m*h+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Jue extends CL{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function U8(){let t=0,e=0,n=0,r=0;function i(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,u){i(a,o,u*(o-s),u*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,u,h,d){let f=(a-s)/u-(o-s)/(u+h)+(o-a)/h,m=(o-a)/h-(l-a)/(h+d)+(l-o)/d;f*=h,m*=h,i(a,o,f,m)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const CT=new ue,ED=new U8,TD=new U8,AD=new U8;class ece extends ru{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ue){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let u,h;this.closed||o>0?u=i[(o-1)%s]:(CT.subVectors(i[0],i[1]).add(i[0]),u=CT);const d=i[o%s],f=i[(o+1)%s];if(this.closed||o+2<s?h=i[(o+2)%s]:(CT.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=CT),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(d),m),S=Math.pow(d.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(h),m);S<1e-4&&(S=1),v<1e-4&&(v=S),y<1e-4&&(y=S),ED.initNonuniformCatmullRom(u.x,d.x,f.x,h.x,v,S,y),TD.initNonuniformCatmullRom(u.y,d.y,f.y,h.y,v,S,y),AD.initNonuniformCatmullRom(u.z,d.z,f.z,h.z,v,S,y)}else this.curveType==="catmullrom"&&(ED.initCatmullRom(u.x,d.x,f.x,h.x,this.tension),TD.initCatmullRom(u.y,d.y,f.y,h.y,this.tension),AD.initCatmullRom(u.z,d.z,f.z,h.z,this.tension));return r.set(ED.calc(l),TD.calc(l),AD.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ue().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function IY(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+s+a)*l+(-3*n+3*r-2*s-a)*o+s*t+n}function y7e(t,e){const n=1-t;return n*n*e}function x7e(t,e){return 2*(1-t)*t*e}function _7e(t,e){return t*t*e}function Tb(t,e,n,r){return y7e(t,e)+x7e(t,n)+_7e(t,r)}function S7e(t,e){const n=1-t;return n*n*n*e}function b7e(t,e){const n=1-t;return 3*n*n*t*e}function M7e(t,e){return 3*(1-t)*t*t*e}function w7e(t,e){return t*t*t*e}function Ab(t,e,n,r,i){return S7e(t,e)+b7e(t,n)+M7e(t,r)+w7e(t,i)}class F8 extends ru{constructor(e=new tt,n=new tt,r=new tt,i=new tt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new tt){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(Ab(e,i.x,s.x,a.x,o.x),Ab(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class tce extends ru{constructor(e=new ue,n=new ue,r=new ue,i=new ue){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ue){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(Ab(e,i.x,s.x,a.x,o.x),Ab(e,i.y,s.y,a.y,o.y),Ab(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class z8 extends ru{constructor(e=new tt,n=new tt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new tt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new tt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nce extends ru{constructor(e=new ue,n=new ue){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ue){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ue){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class B8 extends ru{constructor(e=new tt,n=new tt,r=new tt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new tt){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(Tb(e,i.x,s.x,a.x),Tb(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class V8 extends ru{constructor(e=new ue,n=new ue,r=new ue){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ue){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(Tb(e,i.x,s.x,a.x),Tb(e,i.y,s.y,a.y),Tb(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class H8 extends ru{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new tt){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],u=i[a],h=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return r.set(IY(o,l.x,u.x,h.x,d.x),IY(o,l.y,u.y,h.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new tt().fromArray(i))}return this}}var EP=Object.freeze({__proto__:null,ArcCurve:Jue,CatmullRomCurve3:ece,CubicBezierCurve:F8,CubicBezierCurve3:tce,EllipseCurve:CL,LineCurve:z8,LineCurve3:nce,QuadraticBezierCurve:B8,QuadraticBezierCurve3:V8,SplineCurve:H8});class rce extends ru{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new EP[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),u=l===0?0:1-a/l;return o.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let u=0;u<l.length;u++){const h=l[u];r&&r.equals(h)||(n.push(h),r=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new EP[i.type]().fromJSON(i))}return this}}class XM extends rce{constructor(e){super(),this.type="Path",this.currentPoint=new tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new z8(this.currentPoint.clone(),new tt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new B8(this.currentPoint.clone(),new tt(e,n),new tt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new F8(this.currentPoint.clone(),new tt(e,n),new tt(r,i),new tt(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new H8(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,n+h,r,i,s,a,o,l),this}absellipse(e,n,r,i,s,a,o,l){const u=new CL(e,n,r,i,s,a,o,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ww extends nn{constructor(e=[new tt(0,-.5),new tt(.5,0),new tt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Hr(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],u=[],h=1/n,d=new ue,f=new tt,m=new ue,v=new ue,S=new ue;let y=0,g=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:y=e[b+1].x-e[b].x,g=e[b+1].y-e[b].y,m.x=g*1,m.y=-y,m.z=g*0,S.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:y=e[b+1].x-e[b].x,g=e[b+1].y-e[b].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),l.push(m.x,m.y,m.z),S.copy(v)}for(let b=0;b<=n;b++){const M=r+b*h*i,E=Math.sin(M),P=Math.cos(M);for(let A=0;A<=e.length-1;A++){d.x=e[A].x*E,d.y=e[A].y,d.z=e[A].x*P,a.push(d.x,d.y,d.z),f.x=b/n,f.y=A/(e.length-1),o.push(f.x,f.y);const L=l[3*A+0]*E,I=l[3*A+1],R=l[3*A+0]*P;u.push(L,I,R)}}for(let b=0;b<n;b++)for(let M=0;M<e.length-1;M++){const E=M+b*e.length,P=E,A=E+e.length,L=E+e.length+1,I=E+1;s.push(P,A,I),s.push(L,I,A)}this.setIndex(s),this.setAttribute("position",new Ft(a,3)),this.setAttribute("uv",new Ft(o,2)),this.setAttribute("normal",new Ft(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ww(e.points,e.segments,e.phiStart,e.phiLength)}}class PL extends Ww{constructor(e=1,n=1,r=4,i=8){const s=new XM;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new PL(e.radius,e.length,e.capSegments,e.radialSegments)}}class RL extends nn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],o=[],l=[],u=new ue,h=new tt;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const m=r+d/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),a.push(u.x,u.y,u.z),o.push(0,0,1),h.x=(a[f]/e+1)/2,h.y=(a[f+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ft(a,3)),this.setAttribute("normal",new Ft(o,3)),this.setAttribute("uv",new Ft(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RL(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class fx extends nn{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],d=[],f=[],m=[];let v=0;const S=[],y=r/2;let g=0;b(),a===!1&&(e>0&&M(!0),n>0&&M(!1)),this.setIndex(h),this.setAttribute("position",new Ft(d,3)),this.setAttribute("normal",new Ft(f,3)),this.setAttribute("uv",new Ft(m,2));function b(){const E=new ue,P=new ue;let A=0;const L=(n-e)/r;for(let I=0;I<=s;I++){const R=[],C=I/s,O=C*(n-e)+e;for(let G=0;G<=i;G++){const j=G/i,q=j*l+o,Q=Math.sin(q),X=Math.cos(q);P.x=O*Q,P.y=-C*r+y,P.z=O*X,d.push(P.x,P.y,P.z),E.set(Q,L,X).normalize(),f.push(E.x,E.y,E.z),m.push(j,1-C),R.push(v++)}S.push(R)}for(let I=0;I<i;I++)for(let R=0;R<s;R++){const C=S[R][I],O=S[R+1][I],G=S[R+1][I+1],j=S[R][I+1];(e>0||R!==0)&&(h.push(C,O,j),A+=3),(n>0||R!==s-1)&&(h.push(O,G,j),A+=3)}u.addGroup(g,A,0),g+=A}function M(E){const P=v,A=new tt,L=new ue;let I=0;const R=E===!0?e:n,C=E===!0?1:-1;for(let G=1;G<=i;G++)d.push(0,y*C,0),f.push(0,C,0),m.push(.5,.5),v++;const O=v;for(let G=0;G<=i;G++){const j=G/i*l+o,q=Math.cos(j),Q=Math.sin(j);L.x=R*Q,L.y=y*C,L.z=R*q,d.push(L.x,L.y,L.z),f.push(0,C,0),A.x=q*.5+.5,A.y=Q*.5*C+.5,m.push(A.x,A.y),v++}for(let G=0;G<i;G++){const j=P+G,q=O+G;E===!0?h.push(q,q+1,j):h.push(q+1,q,j),I+=3}u.addGroup(g,I,E===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class LL extends fx{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new LL(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class cp extends nn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),u(r),h(),this.setAttribute("position",new Ft(s,3)),this.setAttribute("normal",new Ft(s.slice(),3)),this.setAttribute("uv",new Ft(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(b){const M=new ue,E=new ue,P=new ue;for(let A=0;A<n.length;A+=3)m(n[A+0],M),m(n[A+1],E),m(n[A+2],P),l(M,E,P,b)}function l(b,M,E,P){const A=P+1,L=[];for(let I=0;I<=A;I++){L[I]=[];const R=b.clone().lerp(E,I/A),C=M.clone().lerp(E,I/A),O=A-I;for(let G=0;G<=O;G++)G===0&&I===A?L[I][G]=R:L[I][G]=R.clone().lerp(C,G/O)}for(let I=0;I<A;I++)for(let R=0;R<2*(A-I)-1;R++){const C=Math.floor(R/2);R%2===0?(f(L[I][C+1]),f(L[I+1][C]),f(L[I][C])):(f(L[I][C+1]),f(L[I+1][C+1]),f(L[I+1][C]))}}function u(b){const M=new ue;for(let E=0;E<s.length;E+=3)M.x=s[E+0],M.y=s[E+1],M.z=s[E+2],M.normalize().multiplyScalar(b),s[E+0]=M.x,s[E+1]=M.y,s[E+2]=M.z}function h(){const b=new ue;for(let M=0;M<s.length;M+=3){b.x=s[M+0],b.y=s[M+1],b.z=s[M+2];const E=y(b)/2/Math.PI+.5,P=g(b)/Math.PI+.5;a.push(E,1-P)}v(),d()}function d(){for(let b=0;b<a.length;b+=6){const M=a[b+0],E=a[b+2],P=a[b+4],A=Math.max(M,E,P),L=Math.min(M,E,P);A>.9&&L<.1&&(M<.2&&(a[b+0]+=1),E<.2&&(a[b+2]+=1),P<.2&&(a[b+4]+=1))}}function f(b){s.push(b.x,b.y,b.z)}function m(b,M){const E=b*3;M.x=e[E+0],M.y=e[E+1],M.z=e[E+2]}function v(){const b=new ue,M=new ue,E=new ue,P=new ue,A=new tt,L=new tt,I=new tt;for(let R=0,C=0;R<s.length;R+=9,C+=6){b.set(s[R+0],s[R+1],s[R+2]),M.set(s[R+3],s[R+4],s[R+5]),E.set(s[R+6],s[R+7],s[R+8]),A.set(a[C+0],a[C+1]),L.set(a[C+2],a[C+3]),I.set(a[C+4],a[C+5]),P.copy(b).add(M).add(E).divideScalar(3);const O=y(P);S(A,C+0,b,O),S(L,C+2,M,O),S(I,C+4,E,O)}}function S(b,M,E,P){P<0&&b.x===1&&(a[M]=b.x-1),E.x===0&&E.z===0&&(a[M]=P/2/Math.PI+.5)}function y(b){return Math.atan2(b.z,-b.x)}function g(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cp(e.vertices,e.indices,e.radius,e.details)}}class IL extends cp{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new IL(e.radius,e.detail)}}const PT=new ue,RT=new ue,CD=new ue,LT=new wa;class ice extends nn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),i=Math.cos(gg*n),s=e.getIndex(),a=e.getAttribute("position"),o=s?s.count:a.count,l=[0,0,0],u=["a","b","c"],h=new Array(3),d={},f=[];for(let m=0;m<o;m+=3){s?(l[0]=s.getX(m),l[1]=s.getX(m+1),l[2]=s.getX(m+2)):(l[0]=m,l[1]=m+1,l[2]=m+2);const{a:v,b:S,c:y}=LT;if(v.fromBufferAttribute(a,l[0]),S.fromBufferAttribute(a,l[1]),y.fromBufferAttribute(a,l[2]),LT.getNormal(CD),h[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,h[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,h[2]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let g=0;g<3;g++){const b=(g+1)%3,M=h[g],E=h[b],P=LT[u[g]],A=LT[u[b]],L=`${M}_${E}`,I=`${E}_${M}`;I in d&&d[I]?(CD.dot(d[I].normal)<=i&&(f.push(P.x,P.y,P.z),f.push(A.x,A.y,A.z)),d[I]=null):L in d||(d[L]={index0:l[g],index1:l[b],normal:CD.clone()})}}for(const m in d)if(d[m]){const{index0:v,index1:S}=d[m];PT.fromBufferAttribute(a,v),RT.fromBufferAttribute(a,S),f.push(PT.x,PT.y,PT.z),f.push(RT.x,RT.y,RT.z)}this.setAttribute("position",new Ft(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class yg extends XM{constructor(e){super(e),this.uuid=xo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new XM().fromJSON(i))}return this}}const E7e={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=sce(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u,h,d,f,m;if(r&&(s=R7e(t,e,s,n)),t.length>80*n){o=u=t[0],l=h=t[1];for(let v=n;v<i;v+=n)d=t[v],f=t[v+1],d<o&&(o=d),f<l&&(l=f),d>u&&(u=d),f>h&&(h=f);m=Math.max(u-o,h-l),m=m!==0?32767/m:0}return $M(s,a,n,o,l,m,0),a}};function sce(t,e,n,r,i){let s,a;if(i===V7e(t,e,n,r)>0)for(s=e;s<n;s+=r)a=NY(s,t[s],t[s+1],a);else for(s=n-r;s>=e;s-=r)a=NY(s,t[s],t[s+1],a);return a&&NL(a,a.next)&&(qM(a),a=a.next),a}function Wg(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(NL(n,n.next)||Er(n.prev,n,n.next)===0)){if(qM(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function $M(t,e,n,r,i,s,a){if(!t)return;!a&&s&&O7e(t,r,i,s);let o=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?A7e(t,r,i,s):T7e(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),qM(t),t=u.next,o=u.next;continue}if(t=u,t===o){a?a===1?(t=C7e(Wg(t),e,n),$M(t,e,n,r,i,s,2)):a===2&&P7e(t,e,n,r,i,s):$M(Wg(t),e,n,r,i,s,1);break}}}function T7e(t){const e=t.prev,n=t,r=t.next;if(Er(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,u=r.y,h=i<s?i<a?i:a:s<a?s:a,d=o<l?o<u?o:u:l<u?l:u,f=i>s?i>a?i:a:s>a?s:a,m=o>l?o>u?o:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=h&&v.x<=f&&v.y>=d&&v.y<=m&&Wy(i,o,s,l,a,u,v.x,v.y)&&Er(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function A7e(t,e,n,r){const i=t.prev,s=t,a=t.next;if(Er(i,s,a)>=0)return!1;const o=i.x,l=s.x,u=a.x,h=i.y,d=s.y,f=a.y,m=o<l?o<u?o:u:l<u?l:u,v=h<d?h<f?h:f:d<f?d:f,S=o>l?o>u?o:u:l>u?l:u,y=h>d?h>f?h:f:d>f?d:f,g=AU(m,v,e,n,r),b=AU(S,y,e,n,r);let M=t.prevZ,E=t.nextZ;for(;M&&M.z>=g&&E&&E.z<=b;){if(M.x>=m&&M.x<=S&&M.y>=v&&M.y<=y&&M!==i&&M!==a&&Wy(o,h,l,d,u,f,M.x,M.y)&&Er(M.prev,M,M.next)>=0||(M=M.prevZ,E.x>=m&&E.x<=S&&E.y>=v&&E.y<=y&&E!==i&&E!==a&&Wy(o,h,l,d,u,f,E.x,E.y)&&Er(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;M&&M.z>=g;){if(M.x>=m&&M.x<=S&&M.y>=v&&M.y<=y&&M!==i&&M!==a&&Wy(o,h,l,d,u,f,M.x,M.y)&&Er(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;E&&E.z<=b;){if(E.x>=m&&E.x<=S&&E.y>=v&&E.y<=y&&E!==i&&E!==a&&Wy(o,h,l,d,u,f,E.x,E.y)&&Er(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function C7e(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!NL(i,s)&&ace(i,r,r.next,s)&&YM(i,s)&&YM(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),qM(r),qM(r.next),r=t=s),r=r.next}while(r!==t);return Wg(r)}function P7e(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&F7e(a,o)){let l=oce(a,o);a=Wg(a,a.next),l=Wg(l,l.next),$M(a,e,n,r,i,s,0),$M(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function R7e(t,e,n,r){const i=[];let s,a,o,l,u;for(s=0,a=e.length;s<a;s++)o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,u=sce(t,o,l,r,!1),u===u.next&&(u.steiner=!0),i.push(U7e(u));for(i.sort(L7e),s=0;s<i.length;s++)n=I7e(i[s],n);return n}function L7e(t,e){return t.x-e.x}function I7e(t,e){const n=N7e(t,e);if(!n)return e;const r=oce(n,t);return Wg(r,r.next),Wg(n,n.next)}function N7e(t,e){let n=e,r=-1/0,i;const s=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const f=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=s&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===s))return i}n=n.next}while(n!==e);if(!i)return null;const o=i,l=i.x,u=i.y;let h=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Wy(a<u?s:r,a,l,u,a<u?r:s,a,n.x,n.y)&&(d=Math.abs(a-n.y)/(s-n.x),YM(n,t)&&(d<h||d===h&&(n.x>i.x||n.x===i.x&&D7e(i,n)))&&(i=n,h=d)),n=n.next;while(n!==o);return i}function D7e(t,e){return Er(t.prev,t,e.prev)<0&&Er(e.next,t,t.next)<0}function O7e(t,e,n,r){let i=t;do i.z===0&&(i.z=AU(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,k7e(i)}function k7e(t){let e,n,r,i,s,a,o,l,u=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,r=n,o=0,e=0;e<u&&(o++,r=r.nextZ,!!r);e++);for(l=u;o>0||l>0&&r;)o!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(a>1);return t}function AU(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function U7e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Wy(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function F7e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!z7e(t,e)&&(YM(t,e)&&YM(e,t)&&B7e(t,e)&&(Er(t.prev,t,e.prev)||Er(t,e.prev,e))||NL(t,e)&&Er(t.prev,t,t.next)>0&&Er(e.prev,e,e.next)>0)}function Er(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function NL(t,e){return t.x===e.x&&t.y===e.y}function ace(t,e,n,r){const i=NT(Er(t,e,n)),s=NT(Er(t,e,r)),a=NT(Er(n,r,t)),o=NT(Er(n,r,e));return!!(i!==s&&a!==o||i===0&&IT(t,n,e)||s===0&&IT(t,r,e)||a===0&&IT(n,t,r)||o===0&&IT(n,e,r))}function IT(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function NT(t){return t>0?1:t<0?-1:0}function z7e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ace(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function YM(t,e){return Er(t.prev,t,t.next)<0?Er(t,e,t.next)>=0&&Er(t,t.prev,e)>=0:Er(t,e,t.prev)<0||Er(t,t.next,e)<0}function B7e(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function oce(t,e){const n=new CU(t.i,t.x,t.y),r=new CU(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function NY(t,e,n,r){const i=new CU(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qM(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function CU(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function V7e(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class oc{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return oc.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];DY(e),OY(r,e);let a=e.length;n.forEach(DY);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,OY(r,n[l]);const o=E7e.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function DY(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function OY(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class DL extends nn{constructor(e=new yg([new tt(.5,.5),new tt(-.5,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];a(u)}this.setAttribute("position",new Ft(i,3)),this.setAttribute("uv",new Ft(s,2)),this.computeVertexNormals();function a(o){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:H7e;let M,E=!1,P,A,L,I;g&&(M=g.getSpacedPoints(h),E=!0,f=!1,P=g.computeFrenetFrames(h,!1),A=new ue,L=new ue,I=new ue),f||(y=0,m=0,v=0,S=0);const R=o.extractPoints(u);let C=R.shape;const O=R.holes;if(!oc.isClockWise(C)){C=C.reverse();for(let Ce=0,pe=O.length;Ce<pe;Ce++){const be=O[Ce];oc.isClockWise(be)&&(O[Ce]=be.reverse())}}const G=oc.triangulateShape(C,O),j=C;for(let Ce=0,pe=O.length;Ce<pe;Ce++){const be=O[Ce];C=C.concat(be)}function q(Ce,pe,be){return pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ce.clone().addScaledVector(pe,be)}const Q=C.length,X=G.length;function se(Ce,pe,be){let H,Ee,Te;const He=Ce.x-pe.x,Le=Ce.y-pe.y,it=be.x-Ce.x,ze=be.y-Ce.y,z=He*He+Le*Le,k=He*ze-Le*it;if(Math.abs(k)>Number.EPSILON){const J=Math.sqrt(z),ge=Math.sqrt(it*it+ze*ze),xe=pe.x-Le/J,me=pe.y+He/J,qe=be.x-ze/ge,Ie=be.y+it/ge,Xe=((qe-xe)*ze-(Ie-me)*it)/(He*ze-Le*it);H=xe+He*Xe-Ce.x,Ee=me+Le*Xe-Ce.y;const pt=H*H+Ee*Ee;if(pt<=2)return new tt(H,Ee);Te=Math.sqrt(pt/2)}else{let J=!1;He>Number.EPSILON?it>Number.EPSILON&&(J=!0):He<-Number.EPSILON?it<-Number.EPSILON&&(J=!0):Math.sign(Le)===Math.sign(ze)&&(J=!0),J?(H=-Le,Ee=He,Te=Math.sqrt(z)):(H=He,Ee=Le,Te=Math.sqrt(z/2))}return new tt(H/Te,Ee/Te)}const D=[];for(let Ce=0,pe=j.length,be=pe-1,H=Ce+1;Ce<pe;Ce++,be++,H++)be===pe&&(be=0),H===pe&&(H=0),D[Ce]=se(j[Ce],j[be],j[H]);const V=[];let B,$=D.concat();for(let Ce=0,pe=O.length;Ce<pe;Ce++){const be=O[Ce];B=[];for(let H=0,Ee=be.length,Te=Ee-1,He=H+1;H<Ee;H++,Te++,He++)Te===Ee&&(Te=0),He===Ee&&(He=0),B[H]=se(be[H],be[Te],be[He]);V.push(B),$=$.concat(B)}for(let Ce=0;Ce<y;Ce++){const pe=Ce/y,be=m*Math.cos(pe*Math.PI/2),H=v*Math.sin(pe*Math.PI/2)+S;for(let Ee=0,Te=j.length;Ee<Te;Ee++){const He=q(j[Ee],D[Ee],H);ie(He.x,He.y,-be)}for(let Ee=0,Te=O.length;Ee<Te;Ee++){const He=O[Ee];B=V[Ee];for(let Le=0,it=He.length;Le<it;Le++){const ze=q(He[Le],B[Le],H);ie(ze.x,ze.y,-be)}}}const te=v+S;for(let Ce=0;Ce<Q;Ce++){const pe=f?q(C[Ce],$[Ce],te):C[Ce];E?(L.copy(P.normals[0]).multiplyScalar(pe.x),A.copy(P.binormals[0]).multiplyScalar(pe.y),I.copy(M[0]).add(L).add(A),ie(I.x,I.y,I.z)):ie(pe.x,pe.y,0)}for(let Ce=1;Ce<=h;Ce++)for(let pe=0;pe<Q;pe++){const be=f?q(C[pe],$[pe],te):C[pe];E?(L.copy(P.normals[Ce]).multiplyScalar(be.x),A.copy(P.binormals[Ce]).multiplyScalar(be.y),I.copy(M[Ce]).add(L).add(A),ie(I.x,I.y,I.z)):ie(be.x,be.y,d/h*Ce)}for(let Ce=y-1;Ce>=0;Ce--){const pe=Ce/y,be=m*Math.cos(pe*Math.PI/2),H=v*Math.sin(pe*Math.PI/2)+S;for(let Ee=0,Te=j.length;Ee<Te;Ee++){const He=q(j[Ee],D[Ee],H);ie(He.x,He.y,d+be)}for(let Ee=0,Te=O.length;Ee<Te;Ee++){const He=O[Ee];B=V[Ee];for(let Le=0,it=He.length;Le<it;Le++){const ze=q(He[Le],B[Le],H);E?ie(ze.x,ze.y+M[h-1].y,M[h-1].x+be):ie(ze.x,ze.y,d+be)}}}Ae(),F();function Ae(){const Ce=i.length/3;if(f){let pe=0,be=Q*pe;for(let H=0;H<X;H++){const Ee=G[H];he(Ee[2]+be,Ee[1]+be,Ee[0]+be)}pe=h+y*2,be=Q*pe;for(let H=0;H<X;H++){const Ee=G[H];he(Ee[0]+be,Ee[1]+be,Ee[2]+be)}}else{for(let pe=0;pe<X;pe++){const be=G[pe];he(be[2],be[1],be[0])}for(let pe=0;pe<X;pe++){const be=G[pe];he(be[0]+Q*h,be[1]+Q*h,be[2]+Q*h)}}r.addGroup(Ce,i.length/3-Ce,0)}function F(){const Ce=i.length/3;let pe=0;ve(j,pe),pe+=j.length;for(let be=0,H=O.length;be<H;be++){const Ee=O[be];ve(Ee,pe),pe+=Ee.length}r.addGroup(Ce,i.length/3-Ce,1)}function ve(Ce,pe){let be=Ce.length;for(;--be>=0;){const H=be;let Ee=be-1;Ee<0&&(Ee=Ce.length-1);for(let Te=0,He=h+y*2;Te<He;Te++){const Le=Q*Te,it=Q*(Te+1),ze=pe+H+Le,z=pe+Ee+Le,k=pe+Ee+it,J=pe+H+it;Ve(ze,z,k,J)}}}function ie(Ce,pe,be){l.push(Ce),l.push(pe),l.push(be)}function he(Ce,pe,be){ke(Ce),ke(pe),ke(be);const H=i.length/3,Ee=b.generateTopUV(r,i,H-3,H-2,H-1);Pe(Ee[0]),Pe(Ee[1]),Pe(Ee[2])}function Ve(Ce,pe,be,H){ke(Ce),ke(pe),ke(H),ke(pe),ke(be),ke(H);const Ee=i.length/3,Te=b.generateSideWallUV(r,i,Ee-6,Ee-3,Ee-2,Ee-1);Pe(Te[0]),Pe(Te[1]),Pe(Te[3]),Pe(Te[1]),Pe(Te[2]),Pe(Te[3])}function ke(Ce){i.push(l[Ce*3+0]),i.push(l[Ce*3+1]),i.push(l[Ce*3+2])}function Pe(Ce){s.push(Ce.x),s.push(Ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return G7e(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new EP[i.type]().fromJSON(i)),new DL(r,e.options)}}const H7e={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],l=e[r*3+1],u=e[i*3],h=e[i*3+1];return[new tt(s,a),new tt(o,l),new tt(u,h)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],u=e[r*3],h=e[r*3+1],d=e[r*3+2],f=e[i*3],m=e[i*3+1],v=e[i*3+2],S=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(o-h)<Math.abs(a-u)?[new tt(a,1-l),new tt(u,1-d),new tt(f,1-v),new tt(S,1-g)]:[new tt(o,1-l),new tt(h,1-d),new tt(m,1-v),new tt(y,1-g)]}};function G7e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class OL extends cp{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OL(e.radius,e.detail)}}class jw extends cp{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new jw(e.radius,e.detail)}}class kL extends nn{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],u=[],h=[];let d=e;const f=(n-e)/i,m=new ue,v=new tt;for(let S=0;S<=i;S++){for(let y=0;y<=r;y++){const g=s+y/r*a;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,h.push(v.x,v.y)}d+=f}for(let S=0;S<i;S++){const y=S*(r+1);for(let g=0;g<r;g++){const b=g+y,M=b,E=b+r+1,P=b+r+2,A=b+1;o.push(M,E,A),o.push(E,P,A)}}this.setIndex(o),this.setAttribute("position",new Ft(l,3)),this.setAttribute("normal",new Ft(u,3)),this.setAttribute("uv",new Ft(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kL(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class UL extends nn{constructor(e=new yg([new tt(0,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(o,l,h),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ft(i,3)),this.setAttribute("normal",new Ft(s,3)),this.setAttribute("uv",new Ft(a,2));function u(h){const d=i.length/3,f=h.extractPoints(n);let m=f.shape;const v=f.holes;oc.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const b=v[y];oc.isClockWise(b)===!0&&(v[y]=b.reverse())}const S=oc.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const b=v[y];m=m.concat(b)}for(let y=0,g=m.length;y<g;y++){const b=m[y];i.push(b.x,b.y,0),s.push(0,0,1),a.push(b.x,b.y)}for(let y=0,g=S.length;y<g;y++){const b=S[y],M=b[0]+d,E=b[1]+d,P=b[2]+d;r.push(M,E,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return W7e(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new UL(r,e.curveSegments)}}function W7e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Xw extends nn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let u=0;const h=[],d=new ue,f=new ue,m=[],v=[],S=[],y=[];for(let g=0;g<=r;g++){const b=[],M=g/r;let E=0;g===0&&a===0?E=.5/n:g===r&&l===Math.PI&&(E=-.5/n);for(let P=0;P<=n;P++){const A=P/n;d.x=-e*Math.cos(i+A*s)*Math.sin(a+M*o),d.y=e*Math.cos(a+M*o),d.z=e*Math.sin(i+A*s)*Math.sin(a+M*o),v.push(d.x,d.y,d.z),f.copy(d).normalize(),S.push(f.x,f.y,f.z),y.push(A+E,1-M),b.push(u++)}h.push(b)}for(let g=0;g<r;g++)for(let b=0;b<n;b++){const M=h[g][b+1],E=h[g][b],P=h[g+1][b],A=h[g+1][b+1];(g!==0||a>0)&&m.push(M,E,A),(g!==r-1||l<Math.PI)&&m.push(E,P,A)}this.setIndex(m),this.setAttribute("position",new Ft(v,3)),this.setAttribute("normal",new Ft(S,3)),this.setAttribute("uv",new Ft(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class FL extends cp{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new FL(e.radius,e.detail)}}class zL extends nn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],u=[],h=new ue,d=new ue,f=new ue;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const S=v/i*s,y=m/r*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(S),d.y=(e+n*Math.cos(y))*Math.sin(S),d.z=n*Math.sin(y),o.push(d.x,d.y,d.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),f.subVectors(d,h).normalize(),l.push(f.x,f.y,f.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const S=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,b=(i+1)*m+v;a.push(S,y,b),a.push(y,g,b)}this.setIndex(a),this.setAttribute("position",new Ft(o,3)),this.setAttribute("normal",new Ft(l,3)),this.setAttribute("uv",new Ft(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zL(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class BL extends nn{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],u=[],h=[],d=new ue,f=new ue,m=new ue,v=new ue,S=new ue,y=new ue,g=new ue;for(let M=0;M<=r;++M){const E=M/r*s*Math.PI*2;b(E,s,a,e,m),b(E+.01,s,a,e,v),y.subVectors(v,m),g.addVectors(v,m),S.crossVectors(y,g),g.crossVectors(S,y),S.normalize(),g.normalize();for(let P=0;P<=i;++P){const A=P/i*Math.PI*2,L=-n*Math.cos(A),I=n*Math.sin(A);d.x=m.x+(L*g.x+I*S.x),d.y=m.y+(L*g.y+I*S.y),d.z=m.z+(L*g.z+I*S.z),l.push(d.x,d.y,d.z),f.subVectors(d,m).normalize(),u.push(f.x,f.y,f.z),h.push(M/r),h.push(P/i)}}for(let M=1;M<=r;M++)for(let E=1;E<=i;E++){const P=(i+1)*(M-1)+(E-1),A=(i+1)*M+(E-1),L=(i+1)*M+E,I=(i+1)*(M-1)+E;o.push(P,A,I),o.push(A,L,I)}this.setIndex(o),this.setAttribute("position",new Ft(l,3)),this.setAttribute("normal",new Ft(u,3)),this.setAttribute("uv",new Ft(h,2));function b(M,E,P,A,L){const I=Math.cos(M),R=Math.sin(M),C=P/E*M,O=Math.cos(C);L.x=A*(2+O)*.5*I,L.y=A*(2+O)*R*.5,L.z=A*Math.sin(C)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BL(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class VL extends nn{constructor(e=new V8(new ue(-1,-1,0),new ue(-1,1,0),new ue(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new ue,l=new ue,u=new tt;let h=new ue;const d=[],f=[],m=[],v=[];S(),this.setIndex(v),this.setAttribute("position",new Ft(d,3)),this.setAttribute("normal",new Ft(f,3)),this.setAttribute("uv",new Ft(m,2));function S(){for(let M=0;M<n;M++)y(M);y(s===!1?n:0),b(),g()}function y(M){h=e.getPointAt(M/n,h);const E=a.normals[M],P=a.binormals[M];for(let A=0;A<=i;A++){const L=A/i*Math.PI*2,I=Math.sin(L),R=-Math.cos(L);l.x=R*E.x+I*P.x,l.y=R*E.y+I*P.y,l.z=R*E.z+I*P.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=h.x+r*l.x,o.y=h.y+r*l.y,o.z=h.z+r*l.z,d.push(o.x,o.y,o.z)}}function g(){for(let M=1;M<=n;M++)for(let E=1;E<=i;E++){const P=(i+1)*(M-1)+(E-1),A=(i+1)*M+(E-1),L=(i+1)*M+E,I=(i+1)*(M-1)+E;v.push(P,A,I),v.push(A,L,I)}}function b(){for(let M=0;M<=n;M++)for(let E=0;E<=i;E++)u.x=M/n,u.y=E/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new VL(new EP[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class lce extends nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ue,s=new ue;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const d=l[u],f=d.start,m=d.count;for(let v=f,S=f+m;v<S;v+=3)for(let y=0;y<3;y++){const g=o.getX(v+y),b=o.getX(v+(y+1)%3);i.fromBufferAttribute(a,g),s.fromBufferAttribute(a,b),kY(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let u=0;u<3;u++){const h=3*o+u,d=3*o+(u+1)%3;i.fromBufferAttribute(a,h),s.fromBufferAttribute(a,d),kY(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ft(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function kY(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var UY=Object.freeze({__proto__:null,BoxGeometry:s0,CapsuleGeometry:PL,CircleGeometry:RL,ConeGeometry:LL,CylinderGeometry:fx,DodecahedronGeometry:IL,EdgesGeometry:ice,ExtrudeGeometry:DL,IcosahedronGeometry:OL,LatheGeometry:Ww,OctahedronGeometry:jw,PlaneGeometry:hx,PolyhedronGeometry:cp,RingGeometry:kL,ShapeGeometry:UL,SphereGeometry:Xw,TetrahedronGeometry:FL,TorusGeometry:zL,TorusKnotGeometry:BL,TubeGeometry:VL,WireframeGeometry:lce});class uce extends ms{static get type(){return"ShadowMaterial"}constructor(e){super(),this.isShadowMaterial=!0,this.color=new Rt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class cce extends ml{static get type(){return"RawShaderMaterial"}constructor(e){super(e),this.isRawShaderMaterial=!0}}class G8 extends ms{static get type(){return"MeshStandardMaterial"}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new Rt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Eo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hce extends G8{static get type(){return"MeshPhysicalMaterial"}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Hr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Rt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Rt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Rt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class dce extends ms{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new Rt(16777215),this.specular=new Rt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Eo,this.combine=Uw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fce extends ms{static get type(){return"MeshToonMaterial"}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new Rt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class pce extends ms{static get type(){return"MeshNormalMaterial"}constructor(e){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class mce extends ms{static get type(){return"MeshLambertMaterial"}constructor(e){super(),this.isMeshLambertMaterial=!0,this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Eo,this.combine=Uw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gce extends ms{static get type(){return"MeshMatcapMaterial"}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new Rt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lp,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vce extends ca{static get type(){return"LineDashedMaterial"}constructor(e){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Qm(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function yce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xce(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function PU(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let l=0;l!==e;++l)i[a++]=t[o+l]}return i}function W8(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function j7e(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),d=[],f=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<n||v>=r)){d.push(u.times[m]);for(let S=0;S<h;++S)f.push(u.values[m*h+S])}}d.length!==0&&(u.times=Qm(d,u.times.constructor),u.values=Qm(f,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function X7e(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===o.name&&g.ValueTypeName===l});if(u===void 0)continue;let h=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let f=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const v=o.times.length-1;let S;if(s<=o.times[0]){const g=h,b=d-h;S=o.values.slice(g,b)}else if(s>=o.times[v]){const g=v*d+h,b=g+d-h;S=o.values.slice(g,b)}else{const g=o.createInterpolant(),b=h,M=d-h;g.evaluate(s),S=g.resultBuffer.slice(b,M)}l==="quaternion"&&new ka().fromArray(S).normalize().conjugate().toArray(S);const y=u.times.length;for(let g=0;g<y;++g){const b=g*m+f;if(l==="quaternion")ka.multiplyQuaternionsFlat(u.values,b,S,0,u.values,b);else{const M=m-f*2;for(let E=0;E<M;++E)u.values[b+E]-=S[E]}}}return t.blendMode=w8,t}const $7e={convertArray:Qm,isTypedArray:yce,getKeyframeOrder:xce,sortedArray:PU,flattenJSON:W8,subclip:j7e,makeClipAdditive:X7e};class $w{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class _ce extends $w{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:qm,endingEnd:qm}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case Zm:s=e,o=2*n-r;break;case HM:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Zm:a=e,l=2*r-n;break;case HM:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const u=(r-n)*.5,h=this.valueSize;this._weightPrev=u/(n-o),this._weightNext=u/(l-r),this._offsetPrev=s*h,this._offsetNext=a*h}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,h=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),S=v*v,y=S*v,g=-f*y+2*f*S-f*v,b=(1+f)*y+(-1.5-2*f)*S+(-.5+f)*v+1,M=(-1-m)*y+(1.5+m)*S+.5*v,E=m*y-m*S;for(let P=0;P!==o;++P)s[P]=g*a[h+P]+b*a[u+P]+M*a[l+P]+E*a[d+P];return s}}class j8 extends $w{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,h=(r-n)/(i-n),d=1-h;for(let f=0;f!==o;++f)s[f]=a[u+f]*d+a[l+f]*h;return s}}class Sce extends $w{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class iu{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Qm(n,this.TimeBufferType),this.values=Qm(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Qm(e.times,Array),values:Qm(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Sce(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new j8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new _ce(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case VM:n=this.InterpolantFactoryMethodDiscrete;break;case SP:n=this.InterpolantFactoryMethodLinear;break;case TA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return VM;case this.InterpolantFactoryMethodLinear:return SP;case this.InterpolantFactoryMethodSmooth:return TA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&yce(i))for(let o=0,l=i.length;o!==l;++o){const u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===TA,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const u=e[o],h=e[o+1];if(u!==h&&(o!==1||u!==e[0]))if(i)l=!0;else{const d=o*r,f=d-r,m=d+r;for(let v=0;v!==r;++v){const S=n[d+v];if(S!==n[f+v]||S!==n[m+v]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const d=o*r,f=a*r;for(let m=0;m!==r;++m)n[f+m]=n[d+m]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,u=0;u!==r;++u)n[l+u]=n[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}iu.prototype.TimeBufferType=Float32Array;iu.prototype.ValueBufferType=Float32Array;iu.prototype.DefaultInterpolation=SP;class a0 extends iu{constructor(e,n,r){super(e,n,r)}}a0.prototype.ValueTypeName="bool";a0.prototype.ValueBufferType=Array;a0.prototype.DefaultInterpolation=VM;a0.prototype.InterpolantFactoryMethodLinear=void 0;a0.prototype.InterpolantFactoryMethodSmooth=void 0;class X8 extends iu{}X8.prototype.ValueTypeName="color";class ZM extends iu{}ZM.prototype.ValueTypeName="number";class bce extends $w{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let u=e*o;for(let h=u+o;u!==h;u+=4)ka.slerpFlat(s,0,a,u-o,a,u,l);return s}}class Yw extends iu{InterpolantFactoryMethodLinear(e){return new bce(this.times,this.values,this.getValueSize(),e)}}Yw.prototype.ValueTypeName="quaternion";Yw.prototype.InterpolantFactoryMethodSmooth=void 0;class o0 extends iu{constructor(e,n,r){super(e,n,r)}}o0.prototype.ValueTypeName="string";o0.prototype.ValueBufferType=Array;o0.prototype.DefaultInterpolation=VM;o0.prototype.InterpolantFactoryMethodLinear=void 0;o0.prototype.InterpolantFactoryMethodSmooth=void 0;class KM extends iu{}KM.prototype.ValueTypeName="vector";class QM{constructor(e="",n=-1,r=[],i=_L){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=xo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push(q7e(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)n.push(iu.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],u=[];l.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const h=xce(l);l=PU(l,1,h),u=PU(u,1,h),!i&&l[0]===0&&(l.push(s),u.push(u[0])),a.push(new ZM(".morphTargetInfluences["+n[o].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],h=u.name.match(s);if(h&&h.length>1){const d=h[1];let f=i[d];f||(i[d]=f=[]),f.push(u)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,d,f,m,v){if(f.length!==0){const S=[],y=[];W8(f,S,y,m),S.length!==0&&v.push(new h(d,S,y))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const d=u[h].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const f={};let m;for(m=0;m<d.length;m++)if(d[m].morphTargets)for(let v=0;v<d[m].morphTargets.length;v++)f[d[m].morphTargets[v]]=-1;for(const v in f){const S=[],y=[];for(let g=0;g!==d[m].morphTargets.length;++g){const b=d[m];S.push(b.time),y.push(b.morphTarget===v?1:0)}i.push(new ZM(".morphTargetInfluence["+v+"]",S,y))}l=f.length*a}else{const f=".bones["+n[h].name+"]";r(KM,f+".position",d,"pos",i),r(Yw,f+".quaternion",d,"rot",i),r(KM,f+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Y7e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ZM;case"vector":case"vector2":case"vector3":case"vector4":return KM;case"color":return X8;case"quaternion":return Yw;case"bool":case"boolean":return a0;case"string":return o0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function q7e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Y7e(t.type);if(t.times===void 0){const n=[],r=[];W8(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const _h={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class $8{constructor(e,n,r){const i=this;let s=!1,a=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(h){o++,s===!1&&i.onStart!==void 0&&i.onStart(h,a,o),s=!0},this.itemEnd=function(h){a++,i.onProgress!==void 0&&i.onProgress(h,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return u.push(h,d),this},this.removeHandler=function(h){const d=u.indexOf(h);return d!==-1&&u.splice(d,2),this},this.getHandler=function(h){for(let d=0,f=u.length;d<f;d+=2){const m=u[d],v=u[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const Mce=new $8;class Fa{constructor(e){this.manager=e!==void 0?e:Mce,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Fa.DEFAULT_MATERIAL_NAME="__DEFAULT";const nh={};class Z7e extends Error{constructor(e,n){super(e),this.response=n}}class nd extends Fa{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=_h.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(nh[e]!==void 0){nh[e].push({onLoad:n,onProgress:r,onError:i});return}nh[e]=[],nh[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=nh[e],d=u.body.getReader(),f=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=f?parseInt(f):0,v=m!==0;let S=0;const y=new ReadableStream({start(g){b();function b(){d.read().then(({done:M,value:E})=>{if(M)g.close();else{S+=E.byteLength;const P=new ProgressEvent("progress",{lengthComputable:v,loaded:S,total:m});for(let A=0,L=h.length;A<L;A++){const I=h[A];I.onProgress&&I.onProgress(P)}g.enqueue(E),b()}},M=>{g.error(M)})}}});return new Response(y)}else throw new Z7e(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return u.json();default:if(o===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(o),d=h&&h[1]?h[1].toLowerCase():void 0,f=new TextDecoder(d);return u.arrayBuffer().then(m=>f.decode(m))}}}).then(u=>{_h.add(e,u);const h=nh[e];delete nh[e];for(let d=0,f=h.length;d<f;d++){const m=h[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const h=nh[e];if(h===void 0)throw this.manager.itemError(e),u;delete nh[e];for(let d=0,f=h.length;d<f;d++){const m=h[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class K7e extends Fa{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new nd(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=QM.parse(e[r]);n.push(i)}return n}}class Q7e extends Fa{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],o=new AL,l=new nd(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(d){l.load(e[d],function(f){const m=s.parse(f,!0);a[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(o.minFilter=Mi),o.image=a,o.format=m.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)h(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let v=0;v<m;v++){a[v]={mipmaps:[]};for(let S=0;S<f.mipmapCount;S++)a[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+S]),a[v].format=f.format,a[v].width=f.width,a[v].height=f.height}o.image=a}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=Mi),o.format=f.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}class JM extends Fa{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=_h.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o=jM("img");function l(){h(),_h.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){h(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class J7e extends Fa{constructor(e){super(e)}load(e,n,r,i){const s=new Vw;s.colorSpace=_a;const a=new JM(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(u){a.load(e[u],function(h){s.images[u]=h,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class e9e extends Fa{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new ac,o=new nd(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let u;try{u=s.parse(l)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:ol,a.wrapT=u.wrapT!==void 0?u.wrapT:ol,a.magFilter=u.magFilter!==void 0?u.magFilter:Mi,a.minFilter=u.minFilter!==void 0?u.minFilter:Mi,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Hu),u.mipmapCount===1&&(a.minFilter=Mi),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u)},r,i),a}}class t9e extends Fa{constructor(e){super(e)}load(e,n,r,i){const s=new Pr,a=new JM(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class hp extends In{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Rt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class wce extends hp{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(In.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Rt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const PD=new qt,FY=new ue,zY=new ue;class Y8{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tt(512,512),this.map=null,this.mapPass=null,this.matrix=new qt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Hw,this._frameExtents=new tt(1,1),this._viewportCount=1,this._viewports=[new Cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;FY.setFromMatrixPosition(e.matrixWorld),n.position.copy(FY),zY.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(zY),n.updateMatrixWorld(),PD.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(PD),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(PD)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class n9e extends Y8{constructor(){super(new Hi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=B1*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Ece extends hp{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(In.DEFAULT_UP),this.updateMatrix(),this.target=new In,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new n9e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const BY=new qt,oS=new ue,RD=new ue;class r9e extends Y8{constructor(){super(new Hi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new tt(4,2),this._viewportCount=6,this._viewports=[new Cn(2,1,1,1),new Cn(0,1,1,1),new Cn(3,1,1,1),new Cn(1,1,1,1),new Cn(3,0,1,1),new Cn(1,0,1,1)],this._cubeDirections=[new ue(1,0,0),new ue(-1,0,0),new ue(0,0,1),new ue(0,0,-1),new ue(0,1,0),new ue(0,-1,0)],this._cubeUps=[new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,0,1),new ue(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),oS.setFromMatrixPosition(e.matrixWorld),r.position.copy(oS),RD.copy(r.position),RD.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(RD),r.updateMatrixWorld(),i.makeTranslation(-oS.x,-oS.y,-oS.z),BY.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BY)}}class Tce extends hp{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new r9e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class i9e extends Y8{constructor(){super(new Gw(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ace extends hp{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(In.DEFAULT_UP),this.updateMatrix(),this.target=new In,this.shadow=new i9e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Cce extends hp{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Pce extends hp{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Rce{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ue)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Lce extends hp{constructor(e=new Rce,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class HL extends Fa{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new nd(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Rt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new Rt().setHex(a.value);break;case"v2":i.uniforms[s].value=new tt().fromArray(a.value);break;case"v3":i.uniforms[s].value=new ue().fromArray(a.value);break;case"v4":i.uniforms[s].value=new Cn().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Qt().fromArray(a.value);break;case"m4":i.uniforms[s].value=new qt().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new tt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new tt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return HL.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:uce,SpriteMaterial:D8,RawShaderMaterial:cce,ShaderMaterial:ml,PointsMaterial:k8,MeshPhysicalMaterial:hce,MeshStandardMaterial:G8,MeshPhongMaterial:dce,MeshToonMaterial:fce,MeshNormalMaterial:pce,MeshLambertMaterial:mce,MeshDepthMaterial:I8,MeshDistanceMaterial:N8,MeshBasicMaterial:up,MeshMatcapMaterial:gce,LineDashedMaterial:vce,LineBasicMaterial:ca,Material:ms};return new n[e]}}class RU{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Ice extends nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Nce extends Fa{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new nd(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(f,m){if(n[m]!==void 0)return n[m];const v=f.interleavedBuffers[m],S=s(f,v.buffer),y=Vy(v.type,S),g=new EL(y,v.stride);return g.uuid=v.uuid,n[m]=g,g}function s(f,m){if(r[m]!==void 0)return r[m];const v=f.arrayBuffers[m],S=new Uint32Array(v).buffer;return r[m]=S,S}const a=e.isInstancedBufferGeometry?new Ice:new nn,o=e.data.index;if(o!==void 0){const f=Vy(o.type,o.array);a.setIndex(new Yn(f,1))}const l=e.data.attributes;for(const f in l){const m=l[f];let v;if(m.isInterleavedBufferAttribute){const S=i(e.data,m.data);v=new Gg(S,m.itemSize,m.offset,m.normalized)}else{const S=Vy(m.type,m.array),y=m.isInstancedBufferAttribute?H1:Yn;v=new y(S,m.itemSize,m.normalized)}m.name!==void 0&&(v.name=m.name),m.usage!==void 0&&v.setUsage(m.usage),a.setAttribute(f,v)}const u=e.data.morphAttributes;if(u)for(const f in u){const m=u[f],v=[];for(let S=0,y=m.length;S<y;S++){const g=m[S];let b;if(g.isInterleavedBufferAttribute){const M=i(e.data,g.data);b=new Gg(M,g.itemSize,g.offset,g.normalized)}else{const M=Vy(g.type,g.array);b=new Yn(M,g.itemSize,g.normalized)}g.name!==void 0&&(b.name=g.name),v.push(b)}a.morphAttributes[f]=v}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let f=0,m=h.length;f!==m;++f){const v=h[f];a.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const f=new ue;d.center!==void 0&&f.fromArray(d.center),a.boundingSphere=new Fs(f,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class s9e extends Fa{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?RU.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new nd(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?RU.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new nd(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(u)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,r),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),this.bindLightTargets(u),n!==void 0){let d=!1;for(const f in a)if(a[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new yg().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new TL().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Nce;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in UY?o=UY[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new HL;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=QM.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(h)}else return l.data?{data:Vy(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new $8(n);s=new JM(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const d=e[u],f=d.url;if(Array.isArray(f)){const m=[];for(let v=0,S=f.length;v<S;v++){const y=f[v],g=o(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new ac(g.data,g.width,g.height)))}i[d.uuid]=new Km(m)}else{const m=o(d.url);i[d.uuid]=new Km(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:Vy(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new JM(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const h=[];for(let d=0,f=u.length;d<f;d++){const m=u[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new ac(v.data,v.width,v.height)))}r[l.uuid]=new Km(h)}else{const h=await s(l.url);r[l.uuid]=new Km(h)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],u=l.data;let h;Array.isArray(u)?(h=new Vw,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new ac:h=new Pr,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=r(o.mapping,a9e)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=r(o.wrap[0],VY),h.wrapT=r(o.wrap[1],VY)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.minFilter!==void 0&&(h.minFilter=r(o.minFilter,HY)),o.magFilter!==void 0&&(h.magFilter=r(o.magFilter,HY)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),i[o.uuid]=h}return i}parseObject(e,n,r,i,s){let a;function o(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let v=0,S=f.length;v<S;v++){const y=f[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function u(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let h,d;switch(e.type){case"Scene":a=new bP,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Rt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new wL(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new ML(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Hi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Gw(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Cce(e.color,e.intensity);break;case"DirectionalLight":a=new Ace(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new Tce(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Pce(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Ece(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new wce(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Lce().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),d=l(e.material),a=new Yue(h,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),d=l(e.material),a=new di(h,d);break;case"InstancedMesh":h=o(e.geometry),d=l(e.material);const f=e.count,m=e.instanceMatrix,v=e.instanceColor;a=new que(h,d,f),a.instanceMatrix=new H1(new Float32Array(m.array),16),v!==void 0&&(a.instanceColor=new H1(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":h=o(e.geometry),d=l(e.material),a=new Zue(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),a.geometry=h,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(S=>{const y=new ia;y.min.fromArray(S.boxMin),y.max.fromArray(S.boxMax);const g=new Fs;return g.radius=S.sphereRadius,g.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:y,sphereInitialized:S.sphereInitialized,sphere:g}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":a=new $ue;break;case"Line":a=new qf(o(e.geometry),l(e.material));break;case"LineLoop":a=new Kue(o(e.geometry),l(e.material));break;case"LineSegments":a=new fc(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new Que(o(e.geometry),l(e.material));break;case"Sprite":a=new Xue(l(e.material));break;case"Group":a=new Gy;break;case"Bone":a=new O8;break;default:a=new In}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)a.add(this.parseObject(f[m],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const v=f[m];a.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const v=f[m],S=a.getObjectByProperty("uuid",v.object);S!==void 0&&a.addLevel(S,v.distance,v.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new In}})}}const a9e={UVMapping:fL,CubeReflectionMapping:ed,CubeRefractionMapping:Yf,EquirectangularReflectionMapping:UM,EquirectangularRefractionMapping:FM,CubeUVReflectionMapping:lx},VY={RepeatWrapping:zM,ClampToEdgeWrapping:ol,MirroredRepeatWrapping:BM},HY={NearestFilter:hs,NearestMipmapNearestFilter:p8,NearestMipmapLinearFilter:By,LinearFilter:Mi,LinearMipmapNearestFilter:xb,LinearMipmapLinearFilter:Hu};class o9e extends Fa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=_h.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return _h.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),_h.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});_h.add(e,l),s.manager.itemStart(e)}}let DT;class q8{static getContext(){return DT===void 0&&(DT=new(window.AudioContext||window.webkitAudioContext)),DT}static setContext(e){DT=e}}class l9e extends Fa{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new nd(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);q8.getContext().decodeAudioData(u,function(h){n(h)}).catch(o)}catch(u){o(u)}},r,i);function o(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const GY=new qt,WY=new qt,pm=new qt;class u9e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,pm.copy(e.projectionMatrix);const r=n.eyeSep/2,i=r*n.near/n.focus,s=n.near*Math.tan(gg*n.fov*.5)/n.zoom;let a,o;WY.elements[12]=-r,GY.elements[12]=r,a=-s*n.aspect+i,o=s*n.aspect+i,pm.elements[0]=2*n.near/(o-a),pm.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(pm),a=-s*n.aspect-i,o=s*n.aspect-i,pm.elements[0]=2*n.near/(o-a),pm.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(pm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(WY),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(GY)}}class Z8{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=jY(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=jY();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function jY(){return performance.now()}const mm=new ue,XY=new ka,c9e=new ue,gm=new ue;class h9e extends In{constructor(){super(),this.type="AudioListener",this.context=q8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Z8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mm,XY,c9e),gm.set(0,0,-1).applyQuaternion(XY),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(mm.x,i),n.positionY.linearRampToValueAtTime(mm.y,i),n.positionZ.linearRampToValueAtTime(mm.z,i),n.forwardX.linearRampToValueAtTime(gm.x,i),n.forwardY.linearRampToValueAtTime(gm.y,i),n.forwardZ.linearRampToValueAtTime(gm.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(mm.x,mm.y,mm.z),n.setOrientation(gm.x,gm.y,gm.z,r.x,r.y,r.z)}}class Dce extends In{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const vm=new ue,$Y=new ka,d9e=new ue,ym=new ue;class f9e extends Dce{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(vm,$Y,d9e),ym.set(0,0,1).applyQuaternion($Y);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(vm.x,r),n.positionY.linearRampToValueAtTime(vm.y,r),n.positionZ.linearRampToValueAtTime(vm.z,r),n.orientationX.linearRampToValueAtTime(ym.x,r),n.orientationY.linearRampToValueAtTime(ym.y,r),n.orientationZ.linearRampToValueAtTime(ym.z,r)}else n.setPosition(vm.x,vm.y,vm.z),n.setOrientation(ym.x,ym.y,ym.z)}}class p9e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Oce{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){ka.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;ka.multiplyQuaternionsFlat(e,a,e,n,e,r),ka.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const K8="\\[\\]\\.:\\/",m9e=new RegExp("["+K8+"]","g"),Q8="[^"+K8+"]",g9e="[^"+K8.replace("\\.","")+"]",v9e=/((?:WC+[\/:])*)/.source.replace("WC",Q8),y9e=/(WCOD+)?/.source.replace("WCOD",g9e),x9e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Q8),_9e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Q8),S9e=new RegExp("^"+v9e+y9e+x9e+_9e+"$"),b9e=["material","materials","bones","map"];class M9e{constructor(e,n,r){const i=r||Tn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Tn{constructor(e,n,r){this.path=n,this.parsedPath=r||Tn.parseTrackName(n),this.node=Tn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Tn.Composite(e,n,r):new Tn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(m9e,"")}static parseTrackName(e){const n=S9e.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);b9e.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Tn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tn.Composite=M9e;Tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tn.prototype.GetterByBindingType=[Tn.prototype._getValue_direct,Tn.prototype._getValue_array,Tn.prototype._getValue_arrayElement,Tn.prototype._getValue_toArray];Tn.prototype.SetterByBindingTypeAndVersioning=[[Tn.prototype._setValue_direct,Tn.prototype._setValue_direct_setNeedsUpdate,Tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_array,Tn.prototype._setValue_array_setNeedsUpdate,Tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_arrayElement,Tn.prototype._setValue_arrayElement_setNeedsUpdate,Tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_fromArray,Tn.prototype._setValue_fromArray_setNeedsUpdate,Tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class w9e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,u=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const f=arguments[h],m=f.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(f);for(let S=0,y=a;S!==y;++S)s[S].push(new Tn(f,r[S],i[S]))}else if(v<u){o=e[v];const S=--u,y=e[S];n[y.uuid]=v,e[v]=y,n[m]=S,e[S]=f;for(let g=0,b=a;g!==b;++g){const M=s[g],E=M[S];let P=M[v];M[v]=E,P===void 0&&(P=new Tn(f,r[g],i[g])),M[S]=P}}else e[v]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],u=l.uuid,h=n[u];if(h!==void 0&&h>=s){const d=s++,f=e[d];n[f.uuid]=h,e[h]=f,n[u]=d,e[d]=l;for(let m=0,v=i;m!==v;++m){const S=r[m],y=S[d],g=S[h];S[h]=y,S[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],h=u.uuid,d=n[h];if(d!==void 0)if(delete n[h],d<s){const f=--s,m=e[f],v=--a,S=e[v];n[m.uuid]=d,e[d]=m,n[S.uuid]=f,e[f]=S,e.pop();for(let y=0,g=i;y!==g;++y){const b=r[y],M=b[f],E=b[v];b[d]=M,b[f]=E,b.pop()}}else{const f=--a,m=e[f];f>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let v=0,S=i;v!==S;++v){const y=r[v];y[d]=y[f],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,a.push(e),o.push(n),s.push(d);for(let f=h,m=l.length;f!==m;++f){const v=l[f];d[f]=new Tn(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],u=e[o];n[u]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class kce{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:qm,endingEnd:qm};for(let u=0;u!==a;++u){const h=s[u].createInterpolant(null);o[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=gue,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case w8:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(a),u[h].accumulateAdditive(o);break;case _L:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(a),u[h].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===vue;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===mue){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Zm,i.endingEnd=Zm):(e?i.endingStart=this.zeroSlopeAtStart?Zm:qm:i.endingStart=HM,n?i.endingEnd=this.zeroSlopeAtEnd?Zm:qm:i.endingEnd=HM)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=r,this}}const E9e=new Float32Array(1);class T9e extends dc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let d=0;d!==s;++d){const f=i[d],m=f.name;let v=h[m];if(v!==void 0)++v.referenceCount,a[d]=v;else{if(v=a[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const S=n&&n._propertyBindings[d].binding.parsedPath;v=new Oce(Tn.create(r,m,S),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),a[d]=v}o[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new j8(new Float32Array(2),new Float32Array(2),1,E9e),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?QM.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=_L),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const h=new kce(this,a,n,r);return this._bindAction(h,u),this._addInactiveAction(h,o,s),h}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?QM.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const u=a[o];this._deactivateAction(u);const h=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=h,n[h]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class J8{constructor(e){this.value=e}clone(){return new J8(this.value.clone===void 0?this.value:this.value.clone())}}let A9e=0;class C9e extends dc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:A9e++}),this.name="",this.usage=GM,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class P9e extends EL{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class R9e{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const YY=new qt;class Uce{constructor(e,n,r=0,i=1/0){this.ray=new cx(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new vg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return YY.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(YY),this}intersectObject(e,n=!0,r=[]){return LU(e,this,r,n),r.sort(qY),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)LU(e[i],this,r,n);return r.sort(qY),r}}function qY(t,e){return t.distance-e.distance}function LU(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let a=0,o=s.length;a<o;a++)LU(s[a],e,n,!0)}}class Fce{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Hr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class L9e{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class e7{constructor(e,n,r,i){e7.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const ZY=new tt;class I9e{constructor(e=new tt(1/0,1/0),n=new tt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ZY.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ZY).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const KY=new ue,OT=new ue;class N9e{constructor(e=new ue,n=new ue){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){KY.subVectors(e,this.start),OT.subVectors(this.end,this.start);const r=OT.dot(OT);let i=OT.dot(KY)/r;return n&&(i=Hr(i,0,1)),i}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const QY=new ue;class D9e extends In{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new nn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const u=a/l*Math.PI*2,h=o/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new Ft(i,3));const s=new ca({fog:!1,toneMapped:!1});this.cone=new fc(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),QY.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(QY),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Xd=new ue,kT=new qt,LD=new qt;class O9e extends fc{constructor(e){const n=zce(e),r=new nn,i=[],s=[],a=new Rt(0,0,1),o=new Rt(0,1,0);for(let u=0;u<n.length;u++){const h=n[u];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}r.setAttribute("position",new Ft(i,3)),r.setAttribute("color",new Ft(s,3));const l=new ca({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");LD.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(kT.multiplyMatrices(LD,o.matrixWorld),Xd.setFromMatrixPosition(kT),i.setXYZ(a,Xd.x,Xd.y,Xd.z),kT.multiplyMatrices(LD,o.parent.matrixWorld),Xd.setFromMatrixPosition(kT),i.setXYZ(a+1,Xd.x,Xd.y,Xd.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function zce(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,zce(t.children[n]));return e}class k9e extends di{constructor(e,n,r){const i=new Xw(n,4,2),s=new up({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const U9e=new ue,JY=new Rt,eq=new Rt;class F9e extends In{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new jw(n);i.rotateY(Math.PI*.5),this.material=new up({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new Yn(a,3)),this.add(new di(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");JY.copy(this.light.color),eq.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?JY:eq;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(U9e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class z9e extends fc{constructor(e=10,n=10,r=4473924,i=8947848){r=new Rt(r),i=new Rt(i);const s=n/2,a=e/n,o=e/2,l=[],u=[];for(let f=0,m=0,v=-o;f<=n;f++,v+=a){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const S=f===s?r:i;S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3,S.toArray(u,m),m+=3}const h=new nn;h.setAttribute("position",new Ft(l,3)),h.setAttribute("color",new Ft(u,3));const d=new ca({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class B9e extends fc{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new Rt(s),a=new Rt(a);const o=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),m=Math.sin(f)*e,v=Math.cos(f)*e;o.push(0,0,0),o.push(m,0,v);const S=d&1?s:a;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let d=0;d<r;d++){const f=d&1?s:a,m=e-e/r*d;for(let v=0;v<i;v++){let S=v/i*(Math.PI*2),y=Math.sin(S)*m,g=Math.cos(S)*m;o.push(y,0,g),l.push(f.r,f.g,f.b),S=(v+1)/i*(Math.PI*2),y=Math.sin(S)*m,g=Math.cos(S)*m,o.push(y,0,g),l.push(f.r,f.g,f.b)}}const u=new nn;u.setAttribute("position",new Ft(o,3)),u.setAttribute("color",new Ft(l,3));const h=new ca({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const tq=new ue,UT=new ue,nq=new ue;class V9e extends In{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new nn;i.setAttribute("position",new Ft([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ca({fog:!1,toneMapped:!1});this.lightPlane=new qf(i,s),this.add(this.lightPlane),i=new nn,i.setAttribute("position",new Ft([0,0,0,0,0,1],3)),this.targetLine=new qf(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),tq.setFromMatrixPosition(this.light.matrixWorld),UT.setFromMatrixPosition(this.light.target.matrixWorld),nq.subVectors(UT,tq),this.lightPlane.lookAt(UT),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(UT),this.targetLine.scale.z=nq.length()}}const FT=new ue,kr=new Bw;class H9e extends fc{constructor(e){const n=new nn,r=new ca({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(v,S){l(v),l(S)}function l(v){i.push(0,0,0),s.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}n.setAttribute("position",new Ft(i,3)),n.setAttribute("color",new Ft(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new Rt(16755200),h=new Rt(16711680),d=new Rt(43775),f=new Rt(16777215),m=new Rt(3355443);this.setColors(u,h,d,f,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;kr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Xr("c",n,e,kr,0,0,-1),Xr("t",n,e,kr,0,0,1),Xr("n1",n,e,kr,-r,-i,-1),Xr("n2",n,e,kr,r,-i,-1),Xr("n3",n,e,kr,-r,i,-1),Xr("n4",n,e,kr,r,i,-1),Xr("f1",n,e,kr,-r,-i,1),Xr("f2",n,e,kr,r,-i,1),Xr("f3",n,e,kr,-r,i,1),Xr("f4",n,e,kr,r,i,1),Xr("u1",n,e,kr,r*.7,i*1.1,-1),Xr("u2",n,e,kr,-r*.7,i*1.1,-1),Xr("u3",n,e,kr,0,i*2,-1),Xr("cf1",n,e,kr,-r,0,1),Xr("cf2",n,e,kr,r,0,1),Xr("cf3",n,e,kr,0,-i,1),Xr("cf4",n,e,kr,0,i,1),Xr("cn1",n,e,kr,-r,0,-1),Xr("cn2",n,e,kr,r,0,-1),Xr("cn3",n,e,kr,0,-i,-1),Xr("cn4",n,e,kr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xr(t,e,n,r,i,s,a){FT.set(i,s,a).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let u=0,h=o.length;u<h;u++)l.setXYZ(o[u],FT.x,FT.y,FT.z)}}const zT=new ia;class G9e extends fc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new nn;s.setIndex(new Yn(r,1)),s.setAttribute("position",new Yn(i,3)),super(s,new ca({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&zT.setFromObject(this.object),zT.isEmpty())return;const n=zT.min,r=zT.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class W9e extends fc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new nn;s.setIndex(new Yn(r,1)),s.setAttribute("position",new Ft(i,3)),super(s,new ca({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class j9e extends qf{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new nn;a.setAttribute("position",new Ft(s,3)),a.computeBoundingSphere(),super(a,new ca({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new nn;l.setAttribute("position",new Ft(o,3)),l.computeBoundingSphere(),this.add(new di(l,new up({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const rq=new ue;let BT,ID;class X9e extends In{constructor(e=new ue(0,0,1),n=new ue(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",BT===void 0&&(BT=new nn,BT.setAttribute("position",new Ft([0,0,0,0,1,0],3)),ID=new fx(0,.5,1,5,1),ID.translate(0,-.5,0)),this.position.copy(n),this.line=new qf(BT,new ca({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new di(ID,new up({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{rq.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(rq,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class $9e extends fc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new nn;i.setAttribute("position",new Ft(n,3)),i.setAttribute("color",new Ft(r,3));const s=new ca({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Rt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Y9e{constructor(){this.type="ShapePath",this.color=new Rt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new XM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const b=[];for(let M=0,E=g.length;M<E;M++){const P=g[M],A=new yg;A.curves=P.curves,b.push(A)}return b}function r(g,b){const M=b.length;let E=!1;for(let P=M-1,A=0;A<M;P=A++){let L=b[P],I=b[A],R=I.x-L.x,C=I.y-L.y;if(Math.abs(C)>Number.EPSILON){if(C<0&&(L=b[A],R=-R,I=b[P],C=-C),g.y<L.y||g.y>I.y)continue;if(g.y===L.y){if(g.x===L.x)return!0}else{const O=C*(g.x-L.x)-R*(g.y-L.y);if(O===0)return!0;if(O<0)continue;E=!E}}else{if(g.y!==L.y)continue;if(I.x<=g.x&&g.x<=L.x||L.x<=g.x&&g.x<=I.x)return!0}}return E}const i=oc.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const u=[];if(s.length===1)return o=s[0],l=new yg,l.curves=o.curves,u.push(l),u;let h=!i(s[0].getPoints());h=e?!h:h;const d=[],f=[];let m=[],v=0,S;f[v]=void 0,m[v]=[];for(let g=0,b=s.length;g<b;g++)o=s[g],S=o.getPoints(),a=i(S),a=e?!a:a,a?(!h&&f[v]&&v++,f[v]={s:new yg,p:S},f[v].s.curves=o.curves,h&&v++,m[v]=[]):m[v].push({h:o,p:S[0]});if(!f[0])return n(s);if(f.length>1){let g=!1,b=0;for(let M=0,E=f.length;M<E;M++)d[M]=[];for(let M=0,E=f.length;M<E;M++){const P=m[M];for(let A=0;A<P.length;A++){const L=P[A];let I=!0;for(let R=0;R<f.length;R++)r(L.p,f[R].p)&&(M!==R&&b++,I?(I=!1,d[R].push(L)):g=!0);I&&d[M].push(L)}}b>0&&g===!1&&(m=d)}let y;for(let g=0,b=f.length;g<b;g++){l=f[g].s,u.push(l),y=m[g];for(let M=0,E=y.length;M<E;M++)l.holes.push(y[M].h)}return u}}class q9e extends dc{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class Z9e extends eu{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:kw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=kw);const K9e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:f8,AddEquation:uf,AddOperation:oue,AdditiveAnimationBlendMode:w8,AdditiveBlending:zC,AgXToneMapping:due,AlphaFormat:y8,AlwaysCompare:Aue,AlwaysDepth:GC,AlwaysStencilFunc:SU,AmbientLight:Cce,AnimationAction:kce,AnimationClip:QM,AnimationLoader:K7e,AnimationMixer:T9e,AnimationObjectGroup:w9e,AnimationUtils:$7e,ArcCurve:Jue,ArrayCamera:Gue,ArrowHelper:X9e,AttachedBindMode:_U,Audio:Dce,AudioAnalyser:p9e,AudioContext:q8,AudioListener:h9e,AudioLoader:l9e,AxesHelper:$9e,BackSide:ra,BasicDepthPacking:yue,BasicShadowMap:Vle,BatchedMesh:Zue,Bone:O8,BooleanKeyframeTrack:a0,Box2:I9e,Box3:ia,Box3Helper:W9e,BoxGeometry:s0,BoxHelper:G9e,BufferAttribute:Yn,BufferGeometry:nn,BufferGeometryLoader:Nce,ByteType:m8,Cache:_h,Camera:Bw,CameraHelper:H9e,CanvasTexture:v7e,CapsuleGeometry:PL,CatmullRomCurve3:ece,CineonToneMapping:cue,CircleGeometry:RL,ClampToEdgeWrapping:ol,Clock:Z8,Color:Rt,ColorKeyframeTrack:X8,ColorManagement:Mn,CompressedArrayTexture:m7e,CompressedCubeTexture:g7e,CompressedTexture:AL,CompressedTextureLoader:Q7e,ConeGeometry:LL,ConstantAlphaFactor:iue,ConstantColorFactor:nue,Controls:q9e,CubeCamera:Oue,CubeReflectionMapping:ed,CubeRefractionMapping:Yf,CubeTexture:Vw,CubeTextureLoader:J7e,CubeUVReflectionMapping:lx,CubicBezierCurve:F8,CubicBezierCurve3:tce,CubicInterpolant:_ce,CullFaceBack:vU,CullFaceFront:Ble,CullFaceFrontBack:jke,CullFaceNone:zle,Curve:ru,CurvePath:rce,CustomBlending:Hle,CustomToneMapping:hue,CylinderGeometry:fx,Cylindrical:L9e,Data3DTexture:A8,DataArrayTexture:SL,DataTexture:ac,DataTextureLoader:e9e,DataUtils:sFe,DecrementStencilOp:sUe,DecrementWrapStencilOp:oUe,DefaultLoadingManager:Mce,DepthFormat:mg,DepthStencilFormat:Hg,DepthTexture:L8,DetachedBindMode:pue,DirectionalLight:Ace,DirectionalLightHelper:V9e,DiscreteInterpolant:Sce,DodecahedronGeometry:IL,DoubleSide:Ou,DstAlphaFactor:Kle,DstColorFactor:Jle,DynamicCopyUsage:bUe,DynamicDrawUsage:gUe,DynamicReadUsage:xUe,EdgesGeometry:ice,EllipseCurve:CL,EqualCompare:Mue,EqualDepth:jC,EqualStencilFunc:hUe,EquirectangularReflectionMapping:UM,EquirectangularRefractionMapping:FM,Euler:Eo,EventDispatcher:dc,ExtrudeGeometry:DL,FileLoader:nd,Float16BufferAttribute:hFe,Float32BufferAttribute:Ft,FloatType:Ca,Fog:wL,FogExp2:ML,FramebufferTexture:p7e,FrontSide:Jh,Frustum:Hw,GLBufferAttribute:R9e,GLSL1:wUe,GLSL3:bU,GreaterCompare:wue,GreaterDepth:$C,GreaterEqualCompare:Tue,GreaterEqualDepth:XC,GreaterEqualStencilFunc:mUe,GreaterStencilFunc:fUe,GridHelper:z9e,Group:Gy,HalfFloatType:ux,HemisphereLight:wce,HemisphereLightHelper:F9e,IcosahedronGeometry:OL,ImageBitmapLoader:o9e,ImageLoader:JM,ImageUtils:Rue,IncrementStencilOp:iUe,IncrementWrapStencilOp:aUe,InstancedBufferAttribute:H1,InstancedBufferGeometry:Ice,InstancedInterleavedBuffer:P9e,InstancedMesh:que,Int16BufferAttribute:uFe,Int32BufferAttribute:cFe,Int8BufferAttribute:aFe,IntType:pL,InterleavedBuffer:EL,InterleavedBufferAttribute:Gg,Interpolant:$w,InterpolateDiscrete:VM,InterpolateLinear:SP,InterpolateSmooth:TA,InvertStencilOp:lUe,KeepStencilOp:Lm,KeyframeTrack:iu,LOD:$ue,LatheGeometry:Ww,Layers:vg,LessCompare:bue,LessDepth:WC,LessEqualCompare:E8,LessEqualDepth:Bg,LessEqualStencilFunc:dUe,LessStencilFunc:cUe,Light:hp,LightProbe:Lce,Line:qf,Line3:N9e,LineBasicMaterial:ca,LineCurve:z8,LineCurve3:nce,LineDashedMaterial:vce,LineLoop:Kue,LineSegments:fc,LinearFilter:Mi,LinearInterpolant:j8,LinearMipMapLinearFilter:qke,LinearMipMapNearestFilter:Yke,LinearMipmapLinearFilter:Hu,LinearMipmapNearestFilter:xb,LinearSRGBColorSpace:i0,LinearToneMapping:lue,LinearTransfer:zw,Loader:Fa,LoaderUtils:RU,LoadingManager:$8,LoopOnce:mue,LoopPingPong:vue,LoopRepeat:gue,LuminanceAlphaFormat:S8,LuminanceFormat:_8,MOUSE:Gke,Material:ms,MaterialLoader:HL,MathUtils:VUe,Matrix2:e7,Matrix3:Qt,Matrix4:qt,MaxEquation:Xle,Mesh:di,MeshBasicMaterial:up,MeshDepthMaterial:I8,MeshDistanceMaterial:N8,MeshLambertMaterial:mce,MeshMatcapMaterial:gce,MeshNormalMaterial:pce,MeshPhongMaterial:dce,MeshPhysicalMaterial:hce,MeshStandardMaterial:G8,MeshToonMaterial:fce,MinEquation:jle,MirroredRepeatWrapping:BM,MixOperation:aue,MultiplyBlending:xU,MultiplyOperation:Uw,NearestFilter:hs,NearestMipMapLinearFilter:$ke,NearestMipMapNearestFilter:Xke,NearestMipmapLinearFilter:By,NearestMipmapNearestFilter:p8,NeutralToneMapping:fue,NeverCompare:Sue,NeverDepth:HC,NeverStencilFunc:uUe,NoBlending:Nh,NoColorSpace:hh,NoToneMapping:sc,NormalAnimationBlendMode:_L,NormalBlending:pg,NotEqualCompare:Eue,NotEqualDepth:YC,NotEqualStencilFunc:pUe,NumberKeyframeTrack:ZM,Object3D:In,ObjectLoader:s9e,ObjectSpaceNormalMap:_ue,OctahedronGeometry:jw,OneFactor:Yle,OneMinusConstantAlphaFactor:sue,OneMinusConstantColorFactor:rue,OneMinusDstAlphaFactor:Qle,OneMinusDstColorFactor:eue,OneMinusSrcAlphaFactor:VC,OneMinusSrcColorFactor:Zle,OrthographicCamera:Gw,PCFShadowMap:dL,PCFSoftShadowMap:yb,PMREMGenerator:MU,Path:XM,PerspectiveCamera:Hi,Plane:nf,PlaneGeometry:hx,PlaneHelper:j9e,PointLight:Tce,PointLightHelper:k9e,Points:Que,PointsMaterial:k8,PolarGridHelper:B9e,PolyhedronGeometry:cp,PositionalAudio:f9e,PropertyBinding:Tn,PropertyMixer:Oce,QuadraticBezierCurve:B8,QuadraticBezierCurve3:V8,Quaternion:ka,QuaternionKeyframeTrack:Yw,QuaternionLinearInterpolant:bce,RED_GREEN_RGTC2_Format:xP,RED_RGTC1_Format:M8,REVISION:kw,RGBADepthPacking:xue,RGBAFormat:Ds,RGBAIntegerFormat:xL,RGBA_ASTC_10x10_Format:fP,RGBA_ASTC_10x5_Format:cP,RGBA_ASTC_10x6_Format:hP,RGBA_ASTC_10x8_Format:dP,RGBA_ASTC_12x10_Format:pP,RGBA_ASTC_12x12_Format:mP,RGBA_ASTC_4x4_Format:nP,RGBA_ASTC_5x4_Format:rP,RGBA_ASTC_5x5_Format:iP,RGBA_ASTC_6x5_Format:sP,RGBA_ASTC_6x6_Format:aP,RGBA_ASTC_8x5_Format:oP,RGBA_ASTC_8x6_Format:lP,RGBA_ASTC_8x8_Format:uP,RGBA_BPTC_Format:wb,RGBA_ETC2_EAC_Format:tP,RGBA_PVRTC_2BPPV1_Format:QC,RGBA_PVRTC_4BPPV1_Format:KC,RGBA_S3TC_DXT1_Format:Sb,RGBA_S3TC_DXT3_Format:bb,RGBA_S3TC_DXT5_Format:Mb,RGBDepthPacking:eUe,RGBFormat:x8,RGBIntegerFormat:Zke,RGB_BPTC_SIGNED_Format:gP,RGB_BPTC_UNSIGNED_Format:vP,RGB_ETC1_Format:JC,RGB_ETC2_Format:eP,RGB_PVRTC_2BPPV1_Format:ZC,RGB_PVRTC_4BPPV1_Format:qC,RGB_S3TC_DXT1_Format:_b,RGDepthPacking:tUe,RGFormat:b8,RGIntegerFormat:yL,RawShaderMaterial:cce,Ray:cx,Raycaster:Uce,RectAreaLight:Pce,RedFormat:vL,RedIntegerFormat:Fw,ReinhardToneMapping:uue,RenderTarget:Lue,RepeatWrapping:zM,ReplaceStencilOp:rUe,ReverseSubtractEquation:Wle,RingGeometry:kL,SIGNED_RED_GREEN_RGTC2_Format:_P,SIGNED_RED_RGTC1_Format:yP,SRGBColorSpace:_a,SRGBTransfer:Bn,Scene:bP,ShaderChunk:ln,ShaderLib:Wl,ShaderMaterial:ml,ShadowMaterial:uce,Shape:yg,ShapeGeometry:UL,ShapePath:Y9e,ShapeUtils:oc,ShortType:g8,Skeleton:TL,SkeletonHelper:O9e,SkinnedMesh:Yue,Source:Km,Sphere:Fs,SphereGeometry:Xw,Spherical:Fce,SphericalHarmonics3:Rce,SplineCurve:H8,SpotLight:Ece,SpotLightHelper:D9e,Sprite:Xue,SpriteMaterial:D8,SrcAlphaFactor:BC,SrcAlphaSaturateFactor:tue,SrcColorFactor:qle,StaticCopyUsage:SUe,StaticDrawUsage:GM,StaticReadUsage:yUe,StereoCamera:u9e,StreamCopyUsage:MUe,StreamDrawUsage:vUe,StreamReadUsage:_Ue,StringKeyframeTrack:o0,SubtractEquation:Gle,SubtractiveBlending:yU,TOUCH:Wke,TangentSpaceNormalMap:lp,TetrahedronGeometry:FL,Texture:Pr,TextureLoader:t9e,TextureUtils:Y8e,TorusGeometry:zL,TorusKnotGeometry:BL,Triangle:wa,TriangleFanDrawMode:Jke,TriangleStripDrawMode:Qke,TrianglesDrawMode:Kke,TubeGeometry:VL,UVMapping:fL,Uint16BufferAttribute:C8,Uint32BufferAttribute:P8,Uint8BufferAttribute:oFe,Uint8ClampedBufferAttribute:lFe,Uniform:J8,UniformsGroup:C9e,UniformsLib:Et,UniformsUtils:Due,UnsignedByteType:Jl,UnsignedInt248Type:Vg,UnsignedInt5999Type:v8,UnsignedIntType:td,UnsignedShort4444Type:mL,UnsignedShort5551Type:gL,UnsignedShortType:z1,VSMShadowMap:kl,Vector2:tt,Vector3:ue,Vector4:Cn,VectorKeyframeTrack:KM,VideoTexture:f7e,WebGL3DRenderTarget:qUe,WebGLArrayRenderTarget:YUe,WebGLCoordinateSystem:Gu,WebGLCubeRenderTarget:kue,WebGLMultipleRenderTargets:Z9e,WebGLRenderTarget:eu,WebGLRenderer:Wue,WebGLUtils:Hue,WebGPUCoordinateSystem:WM,WireframeGeometry:lce,WrapAroundEnding:HM,ZeroCurvatureEnding:qm,ZeroFactor:$le,ZeroSlopeEnding:Zm,ZeroStencilOp:nUe,createCanvasElement:Pue},Symbol.toStringTag,{value:"Module"}));var Bce={exports:{}},l0={};/**
* @license React
* react-reconciler-constants.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/l0.ConcurrentRoot=1;l0.ContinuousEventPriority=4;l0.DefaultEventPriority=16;l0.DiscreteEventPriority=1;l0.IdleEventPriority=536870912;l0.LegacyRoot=0;Bce.exports=l0;var jy=Bce.exports;function Q9e(t){let e;const n=new Set,r=(o,l)=>{const u=typeof o=="function"?o(e):o;if(u!==e){const h=e;e=l?u:Object.assign({},e,u),n.forEach(d=>d(e,h))}},i=()=>e,s=(o,l=i,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=l(e);function d(){const f=l(e);if(!u(h,f)){const m=h;o(h=f,m)}}return n.add(d),()=>n.delete(d)},a={setState:r,getState:i,subscribe:(o,l,u)=>l||u?s(o,l,u):(n.add(o),()=>n.delete(o)),destroy:()=>n.clear()};return e=t(r,i,a),a}const J9e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),iq=J9e?fe.useEffect:fe.useLayoutEffect;function eVe(t){const e=typeof t=="function"?Q9e(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=fe.useReducer(y=>y+1,0),a=e.getState(),o=fe.useRef(a),l=fe.useRef(r),u=fe.useRef(i),h=fe.useRef(!1),d=fe.useRef();d.current===void 0&&(d.current=r(a));let f,m=!1;(o.current!==a||l.current!==r||u.current!==i||h.current)&&(f=r(a),m=!i(d.current,f)),iq(()=>{m&&(d.current=f),o.current=a,l.current=r,u.current=i,h.current=!1});const v=fe.useRef(a);iq(()=>{const y=()=>{try{const b=e.getState(),M=l.current(b);u.current(d.current,M)||(o.current=b,d.current=M,s())}catch{h.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const S=m?f:d.current;return fe.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var Vce={exports:{}},sq={exports:{}},aq={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var oq;function tVe(){return oq||(oq=1,function(t){function e(D,V){var B=D.length;D.push(V);e:for(;0<B;){var $=B-1>>>1,te=D[$];if(0<i(te,V))D[$]=V,D[B]=te,B=$;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],B=D.pop();if(B!==V){D[0]=B;e:for(var $=0,te=D.length,Ae=te>>>1;$<Ae;){var F=2*($+1)-1,ve=D[F],ie=F+1,he=D[ie];if(0>i(ve,B))ie<te&&0>i(he,ve)?(D[$]=he,D[ie]=B,$=ie):(D[$]=ve,D[F]=B,$=F);else if(ie<te&&0>i(he,B))D[$]=he,D[ie]=B,$=ie;else break e}}return V}function i(D,V){var B=D.sortIndex-V.sortIndex;return B!==0?B:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,m=!1,v=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(D){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=D)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function E(D){if(S=!1,M(D),!v)if(n(l)!==null)v=!0,X(P);else{var V=n(u);V!==null&&se(E,V.startTime-D)}}function P(D,V){v=!1,S&&(S=!1,g(I),I=-1),m=!0;var B=f;try{for(M(V),d=n(l);d!==null&&(!(d.expirationTime>V)||D&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var te=$(d.expirationTime<=V);V=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),M(V)}else r(l);d=n(l)}if(d!==null)var Ae=!0;else{var F=n(u);F!==null&&se(E,F.startTime-V),Ae=!1}return Ae}finally{d=null,f=B,m=!1}}var A=!1,L=null,I=-1,R=5,C=-1;function O(){return!(t.unstable_now()-C<R)}function G(){if(L!==null){var D=t.unstable_now();C=D;var V=!0;try{V=L(!0,D)}finally{V?j():(A=!1,L=null)}}else A=!1}var j;if(typeof b=="function")j=function(){b(G)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=G,j=function(){Q.postMessage(null)}}else j=function(){y(G,0)};function X(D){L=D,A||(A=!0,j())}function se(D,V){I=y(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,X(P))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var B=f;f=V;try{return D()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=f;f=D;try{return V()}finally{f=B}},t.unstable_scheduleCallback=function(D,V,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,D={id:h++,callback:V,priorityLevel:D,startTime:B,expirationTime:te,sortIndex:-1},B>$?(D.sortIndex=B,e(u,D),n(l)===null&&D===n(u)&&(S?(g(I),I=-1):S=!0,se(E,B-$))):(D.sortIndex=te,e(l,D),v||m||(v=!0,X(P))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var V=f;return function(){var B=f;f=V;try{return D.apply(this,arguments)}finally{f=B}}}}(aq)),aq}var lq;function nVe(){return lq||(lq=1,sq.exports=tVe()),sq.exports}/**
* @license React
* react-reconciler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var rVe=function(t){var e={},n=fe,r=nVe(),i=Object.assign;function s(x){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+x,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+x+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),E=Symbol.iterator;function P(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}function A(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case u:return"Fragment";case l:return"Portal";case d:return"Profiler";case h:return"StrictMode";case S:return"Suspense";case y:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case m:return(x.displayName||"Context")+".Consumer";case f:return(x._context.displayName||"Context")+".Provider";case v:var c=x.render;return x=x.displayName,x||(x=c.displayName||c.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case g:return c=x.displayName||null,c!==null?c:A(x.type)||"Memo";case b:c=x._payload,x=x._init;try{return A(x(c))}catch{}}return null}function L(x){var c=x.type;switch(x.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=c.render,x=x.displayName||x.name||"",c.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(c);case 8:return c===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function I(x){var c=x,p=x;if(x.alternate)for(;c.return;)c=c.return;else{x=c;do c=x,c.flags&4098&&(p=c.return),x=c.return;while(x)}return c.tag===3?p:null}function R(x){if(I(x)!==x)throw Error(s(188))}function C(x){var c=x.alternate;if(!c){if(c=I(x),c===null)throw Error(s(188));return c!==x?null:x}for(var p=x,_=c;;){var w=p.return;if(w===null)break;var T=w.alternate;if(T===null){if(_=w.return,_!==null){p=_;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===p)return R(w),x;if(T===_)return R(w),c;T=T.sibling}throw Error(s(188))}if(p.return!==_.return)p=w,_=T;else{for(var N=!1,W=w.child;W;){if(W===p){N=!0,p=w,_=T;break}if(W===_){N=!0,_=w,p=T;break}W=W.sibling}if(!N){for(W=T.child;W;){if(W===p){N=!0,p=T,_=w;break}if(W===_){N=!0,_=T,p=w;break}W=W.sibling}if(!N)throw Error(s(189))}}if(p.alternate!==_)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?x:c}function O(x){return x=C(x),x!==null?G(x):null}function G(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var c=G(x);if(c!==null)return c;x=x.sibling}return null}function j(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){if(x.tag!==4){var c=j(x);if(c!==null)return c}x=x.sibling}return null}var q=Array.isArray,Q=t.getPublicInstance,X=t.getRootHostContext,se=t.getChildHostContext,D=t.prepareForCommit,V=t.resetAfterCommit,B=t.createInstance,$=t.appendInitialChild,te=t.finalizeInitialChildren,Ae=t.prepareUpdate,F=t.shouldSetTextContent,ve=t.createTextInstance,ie=t.scheduleTimeout,he=t.cancelTimeout,Ve=t.noTimeout,ke=t.isPrimaryRenderer,Pe=t.supportsMutation,Ce=t.supportsPersistence,pe=t.supportsHydration,be=t.getInstanceFromNode,H=t.preparePortalMount,Ee=t.getCurrentEventPriority,Te=t.detachDeletedInstance,He=t.supportsMicrotasks,Le=t.scheduleMicrotask,it=t.supportsTestSelectors,ze=t.findFiberRoot,z=t.getBoundingRect,k=t.getTextContent,J=t.isHiddenSubtree,ge=t.matchAccessibilityRole,xe=t.setFocusIfFocusable,me=t.setupIntersectionObserver,qe=t.appendChild,Ie=t.appendChildToContainer,Xe=t.commitTextUpdate,pt=t.commitMount,Me=t.commitUpdate,je=t.insertBefore,nt=t.insertInContainerBefore,at=t.removeChild,$e=t.removeChildFromContainer,Tt=t.resetTextContent,dt=t.hideInstance,Vt=t.hideTextInstance,Y=t.unhideInstance,Oe=t.unhideTextInstance,ce=t.clearContainer,_e=t.cloneInstance,We=t.createContainerChildSet,De=t.appendChildToContainerChildSet,vt=t.finalizeContainerChildren,jt=t.replaceContainerChildren,dn=t.cloneHiddenInstance,Nt=t.cloneHiddenTextInstance,jn=t.canHydrateInstance,xr=t.canHydrateTextInstance,pc=t.canHydrateSuspenseInstance,su=t.isSuspenseInstancePending,Ir=t.isSuspenseInstanceFallback,za=t.registerSuspenseInstanceRetry,Ba=t.getNextHydratableSibling,Va=t.getFirstHydratableChild,Ha=t.getFirstHydratableChildWithinContainer,mc=t.getFirstHydratableChildWithinSuspenseInstance,Ga=t.hydrateInstance,gc=t.hydrateTextInstance,vc=t.hydrateSuspenseInstance,dp=t.getNextHydratableInstanceAfterSuspenseInstance,ud=t.commitHydratedContainer,cd=t.commitHydratedSuspenseInstance,U=t.clearSuspenseBoundary,K=t.clearSuspenseBoundaryFromContainer,ae=t.shouldDeleteUnhydratedTailInstances,oe=t.didNotMatchHydratedContainerTextInstance,Z=t.didNotMatchHydratedTextInstance,we;function Be(x){if(we===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);we=c&&c[1]||""}return`
`+we+x}var Ze=!1;function Ke(x,c){if(!x||Ze)return"";Ze=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ye){var _=ye}Reflect.construct(x,[],c)}else{try{c.call()}catch(ye){_=ye}x.call(c.prototype)}else{try{throw Error()}catch(ye){_=ye}x()}}catch(ye){if(ye&&_&&typeof ye.stack=="string"){for(var w=ye.stack.split(`
`),T=_.stack.split(`
`),N=w.length-1,W=T.length-1;1<=N&&0<=W&&w[N]!==T[W];)W--;for(;1<=N&&0<=W;N--,W--)if(w[N]!==T[W]){if(N!==1||W!==1)do if(N--,W--,0>W||w[N]!==T[W]){var ne=`
`+w[N].replace(" at new "," at ");return x.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",x.displayName)),ne}while(1<=N&&0<=W);break}}}finally{Ze=!1,Error.prepareStackTrace=p}return(x=x?x.displayName||x.name:"")?Be(x):""}var lt=Object.prototype.hasOwnProperty,ht=[],Qe=-1;function xt(x){return{current:x}}function ft(x){0>Qe||(x.current=ht[Qe],ht[Qe]=null,Qe--)}function rt(x,c){Qe++,ht[Qe]=x.current,x.current=c}var Ct={},yt=xt(Ct),Ge=xt(!1),un=Ct;function Ht(x,c){var p=x.type.contextTypes;if(!p)return Ct;var _=x.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===c)return _.__reactInternalMemoizedMaskedChildContext;var w={},T;for(T in p)w[T]=c[T];return _&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=c,x.__reactInternalMemoizedMaskedChildContext=w),w}function Zt(x){return x=x.childContextTypes,x!=null}function wn(){ft(Ge),ft(yt)}function xn(x,c,p){if(yt.current!==Ct)throw Error(s(168));rt(yt,c),rt(Ge,p)}function $i(x,c,p){var _=x.stateNode;if(c=c.childContextTypes,typeof _.getChildContext!="function")return p;_=_.getChildContext();for(var w in _)if(!(w in c))throw Error(s(108,L(x)||"Unknown",w));return i({},p,_)}function Bt(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Ct,un=yt.current,rt(yt,x),rt(Ge,Ge.current),!0}function On(x,c,p){var _=x.stateNode;if(!_)throw Error(s(169));p?(x=$i(x,c,un),_.__reactInternalMemoizedMergedChildContext=x,ft(Ge),ft(yt),rt(yt,x)):ft(Ge),rt(Ge,p)}var Kn=Math.clz32?Math.clz32:Gr,rn=Math.log,Ci=Math.LN2;function Gr(x){return x>>>=0,x===0?32:31-(rn(x)/Ci|0)|0}var Io=64,yc=4194304;function au(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function ou(x,c){var p=x.pendingLanes;if(p===0)return 0;var _=0,w=x.suspendedLanes,T=x.pingedLanes,N=p&268435455;if(N!==0){var W=N&~w;W!==0?_=au(W):(T&=N,T!==0&&(_=au(T)))}else N=p&~w,N!==0?_=au(N):T!==0&&(_=au(T));if(_===0)return 0;if(c!==0&&c!==_&&!(c&w)&&(w=_&-_,T=c&-c,w>=T||w===16&&(T&4194240)!==0))return c;if(_&4&&(_|=p&16),c=x.entangledLanes,c!==0)for(x=x.entanglements,c&=_;0<c;)p=31-Kn(c),w=1<<p,_|=x[p],c&=~w;return _}function u0(x,c){switch(x){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GL(x,c){for(var p=x.suspendedLanes,_=x.pingedLanes,w=x.expirationTimes,T=x.pendingLanes;0<T;){var N=31-Kn(T),W=1<<N,ne=w[N];ne===-1?(!(W&p)||W&_)&&(w[N]=u0(W,c)):ne<=c&&(x.expiredLanes|=W),T&=~W}}function px(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function fp(x){for(var c=[],p=0;31>p;p++)c.push(x);return c}function xc(x,c,p){x.pendingLanes|=c,c!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,c=31-Kn(c),x[c]=p}function pp(x,c){var p=x.pendingLanes&~c;x.pendingLanes=c,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=c,x.mutableReadLanes&=c,x.entangledLanes&=c,c=x.entanglements;var _=x.eventTimes;for(x=x.expirationTimes;0<p;){var w=31-Kn(p),T=1<<w;c[w]=0,_[w]=-1,x[w]=-1,p&=~T}}function mx(x,c){var p=x.entangledLanes|=c;for(x=x.entanglements;p;){var _=31-Kn(p),w=1<<_;w&c|x[_]&c&&(x[_]|=c),p&=~w}}var yn=0;function _n(x){return x&=-x,1<x?4<x?x&268435455?16:536870912:4:1}var c0=r.unstable_scheduleCallback,h0=r.unstable_cancelCallback,Zw=r.unstable_shouldYield,WL=r.unstable_requestPaint,Kr=r.unstable_now,Nr=r.unstable_ImmediatePriority,gx=r.unstable_UserBlockingPriority,vx=r.unstable_NormalPriority,yx=r.unstable_IdlePriority,d0=null,Gs=null;function No(x){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(d0,x,void 0,(x.current.flags&128)===128)}catch{}}function jL(x,c){return x===c&&(x!==0||1/x===1/c)||x!==x&&c!==c}var Do=typeof Object.is=="function"?Object.is:jL,Qr=null,ha=!1,hd=!1;function f0(x){Qr===null?Qr=[x]:Qr.push(x)}function Kw(x){ha=!0,f0(x)}function Oo(){if(!hd&&Qr!==null){hd=!0;var x=0,c=yn;try{var p=Qr;for(yn=1;x<p.length;x++){var _=p[x];do _=_(!0);while(_!==null)}Qr=null,ha=!1}catch(w){throw Qr!==null&&(Qr=Qr.slice(x+1)),c0(Nr,Oo),w}finally{yn=c,hd=!1}}return null}var ko=a.ReactCurrentBatchConfig;function p0(x,c){if(Do(x,c))return!0;if(typeof x!="object"||x===null||typeof c!="object"||c===null)return!1;var p=Object.keys(x),_=Object.keys(c);if(p.length!==_.length)return!1;for(_=0;_<p.length;_++){var w=p[_];if(!lt.call(c,w)||!Do(x[w],c[w]))return!1}return!0}function m0(x){switch(x.tag){case 5:return Be(x.type);case 16:return Be("Lazy");case 13:return Be("Suspense");case 19:return Be("SuspenseList");case 0:case 2:case 15:return x=Ke(x.type,!1),x;case 11:return x=Ke(x.type.render,!1),x;case 1:return x=Ke(x.type,!0),x;default:return""}}function Wa(x,c){if(x&&x.defaultProps){c=i({},c),x=x.defaultProps;for(var p in x)c[p]===void 0&&(c[p]=x[p]);return c}return c}var gs=xt(null),_c=null,gl=null,lu=null;function mp(){lu=gl=_c=null}function g0(x,c,p){ke?(rt(gs,c._currentValue),c._currentValue=p):(rt(gs,c._currentValue2),c._currentValue2=p)}function v0(x){var c=gs.current;ft(gs),ke?x._currentValue=c:x._currentValue2=c}function gp(x,c,p){for(;x!==null;){var _=x.alternate;if((x.childLanes&c)!==c?(x.childLanes|=c,_!==null&&(_.childLanes|=c)):_!==null&&(_.childLanes&c)!==c&&(_.childLanes|=c),x===p)break;x=x.return}}function uu(x,c){_c=x,lu=gl=null,x=x.dependencies,x!==null&&x.firstContext!==null&&(x.lanes&c&&(Ws=!0),x.firstContext=null)}function fi(x){var c=ke?x._currentValue:x._currentValue2;if(lu!==x)if(x={context:x,memoizedValue:c,next:null},gl===null){if(_c===null)throw Error(s(308));gl=x,_c.dependencies={lanes:0,firstContext:x}}else gl=gl.next=x;return c}var _r=null,pi=!1;function Uo(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(x,c){x=x.updateQueue,c.updateQueue===x&&(c.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Fo(x,c){return{eventTime:x,lane:c,tag:0,payload:null,callback:null,next:null}}function Pi(x,c){var p=x.updateQueue;p!==null&&(p=p.shared,zt!==null&&x.mode&1&&!(kt&2)?(x=p.interleaved,x===null?(c.next=c,_r===null?_r=[p]:_r.push(p)):(c.next=x.next,x.next=c),p.interleaved=c):(x=p.pending,x===null?c.next=c:(c.next=x.next,x.next=c),p.pending=c))}function ja(x,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var _=c.lanes;_&=x.pendingLanes,p|=_,c.lanes=p,mx(x,p)}}function vp(x,c){var p=x.updateQueue,_=x.alternate;if(_!==null&&(_=_.updateQueue,p===_)){var w=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var N={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?w=T=N:T=T.next=N,p=p.next}while(p!==null);T===null?w=T=c:T=T.next=c}else w=T=c;p={baseState:_.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:_.shared,effects:_.effects},x.updateQueue=p;return}x=p.lastBaseUpdate,x===null?p.firstBaseUpdate=c:x.next=c,p.lastBaseUpdate=c}function yp(x,c,p,_){var w=x.updateQueue;pi=!1;var T=w.firstBaseUpdate,N=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var ne=W,ye=ne.next;ne.next=null,N===null?T=ye:N.next=ye,N=ne;var Ne=x.alternate;Ne!==null&&(Ne=Ne.updateQueue,W=Ne.lastBaseUpdate,W!==N&&(W===null?Ne.firstBaseUpdate=ye:W.next=ye,Ne.lastBaseUpdate=ne))}if(T!==null){var Je=w.baseState;N=0,Ne=ye=ne=null,W=T;do{var ot=W.lane,_t=W.eventTime;if((_&ot)===ot){Ne!==null&&(Ne=Ne.next={eventTime:_t,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var mt=x,At=W;switch(ot=c,_t=p,At.tag){case 1:if(mt=At.payload,typeof mt=="function"){Je=mt.call(_t,Je,ot);break e}Je=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=At.payload,ot=typeof mt=="function"?mt.call(_t,Je,ot):mt,ot==null)break e;Je=i({},Je,ot);break e;case 2:pi=!0}}W.callback!==null&&W.lane!==0&&(x.flags|=64,ot=w.effects,ot===null?w.effects=[W]:ot.push(W))}else _t={eventTime:_t,lane:ot,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Ne===null?(ye=Ne=_t,ne=Je):Ne=Ne.next=_t,N|=ot;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;ot=W,W=ot.next,ot.next=null,w.lastBaseUpdate=ot,w.shared.pending=null}}while(!0);if(Ne===null&&(ne=Je),w.baseState=ne,w.firstBaseUpdate=ye,w.lastBaseUpdate=Ne,c=w.shared.interleaved,c!==null){w=c;do N|=w.lane,w=w.next;while(w!==c)}else T===null&&(w.shared.lanes=0);Wo|=N,x.lanes=N,x.memoizedState=Je}}function xp(x,c,p){if(x=c.effects,c.effects=null,x!==null)for(c=0;c<x.length;c++){var _=x[c],w=_.callback;if(w!==null){if(_.callback=null,_=p,typeof w!="function")throw Error(s(191,w));w.call(_)}}}var xx=new n.Component().refs;function x0(x,c,p,_){c=x.memoizedState,p=p(_,c),p=p==null?c:i({},c,p),x.memoizedState=p,x.lanes===0&&(x.updateQueue.baseState=p)}var dd={isMounted:function(x){return(x=x._reactInternals)?I(x)===x:!1},enqueueSetState:function(x,c,p){x=x._reactInternals;var _=ii(),w=dr(x),T=Fo(_,w);T.payload=c,p!=null&&(T.callback=p),Pi(x,T),c=Wr(x,w,_),c!==null&&ja(c,x,w)},enqueueReplaceState:function(x,c,p){x=x._reactInternals;var _=ii(),w=dr(x),T=Fo(_,w);T.tag=1,T.payload=c,p!=null&&(T.callback=p),Pi(x,T),c=Wr(x,w,_),c!==null&&ja(c,x,w)},enqueueForceUpdate:function(x,c){x=x._reactInternals;var p=ii(),_=dr(x),w=Fo(p,_);w.tag=2,c!=null&&(w.callback=c),Pi(x,w),c=Wr(x,_,p),c!==null&&ja(c,x,_)}};function _p(x,c,p,_,w,T,N){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(_,T,N):c.prototype&&c.prototype.isPureReactComponent?!p0(p,_)||!p0(w,T):!0}function _x(x,c,p){var _=!1,w=Ct,T=c.contextType;return typeof T=="object"&&T!==null?T=fi(T):(w=Zt(c)?un:yt.current,_=c.contextTypes,T=(_=_!=null)?Ht(x,w):Ct),c=new c(p,T),x.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=dd,x.stateNode=c,c._reactInternals=x,_&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=w,x.__reactInternalMemoizedMaskedChildContext=T),c}function Sx(x,c,p,_){x=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,_),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,_),c.state!==x&&dd.enqueueReplaceState(c,c.state,null)}function _0(x,c,p,_){var w=x.stateNode;w.props=p,w.state=x.memoizedState,w.refs=xx,Uo(x);var T=c.contextType;typeof T=="object"&&T!==null?w.context=fi(T):(T=Zt(c)?un:yt.current,w.context=Ht(x,T)),w.state=x.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(x0(x,c,T,p),w.state=x.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&dd.enqueueReplaceState(w,w.state,null),yp(x,p,w,_),w.state=x.memoizedState),typeof w.componentDidMount=="function"&&(x.flags|=4194308)}var cu=[],Xa=0,vl=null,Sc=0,Yi=[],tr=0,Jr=null,qi=1,mi="";function Zi(x,c){cu[Xa++]=Sc,cu[Xa++]=vl,vl=x,Sc=c}function hu(x,c,p){Yi[tr++]=qi,Yi[tr++]=mi,Yi[tr++]=Jr,Jr=x;var _=qi;x=mi;var w=32-Kn(_)-1;_&=~(1<<w),p+=1;var T=32-Kn(c)+w;if(30<T){var N=w-w%5;T=(_&(1<<N)-1).toString(32),_>>=N,w-=N,qi=1<<32-Kn(c)+w|p<<w|_,mi=T+x}else qi=1<<T|p<<w|_,mi=x}function S0(x){x.return!==null&&(Zi(x,1),hu(x,1,0))}function Sp(x){for(;x===vl;)vl=cu[--Xa],cu[Xa]=null,Sc=cu[--Xa],cu[Xa]=null;for(;x===Jr;)Jr=Yi[--tr],Yi[tr]=null,mi=Yi[--tr],Yi[tr]=null,qi=Yi[--tr],Yi[tr]=null}var Ki=null,qn=null,pn=!1,Dn=!1,Qi=null;function da(x,c){var p=pa(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=x,c=x.deletions,c===null?(x.deletions=[p],x.flags|=16):c.push(p)}function bx(x,c){switch(x.tag){case 5:return c=jn(c,x.type,x.pendingProps),c!==null?(x.stateNode=c,Ki=x,qn=Va(c),!0):!1;case 6:return c=xr(c,x.pendingProps),c!==null?(x.stateNode=c,Ki=x,qn=null,!0):!1;case 13:if(c=pc(c),c!==null){var p=Jr!==null?{id:qi,overflow:mi}:null;return x.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=pa(18,null,null,0),p.stateNode=c,p.return=x,x.child=p,Ki=x,qn=null,!0}return!1;default:return!1}}function b0(x){return(x.mode&1)!==0&&(x.flags&128)===0}function bp(x){if(pn){var c=qn;if(c){var p=c;if(!bx(x,c)){if(b0(x))throw Error(s(418));c=Ba(p);var _=Ki;c&&bx(x,c)?da(_,p):(x.flags=x.flags&-4097|2,pn=!1,Ki=x)}}else{if(b0(x))throw Error(s(418));x.flags=x.flags&-4097|2,pn=!1,Ki=x}}}function M0(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;Ki=x}function fd(x){if(!pe||x!==Ki)return!1;if(!pn)return M0(x),pn=!0,!1;if(x.tag!==3&&(x.tag!==5||ae(x.type)&&!F(x.type,x.memoizedProps))){var c=qn;if(c){if(b0(x)){for(x=qn;x;)x=Ba(x);throw Error(s(418))}for(;c;)da(x,c),c=Ba(c)}}if(M0(x),x.tag===13){if(!pe)throw Error(s(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));qn=dp(x)}else qn=Ki?Ba(x.stateNode):null;return!0}function zo(){pe&&(qn=Ki=null,Dn=pn=!1)}function du(x){Qi===null?Qi=[x]:Qi.push(x)}function bc(x,c,p){if(x=p.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(s(309));var _=p.stateNode}if(!_)throw Error(s(147,x));var w=_,T=""+x;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===T?c.ref:(c=function(N){var W=w.refs;W===xx&&(W=w.refs={}),N===null?delete W[T]:W[T]=N},c._stringRef=T,c)}if(typeof x!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,x))}return x}function fu(x,c){throw x=Object.prototype.toString.call(c),Error(s(31,x==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":x))}function Mp(x){var c=x._init;return c(x._payload)}function Mx(x){function c(Re,ee){if(x){var re=Re.deletions;re===null?(Re.deletions=[ee],Re.flags|=16):re.push(ee)}}function p(Re,ee){if(!x)return null;for(;ee!==null;)c(Re,ee),ee=ee.sibling;return null}function _(Re,ee){for(Re=new Map;ee!==null;)ee.key!==null?Re.set(ee.key,ee):Re.set(ee.index,ee),ee=ee.sibling;return Re}function w(Re,ee){return Re=wu(Re,ee),Re.index=0,Re.sibling=null,Re}function T(Re,ee,re){return Re.index=re,x?(re=Re.alternate,re!==null?(re=re.index,re<ee?(Re.flags|=2,ee):re):(Re.flags|=2,ee)):(Re.flags|=1048576,ee)}function N(Re){return x&&Re.alternate===null&&(Re.flags|=2),Re}function W(Re,ee,re,Se){return ee===null||ee.tag!==6?(ee=Cd(re,Re.mode,Se),ee.return=Re,ee):(ee=w(ee,re),ee.return=Re,ee)}function ne(Re,ee,re,Se){var Ye=re.type;return Ye===u?Ne(Re,ee,re.props.children,Se,re.key):ee!==null&&(ee.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===b&&Mp(Ye)===ee.type)?(Se=w(ee,re.props),Se.ref=bc(Re,ee,re),Se.return=Re,Se):(Se=eo(re.type,re.key,re.props,null,Re.mode,Se),Se.ref=bc(Re,ee,re),Se.return=Re,Se)}function ye(Re,ee,re,Se){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==re.containerInfo||ee.stateNode.implementation!==re.implementation?(ee=Wp(re,Re.mode,Se),ee.return=Re,ee):(ee=w(ee,re.children||[]),ee.return=Re,ee)}function Ne(Re,ee,re,Se,Ye){return ee===null||ee.tag!==7?(ee=Xo(re,Re.mode,Se,Ye),ee.return=Re,ee):(ee=w(ee,re),ee.return=Re,ee)}function Je(Re,ee,re){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Cd(""+ee,Re.mode,re),ee.return=Re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case o:return re=eo(ee.type,ee.key,ee.props,null,Re.mode,re),re.ref=bc(Re,null,ee),re.return=Re,re;case l:return ee=Wp(ee,Re.mode,re),ee.return=Re,ee;case b:var Se=ee._init;return Je(Re,Se(ee._payload),re)}if(q(ee)||P(ee))return ee=Xo(ee,Re.mode,re,null),ee.return=Re,ee;fu(Re,ee)}return null}function ot(Re,ee,re,Se){var Ye=ee!==null?ee.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ye!==null?null:W(Re,ee,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case o:return re.key===Ye?ne(Re,ee,re,Se):null;case l:return re.key===Ye?ye(Re,ee,re,Se):null;case b:return Ye=re._init,ot(Re,ee,Ye(re._payload),Se)}if(q(re)||P(re))return Ye!==null?null:Ne(Re,ee,re,Se,null);fu(Re,re)}return null}function _t(Re,ee,re,Se,Ye){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Re=Re.get(re)||null,W(ee,Re,""+Se,Ye);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case o:return Re=Re.get(Se.key===null?re:Se.key)||null,ne(ee,Re,Se,Ye);case l:return Re=Re.get(Se.key===null?re:Se.key)||null,ye(ee,Re,Se,Ye);case b:var st=Se._init;return _t(Re,ee,re,st(Se._payload),Ye)}if(q(Se)||P(Se))return Re=Re.get(re)||null,Ne(ee,Re,Se,Ye,null);fu(ee,Se)}return null}function mt(Re,ee,re,Se){for(var Ye=null,st=null,gt=ee,Mt=ee=0,Gt=null;gt!==null&&Mt<re.length;Mt++){gt.index>Mt?(Gt=gt,gt=null):Gt=gt.sibling;var Wt=ot(Re,gt,re[Mt],Se);if(Wt===null){gt===null&&(gt=Gt);break}x&&gt&&Wt.alternate===null&&c(Re,gt),ee=T(Wt,ee,Mt),st===null?Ye=Wt:st.sibling=Wt,st=Wt,gt=Gt}if(Mt===re.length)return p(Re,gt),pn&&Zi(Re,Mt),Ye;if(gt===null){for(;Mt<re.length;Mt++)gt=Je(Re,re[Mt],Se),gt!==null&&(ee=T(gt,ee,Mt),st===null?Ye=gt:st.sibling=gt,st=gt);return pn&&Zi(Re,Mt),Ye}for(gt=_(Re,gt);Mt<re.length;Mt++)Gt=_t(gt,Re,Mt,re[Mt],Se),Gt!==null&&(x&&Gt.alternate!==null&&gt.delete(Gt.key===null?Mt:Gt.key),ee=T(Gt,ee,Mt),st===null?Ye=Gt:st.sibling=Gt,st=Gt);return x&&gt.forEach(function(an){return c(Re,an)}),pn&&Zi(Re,Mt),Ye}function At(Re,ee,re,Se){var Ye=P(re);if(typeof Ye!="function")throw Error(s(150));if(re=Ye.call(re),re==null)throw Error(s(151));for(var st=Ye=null,gt=ee,Mt=ee=0,Gt=null,Wt=re.next();gt!==null&&!Wt.done;Mt++,Wt=re.next()){gt.index>Mt?(Gt=gt,gt=null):Gt=gt.sibling;var an=ot(Re,gt,Wt.value,Se);if(an===null){gt===null&&(gt=Gt);break}x&&gt&&an.alternate===null&&c(Re,gt),ee=T(an,ee,Mt),st===null?Ye=an:st.sibling=an,st=an,gt=Gt}if(Wt.done)return p(Re,gt),pn&&Zi(Re,Mt),Ye;if(gt===null){for(;!Wt.done;Mt++,Wt=re.next())Wt=Je(Re,Wt.value,Se),Wt!==null&&(ee=T(Wt,ee,Mt),st===null?Ye=Wt:st.sibling=Wt,st=Wt);return pn&&Zi(Re,Mt),Ye}for(gt=_(Re,gt);!Wt.done;Mt++,Wt=re.next())Wt=_t(gt,Re,Mt,Wt.value,Se),Wt!==null&&(x&&Wt.alternate!==null&&gt.delete(Wt.key===null?Mt:Wt.key),ee=T(Wt,ee,Mt),st===null?Ye=Wt:st.sibling=Wt,st=Wt);return x&&gt.forEach(function(Eu){return c(Re,Eu)}),pn&&Zi(Re,Mt),Ye}function Fn(Re,ee,re,Se){if(typeof re=="object"&&re!==null&&re.type===u&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case o:e:{for(var Ye=re.key,st=ee;st!==null;){if(st.key===Ye){if(Ye=re.type,Ye===u){if(st.tag===7){p(Re,st.sibling),ee=w(st,re.props.children),ee.return=Re,Re=ee;break e}}else if(st.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===b&&Mp(Ye)===st.type){p(Re,st.sibling),ee=w(st,re.props),ee.ref=bc(Re,st,re),ee.return=Re,Re=ee;break e}p(Re,st);break}else c(Re,st);st=st.sibling}re.type===u?(ee=Xo(re.props.children,Re.mode,Se,re.key),ee.return=Re,Re=ee):(Se=eo(re.type,re.key,re.props,null,Re.mode,Se),Se.ref=bc(Re,ee,re),Se.return=Re,Re=Se)}return N(Re);case l:e:{for(st=re.key;ee!==null;){if(ee.key===st)if(ee.tag===4&&ee.stateNode.containerInfo===re.containerInfo&&ee.stateNode.implementation===re.implementation){p(Re,ee.sibling),ee=w(ee,re.children||[]),ee.return=Re,Re=ee;break e}else{p(Re,ee);break}else c(Re,ee);ee=ee.sibling}ee=Wp(re,Re.mode,Se),ee.return=Re,Re=ee}return N(Re);case b:return st=re._init,Fn(Re,ee,st(re._payload),Se)}if(q(re))return mt(Re,ee,re,Se);if(P(re))return At(Re,ee,re,Se);fu(Re,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,ee!==null&&ee.tag===6?(p(Re,ee.sibling),ee=w(ee,re),ee.return=Re,Re=ee):(p(Re,ee),ee=Cd(re,Re.mode,Se),ee.return=Re,Re=ee),N(Re)):p(Re,ee)}return Fn}var Mc=Mx(!0),wc=Mx(!1),pd={},Ri=xt(pd),Li=xt(pd),Bo=xt(pd);function Ji(x){if(x===pd)throw Error(s(174));return x}function fa(x,c){rt(Bo,c),rt(Li,x),rt(Ri,pd),x=X(c),ft(Ri),rt(Ri,x)}function pu(){ft(Ri),ft(Li),ft(Bo)}function Ec(x){var c=Ji(Bo.current),p=Ji(Ri.current);c=se(p,x.type,c),p!==c&&(rt(Li,x),rt(Ri,c))}function w0(x){Li.current===x&&(ft(Ri),ft(Li))}var Zn=xt(0);function Xn(x){for(var c=x;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||su(p)||Ir(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===x)break;for(;c.sibling===null;){if(c.return===null||c.return===x)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var md=[];function wp(){for(var x=0;x<md.length;x++){var c=md[x];ke?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}md.length=0}var gd=a.ReactCurrentDispatcher,es=a.ReactCurrentBatchConfig,gi=0,kn=null,fn=null,Sn=null,Sr=!1,mu=!1,yl=0,Ep=0;function Ii(){throw Error(s(321))}function ei(x,c){if(c===null)return!1;for(var p=0;p<c.length&&p<x.length;p++)if(!Do(x[p],c[p]))return!1;return!0}function Tp(x,c,p,_,w,T){if(gi=T,kn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,gd.current=x===null||x.memoizedState===null?C0:$L,x=p(_,w),mu){T=0;do{if(mu=!1,yl=0,25<=T)throw Error(s(301));T+=1,Sn=fn=null,c.updateQueue=null,gd.current=YL,x=p(_,w)}while(mu)}if(gd.current=Rp,c=fn!==null&&fn.next!==null,gi=0,Sn=fn=kn=null,Sr=!1,c)throw Error(s(300));return x}function Ap(){var x=yl!==0;return yl=0,x}function $a(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?kn.memoizedState=Sn=x:Sn=Sn.next=x,Sn}function ti(){if(fn===null){var x=kn.alternate;x=x!==null?x.memoizedState:null}else x=fn.next;var c=Sn===null?kn.memoizedState:Sn.next;if(c!==null)Sn=c,fn=x;else{if(x===null)throw Error(s(310));fn=x,x={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},Sn===null?kn.memoizedState=Sn=x:Sn=Sn.next=x}return Sn}function Ni(x,c){return typeof c=="function"?c(x):c}function Vo(x){var c=ti(),p=c.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=x;var _=fn,w=_.baseQueue,T=p.pending;if(T!==null){if(w!==null){var N=w.next;w.next=T.next,T.next=N}_.baseQueue=w=T,p.pending=null}if(w!==null){T=w.next,_=_.baseState;var W=N=null,ne=null,ye=T;do{var Ne=ye.lane;if((gi&Ne)===Ne)ne!==null&&(ne=ne.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),_=ye.hasEagerState?ye.eagerState:x(_,ye.action);else{var Je={lane:Ne,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};ne===null?(W=ne=Je,N=_):ne=ne.next=Je,kn.lanes|=Ne,Wo|=Ne}ye=ye.next}while(ye!==null&&ye!==T);ne===null?N=_:ne.next=W,Do(_,c.memoizedState)||(Ws=!0),c.memoizedState=_,c.baseState=N,c.baseQueue=ne,p.lastRenderedState=_}if(x=p.interleaved,x!==null){w=x;do T=w.lane,kn.lanes|=T,Wo|=T,w=w.next;while(w!==x)}else w===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Tc(x){var c=ti(),p=c.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=x;var _=p.dispatch,w=p.pending,T=c.memoizedState;if(w!==null){p.pending=null;var N=w=w.next;do T=x(T,N.action),N=N.next;while(N!==w);Do(T,c.memoizedState)||(Ws=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),p.lastRenderedState=T}return[T,_]}function Cp(){}function wx(x,c){var p=kn,_=ti(),w=c(),T=!Do(_.memoizedState,w);if(T&&(_.memoizedState=w,Ws=!0),_=_.queue,Pc(Ax.bind(null,p,_,x),[x]),_.getSnapshot!==c||T||Sn!==null&&Sn.memoizedState.tag&1){if(p.flags|=2048,Ac(9,Tx.bind(null,p,_,w,c),void 0,null),zt===null)throw Error(s(349));gi&30||Ex(p,c,w)}return w}function Ex(x,c,p){x.flags|=16384,x={getSnapshot:c,value:p},c=kn.updateQueue,c===null?(c={lastEffect:null,stores:null},kn.updateQueue=c,c.stores=[x]):(p=c.stores,p===null?c.stores=[x]:p.push(x))}function Tx(x,c,p,_){c.value=p,c.getSnapshot=_,Cx(c)&&Wr(x,1,-1)}function Ax(x,c,p){return p(function(){Cx(c)&&Wr(x,1,-1)})}function Cx(x){var c=x.getSnapshot;x=x.value;try{var p=c();return!Do(x,p)}catch{return!0}}function E0(x){var c=$a();return typeof x=="function"&&(x=x()),c.memoizedState=c.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:x},c.queue=x,x=x.dispatch=XL.bind(null,kn,x),[c.memoizedState,x]}function Ac(x,c,p,_){return x={tag:x,create:c,destroy:p,deps:_,next:null},c=kn.updateQueue,c===null?(c={lastEffect:null,stores:null},kn.updateQueue=c,c.lastEffect=x.next=x):(p=c.lastEffect,p===null?c.lastEffect=x.next=x:(_=p.next,p.next=x,x.next=_,c.lastEffect=x)),x}function vd(){return ti().memoizedState}function Pp(x,c,p,_){var w=$a();kn.flags|=x,w.memoizedState=Ac(1|c,p,void 0,_===void 0?null:_)}function Cc(x,c,p,_){var w=ti();_=_===void 0?null:_;var T=void 0;if(fn!==null){var N=fn.memoizedState;if(T=N.destroy,_!==null&&ei(_,N.deps)){w.memoizedState=Ac(c,p,T,_);return}}kn.flags|=x,w.memoizedState=Ac(1|c,p,T,_)}function yd(x,c){return Pp(8390656,8,x,c)}function Pc(x,c){return Cc(2048,8,x,c)}function xd(x,c){return Cc(4,2,x,c)}function Px(x,c){return Cc(4,4,x,c)}function Rx(x,c){if(typeof c=="function")return x=x(),c(x),function(){c(null)};if(c!=null)return x=x(),c.current=x,function(){c.current=null}}function Lx(x,c,p){return p=p!=null?p.concat([x]):null,Cc(4,4,Rx.bind(null,c,x),p)}function T0(){}function A0(x,c){var p=ti();c=c===void 0?null:c;var _=p.memoizedState;return _!==null&&c!==null&&ei(c,_[1])?_[0]:(p.memoizedState=[x,c],x)}function Ix(x,c){var p=ti();c=c===void 0?null:c;var _=p.memoizedState;return _!==null&&c!==null&&ei(c,_[1])?_[0]:(x=x(),p.memoizedState=[x,c],x)}function Qw(x,c){var p=yn;yn=p!==0&&4>p?p:4,x(!0);var _=es.transition;es.transition={};try{x(!1),c()}finally{yn=p,es.transition=_}}function Jw(){return ti().memoizedState}function eE(x,c,p){var _=dr(x);p={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null},tE(x)?Nx(c,p):(Dx(x,c,p),p=ii(),x=Wr(x,_,p),x!==null&&Ox(x,c,_))}function XL(x,c,p){var _=dr(x),w={lane:_,action:p,hasEagerState:!1,eagerState:null,next:null};if(tE(x))Nx(c,w);else{Dx(x,c,w);var T=x.alternate;if(x.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var N=c.lastRenderedState,W=T(N,p);if(w.hasEagerState=!0,w.eagerState=W,Do(W,N))return}catch{}finally{}p=ii(),x=Wr(x,_,p),x!==null&&Ox(x,c,_)}}function tE(x){var c=x.alternate;return x===kn||c!==null&&c===kn}function Nx(x,c){mu=Sr=!0;var p=x.pending;p===null?c.next=c:(c.next=p.next,p.next=c),x.pending=c}function Dx(x,c,p){zt!==null&&x.mode&1&&!(kt&2)?(x=c.interleaved,x===null?(p.next=p,_r===null?_r=[c]:_r.push(c)):(p.next=x.next,x.next=p),c.interleaved=p):(x=c.pending,x===null?p.next=p:(p.next=x.next,x.next=p),c.pending=p)}function Ox(x,c,p){if(p&4194240){var _=c.lanes;_&=x.pendingLanes,p|=_,c.lanes=p,mx(x,p)}}var Rp={readContext:fi,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},C0={readContext:fi,useCallback:function(x,c){return $a().memoizedState=[x,c===void 0?null:c],x},useContext:fi,useEffect:yd,useImperativeHandle:function(x,c,p){return p=p!=null?p.concat([x]):null,Pp(4194308,4,Rx.bind(null,c,x),p)},useLayoutEffect:function(x,c){return Pp(4194308,4,x,c)},useInsertionEffect:function(x,c){return Pp(4,2,x,c)},useMemo:function(x,c){var p=$a();return c=c===void 0?null:c,x=x(),p.memoizedState=[x,c],x},useReducer:function(x,c,p){var _=$a();return c=p!==void 0?p(c):c,_.memoizedState=_.baseState=c,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:c},_.queue=x,x=x.dispatch=eE.bind(null,kn,x),[_.memoizedState,x]},useRef:function(x){var c=$a();return x={current:x},c.memoizedState=x},useState:E0,useDebugValue:T0,useDeferredValue:function(x){var c=E0(x),p=c[0],_=c[1];return yd(function(){var w=es.transition;es.transition={};try{_(x)}finally{es.transition=w}},[x]),p},useTransition:function(){var x=E0(!1),c=x[0];return x=Qw.bind(null,x[1]),$a().memoizedState=x,[c,x]},useMutableSource:function(){},useSyncExternalStore:function(x,c,p){var _=kn,w=$a();if(pn){if(p===void 0)throw Error(s(407));p=p()}else{if(p=c(),zt===null)throw Error(s(349));gi&30||Ex(_,c,p)}w.memoizedState=p;var T={value:p,getSnapshot:c};return w.queue=T,yd(Ax.bind(null,_,T,x),[x]),_.flags|=2048,Ac(9,Tx.bind(null,_,T,p,c),void 0,null),p},useId:function(){var x=$a(),c=zt.identifierPrefix;if(pn){var p=mi,_=qi;p=(_&~(1<<32-Kn(_)-1)).toString(32)+p,c=":"+c+"R"+p,p=yl++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=Ep++,c=":"+c+"r"+p.toString(32)+":";return x.memoizedState=c},unstable_isNewReconciler:!1},$L={readContext:fi,useCallback:A0,useContext:fi,useEffect:Pc,useImperativeHandle:Lx,useInsertionEffect:xd,useLayoutEffect:Px,useMemo:Ix,useReducer:Vo,useRef:vd,useState:function(){return Vo(Ni)},useDebugValue:T0,useDeferredValue:function(x){var c=Vo(Ni),p=c[0],_=c[1];return Pc(function(){var w=es.transition;es.transition={};try{_(x)}finally{es.transition=w}},[x]),p},useTransition:function(){var x=Vo(Ni)[0],c=ti().memoizedState;return[x,c]},useMutableSource:Cp,useSyncExternalStore:wx,useId:Jw,unstable_isNewReconciler:!1},YL={readContext:fi,useCallback:A0,useContext:fi,useEffect:Pc,useImperativeHandle:Lx,useInsertionEffect:xd,useLayoutEffect:Px,useMemo:Ix,useReducer:Tc,useRef:vd,useState:function(){return Tc(Ni)},useDebugValue:T0,useDeferredValue:function(x){var c=Tc(Ni),p=c[0],_=c[1];return Pc(function(){var w=es.transition;es.transition={};try{_(x)}finally{es.transition=w}},[x]),p},useTransition:function(){var x=Tc(Ni)[0],c=ti().memoizedState;return[x,c]},useMutableSource:Cp,useSyncExternalStore:wx,useId:Jw,unstable_isNewReconciler:!1};function kx(x,c){try{var p="",_=c;do p+=m0(_),_=_.return;while(_);var w=p}catch(T){w=`
Error generating stack: `+T.message+`
`+T.stack}return{value:x,source:c,stack:w}}function Lp(x,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var Ux=typeof WeakMap=="function"?WeakMap:Map;function nE(x,c,p){p=Fo(-1,p),p.tag=3,p.payload={element:null};var _=c.value;return p.callback=function(){bl||(bl=!0,Ed=_),Lp(x,c)},p}function Fx(x,c,p){p=Fo(-1,p),p.tag=3;var _=x.type.getDerivedStateFromError;if(typeof _=="function"){var w=c.value;p.payload=function(){return _(w)},p.callback=function(){Lp(x,c)}}var T=x.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){Lp(x,c),typeof _!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})}),p}function zx(x,c,p){var _=x.pingCache;if(_===null){_=x.pingCache=new Ux;var w=new Set;_.set(c,w)}else w=_.get(c),w===void 0&&(w=new Set,_.set(c,w));w.has(p)||(w.add(p),x=vs.bind(null,x,c,p),c.then(x,x))}function Bx(x){do{var c;if((c=x.tag===13)&&(c=x.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return x;x=x.return}while(x!==null);return null}function Vx(x,c,p,_,w){return x.mode&1?(x.flags|=65536,x.lanes=w,x):(x===c?x.flags|=65536:(x.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=Fo(-1,1),c.tag=2,Pi(p,c))),p.lanes|=1),x)}function Ya(x){x.flags|=4}function qa(x,c){if(x!==null&&x.child===c.child)return!0;if(c.flags&16)return!1;for(x=c.child;x!==null;){if(x.flags&12854||x.subtreeFlags&12854)return!1;x=x.sibling}return!0}var _d,xl,gu,Rc;if(Pe)_d=function(x,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)$(x,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},xl=function(){},gu=function(x,c,p,_,w){if(x=x.memoizedProps,x!==_){var T=c.stateNode,N=Ji(Ri.current);p=Ae(T,p,x,_,w,N),(c.updateQueue=p)&&Ya(c)}},Rc=function(x,c,p,_){p!==_&&Ya(c)};else if(Ce){_d=function(x,c,p,_){for(var w=c.child;w!==null;){if(w.tag===5){var T=w.stateNode;p&&_&&(T=dn(T,w.type,w.memoizedProps,w)),$(x,T)}else if(w.tag===6)T=w.stateNode,p&&_&&(T=Nt(T,w.memoizedProps,w)),$(x,T);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)T=w.child,T!==null&&(T.return=w),_d(x,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var Ip=function(x,c,p,_){for(var w=c.child;w!==null;){if(w.tag===5){var T=w.stateNode;p&&_&&(T=dn(T,w.type,w.memoizedProps,w)),De(x,T)}else if(w.tag===6)T=w.stateNode,p&&_&&(T=Nt(T,w.memoizedProps,w)),De(x,T);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)T=w.child,T!==null&&(T.return=w),Ip(x,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};xl=function(x,c){var p=c.stateNode;if(!qa(x,c)){x=p.containerInfo;var _=We(x);Ip(_,c,!1,!1),p.pendingChildren=_,Ya(c),vt(x,_)}},gu=function(x,c,p,_,w){var T=x.stateNode,N=x.memoizedProps;if((x=qa(x,c))&&N===_)c.stateNode=T;else{var W=c.stateNode,ne=Ji(Ri.current),ye=null;N!==_&&(ye=Ae(W,p,N,_,w,ne)),x&&ye===null?c.stateNode=T:(T=_e(T,ye,p,N,_,c,x,W),te(T,p,_,w,ne)&&Ya(c),c.stateNode=T,x?Ya(c):_d(T,c,!1,!1))}},Rc=function(x,c,p,_){p!==_?(x=Ji(Bo.current),p=Ji(Ri.current),c.stateNode=ve(_,x,p,c),Ya(c)):c.stateNode=x.stateNode}}else xl=function(){},gu=function(){},Rc=function(){};function Sd(x,c){if(!pn)switch(x.tailMode){case"hidden":c=x.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?x.tail=null:p.sibling=null;break;case"collapsed":p=x.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?c||x.tail===null?x.tail=null:x.tail.sibling=null:_.sibling=null}}function Dr(x){var c=x.alternate!==null&&x.alternate.child===x.child,p=0,_=0;if(c)for(var w=x.child;w!==null;)p|=w.lanes|w.childLanes,_|=w.subtreeFlags&14680064,_|=w.flags&14680064,w.return=x,w=w.sibling;else for(w=x.child;w!==null;)p|=w.lanes|w.childLanes,_|=w.subtreeFlags,_|=w.flags,w.return=x,w=w.sibling;return x.subtreeFlags|=_,x.childLanes=p,c}function Di(x,c,p){var _=c.pendingProps;switch(Sp(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(c),null;case 1:return Zt(c.type)&&wn(),Dr(c),null;case 3:return _=c.stateNode,pu(),ft(Ge),ft(yt),wp(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(x===null||x.child===null)&&(fd(c)?Ya(c):x===null||x.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,Qi!==null&&(Gp(Qi),Qi=null))),xl(x,c),Dr(c),null;case 5:w0(c),p=Ji(Bo.current);var w=c.type;if(x!==null&&c.stateNode!=null)gu(x,c,w,_,p),x.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!_){if(c.stateNode===null)throw Error(s(166));return Dr(c),null}if(x=Ji(Ri.current),fd(c)){if(!pe)throw Error(s(175));x=Ga(c.stateNode,c.type,c.memoizedProps,p,x,c,!Dn),c.updateQueue=x,x!==null&&Ya(c)}else{var T=B(w,_,p,x,c);_d(T,c,!1,!1),c.stateNode=T,te(T,w,_,p,x)&&Ya(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Dr(c),null;case 6:if(x&&c.stateNode!=null)Rc(x,c,x.memoizedProps,_);else{if(typeof _!="string"&&c.stateNode===null)throw Error(s(166));if(x=Ji(Bo.current),p=Ji(Ri.current),fd(c)){if(!pe)throw Error(s(176));if(x=c.stateNode,_=c.memoizedProps,(p=gc(x,_,c,!Dn))&&(w=Ki,w!==null))switch(T=(w.mode&1)!==0,w.tag){case 3:oe(w.stateNode.containerInfo,x,_,T);break;case 5:Z(w.type,w.memoizedProps,w.stateNode,x,_,T)}p&&Ya(c)}else c.stateNode=ve(_,x,p,c)}return Dr(c),null;case 13:if(ft(Zn),_=c.memoizedState,pn&&qn!==null&&c.mode&1&&!(c.flags&128)){for(x=qn;x;)x=Ba(x);return zo(),c.flags|=98560,c}if(_!==null&&_.dehydrated!==null){if(_=fd(c),x===null){if(!_)throw Error(s(318));if(!pe)throw Error(s(344));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));vc(x,c)}else zo(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;return Dr(c),null}return Qi!==null&&(Gp(Qi),Qi=null),c.flags&128?(c.lanes=p,c):(_=_!==null,p=!1,x===null?fd(c):p=x.memoizedState!==null,_&&!p&&(c.child.flags|=8192,c.mode&1&&(x===null||Zn.current&1?Qn===0&&(Qn=3):q0())),c.updateQueue!==null&&(c.flags|=4),Dr(c),null);case 4:return pu(),xl(x,c),x===null&&H(c.stateNode.containerInfo),Dr(c),null;case 10:return v0(c.type._context),Dr(c),null;case 17:return Zt(c.type)&&wn(),Dr(c),null;case 19:if(ft(Zn),w=c.memoizedState,w===null)return Dr(c),null;if(_=(c.flags&128)!==0,T=w.rendering,T===null)if(_)Sd(w,!1);else{if(Qn!==0||x!==null&&x.flags&128)for(x=c.child;x!==null;){if(T=Xn(x),T!==null){for(c.flags|=128,Sd(w,!1),x=T.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=p,_=c.child;_!==null;)p=_,w=x,p.flags&=14680066,T=p.alternate,T===null?(p.childLanes=0,p.lanes=w,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=T.childLanes,p.lanes=T.lanes,p.child=T.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=T.memoizedProps,p.memoizedState=T.memoizedState,p.updateQueue=T.updateQueue,p.type=T.type,w=T.dependencies,p.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),_=_.sibling;return rt(Zn,Zn.current&1|2),c.child}x=x.sibling}w.tail!==null&&Kr()>Hp&&(c.flags|=128,_=!0,Sd(w,!1),c.lanes=4194304)}else{if(!_)if(x=Xn(T),x!==null){if(c.flags|=128,_=!0,x=x.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),Sd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!pn)return Dr(c),null}else 2*Kr()-w.renderingStartTime>Hp&&p!==1073741824&&(c.flags|=128,_=!0,Sd(w,!1),c.lanes=4194304);w.isBackwards?(T.sibling=c.child,c.child=T):(x=w.last,x!==null?x.sibling=T:c.child=T,w.last=T)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=Kr(),c.sibling=null,x=Zn.current,rt(Zn,_?x&1|2:x&1),c):(Dr(c),null);case 22:case 23:return Y0(),_=c.memoizedState!==null,x!==null&&x.memoizedState!==null!==_&&(c.flags|=8192),_&&c.mode&1?Nn&1073741824&&(Dr(c),Pe&&c.subtreeFlags&6&&(c.flags|=8192)):Dr(c),null;case 24:return null;case 25:return null}throw Error(s(156,c.tag))}var qL=a.ReactCurrentOwner,Ws=!1;function Un(x,c,p,_){c.child=x===null?wc(c,null,p,_):Mc(c,x.child,p,_)}function Oi(x,c,p,_,w){p=p.render;var T=c.ref;return uu(c,w),_=Tp(x,c,p,_,T,w),p=Ap(),x!==null&&!Ws?(c.updateQueue=x.updateQueue,c.flags&=-2053,x.lanes&=~w,Ho(x,c,w)):(pn&&p&&S0(c),c.flags|=1,Un(x,c,_,w),c.child)}function Hx(x,c,p,_,w){if(x===null){var T=p.type;return typeof T=="function"&&!ys(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=T,Gx(x,c,T,_,w)):(x=eo(p.type,null,_,c,c.mode,w),x.ref=c.ref,x.return=c,c.child=x)}if(T=x.child,!(x.lanes&w)){var N=T.memoizedProps;if(p=p.compare,p=p!==null?p:p0,p(N,_)&&x.ref===c.ref)return Ho(x,c,w)}return c.flags|=1,x=wu(T,_),x.ref=c.ref,x.return=c,c.child=x}function Gx(x,c,p,_,w){if(x!==null&&p0(x.memoizedProps,_)&&x.ref===c.ref)if(Ws=!1,(x.lanes&w)!==0)x.flags&131072&&(Ws=!0);else return c.lanes=x.lanes,Ho(x,c,w);return P0(x,c,p,_,w)}function Wx(x,c,p){var _=c.pendingProps,w=_.children,T=x!==null?x.memoizedState:null;if(_.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null},rt(ni,Nn),Nn|=p;else if(p&1073741824)c.memoizedState={baseLanes:0,cachePool:null},_=T!==null?T.baseLanes:p,rt(ni,Nn),Nn|=_;else return x=T!==null?T.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:x,cachePool:null},c.updateQueue=null,rt(ni,Nn),Nn|=x,null;else T!==null?(_=T.baseLanes|p,c.memoizedState=null):_=p,rt(ni,Nn),Nn|=_;return Un(x,c,w,p),c.child}function jx(x,c){var p=c.ref;(x===null&&p!==null||x!==null&&x.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function P0(x,c,p,_,w){var T=Zt(p)?un:yt.current;return T=Ht(c,T),uu(c,w),p=Tp(x,c,p,_,T,w),_=Ap(),x!==null&&!Ws?(c.updateQueue=x.updateQueue,c.flags&=-2053,x.lanes&=~w,Ho(x,c,w)):(pn&&_&&S0(c),c.flags|=1,Un(x,c,p,w),c.child)}function R0(x,c,p,_,w){if(Zt(p)){var T=!0;Bt(c)}else T=!1;if(uu(c,w),c.stateNode===null)x!==null&&(x.alternate=null,c.alternate=null,c.flags|=2),_x(c,p,_),_0(c,p,_,w),_=!0;else if(x===null){var N=c.stateNode,W=c.memoizedProps;N.props=W;var ne=N.context,ye=p.contextType;typeof ye=="object"&&ye!==null?ye=fi(ye):(ye=Zt(p)?un:yt.current,ye=Ht(c,ye));var Ne=p.getDerivedStateFromProps,Je=typeof Ne=="function"||typeof N.getSnapshotBeforeUpdate=="function";Je||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(W!==_||ne!==ye)&&Sx(c,N,_,ye),pi=!1;var ot=c.memoizedState;N.state=ot,yp(c,_,N,w),ne=c.memoizedState,W!==_||ot!==ne||Ge.current||pi?(typeof Ne=="function"&&(x0(c,p,Ne,_),ne=c.memoizedState),(W=pi||_p(c,p,W,_,ot,ne,ye))?(Je||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=_,c.memoizedState=ne),N.props=_,N.state=ne,N.context=ye,_=W):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),_=!1)}else{N=c.stateNode,y0(x,c),W=c.memoizedProps,ye=c.type===c.elementType?W:Wa(c.type,W),N.props=ye,Je=c.pendingProps,ot=N.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=fi(ne):(ne=Zt(p)?un:yt.current,ne=Ht(c,ne));var _t=p.getDerivedStateFromProps;(Ne=typeof _t=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(W!==Je||ot!==ne)&&Sx(c,N,_,ne),pi=!1,ot=c.memoizedState,N.state=ot,yp(c,_,N,w);var mt=c.memoizedState;W!==Je||ot!==mt||Ge.current||pi?(typeof _t=="function"&&(x0(c,p,_t,_),mt=c.memoizedState),(ye=pi||_p(c,p,ye,_,ot,mt,ne)||!1)?(Ne||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(_,mt,ne),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(_,mt,ne)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||W===x.memoizedProps&&ot===x.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||W===x.memoizedProps&&ot===x.memoizedState||(c.flags|=1024),c.memoizedProps=_,c.memoizedState=mt),N.props=_,N.state=mt,N.context=ne,_=ye):(typeof N.componentDidUpdate!="function"||W===x.memoizedProps&&ot===x.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||W===x.memoizedProps&&ot===x.memoizedState||(c.flags|=1024),_=!1)}return L0(x,c,p,_,T,w)}function L0(x,c,p,_,w,T){jx(x,c);var N=(c.flags&128)!==0;if(!_&&!N)return w&&On(c,p,!1),Ho(x,c,T);_=c.stateNode,qL.current=c;var W=N&&typeof p.getDerivedStateFromError!="function"?null:_.render();return c.flags|=1,x!==null&&N?(c.child=Mc(c,x.child,null,T),c.child=Mc(c,null,W,T)):Un(x,c,W,T),c.memoizedState=_.state,w&&On(c,p,!0),c.child}function I0(x){var c=x.stateNode;c.pendingContext?xn(x,c.pendingContext,c.pendingContext!==c.context):c.context&&xn(x,c.context,!1),fa(x,c.containerInfo)}function Xx(x,c,p,_,w){return zo(),du(w),c.flags|=256,Un(x,c,p,_),c.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Lc(x){return{baseLanes:x,cachePool:null}}function Dp(x,c,p){var _=c.pendingProps,w=Zn.current,T=!1,N=(c.flags&128)!==0,W;if((W=N)||(W=x!==null&&x.memoizedState===null?!1:(w&2)!==0),W?(T=!0,c.flags&=-129):(x===null||x.memoizedState!==null)&&(w|=1),rt(Zn,w&1),x===null)return bp(c),x=c.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?(c.mode&1?Ir(x)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(w=_.children,x=_.fallback,T?(_=c.mode,T=c.child,w={mode:"hidden",children:w},!(_&1)&&T!==null?(T.childLanes=0,T.pendingProps=w):T=$o(w,_,0,null),x=Xo(x,_,p,null),T.return=c,x.return=c,T.sibling=x,c.child=T,c.child.memoizedState=Lc(p),c.memoizedState=Np,x):N0(c,w));if(w=x.memoizedState,w!==null){if(W=w.dehydrated,W!==null){if(N)return c.flags&256?(c.flags&=-257,Op(x,c,p,Error(s(422)))):c.memoizedState!==null?(c.child=x.child,c.flags|=128,null):(T=_.fallback,w=c.mode,_=$o({mode:"visible",children:_.children},w,0,null),T=Xo(T,w,p,null),T.flags|=2,_.return=c,T.return=c,_.sibling=T,c.child=_,c.mode&1&&Mc(c,x.child,null,p),c.child.memoizedState=Lc(p),c.memoizedState=Np,T);if(!(c.mode&1))c=Op(x,c,p,null);else if(Ir(W))c=Op(x,c,p,Error(s(419)));else if(_=(p&x.childLanes)!==0,Ws||_){if(_=zt,_!==null){switch(p&-p){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}_=T&(_.suspendedLanes|p)?0:T,_!==0&&_!==w.retryLane&&(w.retryLane=_,Wr(x,_,-1))}q0(),c=Op(x,c,p,Error(s(421)))}else su(W)?(c.flags|=128,c.child=x.child,c=oE.bind(null,x),za(W,c),c=null):(p=w.treeContext,pe&&(qn=mc(W),Ki=c,pn=!0,Qi=null,Dn=!1,p!==null&&(Yi[tr++]=qi,Yi[tr++]=mi,Yi[tr++]=Jr,qi=p.id,mi=p.overflow,Jr=c)),c=N0(c,c.pendingProps.children),c.flags|=4096);return c}return T?(_=$x(x,c,_.children,_.fallback,p),T=c.child,w=x.child.memoizedState,T.memoizedState=w===null?Lc(p):{baseLanes:w.baseLanes|p,cachePool:null},T.childLanes=x.childLanes&~p,c.memoizedState=Np,_):(p=D0(x,c,_.children,p),c.memoizedState=null,p)}return T?(_=$x(x,c,_.children,_.fallback,p),T=c.child,w=x.child.memoizedState,T.memoizedState=w===null?Lc(p):{baseLanes:w.baseLanes|p,cachePool:null},T.childLanes=x.childLanes&~p,c.memoizedState=Np,_):(p=D0(x,c,_.children,p),c.memoizedState=null,p)}function N0(x,c){return c=$o({mode:"visible",children:c},x.mode,0,null),c.return=x,x.child=c}function D0(x,c,p,_){var w=x.child;return x=w.sibling,p=wu(w,{mode:"visible",children:p}),!(c.mode&1)&&(p.lanes=_),p.return=c,p.sibling=null,x!==null&&(_=c.deletions,_===null?(c.deletions=[x],c.flags|=16):_.push(x)),c.child=p}function $x(x,c,p,_,w){var T=c.mode;x=x.child;var N=x.sibling,W={mode:"hidden",children:p};return!(T&1)&&c.child!==x?(p=c.child,p.childLanes=0,p.pendingProps=W,c.deletions=null):(p=wu(x,W),p.subtreeFlags=x.subtreeFlags&14680064),N!==null?_=wu(N,_):(_=Xo(_,T,w,null),_.flags|=2),_.return=c,p.return=c,p.sibling=_,c.child=p,_}function Op(x,c,p,_){return _!==null&&du(_),Mc(c,x.child,null,p),x=N0(c,c.pendingProps.children),x.flags|=2,c.memoizedState=null,x}function kp(x,c,p){x.lanes|=c;var _=x.alternate;_!==null&&(_.lanes|=c),gp(x.return,c,p)}function O0(x,c,p,_,w){var T=x.memoizedState;T===null?x.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:_,tail:p,tailMode:w}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=_,T.tail=p,T.tailMode=w)}function k0(x,c,p){var _=c.pendingProps,w=_.revealOrder,T=_.tail;if(Un(x,c,_.children,p),_=Zn.current,_&2)_=_&1|2,c.flags|=128;else{if(x!==null&&x.flags&128)e:for(x=c.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&kp(x,p,c);else if(x.tag===19)kp(x,p,c);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break e;for(;x.sibling===null;){if(x.return===null||x.return===c)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}_&=1}if(rt(Zn,_),!(c.mode&1))c.memoizedState=null;else switch(w){case"forwards":for(p=c.child,w=null;p!==null;)x=p.alternate,x!==null&&Xn(x)===null&&(w=p),p=p.sibling;p=w,p===null?(w=c.child,c.child=null):(w=p.sibling,p.sibling=null),O0(c,!1,w,p,T);break;case"backwards":for(p=null,w=c.child,c.child=null;w!==null;){if(x=w.alternate,x!==null&&Xn(x)===null){c.child=w;break}x=w.sibling,w.sibling=p,p=w,w=x}O0(c,!0,p,null,T);break;case"together":O0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ho(x,c,p){if(x!==null&&(c.dependencies=x.dependencies),Wo|=c.lanes,!(p&c.childLanes))return null;if(x!==null&&c.child!==x.child)throw Error(s(153));if(c.child!==null){for(x=c.child,p=wu(x,x.pendingProps),c.child=p,p.return=c;x.sibling!==null;)x=x.sibling,p=p.sibling=wu(x,x.pendingProps),p.return=c;p.sibling=null}return c.child}function _l(x,c,p){switch(c.tag){case 3:I0(c),zo();break;case 5:Ec(c);break;case 1:Zt(c.type)&&Bt(c);break;case 4:fa(c,c.stateNode.containerInfo);break;case 10:g0(c,c.type._context,c.memoizedProps.value);break;case 13:var _=c.memoizedState;if(_!==null)return _.dehydrated!==null?(rt(Zn,Zn.current&1),c.flags|=128,null):p&c.child.childLanes?Dp(x,c,p):(rt(Zn,Zn.current&1),x=Ho(x,c,p),x!==null?x.sibling:null);rt(Zn,Zn.current&1);break;case 19:if(_=(p&c.childLanes)!==0,x.flags&128){if(_)return k0(x,c,p);c.flags|=128}var w=c.memoizedState;if(w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),rt(Zn,Zn.current),_)break;return null;case 22:case 23:return c.lanes=0,Wx(x,c,p)}return Ho(x,c,p)}function ZL(x,c){switch(Sp(c),c.tag){case 1:return Zt(c.type)&&wn(),x=c.flags,x&65536?(c.flags=x&-65537|128,c):null;case 3:return pu(),ft(Ge),ft(yt),wp(),x=c.flags,x&65536&&!(x&128)?(c.flags=x&-65537|128,c):null;case 5:return w0(c),null;case 13:if(ft(Zn),x=c.memoizedState,x!==null&&x.dehydrated!==null){if(c.alternate===null)throw Error(s(340));zo()}return x=c.flags,x&65536?(c.flags=x&-65537|128,c):null;case 19:return ft(Zn),null;case 4:return pu(),null;case 10:return v0(c.type._context),null;case 22:case 23:return Y0(),null;case 24:return null;default:return null}}var U0=!1,Go=!1,Ic=typeof WeakSet=="function"?WeakSet:Set,bt=null;function St(x,c){var p=x.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(_){rs(x,c,_)}else p.current=null}function Up(x,c,p){try{p()}catch(_){rs(x,c,_)}}var F0=!1;function rE(x,c){for(D(x.containerInfo),bt=c;bt!==null;)if(x=bt,c=x.child,(x.subtreeFlags&1028)!==0&&c!==null)c.return=x,bt=c;else for(;bt!==null;){x=bt;try{var p=x.alternate;if(x.flags&1024)switch(x.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,w=p.memoizedState,T=x.stateNode,N=T.getSnapshotBeforeUpdate(x.elementType===x.type?_:Wa(x.type,_),w);T.__reactInternalSnapshotBeforeUpdate=N}break;case 3:Pe&&ce(x.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(W){rs(x,x.return,W)}if(c=x.sibling,c!==null){c.return=x.return,bt=c;break}bt=x.return}return p=F0,F0=!1,p}function Nc(x,c,p){var _=c.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var w=_=_.next;do{if((w.tag&x)===x){var T=w.destroy;w.destroy=void 0,T!==void 0&&Up(c,p,T)}w=w.next}while(w!==_)}}function Za(x,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&x)===x){var _=p.create;p.destroy=_()}p=p.next}while(p!==c)}}function Dc(x){var c=x.ref;if(c!==null){var p=x.stateNode;switch(x.tag){case 5:x=Q(p);break;default:x=p}typeof c=="function"?c(x):c.current=x}}function z0(x,c,p){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(d0,c)}catch{}switch(c.tag){case 0:case 11:case 14:case 15:if(x=c.updateQueue,x!==null&&(x=x.lastEffect,x!==null)){var _=x=x.next;do{var w=_,T=w.destroy;w=w.tag,T!==void 0&&(w&2||w&4)&&Up(c,p,T),_=_.next}while(_!==x)}break;case 1:if(St(c,p),x=c.stateNode,typeof x.componentWillUnmount=="function")try{x.props=c.memoizedProps,x.state=c.memoizedState,x.componentWillUnmount()}catch(N){rs(c,p,N)}break;case 5:St(c,p);break;case 4:Pe?V0(x,c,p):Ce&&Ce&&(c=c.stateNode.containerInfo,p=We(c),jt(c,p))}}function Yx(x,c,p){for(var _=c;;)if(z0(x,_,p),_.child===null||Pe&&_.tag===4){if(_===c)break;for(;_.sibling===null;){if(_.return===null||_.return===c)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else _.child.return=_,_=_.child}function qx(x){var c=x.alternate;c!==null&&(x.alternate=null,qx(c)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(c=x.stateNode,c!==null&&Te(c)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function Zx(x){return x.tag===5||x.tag===3||x.tag===4}function Kx(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||Zx(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function Qx(x){if(Pe){e:{for(var c=x.return;c!==null;){if(Zx(c))break e;c=c.return}throw Error(s(160))}var p=c;switch(p.tag){case 5:c=p.stateNode,p.flags&32&&(Tt(c),p.flags&=-33),p=Kx(x),Fp(x,p,c);break;case 3:case 4:c=p.stateNode.containerInfo,p=Kx(x),B0(x,p,c);break;default:throw Error(s(161))}}}function B0(x,c,p){var _=x.tag;if(_===5||_===6)x=x.stateNode,c?nt(p,x,c):Ie(p,x);else if(_!==4&&(x=x.child,x!==null))for(B0(x,c,p),x=x.sibling;x!==null;)B0(x,c,p),x=x.sibling}function Fp(x,c,p){var _=x.tag;if(_===5||_===6)x=x.stateNode,c?je(p,x,c):qe(p,x);else if(_!==4&&(x=x.child,x!==null))for(Fp(x,c,p),x=x.sibling;x!==null;)Fp(x,c,p),x=x.sibling}function V0(x,c,p){for(var _=c,w=!1,T,N;;){if(!w){w=_.return;e:for(;;){if(w===null)throw Error(s(160));switch(T=w.stateNode,w.tag){case 5:N=!1;break e;case 3:T=T.containerInfo,N=!0;break e;case 4:T=T.containerInfo,N=!0;break e}w=w.return}w=!0}if(_.tag===5||_.tag===6)Yx(x,_,p),N?$e(T,_.stateNode):at(T,_.stateNode);else if(_.tag===18)N?K(T,_.stateNode):U(T,_.stateNode);else if(_.tag===4){if(_.child!==null){T=_.stateNode.containerInfo,N=!0,_.child.return=_,_=_.child;continue}}else if(z0(x,_,p),_.child!==null){_.child.return=_,_=_.child;continue}if(_===c)break;for(;_.sibling===null;){if(_.return===null||_.return===c)return;_=_.return,_.tag===4&&(w=!1)}_.sibling.return=_.return,_=_.sibling}}function H0(x,c){if(Pe){switch(c.tag){case 0:case 11:case 14:case 15:Nc(3,c,c.return),Za(3,c),Nc(5,c,c.return);return;case 1:return;case 5:var p=c.stateNode;if(p!=null){var _=c.memoizedProps;x=x!==null?x.memoizedProps:_;var w=c.type,T=c.updateQueue;c.updateQueue=null,T!==null&&Me(p,T,w,x,_,c)}return;case 6:if(c.stateNode===null)throw Error(s(162));p=c.memoizedProps,Xe(c.stateNode,x!==null?x.memoizedProps:p,p);return;case 3:pe&&x!==null&&x.memoizedState.isDehydrated&&ud(c.stateNode.containerInfo);return;case 12:return;case 13:bd(c);return;case 19:bd(c);return;case 17:return}throw Error(s(163))}switch(c.tag){case 0:case 11:case 14:case 15:Nc(3,c,c.return),Za(3,c),Nc(5,c,c.return);return;case 12:return;case 13:bd(c);return;case 19:bd(c);return;case 3:pe&&x!==null&&x.memoizedState.isDehydrated&&ud(c.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ce){switch(c.tag){case 1:case 5:case 6:break e;case 3:case 4:c=c.stateNode,jt(c.containerInfo,c.pendingChildren);break e}throw Error(s(163))}}function bd(x){var c=x.updateQueue;if(c!==null){x.updateQueue=null;var p=x.stateNode;p===null&&(p=x.stateNode=new Ic),c.forEach(function(_){var w=JL.bind(null,x,_);p.has(_)||(p.add(_),_.then(w,w))})}}function G0(x,c){for(bt=c;bt!==null;){c=bt;var p=c.deletions;if(p!==null)for(var _=0;_<p.length;_++){var w=p[_];try{var T=x;Pe?V0(T,w,c):Yx(T,w,c);var N=w.alternate;N!==null&&(N.return=null),w.return=null}catch(Ye){rs(w,c,Ye)}}if(p=c.child,c.subtreeFlags&12854&&p!==null)p.return=c,bt=p;else for(;bt!==null;){c=bt;try{var W=c.flags;if(W&32&&Pe&&Tt(c.stateNode),W&512){var ne=c.alternate;if(ne!==null){var ye=ne.ref;ye!==null&&(typeof ye=="function"?ye(null):ye.current=null)}}if(W&8192)switch(c.tag){case 13:if(c.memoizedState!==null){var Ne=c.alternate;(Ne===null||Ne.memoizedState===null)&&(ki=Kr())}break;case 22:var Je=c.memoizedState!==null,ot=c.alternate,_t=ot!==null&&ot.memoizedState!==null;if(p=c,Pe){e:if(_=p,w=Je,T=null,Pe)for(var mt=_;;){if(mt.tag===5){if(T===null){T=mt;var At=mt.stateNode;w?dt(At):Y(mt.stateNode,mt.memoizedProps)}}else if(mt.tag===6){if(T===null){var Fn=mt.stateNode;w?Vt(Fn):Oe(Fn,mt.memoizedProps)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===_)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===_)break;for(;mt.sibling===null;){if(mt.return===null||mt.return===_)break e;T===mt&&(T=null),mt=mt.return}T===mt&&(T=null),mt.sibling.return=mt.return,mt=mt.sibling}}if(Je&&!_t&&p.mode&1){bt=p;for(var Re=p.child;Re!==null;){for(p=bt=Re;bt!==null;){_=bt;var ee=_.child;switch(_.tag){case 0:case 11:case 14:case 15:Nc(4,_,_.return);break;case 1:St(_,_.return);var re=_.stateNode;if(typeof re.componentWillUnmount=="function"){var Se=_.return;try{re.props=_.memoizedProps,re.state=_.memoizedState,re.componentWillUnmount()}catch(Ye){rs(_,Se,Ye)}}break;case 5:St(_,_.return);break;case 22:if(_.memoizedState!==null){e_(p);continue}}ee!==null?(ee.return=_,bt=ee):e_(p)}Re=Re.sibling}}}switch(W&4102){case 2:Qx(c),c.flags&=-3;break;case 6:Qx(c),c.flags&=-3,H0(c.alternate,c);break;case 4096:c.flags&=-4097;break;case 4100:c.flags&=-4097,H0(c.alternate,c);break;case 4:H0(c.alternate,c)}}catch(Ye){rs(c,c.return,Ye)}if(p=c.sibling,p!==null){p.return=c.return,bt=p;break}bt=c.return}}}function KL(x,c,p){bt=x,iE(x)}function iE(x,c,p){for(var _=(x.mode&1)!==0;bt!==null;){var w=bt,T=w.child;if(w.tag===22&&_){var N=w.memoizedState!==null||U0;if(!N){var W=w.alternate,ne=W!==null&&W.memoizedState!==null||Go;W=U0;var ye=Go;if(U0=N,(Go=ne)&&!ye)for(bt=w;bt!==null;)N=bt,ne=N.child,N.tag===22&&N.memoizedState!==null?t_(w):ne!==null?(ne.return=N,bt=ne):t_(w);for(;T!==null;)bt=T,iE(T),T=T.sibling;bt=w,U0=W,Go=ye}Jx(x)}else w.subtreeFlags&8772&&T!==null?(T.return=w,bt=T):Jx(x)}}function Jx(x){for(;bt!==null;){var c=bt;if(c.flags&8772){var p=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:Go||Za(5,c);break;case 1:var _=c.stateNode;if(c.flags&4&&!Go)if(p===null)_.componentDidMount();else{var w=c.elementType===c.type?p.memoizedProps:Wa(c.type,p.memoizedProps);_.componentDidUpdate(w,p.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var T=c.updateQueue;T!==null&&xp(c,T,_);break;case 3:var N=c.updateQueue;if(N!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=Q(c.child.stateNode);break;case 1:p=c.child.stateNode}xp(c,N,p)}break;case 5:var W=c.stateNode;p===null&&c.flags&4&&pt(W,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;case 12:break;case 13:if(pe&&c.memoizedState===null){var ne=c.alternate;if(ne!==null){var ye=ne.memoizedState;if(ye!==null){var Ne=ye.dehydrated;Ne!==null&&cd(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}Go||c.flags&512&&Dc(c)}catch(Je){rs(c,c.return,Je)}}if(c===x){bt=null;break}if(p=c.sibling,p!==null){p.return=c.return,bt=p;break}bt=c.return}}function e_(x){for(;bt!==null;){var c=bt;if(c===x){bt=null;break}var p=c.sibling;if(p!==null){p.return=c.return,bt=p;break}bt=c.return}}function t_(x){for(;bt!==null;){var c=bt;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Za(4,c)}catch(ne){rs(c,p,ne)}break;case 1:var _=c.stateNode;if(typeof _.componentDidMount=="function"){var w=c.return;try{_.componentDidMount()}catch(ne){rs(c,w,ne)}}var T=c.return;try{Dc(c)}catch(ne){rs(c,T,ne)}break;case 5:var N=c.return;try{Dc(c)}catch(ne){rs(c,N,ne)}}}catch(ne){rs(c,c.return,ne)}if(c===x){bt=null;break}var W=c.sibling;if(W!==null){W.return=c.return,bt=W;break}bt=c.return}}var zp=0,Oc=1,kc=2,Uc=3,Fc=4;if(typeof Symbol=="function"&&Symbol.for){var vu=Symbol.for;zp=vu("selector.component"),Oc=vu("selector.has_pseudo_class"),kc=vu("selector.role"),Uc=vu("selector.test_id"),Fc=vu("selector.text")}function zc(x){var c=be(x);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(s(364));return c}if(x=ze(x),x===null)throw Error(s(362));return x.stateNode.current}function Bp(x,c){switch(c.$$typeof){case zp:if(x.type===c.value)return!0;break;case Oc:e:{c=c.value,x=[x,0];for(var p=0;p<x.length;){var _=x[p++],w=x[p++],T=c[w];if(_.tag!==5||!J(_)){for(;T!=null&&Bp(_,T);)w++,T=c[w];if(w===c.length){c=!0;break e}else for(_=_.child;_!==null;)x.push(_,w),_=_.sibling}}c=!1}return c;case kc:if(x.tag===5&&ge(x.stateNode,c.value))return!0;break;case Fc:if((x.tag===5||x.tag===6)&&(x=k(x),x!==null&&0<=x.indexOf(c.value)))return!0;break;case Uc:if(x.tag===5&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Vp(x){switch(x.$$typeof){case zp:return"<"+(A(x.value)||"Unknown")+">";case Oc:return":has("+(Vp(x)||"")+")";case kc:return'[role="'+x.value+'"]';case Fc:return'"'+x.value+'"';case Uc:return'[data-testname="'+x.value+'"]';default:throw Error(s(365))}}function W0(x,c){var p=[];x=[x,0];for(var _=0;_<x.length;){var w=x[_++],T=x[_++],N=c[T];if(w.tag!==5||!J(w)){for(;N!=null&&Bp(w,N);)T++,N=c[T];if(T===c.length)p.push(w);else for(w=w.child;w!==null;)x.push(w,T),w=w.sibling}}return p}function j0(x,c){if(!it)throw Error(s(363));x=zc(x),x=W0(x,c),c=[],x=Array.from(x);for(var p=0;p<x.length;){var _=x[p++];if(_.tag===5)J(_)||c.push(_.stateNode);else for(_=_.child;_!==null;)x.push(_),_=_.sibling}return c}var n_=Math.ceil,X0=a.ReactCurrentDispatcher,Md=a.ReactCurrentOwner,nr=a.ReactCurrentBatchConfig,kt=0,zt=null,sn=null,mn=0,Nn=0,ni=xt(0),Qn=0,rr=null,Wo=0,Sl=0,wd=0,Bc=null,ri=null,ki=0,Hp=1/0;function yu(){Hp=Kr()+500}var bl=!1,Ed=null,jo=null,Ka=!1,Qa=null,Ja=0,xu=0,Vc=null,Td=-1,Hc=0;function ii(){return kt&6?Kr():Td!==-1?Td:Td=Kr()}function dr(x){return x.mode&1?kt&2&&mn!==0?mn&-mn:ko.transition!==null?(Hc===0&&(x=Io,Io<<=1,!(Io&4194240)&&(Io=64),Hc=x),Hc):(x=yn,x!==0?x:Ee()):1}function Wr(x,c,p){if(50<xu)throw xu=0,Vc=null,Error(s(185));var _=ts(x,c);return _===null?null:(xc(_,c,p),(!(kt&2)||_!==zt)&&(_===zt&&(!(kt&2)&&(Sl|=c),Qn===4&&_u(_,mn)),vi(_,p),c===1&&kt===0&&!(x.mode&1)&&(yu(),ha&&Oo())),_)}function ts(x,c){x.lanes|=c;var p=x.alternate;for(p!==null&&(p.lanes|=c),p=x,x=x.return;x!==null;)x.childLanes|=c,p=x.alternate,p!==null&&(p.childLanes|=c),p=x,x=x.return;return p.tag===3?p.stateNode:null}function vi(x,c){var p=x.callbackNode;GL(x,c);var _=ou(x,x===zt?mn:0);if(_===0)p!==null&&h0(p),x.callbackNode=null,x.callbackPriority=0;else if(c=_&-_,x.callbackPriority!==c){if(p!=null&&h0(p),c===1)x.tag===0?Kw(Ml.bind(null,x)):f0(Ml.bind(null,x)),He?Le(function(){kt===0&&Oo()}):c0(Nr,Oo),p=null;else{switch(_n(_)){case 1:p=Nr;break;case 4:p=gx;break;case 16:p=vx;break;case 536870912:p=yx;break;default:p=vx}p=o_(p,ns.bind(null,x))}x.callbackPriority=c,x.callbackNode=p}}function ns(x,c){if(Td=-1,Hc=0,kt&6)throw Error(s(327));var p=x.callbackNode;if(Wc()&&x.callbackNode!==p)return null;var _=ou(x,x===zt?mn:0);if(_===0)return null;if(_&30||_&x.expiredLanes||c)c=Ad(x,_);else{c=_;var w=kt;kt|=2;var T=s_();(zt!==x||mn!==c)&&(yu(),wl(x,c));do try{QL();break}catch(W){Su(x,W)}while(!0);mp(),X0.current=T,kt=w,sn!==null?c=0:(zt=null,mn=0,c=Qn)}if(c!==0){if(c===2&&(w=px(x),w!==0&&(_=w,c=$0(x,w))),c===1)throw p=rr,wl(x,0),_u(x,_),vi(x,Kr()),p;if(c===6)_u(x,_);else{if(w=x.current.alternate,!(_&30)&&!r_(w)&&(c=Ad(x,_),c===2&&(T=px(x),T!==0&&(_=T,c=$0(x,T))),c===1))throw p=rr,wl(x,0),_u(x,_),vi(x,Kr()),p;switch(x.finishedWork=w,x.finishedLanes=_,c){case 0:case 1:throw Error(s(345));case 2:bu(x,ri);break;case 3:if(_u(x,_),(_&130023424)===_&&(c=ki+500-Kr(),10<c)){if(ou(x,0)!==0)break;if(w=x.suspendedLanes,(w&_)!==_){ii(),x.pingedLanes|=x.suspendedLanes&w;break}x.timeoutHandle=ie(bu.bind(null,x,ri),c);break}bu(x,ri);break;case 4:if(_u(x,_),(_&4194240)===_)break;for(c=x.eventTimes,w=-1;0<_;){var N=31-Kn(_);T=1<<N,N=c[N],N>w&&(w=N),_&=~T}if(_=w,_=Kr()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*n_(_/1960))-_,10<_){x.timeoutHandle=ie(bu.bind(null,x,ri),_);break}bu(x,ri);break;case 5:bu(x,ri);break;default:throw Error(s(329))}}}return vi(x,Kr()),x.callbackNode===p?ns.bind(null,x):null}function $0(x,c){var p=Bc;return x.current.memoizedState.isDehydrated&&(wl(x,c).flags|=256),x=Ad(x,c),x!==2&&(c=ri,ri=p,c!==null&&Gp(c)),x}function Gp(x){ri===null?ri=x:ri.push.apply(ri,x)}function r_(x){for(var c=x;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var _=0;_<p.length;_++){var w=p[_],T=w.getSnapshot;w=w.value;try{if(!Do(T(),w))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===x)break;for(;c.sibling===null;){if(c.return===null||c.return===x)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function _u(x,c){for(c&=~wd,c&=~Sl,x.suspendedLanes|=c,x.pingedLanes&=~c,x=x.expirationTimes;0<c;){var p=31-Kn(c),_=1<<p;x[p]=-1,c&=~_}}function Ml(x){if(kt&6)throw Error(s(327));Wc();var c=ou(x,0);if(!(c&1))return vi(x,Kr()),null;var p=Ad(x,c);if(x.tag!==0&&p===2){var _=px(x);_!==0&&(c=_,p=$0(x,_))}if(p===1)throw p=rr,wl(x,0),_u(x,c),vi(x,Kr()),p;if(p===6)throw Error(s(345));return x.finishedWork=x.current.alternate,x.finishedLanes=c,bu(x,ri),vi(x,Kr()),null}function i_(x){Qa!==null&&Qa.tag===0&&!(kt&6)&&Wc();var c=kt;kt|=1;var p=nr.transition,_=yn;try{if(nr.transition=null,yn=1,x)return x()}finally{yn=_,nr.transition=p,kt=c,!(kt&6)&&Oo()}}function Y0(){Nn=ni.current,ft(ni)}function wl(x,c){x.finishedWork=null,x.finishedLanes=0;var p=x.timeoutHandle;if(p!==Ve&&(x.timeoutHandle=Ve,he(p)),sn!==null)for(p=sn.return;p!==null;){var _=p;switch(Sp(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&wn();break;case 3:pu(),ft(Ge),ft(yt),wp();break;case 5:w0(_);break;case 4:pu();break;case 13:ft(Zn);break;case 19:ft(Zn);break;case 10:v0(_.type._context);break;case 22:case 23:Y0()}p=p.return}if(zt=x,sn=x=wu(x.current,null),mn=Nn=c,Qn=0,rr=null,wd=Sl=Wo=0,ri=Bc=null,_r!==null){for(c=0;c<_r.length;c++)if(p=_r[c],_=p.interleaved,_!==null){p.interleaved=null;var w=_.next,T=p.pending;if(T!==null){var N=T.next;T.next=w,_.next=N}p.pending=_}_r=null}return x}function Su(x,c){do{var p=sn;try{if(mp(),gd.current=Rp,Sr){for(var _=kn.memoizedState;_!==null;){var w=_.queue;w!==null&&(w.pending=null),_=_.next}Sr=!1}if(gi=0,Sn=fn=kn=null,mu=!1,yl=0,Md.current=null,p===null||p.return===null){Qn=1,rr=c,sn=null;break}e:{var T=x,N=p.return,W=p,ne=c;if(c=mn,W.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ye=ne,Ne=W,Je=Ne.tag;if(!(Ne.mode&1)&&(Je===0||Je===11||Je===15)){var ot=Ne.alternate;ot?(Ne.updateQueue=ot.updateQueue,Ne.memoizedState=ot.memoizedState,Ne.lanes=ot.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var _t=Bx(N);if(_t!==null){_t.flags&=-257,Vx(_t,N,W,T,c),_t.mode&1&&zx(T,ye,c),c=_t,ne=ye;var mt=c.updateQueue;if(mt===null){var At=new Set;At.add(ne),c.updateQueue=At}else mt.add(ne);break e}else{if(!(c&1)){zx(T,ye,c),q0();break e}ne=Error(s(426))}}else if(pn&&W.mode&1){var Fn=Bx(N);if(Fn!==null){!(Fn.flags&65536)&&(Fn.flags|=256),Vx(Fn,N,W,T,c),du(ne);break e}}T=ne,Qn!==4&&(Qn=2),Bc===null?Bc=[T]:Bc.push(T),ne=kx(ne,W),W=N;do{switch(W.tag){case 3:W.flags|=65536,c&=-c,W.lanes|=c;var Re=nE(W,ne,c);vp(W,Re);break e;case 1:T=ne;var ee=W.type,re=W.stateNode;if(!(W.flags&128)&&(typeof ee.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(jo===null||!jo.has(re)))){W.flags|=65536,c&=-c,W.lanes|=c;var Se=Fx(W,T,c);vp(W,Se);break e}}W=W.return}while(W!==null)}a_(p)}catch(Ye){c=Ye,sn===p&&p!==null&&(sn=p=p.return);continue}break}while(!0)}function s_(){var x=X0.current;return X0.current=Rp,x===null?Rp:x}function q0(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),zt===null||!(Wo&268435455)&&!(Sl&268435455)||_u(zt,mn)}function Ad(x,c){var p=kt;kt|=2;var _=s_();zt===x&&mn===c||wl(x,c);do try{Z0();break}catch(w){Su(x,w)}while(!0);if(mp(),kt=p,X0.current=_,sn!==null)throw Error(s(261));return zt=null,mn=0,Qn}function Z0(){for(;sn!==null;)sE(sn)}function QL(){for(;sn!==null&&!Zw();)sE(sn)}function sE(x){var c=lE(x.alternate,x,Nn);x.memoizedProps=x.pendingProps,c===null?a_(x):sn=c,Md.current=null}function a_(x){var c=x;do{var p=c.alternate;if(x=c.return,c.flags&32768){if(p=ZL(p,c),p!==null){p.flags&=32767,sn=p;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{Qn=6,sn=null;return}}else if(p=Di(p,c,Nn),p!==null){sn=p;return}if(c=c.sibling,c!==null){sn=c;return}sn=c=x}while(c!==null);Qn===0&&(Qn=5)}function bu(x,c){var p=yn,_=nr.transition;try{nr.transition=null,yn=1,Gc(x,c,p)}finally{nr.transition=_,yn=p}return null}function Gc(x,c,p){do Wc();while(Qa!==null);if(kt&6)throw Error(s(327));var _=x.finishedWork,w=x.finishedLanes;if(_===null)return null;if(x.finishedWork=null,x.finishedLanes=0,_===x.current)throw Error(s(177));x.callbackNode=null,x.callbackPriority=0;var T=_.lanes|_.childLanes;if(pp(x,T),x===zt&&(sn=zt=null,mn=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||Ka||(Ka=!0,o_(vx,function(){return Wc(),null})),T=(_.flags&15990)!==0,_.subtreeFlags&15990||T){T=nr.transition,nr.transition=null;var N=yn;yn=1;var W=kt;kt|=4,Md.current=null,rE(x,_),G0(x,_),V(x.containerInfo),x.current=_,KL(_),WL(),kt=W,yn=N,nr.transition=T}else x.current=_;if(Ka&&(Ka=!1,Qa=x,Ja=w),T=x.pendingLanes,T===0&&(jo=null),No(_.stateNode),vi(x,Kr()),c!==null)for(p=x.onRecoverableError,_=0;_<c.length;_++)p(c[_]);if(bl)throw bl=!1,x=Ed,Ed=null,x;return Ja&1&&x.tag!==0&&Wc(),T=x.pendingLanes,T&1?x===Vc?xu++:(xu=0,Vc=x):xu=0,Oo(),null}function Wc(){if(Qa!==null){var x=_n(Ja),c=nr.transition,p=yn;try{if(nr.transition=null,yn=16>x?16:x,Qa===null)var _=!1;else{if(x=Qa,Qa=null,Ja=0,kt&6)throw Error(s(331));var w=kt;for(kt|=4,bt=x.current;bt!==null;){var T=bt,N=T.child;if(bt.flags&16){var W=T.deletions;if(W!==null){for(var ne=0;ne<W.length;ne++){var ye=W[ne];for(bt=ye;bt!==null;){var Ne=bt;switch(Ne.tag){case 0:case 11:case 15:Nc(8,Ne,T)}var Je=Ne.child;if(Je!==null)Je.return=Ne,bt=Je;else for(;bt!==null;){Ne=bt;var ot=Ne.sibling,_t=Ne.return;if(qx(Ne),Ne===ye){bt=null;break}if(ot!==null){ot.return=_t,bt=ot;break}bt=_t}}}var mt=T.alternate;if(mt!==null){var At=mt.child;if(At!==null){mt.child=null;do{var Fn=At.sibling;At.sibling=null,At=Fn}while(At!==null)}}bt=T}}if(T.subtreeFlags&2064&&N!==null)N.return=T,bt=N;else e:for(;bt!==null;){if(T=bt,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Nc(9,T,T.return)}var Re=T.sibling;if(Re!==null){Re.return=T.return,bt=Re;break e}bt=T.return}}var ee=x.current;for(bt=ee;bt!==null;){N=bt;var re=N.child;if(N.subtreeFlags&2064&&re!==null)re.return=N,bt=re;else e:for(N=ee;bt!==null;){if(W=bt,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Za(9,W)}}catch(Ye){rs(W,W.return,Ye)}if(W===N){bt=null;break e}var Se=W.sibling;if(Se!==null){Se.return=W.return,bt=Se;break e}bt=W.return}}if(kt=w,Oo(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(d0,x)}catch{}_=!0}return _}finally{yn=p,nr.transition=c}}return!1}function Mu(x,c,p){c=kx(p,c),c=nE(x,c,1),Pi(x,c),c=ii(),x=ts(x,1),x!==null&&(xc(x,1,c),vi(x,c))}function rs(x,c,p){if(x.tag===3)Mu(x,x,p);else for(;c!==null;){if(c.tag===3){Mu(c,x,p);break}else if(c.tag===1){var _=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(jo===null||!jo.has(_))){x=kx(p,x),x=Fx(c,x,1),Pi(c,x),x=ii(),c=ts(c,1),c!==null&&(xc(c,1,x),vi(c,x));break}}c=c.return}}function vs(x,c,p){var _=x.pingCache;_!==null&&_.delete(c),c=ii(),x.pingedLanes|=x.suspendedLanes&p,zt===x&&(mn&p)===p&&(Qn===4||Qn===3&&(mn&130023424)===mn&&500>Kr()-ki?wl(x,0):wd|=p),vi(x,c)}function aE(x,c){c===0&&(x.mode&1?(c=yc,yc<<=1,!(yc&130023424)&&(yc=4194304)):c=1);var p=ii();x=ts(x,c),x!==null&&(xc(x,c,p),vi(x,p))}function oE(x){var c=x.memoizedState,p=0;c!==null&&(p=c.retryLane),aE(x,p)}function JL(x,c){var p=0;switch(x.tag){case 13:var _=x.stateNode,w=x.memoizedState;w!==null&&(p=w.retryLane);break;case 19:_=x.stateNode;break;default:throw Error(s(314))}_!==null&&_.delete(c),aE(x,p)}var lE;lE=function(x,c,p){if(x!==null)if(x.memoizedProps!==c.pendingProps||Ge.current)Ws=!0;else{if(!(x.lanes&p)&&!(c.flags&128))return Ws=!1,_l(x,c,p);Ws=!!(x.flags&131072)}else Ws=!1,pn&&c.flags&1048576&&hu(c,Sc,c.index);switch(c.lanes=0,c.tag){case 2:var _=c.type;x!==null&&(x.alternate=null,c.alternate=null,c.flags|=2),x=c.pendingProps;var w=Ht(c,yt.current);uu(c,p),w=Tp(null,c,_,x,w,p);var T=Ap();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Zt(_)?(T=!0,Bt(c)):T=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Uo(c),w.updater=dd,c.stateNode=w,w._reactInternals=c,_0(c,_,x,p),c=L0(null,c,_,!0,T,p)):(c.tag=0,pn&&T&&S0(c),Un(null,c,w,p),c=c.child),c;case 16:_=c.elementType;e:{switch(x!==null&&(x.alternate=null,c.alternate=null,c.flags|=2),x=c.pendingProps,w=_._init,_=w(_._payload),c.type=_,w=c.tag=l_(_),x=Wa(_,x),w){case 0:c=P0(null,c,_,x,p);break e;case 1:c=R0(null,c,_,x,p);break e;case 11:c=Oi(null,c,_,x,p);break e;case 14:c=Hx(null,c,_,Wa(_.type,x),p);break e}throw Error(s(306,_,""))}return c;case 0:return _=c.type,w=c.pendingProps,w=c.elementType===_?w:Wa(_,w),P0(x,c,_,w,p);case 1:return _=c.type,w=c.pendingProps,w=c.elementType===_?w:Wa(_,w),R0(x,c,_,w,p);case 3:e:{if(I0(c),x===null)throw Error(s(387));_=c.pendingProps,T=c.memoizedState,w=T.element,y0(x,c),yp(c,_,null,p);var N=c.memoizedState;if(_=N.element,pe&&T.isDehydrated)if(T={element:_,isDehydrated:!1,cache:N.cache,transitions:N.transitions},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){w=Error(s(423)),c=Xx(x,c,_,p,w);break e}else if(_!==w){w=Error(s(424)),c=Xx(x,c,_,p,w);break e}else for(pe&&(qn=Ha(c.stateNode.containerInfo),Ki=c,pn=!0,Qi=null,Dn=!1),p=wc(c,null,_,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(zo(),_===w){c=Ho(x,c,p);break e}Un(x,c,_,p)}c=c.child}return c;case 5:return Ec(c),x===null&&bp(c),_=c.type,w=c.pendingProps,T=x!==null?x.memoizedProps:null,N=w.children,F(_,w)?N=null:T!==null&&F(_,T)&&(c.flags|=32),jx(x,c),Un(x,c,N,p),c.child;case 6:return x===null&&bp(c),null;case 13:return Dp(x,c,p);case 4:return fa(c,c.stateNode.containerInfo),_=c.pendingProps,x===null?c.child=Mc(c,null,_,p):Un(x,c,_,p),c.child;case 11:return _=c.type,w=c.pendingProps,w=c.elementType===_?w:Wa(_,w),Oi(x,c,_,w,p);case 7:return Un(x,c,c.pendingProps,p),c.child;case 8:return Un(x,c,c.pendingProps.children,p),c.child;case 12:return Un(x,c,c.pendingProps.children,p),c.child;case 10:e:{if(_=c.type._context,w=c.pendingProps,T=c.memoizedProps,N=w.value,g0(c,_,N),T!==null)if(Do(T.value,N)){if(T.children===w.children&&!Ge.current){c=Ho(x,c,p);break e}}else for(T=c.child,T!==null&&(T.return=c);T!==null;){var W=T.dependencies;if(W!==null){N=T.child;for(var ne=W.firstContext;ne!==null;){if(ne.context===_){if(T.tag===1){ne=Fo(-1,p&-p),ne.tag=2;var ye=T.updateQueue;if(ye!==null){ye=ye.shared;var Ne=ye.pending;Ne===null?ne.next=ne:(ne.next=Ne.next,Ne.next=ne),ye.pending=ne}}T.lanes|=p,ne=T.alternate,ne!==null&&(ne.lanes|=p),gp(T.return,p,c),W.lanes|=p;break}ne=ne.next}}else if(T.tag===10)N=T.type===c.type?null:T.child;else if(T.tag===18){if(N=T.return,N===null)throw Error(s(341));N.lanes|=p,W=N.alternate,W!==null&&(W.lanes|=p),gp(N,p,c),N=T.sibling}else N=T.child;if(N!==null)N.return=T;else for(N=T;N!==null;){if(N===c){N=null;break}if(T=N.sibling,T!==null){T.return=N.return,N=T;break}N=N.return}T=N}Un(x,c,w.children,p),c=c.child}return c;case 9:return w=c.type,_=c.pendingProps.children,uu(c,p),w=fi(w),_=_(w),c.flags|=1,Un(x,c,_,p),c.child;case 14:return _=c.type,w=Wa(_,c.pendingProps),w=Wa(_.type,w),Hx(x,c,_,w,p);case 15:return Gx(x,c,c.type,c.pendingProps,p);case 17:return _=c.type,w=c.pendingProps,w=c.elementType===_?w:Wa(_,w),x!==null&&(x.alternate=null,c.alternate=null,c.flags|=2),c.tag=1,Zt(_)?(x=!0,Bt(c)):x=!1,uu(c,p),_x(c,_,w),_0(c,_,w,p),L0(null,c,_,!0,x,p);case 19:return k0(x,c,p);case 22:return Wx(x,c,p)}throw Error(s(156,c.tag))};function o_(x,c){return c0(x,c)}function uE(x,c,p,_){this.tag=x,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(x,c,p,_){return new uE(x,c,p,_)}function ys(x){return x=x.prototype,!(!x||!x.isReactComponent)}function l_(x){if(typeof x=="function")return ys(x)?1:0;if(x!=null){if(x=x.$$typeof,x===v)return 11;if(x===g)return 14}return 2}function wu(x,c){var p=x.alternate;return p===null?(p=pa(x.tag,c,x.key,x.mode),p.elementType=x.elementType,p.type=x.type,p.stateNode=x.stateNode,p.alternate=x,x.alternate=p):(p.pendingProps=c,p.type=x.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=x.flags&14680064,p.childLanes=x.childLanes,p.lanes=x.lanes,p.child=x.child,p.memoizedProps=x.memoizedProps,p.memoizedState=x.memoizedState,p.updateQueue=x.updateQueue,c=x.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=x.sibling,p.index=x.index,p.ref=x.ref,p}function eo(x,c,p,_,w,T){var N=2;if(_=x,typeof x=="function")ys(x)&&(N=1);else if(typeof x=="string")N=5;else e:switch(x){case u:return Xo(p.children,w,T,c);case h:N=8,w|=8;break;case d:return x=pa(12,p,c,w|2),x.elementType=d,x.lanes=T,x;case S:return x=pa(13,p,c,w),x.elementType=S,x.lanes=T,x;case y:return x=pa(19,p,c,w),x.elementType=y,x.lanes=T,x;case M:return $o(p,w,T,c);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case f:N=10;break e;case m:N=9;break e;case v:N=11;break e;case g:N=14;break e;case b:N=16,_=null;break e}throw Error(s(130,x==null?x:typeof x,""))}return c=pa(N,p,c,w),c.elementType=x,c.type=_,c.lanes=T,c}function Xo(x,c,p,_){return x=pa(7,x,_,c),x.lanes=p,x}function $o(x,c,p,_){return x=pa(22,x,_,c),x.elementType=M,x.lanes=p,x.stateNode={},x}function Cd(x,c,p){return x=pa(6,x,null,c),x.lanes=p,x}function Wp(x,c,p){return c=pa(4,x.children!==null?x.children:[],x.key,c),c.lanes=p,c.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},c}function u_(x,c,p,_,w){this.tag=c,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=_,this.onRecoverableError=w,pe&&(this.mutableSourceEagerHydrationData=null)}function cE(x,c,p,_,w,T,N,W,ne){return x=new u_(x,c,p,W,ne),c===1?(c=1,T===!0&&(c|=8)):c=0,T=pa(3,null,null,c),x.current=T,T.stateNode=x,T.memoizedState={element:_,isDehydrated:p,cache:null,transitions:null},Uo(T),x}function c_(x){if(!x)return Ct;x=x._reactInternals;e:{if(I(x)!==x||x.tag!==1)throw Error(s(170));var c=x;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Zt(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(s(171))}if(x.tag===1){var p=x.type;if(Zt(p))return $i(x,p,c)}return c}function h_(x){var c=x._reactInternals;if(c===void 0)throw typeof x.render=="function"?Error(s(188)):(x=Object.keys(x).join(","),Error(s(268,x)));return x=O(c),x===null?null:x.stateNode}function d_(x,c){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var p=x.retryLane;x.retryLane=p!==0&&p<c?p:c}}function K0(x,c){d_(x,c),(x=x.alternate)&&d_(x,c)}function f_(x){return x=O(x),x===null?null:x.stateNode}function eI(){return null}return e.attemptContinuousHydration=function(x){if(x.tag===13){var c=ii();Wr(x,134217728,c),K0(x,134217728)}},e.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var c=ii(),p=dr(x);Wr(x,p,c),K0(x,p)}},e.attemptSynchronousHydration=function(x){switch(x.tag){case 3:var c=x.stateNode;if(c.current.memoizedState.isDehydrated){var p=au(c.pendingLanes);p!==0&&(mx(c,p|1),vi(c,Kr()),!(kt&6)&&(yu(),Oo()))}break;case 13:var _=ii();i_(function(){return Wr(x,1,_)}),K0(x,1)}},e.batchedUpdates=function(x,c){var p=kt;kt|=1;try{return x(c)}finally{kt=p,kt===0&&(yu(),ha&&Oo())}},e.createComponentSelector=function(x){return{$$typeof:zp,value:x}},e.createContainer=function(x,c,p,_,w,T,N){return cE(x,c,!1,null,p,_,w,T,N)},e.createHasPseudoClassSelector=function(x){return{$$typeof:Oc,value:x}},e.createHydrationContainer=function(x,c,p,_,w,T,N,W,ne){return x=cE(p,_,!0,x,w,T,N,W,ne),x.context=c_(null),p=x.current,_=ii(),w=dr(p),T=Fo(_,w),T.callback=c??null,Pi(p,T),x.current.lanes=w,xc(x,w,_),vi(x,_),x},e.createPortal=function(x,c,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:x,containerInfo:c,implementation:p}},e.createRoleSelector=function(x){return{$$typeof:kc,value:x}},e.createTestNameSelector=function(x){return{$$typeof:Uc,value:x}},e.createTextSelector=function(x){return{$$typeof:Fc,value:x}},e.deferredUpdates=function(x){var c=yn,p=nr.transition;try{return nr.transition=null,yn=16,x()}finally{yn=c,nr.transition=p}},e.discreteUpdates=function(x,c,p,_,w){var T=yn,N=nr.transition;try{return nr.transition=null,yn=1,x(c,p,_,w)}finally{yn=T,nr.transition=N,kt===0&&yu()}},e.findAllNodes=j0,e.findBoundingRects=function(x,c){if(!it)throw Error(s(363));c=j0(x,c),x=[];for(var p=0;p<c.length;p++)x.push(z(c[p]));for(c=x.length-1;0<c;c--){p=x[c];for(var _=p.x,w=_+p.width,T=p.y,N=T+p.height,W=c-1;0<=W;W--)if(c!==W){var ne=x[W],ye=ne.x,Ne=ye+ne.width,Je=ne.y,ot=Je+ne.height;if(_>=ye&&T>=Je&&w<=Ne&&N<=ot){x.splice(c,1);break}else if(_!==ye||p.width!==ne.width||ot<T||Je>N){if(!(T!==Je||p.height!==ne.height||Ne<_||ye>w)){ye>_&&(ne.width+=ye-_,ne.x=_),Ne<w&&(ne.width=w-ye),x.splice(c,1);break}}else{Je>T&&(ne.height+=Je-T,ne.y=T),ot<N&&(ne.height=N-Je),x.splice(c,1);break}}}return x},e.findHostInstance=h_,e.findHostInstanceWithNoPortals=function(x){return x=C(x),x=x!==null?j(x):null,x===null?null:x.stateNode},e.findHostInstanceWithWarning=function(x){return h_(x)},e.flushControlled=function(x){var c=kt;kt|=1;var p=nr.transition,_=yn;try{nr.transition=null,yn=1,x()}finally{yn=_,nr.transition=p,kt=c,kt===0&&(yu(),Oo())}},e.flushPassiveEffects=Wc,e.flushSync=i_,e.focusWithin=function(x,c){if(!it)throw Error(s(363));for(x=zc(x),c=W0(x,c),c=Array.from(c),x=0;x<c.length;){var p=c[x++];if(!J(p)){if(p.tag===5&&xe(p.stateNode))return!0;for(p=p.child;p!==null;)c.push(p),p=p.sibling}}return!1},e.getCurrentUpdatePriority=function(){return yn},e.getFindAllNodesFailureDescription=function(x,c){if(!it)throw Error(s(363));var p=0,_=[];x=[zc(x),0];for(var w=0;w<x.length;){var T=x[w++],N=x[w++],W=c[N];if((T.tag!==5||!J(T))&&(Bp(T,W)&&(_.push(Vp(W)),N++,N>p&&(p=N)),N<c.length))for(T=T.child;T!==null;)x.push(T,N),T=T.sibling}if(p<c.length){for(x=[];p<c.length;p++)x.push(Vp(c[p]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},e.getPublicRootInstance=function(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return Q(x.child.stateNode);default:return x.child.stateNode}},e.injectIntoDevTools=function(x){if(x={bundleType:x.bundleType,version:x.version,rendererPackageName:x.rendererPackageName,rendererConfig:x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:f_,findFiberByHostInstance:x.findFiberByHostInstance||eI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)x=!0;else{try{d0=c.inject(x),Gs=c}catch{}x=!!c.checkDCE}}return x},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(x,c,p,_){if(!it)throw Error(s(363));x=j0(x,c);var w=me(x,p,_).disconnect;return{disconnect:function(){w()}}},e.registerMutableSourceForHydration=function(x,c){var p=c._getVersion;p=p(c._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[c,p]:x.mutableSourceEagerHydrationData.push(c,p)},e.runWithPriority=function(x,c){var p=yn;try{return yn=x,c()}finally{yn=p}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(x,c,p,_){var w=c.current,T=ii(),N=dr(w);return p=c_(p),c.context===null?c.context=p:c.pendingContext=p,c=Fo(T,N),c.payload={element:x},_=_===void 0?null:_,_!==null&&(c.callback=_),Pi(w,c),x=Wr(w,N,T),x!==null&&ja(x,w,N),N},e};Vce.exports=rVe;var iVe=Vce.exports;const sVe=e0(iVe);var Hce={exports:{}},Gce={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(D,V){var B=D.length;D.push(V);e:for(;0<B;){var $=B-1>>>1,te=D[$];if(0<i(te,V))D[$]=V,D[B]=te,B=$;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],B=D.pop();if(B!==V){D[0]=B;e:for(var $=0,te=D.length,Ae=te>>>1;$<Ae;){var F=2*($+1)-1,ve=D[F],ie=F+1,he=D[ie];if(0>i(ve,B))ie<te&&0>i(he,ve)?(D[$]=he,D[ie]=B,$=ie):(D[$]=ve,D[F]=B,$=F);else if(ie<te&&0>i(he,B))D[$]=he,D[ie]=B,$=ie;else break e}}return V}function i(D,V){var B=D.sortIndex-V.sortIndex;return B!==0?B:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,m=!1,v=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(D){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=D)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function E(D){if(S=!1,M(D),!v)if(n(l)!==null)v=!0,X(P);else{var V=n(u);V!==null&&se(E,V.startTime-D)}}function P(D,V){v=!1,S&&(S=!1,g(I),I=-1),m=!0;var B=f;try{for(M(V),d=n(l);d!==null&&(!(d.expirationTime>V)||D&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var te=$(d.expirationTime<=V);V=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),M(V)}else r(l);d=n(l)}if(d!==null)var Ae=!0;else{var F=n(u);F!==null&&se(E,F.startTime-V),Ae=!1}return Ae}finally{d=null,f=B,m=!1}}var A=!1,L=null,I=-1,R=5,C=-1;function O(){return!(t.unstable_now()-C<R)}function G(){if(L!==null){var D=t.unstable_now();C=D;var V=!0;try{V=L(!0,D)}finally{V?j():(A=!1,L=null)}}else A=!1}var j;if(typeof b=="function")j=function(){b(G)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=G,j=function(){Q.postMessage(null)}}else j=function(){y(G,0)};function X(D){L=D,A||(A=!0,j())}function se(D,V){I=y(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,X(P))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var B=f;f=V;try{return D()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=f;f=D;try{return V()}finally{f=B}},t.unstable_scheduleCallback=function(D,V,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,D={id:h++,callback:V,priorityLevel:D,startTime:B,expirationTime:te,sortIndex:-1},B>$?(D.sortIndex=B,e(u,D),n(l)===null&&D===n(u)&&(S?(g(I),I=-1):S=!0,se(E,B-$))):(D.sortIndex=te,e(l,D),v||m||(v=!0,X(P))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var V=f;return function(){var B=f;f=V;try{return D.apply(this,arguments)}finally{f=B}}}})(Gce);Hce.exports=Gce;var uq=Hce.exports;const t7={},aVe=t=>void Object.assign(t7,t);function oVe(t,e){function n(u,{args:h=[],attach:d,...f},m){let v=`${u[0].toUpperCase()}${u.slice(1)}`,S;if(u==="primitive"){if(f.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=f.object;S=Xv(y,{type:u,root:m,attach:d,primitive:!0})}else{const y=t7[v];if(!y)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");S=Xv(new y(...h),{type:u,root:m,attach:d,memoizedProps:{args:h}})}return S.__r3f.attach===void 0&&(S instanceof nn?S.__r3f.attach="geometry":S instanceof ms&&(S.__r3f.attach="material")),v!=="inject"&&OD(S,f),S}function r(u,h){let d=!1;if(h){var f,m;(f=h.__r3f)!=null&&f.attach?DD(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),d=!0),d||(m=u.__r3f)==null||m.objects.push(h),h.__r3f||Xv(h,{}),h.__r3f.parent=u,NU(h),$v(h)}}function i(u,h,d){let f=!1;if(h){var m,v;if((m=h.__r3f)!=null&&m.attach)DD(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:h});const S=u.children.filter(g=>g!==h),y=S.indexOf(d);u.children=[...S.slice(0,y),h,...S.slice(y)],f=!0}f||(v=u.__r3f)==null||v.objects.push(h),h.__r3f||Xv(h,{}),h.__r3f.parent=u,NU(h),$v(h)}}function s(u,h,d=!1){u&&[...u].forEach(f=>a(h,f,d))}function a(u,h,d){if(h){var f,m,v;if(h.__r3f&&(h.__r3f.parent=null),(f=u.__r3f)!=null&&f.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==h)),(m=h.__r3f)!=null&&m.attach)pq(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var S;u.remove(h),(S=h.__r3f)!=null&&S.root&&mVe(CA(h),h)}const g=(v=h.__r3f)==null?void 0:v.primitive,b=!g&&(d===void 0?h.dispose!==null:d);if(!g){var y;s((y=h.__r3f)==null?void 0:y.objects,h,b),s(h.children,h,b)}if(delete h.__r3f,b&&h.dispose&&h.type!=="Scene"){const M=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?uq.unstable_scheduleCallback(uq.unstable_IdlePriority,M):M()}$v(u)}}function o(u,h,d,f){var m;const v=(m=u.__r3f)==null?void 0:m.parent;if(!v)return;const S=n(h,d,u.__r3f.root);if(u.children){for(const y of u.children)y.__r3f&&r(S,y);u.children=u.children.filter(y=>!y.__r3f)}u.__r3f.objects.forEach(y=>r(S,y)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(v,u),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),r(v,S),S.raycast&&S.__r3f.eventCount&&CA(S).getState().internal.interaction.push(S),[f,f.alternate].forEach(y=>{y!==null&&(y.stateNode=S,y.ref&&(typeof y.ref=="function"?y.ref(S):y.ref.current=S))})}const l=()=>{};return{reconciler:sVe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,h))},removeChildFromContainer:(u,h)=>{h&&a(u.getState().scene,h)},insertInContainerBefore:(u,h,d)=>{if(!h||!d)return;const f=u.getState().scene;f.__r3f&&i(f,h,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,d,f){var m;if(((m=u==null?void 0:u.__r3f)!=null?m:{}).primitive&&f.object&&f.object!==u)return[!0];{const{args:v=[],children:S,...y}=f,{args:g=[],children:b,...M}=d;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((P,A)=>P!==g[A]))return[!0];const E=Zce(u,y,M,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[h,d],f,m,v,S){h?o(u,f,v,S):OD(u,d)},commitMount(u,h,d,f){var m;const v=(m=u.__r3f)!=null?m:{};u.raycast&&v.handlers&&v.eventCount&&CA(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Xv(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:d,parent:f}=(h=u.__r3f)!=null?h:{};d&&f&&pq(f,u,d),u.isObject3D&&(u.visible=!1),$v(u)},unhideInstance(u,h){var d;const{attach:f,parent:m}=(d=u.__r3f)!=null?d:{};f&&m&&DD(m,u,f),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),$v(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():jy.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&or.fun(performance.now)?performance.now:or.fun(Date.now)?Date.now:()=>0,scheduleTimeout:or.fun(setTimeout)?setTimeout:void 0,cancelTimeout:or.fun(clearTimeout)?clearTimeout:void 0}),applyProps:OD}}var cq,hq;const ND=t=>"colorSpace"in t||"outputColorSpace"in t,Wce=()=>{var t;return(t=t7.ColorManagement)!=null?t:null},jce=t=>t&&t.isOrthographicCamera,lVe=t=>t&&t.hasOwnProperty("current"),qw=typeof window<"u"&&((cq=window.document)!=null&&cq.createElement||((hq=window.navigator)==null?void 0:hq.product)==="ReactNative")?fe.useLayoutEffect:fe.useEffect;function Xce(t){const e=fe.useRef(t);return qw(()=>void(e.current=t),[t]),e}function uVe({set:t}){return qw(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class $ce extends fe.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}$ce.getDerivedStateFromError=()=>({error:!0});const Yce="__default",dq=new Map,cVe=t=>t&&!!t.memoized&&!!t.changes;function qce(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const lS=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function CA(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const or={obj:t=>t===Object(t)&&!or.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(or.str(t)||or.num(t)||or.boo(t))return t===e;const s=or.obj(t);if(s&&r==="reference")return t===e;const a=or.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!or.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(or.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function hVe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Xv(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function IU(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const fq=/-\d+$/;function DD(t,e,n){if(or.str(n)){if(fq.test(n)){const s=n.replace(fq,""),{target:a,key:o}=IU(t,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=IU(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function pq(t,e,n){var r,i;if(or.str(n)){const{target:s,key:a}=IU(t,n),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Zce(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:o,...l}={},u=!1){const h=t.__r3f,d=Object.entries(i),f=[];if(u){const v=Object.keys(l);for(let S=0;S<v.length;S++)i.hasOwnProperty(v[S])||d.unshift([v[S],Yce+"remove"])}d.forEach(([v,S])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&v==="object"||or.equ(S,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return f.push([v,S,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),f.push([v,S,!1,g]);for(const b in i){const M=i[b];b.startsWith(`${v}-`)&&f.push([b,M,!1,b.split("-")])}});const m={...i};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:f}}const dVe=typeof process<"u"&&!1;function OD(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=cVe(e)?e:Zce(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let u=0;u<o.length;u++){let[h,d,f,m]=o[u];if(ND(t)){const y="srgb",g="srgb-linear";h==="encoding"?(h="colorSpace",d=d===3001?y:g):h==="outputEncoding"&&(h="outputColorSpace",d=d===3001?y:g)}let v=t,S=v[h];if(m.length&&(S=m.reduce((y,g)=>y[g],t),!(S&&S.set))){const[y,...g]=m.reverse();v=g.reverse().reduce((b,M)=>b[M],t),h=y}if(d===Yce+"remove")if(v.constructor){let y=dq.get(v.constructor);y||(y=new v.constructor,dq.set(v.constructor,y)),d=y[h]}else d=0;if(f&&r)d?r.handlers[h]=d:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(S&&S.set&&(S.copy||S instanceof vg)){if(Array.isArray(d))S.fromArray?S.fromArray(d):S.set(...d);else if(S.copy&&d&&d.constructor&&(dVe?S.constructor.name===d.constructor.name:S.constructor===d.constructor))S.copy(d);else if(d!==void 0){const y=S instanceof Rt;!y&&S.setScalar?S.setScalar(d):S instanceof vg&&d instanceof vg?S.mask=d.mask:S.set(d),!Wce()&&s&&!s.linear&&y&&S.convertSRGBToLinear()}}else if(v[h]=d,v[h]instanceof Pr&&v[h].format===Ds&&v[h].type===Jl&&s){const y=v[h];ND(y)&&ND(s.gl)?y.colorSpace=s.gl.outputColorSpace:y.encoding=s.gl.outputEncoding}$v(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const u=CA(t).getState().internal,h=u.interaction.indexOf(t);h>-1&&u.interaction.splice(h,1),r.eventCount&&u.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&NU(t),t}function $v(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function NU(t){t.onUpdate==null||t.onUpdate(t)}function fVe(t,e){t.manual||(jce(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function VT(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function pVe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return jy.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return jy.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return jy.ContinuousEventPriority;default:return jy.DefaultEventPriority}}function Kce(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function mVe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Kce(n.capturedMap,e,r,i)})}function gVe(t){function e(l){const{internal:u}=t.getState(),h=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function r(l,u){const h=t.getState(),d=new Set,f=[],m=u?u(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const b=lS(m[g]);b&&(b.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const b=lS(g);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var M;b.events.compute==null||b.events.compute(l,b,(M=b.previousRoot)==null?void 0:M.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(g,!0):[]}let S=m.flatMap(v).sort((g,b)=>{const M=lS(g.object),E=lS(b.object);return!M||!E?g.distance-b.distance:E.events.priority-M.events.priority||g.distance-b.distance}).filter(g=>{const b=VT(g);return d.has(b)?!1:(d.add(b),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const g of S){let b=g.object;for(;b;){var y;(y=b.__r3f)!=null&&y.eventCount&&f.push({...g,eventObject:b}),b=b.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())d.has(VT(g.intersection))||f.push(g.intersection);return f}function i(l,u,h,d){const f=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const S=lS(v.object)||f,{raycaster:y,pointer:g,camera:b,internal:M}=S,E=new ue(g.x,g.y,0).unproject(b),P=C=>{var O,G;return(O=(G=M.capturedMap.get(C))==null?void 0:G.has(v.eventObject))!=null?O:!1},A=C=>{const O={intersection:v,target:u.target};M.capturedMap.has(C)?M.capturedMap.get(C).set(v.eventObject,O):M.capturedMap.set(C,new Map([[v.eventObject,O]])),u.target.setPointerCapture(C)},L=C=>{const O=M.capturedMap.get(C);O&&Kce(M.capturedMap,v.eventObject,O,C)};let I={};for(let C in u){let O=u[C];typeof O!="function"&&(I[C]=O)}let R={...v,...I,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:E,ray:y.ray,camera:b,stopPropagation(){const C="pointerId"in u&&M.capturedMap.get(u.pointerId);if((!C||C.has(v.eventObject))&&(R.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:P,setPointerCapture:A,releasePointerCapture:L},currentTarget:{hasPointerCapture:P,setPointerCapture:A,releasePointerCapture:L},nativeEvent:u};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const h of u.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const d=h.eventObject.__r3f,f=d==null?void 0:d.handlers;if(u.hovered.delete(VT(h)),d!=null&&d.eventCount){const m={...h,intersections:l};f.onPointerOut==null||f.onPointerOut(m),f.onPointerLeave==null||f.onPointerLeave(m)}}}function a(l,u){for(let h=0;h<u.length;h++){const d=u[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=t.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:d}=t.getState();d.lastEvent.current=u;const f=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,f?n:void 0),S=m?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=v.map(g=>g.eventObject)),m&&!v.length&&S<=2&&(a(u,d.interaction),h&&h(u)),f&&s(v);function y(g){const b=g.eventObject,M=b.__r3f,E=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(f){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const P=VT(g),A=d.hovered.get(P);A?A.stopped&&g.stopPropagation():(d.hovered.set(P,g),E.onPointerOver==null||E.onPointerOver(g),E.onPointerEnter==null||E.onPointerEnter(g))}E.onPointerMove==null||E.onPointerMove(g)}else{const P=E[l];P?(!m||d.initialHits.includes(b))&&(a(u,d.interaction.filter(A=>!d.initialHits.includes(A))),P(g)):m&&d.initialHits.includes(b)&&a(u,d.interaction.filter(A=>!d.initialHits.includes(A)))}}i(v,u,S,y)}}return{handlePointer:o}}const Qce=t=>!!(t!=null&&t.render),Jce=fe.createContext(null),vVe=(t,e)=>{const n=eVe((o,l)=>{const u=new ue,h=new ue,d=new ue;function f(y=l().camera,g=h,b=l().size){const{width:M,height:E,top:P,left:A}=b,L=M/E;g instanceof ue?d.copy(g):d.set(...g);const I=y.getWorldPosition(u).distanceTo(d);if(jce(y))return{width:M/y.zoom,height:E/y.zoom,top:P,left:A,factor:1,distance:I,aspect:L};{const R=y.fov*Math.PI/180,C=2*Math.tan(R/2)*I,O=C*(M/E);return{width:O,height:C,top:P,left:A,factor:M/O,distance:I,aspect:L}}}let m;const v=y=>o(g=>({performance:{...g.performance,current:y}})),S=new tt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,g)=>e(y,g,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Z8,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();m&&clearTimeout(m),y.performance.current!==y.performance.min&&v(y.performance.min),m=setTimeout(()=>v(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:y=>o(g=>({...g,events:{...g.events,...y}})),setSize:(y,g,b,M,E)=>{const P=l().camera,A={width:y,height:g,top:M||0,left:E||0,updateStyle:b};o(L=>({size:A,viewport:{...L.viewport,...f(P,h,A)}}))},setDpr:y=>o(g=>{const b=qce(y);return{viewport:{...g.viewport,dpr:b,initialDpr:g.viewport.initialDpr||b}}}),setFrameloop:(y="always")=>{const g=l().clock;g.stop(),g.elapsedTime=0,y!=="never"&&(g.start(),g.elapsedTime=0),o(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:fe.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,g,b)=>{const M=l().internal;return M.priority=M.priority+(g>0?1:0),M.subscribers.push({ref:y,priority:g,store:b}),M.subscribers=M.subscribers.sort((E,P)=>E.priority-P.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(g>0?1:0),E.subscribers=E.subscribers.filter(P=>P.ref!==y))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:h,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var f;i=l,s=u.dpr,fVe(o,l),h.setPixelRatio(u.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}o!==a&&(a=o,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let HT,yVe=new Set,xVe=new Set,_Ve=new Set;function kD(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function uS(t,e){switch(t){case"before":return kD(yVe,e);case"after":return kD(xVe,e);case"tail":return kD(_Ve,e)}}let UD,FD;function zD(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),UD=e.internal.subscribers,HT=0;HT<UD.length;HT++)FD=UD[HT],FD.ref.current(FD.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function SVe(t){let e=!1,n=!1,r,i,s;function a(u){i=requestAnimationFrame(a),e=!0,r=0,uS("before",u),n=!0;for(const d of t.values()){var h;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(r+=zD(u,s))}if(n=!1,uS("after",u),r===0)return uS("tail",u),e=!1,cancelAnimationFrame(i)}function o(u,h=1){var d;if(!u)return t.forEach(f=>o(f.store.getState(),h));(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(h>1?u.internal.frames=Math.min(60,u.internal.frames+h):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(u,h=!0,d,f){if(h&&uS("before",u),d)zD(u,d,f);else for(const m of t.values())zD(u,m.store.getState());h&&uS("after",u)}return{loop:a,invalidate:o,advance:l}}function bVe(){const t=fe.useContext(Jce);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function MVe(t,e=0){const n=bVe(),r=n.getState().internal.subscribe,i=Xce(t);return qw(()=>r(i,e,n),[e,r,n]),null}const G1=new Map,{invalidate:mq,advance:gq}=SVe(G1),{reconciler:TP,applyProps:Hv}=oVe(G1,pVe),Gv={objects:"shallow",strict:!1},wVe=(t,e)=>{const n=typeof t=="function"?t(e):t;return Qce(n)?n:new Wue({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function EVe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function TVe(t){const e=G1.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||vVe(mq,gq),a=n||TP.createContainer(s,jy.ConcurrentRoot,null,!1,null,"",i,null);e||G1.set(t,{fiber:a,store:s});let o,l=!1,u;return{configure(h={}){let{gl:d,size:f,scene:m,events:v,onCreated:S,shadows:y=!1,linear:g=!1,flat:b=!1,legacy:M=!1,orthographic:E=!1,frameloop:P="always",dpr:A=[1,2],performance:L,raycaster:I,camera:R,onPointerMissed:C}=h,O=s.getState(),G=O.gl;O.gl||O.set({gl:G=wVe(d,t)});let j=O.raycaster;j||O.set({raycaster:j=new Uce});const{params:q,...Q}=I||{};if(or.equ(Q,j,Gv)||Hv(j,{...Q}),or.equ(q,j.params,Gv)||Hv(j,{params:{...j.params,...q}}),!O.camera||O.camera===u&&!or.equ(u,R,Gv)){u=R;const B=R instanceof Bw,$=B?R:E?new Gw(0,0,0,0,.1,1e3):new Hi(75,0,.1,1e3);B||($.position.z=5,R&&(Hv($,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&($.manual=!0,$.updateProjectionMatrix())),!O.camera&&!(R!=null&&R.rotation)&&$.lookAt(0,0,0)),O.set({camera:$}),j.camera=$}if(!O.scene){let B;m instanceof bP?B=m:(B=new bP,m&&Hv(B,m)),O.set({scene:Xv(B)})}if(!O.xr){var X;const B=(Ae,F)=>{const ve=s.getState();ve.frameloop!=="never"&&gq(Ae,!0,ve,F)},$=()=>{const Ae=s.getState();Ae.gl.xr.enabled=Ae.gl.xr.isPresenting,Ae.gl.xr.setAnimationLoop(Ae.gl.xr.isPresenting?B:null),Ae.gl.xr.isPresenting||mq(Ae)},te={connect(){const Ae=s.getState().gl;Ae.xr.addEventListener("sessionstart",$),Ae.xr.addEventListener("sessionend",$)},disconnect(){const Ae=s.getState().gl;Ae.xr.removeEventListener("sessionstart",$),Ae.xr.removeEventListener("sessionend",$)}};typeof((X=G.xr)==null?void 0:X.addEventListener)=="function"&&te.connect(),O.set({xr:te})}if(G.shadowMap){const B=G.shadowMap.enabled,$=G.shadowMap.type;if(G.shadowMap.enabled=!!y,or.boo(y))G.shadowMap.type=yb;else if(or.str(y)){var se;const te={basic:Vle,percentage:dL,soft:yb,variance:kl};G.shadowMap.type=(se=te[y])!=null?se:yb}else or.obj(y)&&Object.assign(G.shadowMap,y);(B!==G.shadowMap.enabled||$!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const D=Wce();D&&("enabled"in D?D.enabled=!M:"legacyMode"in D&&(D.legacyMode=M)),l||Hv(G,{outputEncoding:g?3e3:3001,toneMapping:b?sc:f8}),O.legacy!==M&&O.set(()=>({legacy:M})),O.linear!==g&&O.set(()=>({linear:g})),O.flat!==b&&O.set(()=>({flat:b})),d&&!or.fun(d)&&!Qce(d)&&!or.equ(d,G,Gv)&&Hv(G,d),v&&!O.events.handlers&&O.set({events:v(s)});const V=EVe(t,f);return or.equ(V,O.size,Gv)||O.setSize(V.width,V.height,V.updateStyle,V.top,V.left),A&&O.viewport.dpr!==qce(A)&&O.setDpr(A),O.frameloop!==P&&O.setFrameloop(P),O.onPointerMissed||O.set({onPointerMissed:C}),L&&!or.equ(L,O.performance,Gv)&&O.set(B=>({performance:{...B.performance,...L}})),o=S,l=!0,this},render(h){return l||this.configure(),TP.updateContainer(Fe.jsx(AVe,{store:s,children:h,onCreated:o,rootElement:t}),a,null,()=>{}),s},unmount(){ehe(t)}}}function AVe({store:t,children:e,onCreated:n,rootElement:r}){return qw(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Fe.jsx(Jce.Provider,{value:t,children:e})}function ehe(t,e){const n=G1.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),TP.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),hVe(i),G1.delete(t)}catch{}},500)})}}TP.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:fe.version});const BD={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function CVe(t){const{handlePointer:e}=gVe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(BD).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,u]=BD[a];n.addEventListener(l,o,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=BD[s];r.connected.removeEventListener(o,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function DU(t,e,n){var r,i,s,a,o;e==null&&(e=100);function l(){var h=Date.now()-a;h<e&&h>=0?r=setTimeout(l,e-h):(r=null,n||(o=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,a=Date.now();var h=n&&!r;return r||(r=setTimeout(l,e)),h&&(o=t.apply(s,i),s=i=null),o};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(o=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}DU.debounce=DU;var PVe=DU;const vq=e0(PVe);var RVe=Object.defineProperty,LVe=Object.defineProperties,IVe=Object.getOwnPropertyDescriptors,yq=Object.getOwnPropertySymbols,NVe=Object.prototype.hasOwnProperty,DVe=Object.prototype.propertyIsEnumerable,xq=(t,e,n)=>e in t?RVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_q=(t,e)=>{for(var n in e||(e={}))NVe.call(e,n)&&xq(t,n,e[n]);if(yq)for(var n of yq(e))DVe.call(e,n)&&xq(t,n,e[n]);return t},OVe=(t,e)=>LVe(t,IVe(e)),Sq,bq;typeof window<"u"&&((Sq=window.document)!=null&&Sq.createElement||((bq=window.navigator)==null?void 0:bq.product)==="ReactNative")?fe.useLayoutEffect:fe.useEffect;function the(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=the(r,e,n);if(i)return i;r=r.sibling}}function nhe(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const Mq=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=Mq;return}return Mq.apply(this,arguments)};const n7=nhe(fe.createContext(null));class rhe extends fe.Component{render(){return fe.createElement(n7.Provider,{value:this._reactInternals},this.props.children)}}function kVe(){const t=fe.useContext(n7);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=fe.useId();return fe.useMemo(()=>{for(const n of[t,t==null?void 0:t.alternate]){if(!n)continue;const r=the(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[t,e])}function UVe(){const t=kVe(),[e]=fe.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==n7&&!e.has(r)&&e.set(r,fe.useContext(nhe(r)))}n=n.return}return e}function FVe(){const t=UVe();return fe.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>fe.createElement(e,null,fe.createElement(n.Provider,OVe(_q({},r),{value:t.get(n)}))),e=>fe.createElement(rhe,_q({},e))),[t])}function zVe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||typeof window<"u"&&window.ResizeObserver,[s,a]=fe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const o=fe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,h=fe.useRef(!1);fe.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[d,f,m]=fe.useMemo(()=>{const g=()=>{if(!o.current.element)return;const{left:b,top:M,width:E,height:P,bottom:A,right:L,x:I,y:R}=o.current.element.getBoundingClientRect(),C={left:b,top:M,width:E,height:P,bottom:A,right:L,x:I,y:R};o.current.element instanceof HTMLElement&&r&&(C.height=o.current.element.offsetHeight,C.width=o.current.element.offsetWidth),Object.freeze(C),h.current&&!GVe(o.current.lastBounds,C)&&a(o.current.lastBounds=C)};return[g,u?vq(g,u):g,l?vq(g,l):g]},[a,r,l,u]);function v(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){var g;o.current.element&&(o.current.resizeObserver=new i(f),(g=o.current.resizeObserver)==null||g.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(b=>b.addEventListener("scroll",m,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const y=g=>{!g||g===o.current.element||(v(),o.current.element=g,o.current.scrollContainers=ihe(g),S())};return VVe(m,!!e),BVe(f),fe.useEffect(()=>{v(),S()},[e,m,f]),fe.useEffect(()=>v,[]),[y,s,d]}function BVe(t){fe.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function VVe(t,e){fe.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function ihe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...ihe(t.parentElement)]}const HVe=["x","y","top","bottom","left","right","width","height"],GVe=(t,e)=>HVe.every(n=>t[n]===e[n]),WVe=fe.forwardRef(function({children:t,fallback:e,resize:n,style:r,gl:i,events:s=CVe,eventSource:a,eventPrefix:o,shadows:l,linear:u,flat:h,legacy:d,orthographic:f,frameloop:m,dpr:v,performance:S,raycaster:y,camera:g,scene:b,onPointerMissed:M,onCreated:E,...P},A){fe.useMemo(()=>aVe(K9e),[]);const L=FVe(),[I,R]=zVe({scroll:!0,debounce:{scroll:50,resize:0},...n}),C=fe.useRef(null),O=fe.useRef(null);fe.useImperativeHandle(A,()=>C.current);const G=Xce(M),[j,q]=fe.useState(!1),[Q,X]=fe.useState(!1);if(j)throw j;if(Q)throw Q;const se=fe.useRef(null);qw(()=>{const V=C.current;R.width>0&&R.height>0&&V&&(se.current||(se.current=TVe(V)),se.current.configure({gl:i,events:s,shadows:l,linear:u,flat:h,legacy:d,orthographic:f,frameloop:m,dpr:v,performance:S,raycaster:y,camera:g,scene:b,size:R,onPointerMissed:(...B)=>G.current==null?void 0:G.current(...B),onCreated:B=>{B.events.connect==null||B.events.connect(a?lVe(a)?a.current:a:O.current),o&&B.setEvents({compute:($,te)=>{const Ae=$[o+"X"],F=$[o+"Y"];te.pointer.set(Ae/te.size.width*2-1,-(F/te.size.height)*2+1),te.raycaster.setFromCamera(te.pointer,te.camera)}}),E==null||E(B)}}),se.current.render(Fe.jsx(L,{children:Fe.jsx($ce,{set:X,children:Fe.jsx(fe.Suspense,{fallback:Fe.jsx(uVe,{set:q}),children:t})})})))}),fe.useEffect(()=>{const V=C.current;if(V)return()=>ehe(V)},[]);const D=a?"none":"auto";return Fe.jsx("div",{ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...r},...P,children:Fe.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:Fe.jsx("canvas",{ref:C,style:{display:"block"},children:e})})})}),jVe=fe.forwardRef(function(t,e){return Fe.jsx(rhe,{children:Fe.jsx(WVe,{...t,ref:e})})}),XVe=()=>parseInt(kw.replace(/\D+/g,"")),$Ve=XVe();class YVe extends ml{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${$Ve>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const qVe=t=>new ue().setFromSpherical(new Fce(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),ZVe=fe.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:a=1},o)=>{const l=fe.useRef(),[u,h,d]=fe.useMemo(()=>{const m=[],v=[],S=Array.from({length:n},()=>(.5+.5*Math.random())*i),y=new Rt;let g=t+e;const b=e/n;for(let M=0;M<n;M++)g-=b*Math.random(),m.push(...qVe(g).toArray()),y.setHSL(M/n,r,.9),v.push(y.r,y.g,y.b);return[new Float32Array(m),new Float32Array(v),new Float32Array(S)]},[n,e,i,t,r]);MVe(m=>l.current&&(l.current.uniforms.time.value=m.clock.getElapsedTime()*a));const[f]=fe.useState(()=>new YVe);return fe.createElement("points",{ref:o},fe.createElement("bufferGeometry",null,fe.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),fe.createElement("bufferAttribute",{attach:"attributes-color",args:[h,3]}),fe.createElement("bufferAttribute",{attach:"attributes-size",args:[d,1]})),fe.createElement("primitive",{ref:l,object:f,attach:"material",blending:zC,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))}),wq=["#13FFAA","#1E67C6","#CEB4CF","#00335C"];function KVe(){const t=Qoe(wq[0]),e=eU`radial-gradient(125% 125% at 50% 0%, #020617 50%, ${t})`;return fe.useEffect(()=>{v5e(t,wq,{ease:"easeInOut",duration:10,repeat:1/0})},[]),Fe.jsxs(Ih.div,{className:"relative grid min-h-screen place-content-center overflow-hidden bg-gray-950 text-gray-200",style:{backgroundImage:e},children:[Fe.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[Fe.jsx(ULe,{}),Fe.jsx(_5e,{color:t}),Fe.jsx(S5e,{}),Fe.jsx(Ake,{}),Fe.jsx(Rke,{}),Fe.jsx(Hke,{})]}),Fe.jsx("div",{className:"absolute inset-0 z-0",children:Fe.jsx(jVe,{children:Fe.jsx(ZVe,{radius:50,count:2500,factor:8,fade:!0,speed:2})})})]})}Cse(document.getElementById("root")).render(Fe.jsx(fe.StrictMode,{children:Fe.jsx(KVe,{})}));
